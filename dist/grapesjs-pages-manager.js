/*! grapesjs-pages-manager - 0.1.2 */ !(function (t, e) {
  'object' == typeof exports && 'object' == typeof module
    ? (module.exports = e())
    : 'function' == typeof define && define.amd
    ? define([], e)
    : 'object' == typeof exports
    ? (exports['grapesjs-pages-manager'] = e())
    : (t['grapesjs-pages-manager'] = e());
})(
  'undefined' != typeof globalThis
    ? globalThis
    : 'undefined' != typeof window
    ? window
    : this,
  () =>
    (() => {
      var t = {
          162: function (t, e, n) {
            var r, o, i;
            1 &&
              ((o = []),
              void 0 ===
                (i =
                  'function' ==
                  typeof (r = function () {
                    'use strict';

                    function e(t, e) {
                      return (
                        void 0 === e
                          ? (e = {
                              autoBom: !1,
                            })
                          : 'object' != typeof e &&
                            (console.warn(
                              'Deprecated: Expected third argument to be a object'
                            ),
                            (e = {
                              autoBom: !e,
                            })),
                        e.autoBom &&
                        /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(
                          t.type
                        )
                          ? new Blob(['\ufeff', t], {
                              type: t.type,
                            })
                          : t
                      );
                    }

                    function r(t, e, n) {
                      var r = new XMLHttpRequest();
                      r.open('GET', t),
                        (r.responseType = 'blob'),
                        (r.onload = function () {
                          l(r.response, e, n);
                        }),
                        (r.onerror = function () {
                          console.error('could not download file');
                        }),
                        r.send();
                    }

                    function o(t) {
                      var e = new XMLHttpRequest();
                      e.open('HEAD', t, !1);
                      try {
                        e.send();
                      } catch (t) {}
                      return 200 <= e.status && 299 >= e.status;
                    }

                    function i(t) {
                      try {
                        t.dispatchEvent(new MouseEvent('click'));
                      } catch (n) {
                        var e = document.createEvent('MouseEvents');
                        e.initMouseEvent(
                          'click',
                          !0,
                          !0,
                          window,
                          0,
                          0,
                          0,
                          80,
                          20,
                          !1,
                          !1,
                          !1,
                          !1,
                          0,
                          null
                        ),
                          t.dispatchEvent(e);
                      }
                    }
                    var a =
                        'object' == typeof window && window.window === window
                          ? window
                          : 'object' == typeof self && self.self === self
                          ? self
                          : 'object' == typeof n.g && n.g.global === n.g
                          ? n.g
                          : void 0,
                      s =
                        a.navigator &&
                        /Macintosh/.test(navigator.userAgent) &&
                        /AppleWebKit/.test(navigator.userAgent) &&
                        !/Safari/.test(navigator.userAgent),
                      l =
                        a.saveAs ||
                        ('object' != typeof window || window !== a
                          ? function () {}
                          : 'download' in HTMLAnchorElement.prototype && !s
                          ? function (t, e, n) {
                              var s = a.URL || a.webkitURL,
                                l = document.createElement('a');
                              (e = e || t.name || 'download'),
                                (l.download = e),
                                (l.rel = 'noopener'),
                                'string' == typeof t
                                  ? ((l.href = t),
                                    l.origin === location.origin
                                      ? i(l)
                                      : o(l.href)
                                      ? r(t, e, n)
                                      : i(l, (l.target = '_blank')))
                                  : ((l.href = s.createObjectURL(t)),
                                    setTimeout(function () {
                                      s.revokeObjectURL(l.href);
                                    }, 4e4),
                                    setTimeout(function () {
                                      i(l);
                                    }, 0));
                            }
                          : 'msSaveOrOpenBlob' in navigator
                          ? function (t, n, a) {
                              if (
                                ((n = n || t.name || 'download'),
                                'string' != typeof t)
                              )
                                navigator.msSaveOrOpenBlob(e(t, a), n);
                              else if (o(t)) r(t, n, a);
                              else {
                                var s = document.createElement('a');
                                (s.href = t),
                                  (s.target = '_blank'),
                                  setTimeout(function () {
                                    i(s);
                                  });
                              }
                            }
                          : function (t, e, n, o) {
                              if (
                                ((o = o || open('', '_blank')) &&
                                  (o.document.title =
                                    o.document.body.innerText =
                                      'downloading...'),
                                'string' == typeof t)
                              )
                                return r(t, e, n);
                              var i = 'application/octet-stream' === t.type,
                                l =
                                  /constructor/i.test(a.HTMLElement) ||
                                  a.safari,
                                c = /CriOS\/[\d]+/.test(navigator.userAgent);
                              if (
                                (c || (i && l) || s) &&
                                'undefined' != typeof FileReader
                              ) {
                                var u = new FileReader();
                                (u.onloadend = function () {
                                  var t = u.result;
                                  (t = c
                                    ? t
                                    : t.replace(
                                        /^data:[^;]*;/,
                                        'data:attachment/file;'
                                      )),
                                    o ? (o.location.href = t) : (location = t),
                                    (o = null);
                                }),
                                  u.readAsDataURL(t);
                              } else {
                                var p = a.URL || a.webkitURL,
                                  d = p.createObjectURL(t);
                                o ? (o.location = d) : (location.href = d),
                                  (o = null),
                                  setTimeout(function () {
                                    p.revokeObjectURL(d);
                                  }, 4e4);
                              }
                            });
                    (a.saveAs = l.saveAs = l), 1 && (t.exports = l);
                  })
                    ? r.apply(e, o)
                    : r) || (t.exports = i));
          },
          531: function (t, e, n) {
            var r;
            'undefined' != typeof globalThis
              ? globalThis
              : 'undefined' != typeof window && window,
              (r = () =>
                (() => {
                  var t = {
                      410: (t, e, n) => {
                        var r, o, i;
                        1 &&
                          ((o = [n(50), n(316)]),
                          void 0 ===
                            (i =
                              'function' ==
                              typeof (r = function (t, e) {
                                var n = Array.prototype.slice;

                                function r(t, e, n) {
                                  return n.length <= 4
                                    ? t.call(e, n[0], n[1], n[2], n[3])
                                    : t.apply(e, n);
                                }

                                function o(t, e) {
                                  return n.call(t, e);
                                }

                                function i(e, n) {
                                  return (
                                    null != e &&
                                    (t.isArray(n) || (n = o(arguments, 1)),
                                    t.all(n, function (t) {
                                      return t in e;
                                    }))
                                  );
                                }
                                var a = (function () {
                                  var e = !1,
                                    n = -1;
                                  return function () {
                                    return (
                                      e ||
                                        (n++,
                                        (e = !0),
                                        t.defer(function () {
                                          e = !1;
                                        })),
                                      n
                                    );
                                  };
                                })();

                                function s() {
                                  (this.registeredObjects = []),
                                    (this.cidIndexes = []);
                                }

                                function l(e, n, r, o) {
                                  for (var i, a = 0, s = n.length; a < s; a++)
                                    if ((i = n[a])) {
                                      if ('on' === e) {
                                        if (!o.objectRegistry.register(i))
                                          continue;
                                      } else if (
                                        !o.objectRegistry.unregister(i)
                                      )
                                        continue;
                                      t.isFunction(i[e]) && i[e]('all', r, o);
                                    }
                                }

                                function c(e, n) {
                                  var r = n.type,
                                    o = n.undoTypes,
                                    i = !o[r] || o[r][e];
                                  t.isFunction(i) &&
                                    i(n.object, n.before, n.after, n.options);
                                }

                                function u(e, r, o, i, a) {
                                  if (
                                    !(
                                      o.isCurrentlyUndoRedoing ||
                                      ('undo' === e && -1 === o.pointer) ||
                                      ('redo' === e &&
                                        o.pointer === o.length - 1)
                                    )
                                  ) {
                                    o.isCurrentlyUndoRedoing = !0;
                                    var s,
                                      l,
                                      c = 'undo' === e;
                                    for (
                                      a
                                        ? (l =
                                            (c && o.pointer === o.length - 1) ||
                                            (!c && -1 === o.pointer)
                                              ? t.clone(o.models)
                                              : n.apply(
                                                  o.models,
                                                  c
                                                    ? [0, o.pointer]
                                                    : [o.pointer, o.length - 1]
                                                ))
                                        : ((s = o.at(
                                            c ? o.pointer : o.pointer + 1
                                          )),
                                          (l = i
                                            ? o.where({
                                                magicFusionIndex:
                                                  s.get('magicFusionIndex'),
                                              })
                                            : [s])),
                                        o.pointer += (c ? -1 : 1) * l.length;
                                      (s = c ? l.pop() : l.shift());

                                    )
                                      s[e]();
                                    (o.isCurrentlyUndoRedoing = !1),
                                      r.trigger(e, r);
                                  }
                                }

                                function p(t, e, n, o) {
                                  if (
                                    t.track &&
                                    !t.isCurrentlyUndoRedoing &&
                                    e in o &&
                                    (function (t, e) {
                                      var n = t.condition,
                                        o = typeof n;
                                      return 'function' === o
                                        ? !!r(n, t, e)
                                        : 'boolean' !== o || n;
                                    })(o[e], n)
                                  ) {
                                    var s = r(o[e]['on'], o[e], n);
                                    if (i(s, 'object', 'before', 'after')) {
                                      if (
                                        ((s.type = e),
                                        (s.magicFusionIndex = a()),
                                        (s.undoTypes = o),
                                        t.pointer < t.length - 1)
                                      )
                                        for (
                                          var l = t.length - t.pointer - 1;
                                          l--;

                                        )
                                          t.pop();
                                      (t.pointer = t.length),
                                        t.add(s),
                                        t.length > t.maximumStackLength &&
                                          (t.shift(), t.pointer--);
                                    }
                                  }
                                }
                                s.prototype = {
                                  isRegistered: function (e) {
                                    return e && e.cid
                                      ? this.registeredObjects[e.cid]
                                      : t.contains(this.registeredObjects, e);
                                  },
                                  register: function (t) {
                                    return (
                                      !this.isRegistered(t) &&
                                      (t && t.cid
                                        ? ((this.registeredObjects[t.cid] = t),
                                          this.cidIndexes.push(t.cid))
                                        : this.registeredObjects.push(t),
                                      !0)
                                    );
                                  },
                                  unregister: function (e) {
                                    if (this.isRegistered(e)) {
                                      if (e && e.cid)
                                        delete this.registeredObjects[e.cid],
                                          this.cidIndexes.splice(
                                            t.indexOf(this.cidIndexes, e.cid),
                                            1
                                          );
                                      else {
                                        var n = t.indexOf(
                                          this.registeredObjects,
                                          e
                                        );
                                        this.registeredObjects.splice(n, 1);
                                      }
                                      return !0;
                                    }
                                    return !1;
                                  },
                                  get: function () {
                                    return t
                                      .map(
                                        this.cidIndexes,
                                        function (t) {
                                          return this.registeredObjects[t];
                                        },
                                        this
                                      )
                                      .concat(this.registeredObjects);
                                  },
                                };
                                var d = {
                                  add: {
                                    undo: function (t, e, n, r) {
                                      t.remove(n, r);
                                    },
                                    redo: function (t, e, n, r) {
                                      r.index && (r.at = r.index), t.add(n, r);
                                    },
                                    on: function (e, n, r) {
                                      return {
                                        object: n,
                                        before: void 0,
                                        after: e,
                                        options: t.clone(r),
                                      };
                                    },
                                  },
                                  remove: {
                                    undo: function (t, e, n, r) {
                                      'index' in r && (r.at = r.index),
                                        t.add(e, r);
                                    },
                                    redo: function (t, e, n, r) {
                                      t.remove(e, r);
                                    },
                                    on: function (e, n, r) {
                                      return {
                                        object: n,
                                        before: e,
                                        after: void 0,
                                        options: t.clone(r),
                                      };
                                    },
                                  },
                                  change: {
                                    undo: function (e, n, r, o) {
                                      t.isEmpty(n)
                                        ? t.each(t.keys(r), e.unset, e)
                                        : (e.set(n),
                                          o &&
                                            o.unsetData &&
                                            o.unsetData.before &&
                                            o.unsetData.before.length &&
                                            t.each(
                                              o.unsetData.before,
                                              e.unset,
                                              e
                                            ));
                                    },
                                    redo: function (e, n, r, o) {
                                      t.isEmpty(r)
                                        ? t.each(t.keys(n), e.unset, e)
                                        : (e.set(r),
                                          o &&
                                            o.unsetData &&
                                            o.unsetData.after &&
                                            o.unsetData.after.length &&
                                            t.each(
                                              o.unsetData.after,
                                              e.unset,
                                              e
                                            ));
                                    },
                                    on: function (e, n) {
                                      var r = e.changedAttributes(),
                                        o = t.keys(r),
                                        i = t.pick(e.previousAttributes(), o),
                                        a = t.keys(i),
                                        s = ((n || (n = {})).unsetData = {
                                          after: [],
                                          before: [],
                                        });
                                      return (
                                        o.length != a.length &&
                                          (o.length > a.length
                                            ? t.each(
                                                o,
                                                function (t) {
                                                  t in i || s.before.push(t);
                                                },
                                                this
                                              )
                                            : t.each(a, function (t) {
                                                t in r || s.after.push(t);
                                              })),
                                        {
                                          object: e,
                                          before: i,
                                          after: r,
                                          options: t.clone(n),
                                        }
                                      );
                                    },
                                  },
                                  reset: {
                                    undo: function (t, e, n) {
                                      t.reset(e);
                                    },
                                    redo: function (t, e, n) {
                                      t.reset(n);
                                    },
                                    on: function (e, n) {
                                      return {
                                        object: e,
                                        before: n.previousModels,
                                        after: t.clone(e.models),
                                      };
                                    },
                                  },
                                };

                                function f() {}

                                function h(e, n, r, o) {
                                  if ('object' == typeof n)
                                    return t.each(n, function (t, n) {
                                      2 === e ? h(e, t, r, o) : h(e, n, t, r);
                                    });
                                  switch (e) {
                                    case 0:
                                      i(r, 'undo', 'redo', 'on') &&
                                        t.all(
                                          t.pick(r, 'undo', 'redo', 'on'),
                                          t.isFunction
                                        ) &&
                                        (o[n] = r);
                                      break;
                                    case 1:
                                      o[n] &&
                                        t.isObject(r) &&
                                        (o[n] = t.extend({}, o[n], r));
                                      break;
                                    case 2:
                                      delete o[n];
                                  }
                                  return this;
                                }
                                f.prototype = d;
                                var g = e.Model.extend({
                                    defaults: {
                                      type: null,
                                      object: null,
                                      before: null,
                                      after: null,
                                      magicFusionIndex: null,
                                    },
                                    undo: function (t) {
                                      c('undo', this.attributes);
                                    },
                                    redo: function (t) {
                                      c('redo', this.attributes);
                                    },
                                  }),
                                  v = e.Collection.extend({
                                    model: g,
                                    pointer: -1,
                                    track: !1,
                                    isCurrentlyUndoRedoing: !1,
                                    maximumStackLength: 1 / 0,
                                    setMaxLength: function (t) {
                                      this.maximumStackLength = t;
                                    },
                                  }),
                                  m = e.Model.extend({
                                    defaults: {
                                      maximumStackLength: 1 / 0,
                                      track: !1,
                                    },
                                    initialize: function (e) {
                                      (this.stack = new v()),
                                        (this.objectRegistry = new s()),
                                        (this.undoTypes = new f()),
                                        this.stack.setMaxLength(
                                          this.get('maximumStackLength')
                                        ),
                                        this.on(
                                          'change:maximumStackLength',
                                          function (t, e) {
                                            this.stack.setMaxLength(e);
                                          },
                                          this
                                        ),
                                        e && e.track && this.startTracking(),
                                        e &&
                                          e.register &&
                                          (t.isArray(e.register) ||
                                          t.isArguments(e.register)
                                            ? r(this.register, this, e.register)
                                            : this.register(e.register));
                                    },
                                    startTracking: function () {
                                      this.set('track', !0),
                                        (this.stack.track = !0);
                                    },
                                    stopTracking: function () {
                                      this.set('track', !1),
                                        (this.stack.track = !1);
                                    },
                                    isTracking: function () {
                                      return this.get('track');
                                    },
                                    _addToStack: function (t) {
                                      p(
                                        this.stack,
                                        t,
                                        o(arguments, 1),
                                        this.undoTypes
                                      );
                                    },
                                    register: function () {
                                      l(
                                        'on',
                                        arguments,
                                        this._addToStack,
                                        this
                                      );
                                    },
                                    unregister: function () {
                                      l(
                                        'off',
                                        arguments,
                                        this._addToStack,
                                        this
                                      );
                                    },
                                    unregisterAll: function () {
                                      r(
                                        this.unregister,
                                        this,
                                        this.objectRegistry.get()
                                      );
                                    },
                                    undo: function (t) {
                                      u('undo', this, this.stack, t);
                                    },
                                    undoAll: function () {
                                      u('undo', this, this.stack, !1, !0);
                                    },
                                    redo: function (t) {
                                      u('redo', this, this.stack, t);
                                    },
                                    redoAll: function () {
                                      u('redo', this, this.stack, !1, !0);
                                    },
                                    isAvailable: function (t) {
                                      var e = this.stack,
                                        n = e.length;
                                      switch (t) {
                                        case 'undo':
                                          return n > 0 && e.pointer > -1;
                                        case 'redo':
                                          return n > 0 && e.pointer < n - 1;
                                        default:
                                          return !1;
                                      }
                                    },
                                    merge: function (e) {
                                      for (
                                        var n,
                                          r = t.isArray(e) ? e : o(arguments);
                                        (n = r.pop());

                                      )
                                        n instanceof m &&
                                          n.stack instanceof v &&
                                          (n.stack = this.stack);
                                    },
                                    addUndoType: function (t, e) {
                                      h(0, t, e, this.undoTypes);
                                    },
                                    changeUndoType: function (t, e) {
                                      h(1, t, e, this.undoTypes);
                                    },
                                    removeUndoType: function (t) {
                                      h(2, t, void 0, this.undoTypes);
                                    },
                                    clear: function () {
                                      this.stack.reset(),
                                        (this.stack.pointer = -1);
                                    },
                                  });
                                return (
                                  t.extend(m, {
                                    defaults: function (e) {
                                      t.extend(m.prototype.defaults, e);
                                    },
                                    addUndoType: function (t, e) {
                                      h(0, t, e, d);
                                    },
                                    changeUndoType: function (t, e) {
                                      h(1, t, e, d);
                                    },
                                    removeUndoType: function (t) {
                                      h(2, t, void 0, d);
                                    },
                                  }),
                                  (e.UndoManager = m)
                                );
                              })
                                ? r.apply(e, o)
                                : r) || (t.exports = i));
                      },
                      316: (t, e, n) => {
                        var r, o, i;
                        (i =
                          ('object' == typeof self &&
                            self.self === self &&
                            self) ||
                          ('object' == typeof n.g &&
                            n.g.global === n.g &&
                            n.g)),
                          1 &&
                            ((r = [n(50), n(895), e]),
                            (o = function (t, e, n) {
                              i.Backbone = (function (t, e, n, r) {
                                var o = t.Backbone,
                                  i = Array.prototype.slice;
                                (e.VERSION = '1.4.1'),
                                  (e.$ = r),
                                  (e.noConflict = function () {
                                    return (t.Backbone = o), this;
                                  }),
                                  (e.emulateHTTP = !1),
                                  (e.emulateJSON = !1);
                                var a,
                                  s = (e.Events = {}),
                                  l = /\s+/,
                                  c = function (t, e, r, o, i) {
                                    var a,
                                      s = 0;
                                    if (r && 'object' == typeof r) {
                                      void 0 !== o &&
                                        'context' in i &&
                                        void 0 === i.context &&
                                        (i.context = o);
                                      for (a = n.keys(r); s < a.length; s++)
                                        e = c(t, e, a[s], r[a[s]], i);
                                    } else if (r && l.test(r))
                                      for (a = r.split(l); s < a.length; s++)
                                        e = t(e, a[s], o, i);
                                    else e = t(e, r, o, i);
                                    return e;
                                  };
                                (s.on = function (t, e, n) {
                                  return (
                                    (this._events = c(
                                      u,
                                      this._events || {},
                                      t,
                                      e,
                                      {
                                        context: n,
                                        ctx: this,
                                        listening: a,
                                      }
                                    )),
                                    a &&
                                      (((this._listeners ||
                                        (this._listeners = {}))[a.id] = a),
                                      (a.interop = !1)),
                                    this
                                  );
                                }),
                                  (s.listenTo = function (t, e, r) {
                                    if (!t) return this;
                                    var o =
                                        t._listenId ||
                                        (t._listenId = n.uniqueId('l')),
                                      i =
                                        this._listeningTo ||
                                        (this._listeningTo = {}),
                                      s = (a = i[o]);
                                    s ||
                                      (this._listenId ||
                                        (this._listenId = n.uniqueId('l')),
                                      (s = a = i[o] = new v(this, t)));
                                    var l = p(t, e, r, this);
                                    if (((a = void 0), l)) throw l;
                                    return s.interop && s.on(e, r), this;
                                  });
                                var u = function (t, e, n, r) {
                                    if (n) {
                                      var o = t[e] || (t[e] = []),
                                        i = r.context,
                                        a = r.ctx,
                                        s = r.listening;
                                      s && s.count++,
                                        o.push({
                                          callback: n,
                                          context: i,
                                          ctx: i || a,
                                          listening: s,
                                        });
                                    }
                                    return t;
                                  },
                                  p = function (t, e, n, r) {
                                    try {
                                      t.on(e, n, r);
                                    } catch (t) {
                                      return t;
                                    }
                                  };
                                (s.off = function (t, e, n) {
                                  return this._events
                                    ? ((this._events = c(
                                        d,
                                        this._events,
                                        t,
                                        e,
                                        {
                                          context: n,
                                          listeners: this._listeners,
                                        }
                                      )),
                                      this)
                                    : this;
                                }),
                                  (s.stopListening = function (t, e, r) {
                                    var o = this._listeningTo;
                                    if (!o) return this;
                                    for (
                                      var i = t ? [t._listenId] : n.keys(o),
                                        a = 0;
                                      a < i.length;
                                      a++
                                    ) {
                                      var s = o[i[a]];
                                      if (!s) break;
                                      s.obj.off(e, r, this),
                                        s.interop && s.off(e, r);
                                    }
                                    return (
                                      n.isEmpty(o) &&
                                        (this._listeningTo = void 0),
                                      this
                                    );
                                  });
                                var d = function (t, e, r, o) {
                                  if (t) {
                                    var i,
                                      a = o.context,
                                      s = o.listeners,
                                      l = 0;
                                    if (e || a || r) {
                                      for (
                                        i = e ? [e] : n.keys(t);
                                        l < i.length;
                                        l++
                                      ) {
                                        var c = t[(e = i[l])];
                                        if (!c) break;
                                        for (
                                          var u = [], p = 0;
                                          p < c.length;
                                          p++
                                        ) {
                                          var d = c[p];
                                          if (
                                            (r &&
                                              r !== d.callback &&
                                              r !== d.callback._callback) ||
                                            (a && a !== d.context)
                                          )
                                            u.push(d);
                                          else {
                                            var f = d.listening;
                                            f && f.off(e, r);
                                          }
                                        }
                                        u.length ? (t[e] = u) : delete t[e];
                                      }
                                      return t;
                                    }
                                    for (i = n.keys(s); l < i.length; l++)
                                      s[i[l]].cleanup();
                                  }
                                };
                                (s.once = function (t, e, n) {
                                  var r = c(f, {}, t, e, this.off.bind(this));
                                  return (
                                    'string' == typeof t &&
                                      null == n &&
                                      (e = void 0),
                                    this.on(r, e, n)
                                  );
                                }),
                                  (s.listenToOnce = function (t, e, n) {
                                    var r = c(
                                      f,
                                      {},
                                      e,
                                      n,
                                      this.stopListening.bind(this, t)
                                    );
                                    return this.listenTo(t, r);
                                  });
                                var f = function (t, e, r, o) {
                                  if (r) {
                                    var i = (t[e] = n.once(function () {
                                      o(e, i), r.apply(this, arguments);
                                    }));
                                    i._callback = r;
                                  }
                                  return t;
                                };
                                s.trigger = function (t) {
                                  if (!this._events) return this;
                                  for (
                                    var e = Math.max(0, arguments.length - 1),
                                      n = Array(e),
                                      r = 0;
                                    r < e;
                                    r++
                                  )
                                    n[r] = arguments[r + 1];
                                  return c(h, this._events, t, void 0, n), this;
                                };
                                var h = function (t, e, n, r) {
                                    if (t) {
                                      var o = t[e],
                                        i = t.all;
                                      o && i && (i = i.slice()),
                                        o && g(o, r),
                                        i && g(i, [e].concat(r));
                                    }
                                    return t;
                                  },
                                  g = function (t, e) {
                                    var n,
                                      r = -1,
                                      o = t.length,
                                      i = e[0],
                                      a = e[1],
                                      s = e[2];
                                    switch (e.length) {
                                      case 0:
                                        for (; ++r < o; )
                                          (n = t[r]).callback.call(n.ctx);
                                        return;
                                      case 1:
                                        for (; ++r < o; )
                                          (n = t[r]).callback.call(n.ctx, i);
                                        return;
                                      case 2:
                                        for (; ++r < o; )
                                          (n = t[r]).callback.call(n.ctx, i, a);
                                        return;
                                      case 3:
                                        for (; ++r < o; )
                                          (n = t[r]).callback.call(
                                            n.ctx,
                                            i,
                                            a,
                                            s
                                          );
                                        return;
                                      default:
                                        for (; ++r < o; )
                                          (n = t[r]).callback.apply(n.ctx, e);
                                        return;
                                    }
                                  },
                                  v = function (t, e) {
                                    (this.id = t._listenId),
                                      (this.listener = t),
                                      (this.obj = e),
                                      (this.interop = !0),
                                      (this.count = 0),
                                      (this._events = void 0);
                                  };
                                (v.prototype.on = s.on),
                                  (v.prototype.off = function (t, e) {
                                    var n;
                                    this.interop
                                      ? ((this._events = c(
                                          d,
                                          this._events,
                                          t,
                                          e,
                                          {
                                            context: void 0,
                                            listeners: void 0,
                                          }
                                        )),
                                        (n = !this._events))
                                      : (this.count--, (n = 0 === this.count)),
                                      n && this.cleanup();
                                  }),
                                  (v.prototype.cleanup = function () {
                                    delete this.listener._listeningTo[
                                      this.obj._listenId
                                    ],
                                      this.interop ||
                                        delete this.obj._listeners[this.id];
                                  }),
                                  (s.bind = s.on),
                                  (s.unbind = s.off),
                                  n.extend(e, s);
                                var m = (e.Model = function (t, e) {
                                  var r = t || {};
                                  e || (e = {}),
                                    this.preinitialize.apply(this, arguments),
                                    (this.cid = n.uniqueId(this.cidPrefix)),
                                    (this.attributes = {}),
                                    e.collection &&
                                      (this.collection = e.collection),
                                    e.parse && (r = this.parse(r, e) || {});
                                  var o = n.result(this, 'defaults');
                                  (r = n.defaults(n.extend({}, o, r), o)),
                                    this.set(r, e),
                                    (this.changed = {}),
                                    this.initialize.apply(this, arguments);
                                });
                                n.extend(m.prototype, s, {
                                  changed: null,
                                  validationError: null,
                                  idAttribute: 'id',
                                  cidPrefix: 'c',
                                  preinitialize: function () {},
                                  initialize: function () {},
                                  toJSON: function (t) {
                                    return n.clone(this.attributes);
                                  },
                                  sync: function () {
                                    return e.sync.apply(this, arguments);
                                  },
                                  get: function (t) {
                                    return this.attributes[t];
                                  },
                                  escape: function (t) {
                                    return n.escape(this.get(t));
                                  },
                                  has: function (t) {
                                    return null != this.get(t);
                                  },
                                  matches: function (t) {
                                    return !!n.iteratee(
                                      t,
                                      this
                                    )(this.attributes);
                                  },
                                  set: function (t, e, r) {
                                    if (null == t) return this;
                                    var o;
                                    if (
                                      ('object' == typeof t
                                        ? ((o = t), (r = e))
                                        : ((o = {})[t] = e),
                                      r || (r = {}),
                                      !this._validate(o, r))
                                    )
                                      return !1;
                                    var i = r.unset,
                                      a = r.silent,
                                      s = [],
                                      l = this._changing;
                                    (this._changing = !0),
                                      l ||
                                        ((this._previousAttributes = n.clone(
                                          this.attributes
                                        )),
                                        (this.changed = {}));
                                    var c = this.attributes,
                                      u = this.changed,
                                      p = this._previousAttributes;
                                    for (var d in o)
                                      (e = o[d]),
                                        n.isEqual(c[d], e) || s.push(d),
                                        n.isEqual(p[d], e)
                                          ? delete u[d]
                                          : (u[d] = e),
                                        i ? delete c[d] : (c[d] = e);
                                    if (this.idAttribute in o) {
                                      var f = this.id;
                                      (this.id = this.get(this.idAttribute)),
                                        this.trigger('changeId', this, f, r);
                                    }
                                    if (!a) {
                                      s.length && (this._pending = r);
                                      for (var h = 0; h < s.length; h++)
                                        this.trigger(
                                          'change:' + s[h],
                                          this,
                                          c[s[h]],
                                          r
                                        );
                                    }
                                    if (l) return this;
                                    if (!a)
                                      for (; this._pending; )
                                        (r = this._pending),
                                          (this._pending = !1),
                                          this.trigger('change', this, r);
                                    return (
                                      (this._pending = !1),
                                      (this._changing = !1),
                                      this
                                    );
                                  },
                                  unset: function (t, e) {
                                    return this.set(
                                      t,
                                      void 0,
                                      n.extend({}, e, {
                                        unset: !0,
                                      })
                                    );
                                  },
                                  clear: function (t) {
                                    var e = {};
                                    for (var r in this.attributes)
                                      e[r] = void 0;
                                    return this.set(
                                      e,
                                      n.extend({}, t, {
                                        unset: !0,
                                      })
                                    );
                                  },
                                  hasChanged: function (t) {
                                    return null == t
                                      ? !n.isEmpty(this.changed)
                                      : n.has(this.changed, t);
                                  },
                                  changedAttributes: function (t) {
                                    if (!t)
                                      return (
                                        !!this.hasChanged() &&
                                        n.clone(this.changed)
                                      );
                                    var e,
                                      r = this._changing
                                        ? this._previousAttributes
                                        : this.attributes,
                                      o = {};
                                    for (var i in t) {
                                      var a = t[i];
                                      n.isEqual(r[i], a) ||
                                        ((o[i] = a), (e = !0));
                                    }
                                    return !!e && o;
                                  },
                                  previous: function (t) {
                                    return null != t && this._previousAttributes
                                      ? this._previousAttributes[t]
                                      : null;
                                  },
                                  previousAttributes: function () {
                                    return n.clone(this._previousAttributes);
                                  },
                                  fetch: function (t) {
                                    t = n.extend(
                                      {
                                        parse: !0,
                                      },
                                      t
                                    );
                                    var e = this,
                                      r = t.success;
                                    return (
                                      (t.success = function (n) {
                                        var o = t.parse ? e.parse(n, t) : n;
                                        if (!e.set(o, t)) return !1;
                                        r && r.call(t.context, e, n, t),
                                          e.trigger('sync', e, n, t);
                                      }),
                                      W(this, t),
                                      this.sync('read', this, t)
                                    );
                                  },
                                  save: function (t, e, r) {
                                    var o;
                                    null == t || 'object' == typeof t
                                      ? ((o = t), (r = e))
                                      : ((o = {})[t] = e);
                                    var i = (r = n.extend(
                                      {
                                        validate: !0,
                                        parse: !0,
                                      },
                                      r
                                    )).wait;
                                    if (o && !i) {
                                      if (!this.set(o, r)) return !1;
                                    } else if (!this._validate(o, r)) return !1;
                                    var a = this,
                                      s = r.success,
                                      l = this.attributes;
                                    (r.success = function (t) {
                                      a.attributes = l;
                                      var e = r.parse ? a.parse(t, r) : t;
                                      if (
                                        (i && (e = n.extend({}, o, e)),
                                        e && !a.set(e, r))
                                      )
                                        return !1;
                                      s && s.call(r.context, a, t, r),
                                        a.trigger('sync', a, t, r);
                                    }),
                                      W(this, r),
                                      o &&
                                        i &&
                                        (this.attributes = n.extend({}, l, o));
                                    var c = this.isNew()
                                      ? 'create'
                                      : r.patch
                                      ? 'patch'
                                      : 'update';
                                    'patch' !== c || r.attrs || (r.attrs = o);
                                    var u = this.sync(c, this, r);
                                    return (this.attributes = l), u;
                                  },
                                  destroy: function (t) {
                                    t = t ? n.clone(t) : {};
                                    var e = this,
                                      r = t.success,
                                      o = t.wait,
                                      i = function () {
                                        e.stopListening(),
                                          e.trigger(
                                            'destroy',
                                            e,
                                            e.collection,
                                            t
                                          );
                                      };
                                    t.success = function (n) {
                                      o && i(),
                                        r && r.call(t.context, e, n, t),
                                        e.isNew() || e.trigger('sync', e, n, t);
                                    };
                                    var a = !1;
                                    return (
                                      this.isNew()
                                        ? n.defer(t.success)
                                        : (W(this, t),
                                          (a = this.sync('delete', this, t))),
                                      o || i(),
                                      a
                                    );
                                  },
                                  url: function () {
                                    var t =
                                      n.result(this, 'urlRoot') ||
                                      n.result(this.collection, 'url') ||
                                      U();
                                    if (this.isNew()) return t;
                                    var e = this.get(this.idAttribute);
                                    return (
                                      t.replace(/[^\/]$/, '$&/') +
                                      encodeURIComponent(e)
                                    );
                                  },
                                  parse: function (t, e) {
                                    return t;
                                  },
                                  clone: function () {
                                    return new this.constructor(
                                      this.attributes
                                    );
                                  },
                                  isNew: function () {
                                    return !this.has(this.idAttribute);
                                  },
                                  isValid: function (t) {
                                    return this._validate(
                                      {},
                                      n.extend({}, t, {
                                        validate: !0,
                                      })
                                    );
                                  },
                                  _validate: function (t, e) {
                                    if (!e.validate || !this.validate)
                                      return !0;
                                    t = n.extend({}, this.attributes, t);
                                    var r = (this.validationError =
                                      this.validate(t, e) || null);
                                    return (
                                      !r ||
                                      (this.trigger(
                                        'invalid',
                                        this,
                                        r,
                                        n.extend(e, {
                                          validationError: r,
                                        })
                                      ),
                                      !1)
                                    );
                                  },
                                });
                                var y = (e.Collection = function (t, e) {
                                    e || (e = {}),
                                      this.preinitialize.apply(this, arguments),
                                      e.model && (this.model = e.model),
                                      void 0 !== e.comparator &&
                                        (this.comparator = e.comparator),
                                      this._reset(),
                                      this.initialize.apply(this, arguments),
                                      t &&
                                        this.reset(
                                          t,
                                          n.extend(
                                            {
                                              silent: !0,
                                            },
                                            e
                                          )
                                        );
                                  }),
                                  b = {
                                    add: !0,
                                    remove: !0,
                                    merge: !0,
                                  },
                                  _ = {
                                    add: !0,
                                    remove: !1,
                                  },
                                  w = function (t, e, n) {
                                    n = Math.min(Math.max(n, 0), t.length);
                                    var r,
                                      o = Array(t.length - n),
                                      i = e.length;
                                    for (r = 0; r < o.length; r++)
                                      o[r] = t[r + n];
                                    for (r = 0; r < i; r++) t[r + n] = e[r];
                                    for (r = 0; r < o.length; r++)
                                      t[r + i + n] = o[r];
                                  };
                                n.extend(y.prototype, s, {
                                  model: m,
                                  preinitialize: function () {},
                                  initialize: function () {},
                                  toJSON: function (t) {
                                    return this.map(function (e) {
                                      return e.toJSON(t);
                                    });
                                  },
                                  sync: function () {
                                    return e.sync.apply(this, arguments);
                                  },
                                  add: function (t, e) {
                                    return this.set(
                                      t,
                                      n.extend(
                                        {
                                          merge: !1,
                                        },
                                        e,
                                        _
                                      )
                                    );
                                  },
                                  remove: function (t, e) {
                                    e = n.extend({}, e);
                                    var r = !n.isArray(t);
                                    t = r ? [t] : t.slice();
                                    var o = this._removeModels(t, e);
                                    return (
                                      !e.silent &&
                                        o.length &&
                                        ((e.changes = {
                                          added: [],
                                          merged: [],
                                          removed: o,
                                        }),
                                        this.trigger('update', this, e)),
                                      r ? o[0] : o
                                    );
                                  },
                                  set: function (t, e) {
                                    if (null != t) {
                                      (e = n.extend({}, b, e)).parse &&
                                        !this._isModel(t) &&
                                        (t = this.parse(t, e) || []);
                                      var r = !n.isArray(t);
                                      t = r ? [t] : t.slice();
                                      var o = e.at;
                                      null != o && (o = +o),
                                        o > this.length && (o = this.length),
                                        o < 0 && (o += this.length + 1);
                                      var i,
                                        a,
                                        s = [],
                                        l = [],
                                        c = [],
                                        u = [],
                                        p = {},
                                        d = e.add,
                                        f = e.merge,
                                        h = e.remove,
                                        g = !1,
                                        v =
                                          this.comparator &&
                                          null == o &&
                                          !1 !== e.sort,
                                        m = n.isString(this.comparator)
                                          ? this.comparator
                                          : null;
                                      for (a = 0; a < t.length; a++) {
                                        i = t[a];
                                        var y = this.get(i);
                                        if (y) {
                                          if (f && i !== y) {
                                            var _ = this._isModel(i)
                                              ? i.attributes
                                              : i;
                                            e.parse && (_ = y.parse(_, e)),
                                              y.set(_, e),
                                              c.push(y),
                                              v && !g && (g = y.hasChanged(m));
                                          }
                                          p[y.cid] ||
                                            ((p[y.cid] = !0), s.push(y)),
                                            (t[a] = y);
                                        } else
                                          d &&
                                            (i = t[a] =
                                              this._prepareModel(i, e)) &&
                                            (l.push(i),
                                            this._addReference(i, e),
                                            (p[i.cid] = !0),
                                            s.push(i));
                                      }
                                      if (h) {
                                        for (a = 0; a < this.length; a++)
                                          p[(i = this.models[a]).cid] ||
                                            u.push(i);
                                        u.length && this._removeModels(u, e);
                                      }
                                      var x = !1,
                                        C = !v && d && h;
                                      if (
                                        (s.length && C
                                          ? ((x =
                                              this.length !== s.length ||
                                              n.some(
                                                this.models,
                                                function (t, e) {
                                                  return t !== s[e];
                                                }
                                              )),
                                            (this.models.length = 0),
                                            w(this.models, s, 0),
                                            (this.length = this.models.length))
                                          : l.length &&
                                            (v && (g = !0),
                                            w(
                                              this.models,
                                              l,
                                              null == o ? this.length : o
                                            ),
                                            (this.length = this.models.length)),
                                        g &&
                                          this.sort({
                                            silent: !0,
                                          }),
                                        !e.silent)
                                      ) {
                                        for (a = 0; a < l.length; a++)
                                          null != o && (e.index = o + a),
                                            (i = l[a]).trigger(
                                              'add',
                                              i,
                                              this,
                                              e
                                            );
                                        (g || x) &&
                                          this.trigger('sort', this, e),
                                          (l.length || u.length || c.length) &&
                                            ((e.changes = {
                                              added: l,
                                              removed: u,
                                              merged: c,
                                            }),
                                            this.trigger('update', this, e));
                                      }
                                      return r ? t[0] : t;
                                    }
                                  },
                                  reset: function (t, e) {
                                    e = e ? n.clone(e) : {};
                                    for (var r = 0; r < this.models.length; r++)
                                      this._removeReference(this.models[r], e);
                                    return (
                                      (e.previousModels = this.models),
                                      this._reset(),
                                      (t = this.add(
                                        t,
                                        n.extend(
                                          {
                                            silent: !0,
                                          },
                                          e
                                        )
                                      )),
                                      e.silent ||
                                        this.trigger('reset', this, e),
                                      t
                                    );
                                  },
                                  push: function (t, e) {
                                    return this.add(
                                      t,
                                      n.extend(
                                        {
                                          at: this.length,
                                        },
                                        e
                                      )
                                    );
                                  },
                                  pop: function (t) {
                                    var e = this.at(this.length - 1);
                                    return this.remove(e, t);
                                  },
                                  unshift: function (t, e) {
                                    return this.add(
                                      t,
                                      n.extend(
                                        {
                                          at: 0,
                                        },
                                        e
                                      )
                                    );
                                  },
                                  shift: function (t) {
                                    var e = this.at(0);
                                    return this.remove(e, t);
                                  },
                                  slice: function () {
                                    return i.apply(this.models, arguments);
                                  },
                                  get: function (t) {
                                    if (null != t)
                                      return (
                                        this._byId[t] ||
                                        this._byId[
                                          this.modelId(
                                            this._isModel(t) ? t.attributes : t,
                                            t.idAttribute
                                          )
                                        ] ||
                                        (t.cid && this._byId[t.cid])
                                      );
                                  },
                                  has: function (t) {
                                    return null != this.get(t);
                                  },
                                  at: function (t) {
                                    return (
                                      t < 0 && (t += this.length),
                                      this.models[t]
                                    );
                                  },
                                  where: function (t, e) {
                                    return this[e ? 'find' : 'filter'](t);
                                  },
                                  findWhere: function (t) {
                                    return this.where(t, !0);
                                  },
                                  sort: function (t) {
                                    var e = this.comparator;
                                    if (!e)
                                      throw new Error(
                                        'Cannot sort a set without a comparator'
                                      );
                                    t || (t = {});
                                    var r = e.length;
                                    return (
                                      n.isFunction(e) && (e = e.bind(this)),
                                      1 === r || n.isString(e)
                                        ? (this.models = this.sortBy(e))
                                        : this.models.sort(e),
                                      t.silent || this.trigger('sort', this, t),
                                      this
                                    );
                                  },
                                  pluck: function (t) {
                                    return this.map(t + '');
                                  },
                                  fetch: function (t) {
                                    var e = (t = n.extend(
                                        {
                                          parse: !0,
                                        },
                                        t
                                      )).success,
                                      r = this;
                                    return (
                                      (t.success = function (n) {
                                        var o = t.reset ? 'reset' : 'set';
                                        r[o](n, t),
                                          e && e.call(t.context, r, n, t),
                                          r.trigger('sync', r, n, t);
                                      }),
                                      W(this, t),
                                      this.sync('read', this, t)
                                    );
                                  },
                                  create: function (t, e) {
                                    var r = (e = e ? n.clone(e) : {}).wait;
                                    if (!(t = this._prepareModel(t, e)))
                                      return !1;
                                    r || this.add(t, e);
                                    var o = this,
                                      i = e.success;
                                    return (
                                      (e.success = function (t, e, n) {
                                        r && o.add(t, n),
                                          i && i.call(n.context, t, e, n);
                                      }),
                                      t.save(null, e),
                                      t
                                    );
                                  },
                                  parse: function (t, e) {
                                    return t;
                                  },
                                  clone: function () {
                                    return new this.constructor(this.models, {
                                      model: this.model,
                                      comparator: this.comparator,
                                    });
                                  },
                                  modelId: function (t, e) {
                                    return t[
                                      e ||
                                        this.model.prototype.idAttribute ||
                                        'id'
                                    ];
                                  },
                                  values: function () {
                                    return new C(this, S);
                                  },
                                  keys: function () {
                                    return new C(this, O);
                                  },
                                  entries: function () {
                                    return new C(this, k);
                                  },
                                  _reset: function () {
                                    (this.length = 0),
                                      (this.models = []),
                                      (this._byId = {});
                                  },
                                  _prepareModel: function (t, e) {
                                    return this._isModel(t)
                                      ? (t.collection || (t.collection = this),
                                        t)
                                      : (((e = e ? n.clone(e) : {}).collection =
                                          this),
                                        (r = this.model.prototype
                                          ? new this.model(t, e)
                                          : this.model(t, e)).validationError
                                          ? (this.trigger(
                                              'invalid',
                                              this,
                                              r.validationError,
                                              e
                                            ),
                                            !1)
                                          : r);
                                    var r;
                                  },
                                  _removeModels: function (t, e) {
                                    for (var n = [], r = 0; r < t.length; r++) {
                                      var o = this.get(t[r]);
                                      if (o) {
                                        var i = this.indexOf(o);
                                        this.models.splice(i, 1),
                                          this.length--,
                                          delete this._byId[o.cid];
                                        var a = this.modelId(
                                          o.attributes,
                                          o.idAttribute
                                        );
                                        null != a && delete this._byId[a],
                                          e.silent ||
                                            ((e.index = i),
                                            o.trigger('remove', o, this, e)),
                                          n.push(o),
                                          this._removeReference(o, e);
                                      }
                                    }
                                    return n;
                                  },
                                  _isModel: function (t) {
                                    return t instanceof m;
                                  },
                                  _addReference: function (t, e) {
                                    this._byId[t.cid] = t;
                                    var n = this.modelId(
                                      t.attributes,
                                      t.idAttribute
                                    );
                                    null != n && (this._byId[n] = t),
                                      t.on('all', this._onModelEvent, this);
                                  },
                                  _removeReference: function (t, e) {
                                    delete this._byId[t.cid];
                                    var n = this.modelId(
                                      t.attributes,
                                      t.idAttribute
                                    );
                                    null != n && delete this._byId[n],
                                      this === t.collection &&
                                        delete t.collection,
                                      t.off('all', this._onModelEvent, this);
                                  },
                                  _onModelEvent: function (t, e, n, r) {
                                    if (e) {
                                      if (
                                        ('add' === t || 'remove' === t) &&
                                        n !== this
                                      )
                                        return;
                                      if (
                                        ('destroy' === t && this.remove(e, r),
                                        'changeId' === t)
                                      ) {
                                        var o = this.modelId(
                                            e.previousAttributes(),
                                            e.idAttribute
                                          ),
                                          i = this.modelId(
                                            e.attributes,
                                            e.idAttribute
                                          );
                                        null != o && delete this._byId[o],
                                          null != i && (this._byId[i] = e);
                                      }
                                    }
                                    this.trigger.apply(this, arguments);
                                  },
                                });
                                var x =
                                  'function' == typeof Symbol &&
                                  Symbol.iterator;
                                x && (y.prototype[x] = y.prototype.values);
                                var C = function (t, e) {
                                    (this._collection = t),
                                      (this._kind = e),
                                      (this._index = 0);
                                  },
                                  S = 1,
                                  O = 2,
                                  k = 3;
                                x &&
                                  (C.prototype[x] = function () {
                                    return this;
                                  }),
                                  (C.prototype.next = function () {
                                    if (this._collection) {
                                      if (
                                        this._index < this._collection.length
                                      ) {
                                        var t,
                                          e = this._collection.at(this._index);
                                        if ((this._index++, this._kind === S))
                                          t = e;
                                        else {
                                          var n = this._collection.modelId(
                                            e.attributes,
                                            e.idAttribute
                                          );
                                          t = this._kind === O ? n : [n, e];
                                        }
                                        return {
                                          value: t,
                                          done: !1,
                                        };
                                      }
                                      this._collection = void 0;
                                    }
                                    return {
                                      value: void 0,
                                      done: !0,
                                    };
                                  });
                                var T = (e.View = function (t) {
                                    (this.cid = n.uniqueId('view')),
                                      this.preinitialize.apply(this, arguments),
                                      n.extend(this, n.pick(t, P)),
                                      this._ensureElement(),
                                      this.initialize.apply(this, arguments);
                                  }),
                                  E = /^(\S+)\s*(.*)$/,
                                  P = [
                                    'model',
                                    'collection',
                                    'el',
                                    'id',
                                    'attributes',
                                    'className',
                                    'tagName',
                                    'events',
                                  ];
                                n.extend(T.prototype, s, {
                                  tagName: 'div',
                                  $: function (t) {
                                    return this.$el.find(t);
                                  },
                                  preinitialize: function () {},
                                  initialize: function () {},
                                  render: function () {
                                    return this;
                                  },
                                  remove: function () {
                                    return (
                                      this._removeElement(),
                                      this.stopListening(),
                                      this
                                    );
                                  },
                                  _removeElement: function () {
                                    this.$el.remove();
                                  },
                                  setElement: function (t) {
                                    return (
                                      this.undelegateEvents(),
                                      this._setElement(t),
                                      this.delegateEvents(),
                                      this
                                    );
                                  },
                                  _setElement: function (t) {
                                    (this.$el = t instanceof e.$ ? t : e.$(t)),
                                      (this.el = this.$el[0]);
                                  },
                                  delegateEvents: function (t) {
                                    if (
                                      (t || (t = n.result(this, 'events')), !t)
                                    )
                                      return this;
                                    for (var e in (this.undelegateEvents(),
                                    t)) {
                                      var r = t[e];
                                      if (
                                        (n.isFunction(r) || (r = this[r]), r)
                                      ) {
                                        var o = e.match(E);
                                        this.delegate(o[1], o[2], r.bind(this));
                                      }
                                    }
                                    return this;
                                  },
                                  delegate: function (t, e, n) {
                                    return (
                                      this.$el.on(
                                        t + '.delegateEvents' + this.cid,
                                        e,
                                        n
                                      ),
                                      this
                                    );
                                  },
                                  undelegateEvents: function () {
                                    return (
                                      this.$el &&
                                        this.$el.off(
                                          '.delegateEvents' + this.cid
                                        ),
                                      this
                                    );
                                  },
                                  undelegate: function (t, e, n) {
                                    return (
                                      this.$el.off(
                                        t + '.delegateEvents' + this.cid,
                                        e,
                                        n
                                      ),
                                      this
                                    );
                                  },
                                  _createElement: function (t) {
                                    return document.createElement(t);
                                  },
                                  _ensureElement: function () {
                                    if (this.el)
                                      this.setElement(n.result(this, 'el'));
                                    else {
                                      var t = n.extend(
                                        {},
                                        n.result(this, 'attributes')
                                      );
                                      this.id && (t.id = n.result(this, 'id')),
                                        this.className &&
                                          (t['class'] = n.result(
                                            this,
                                            'className'
                                          )),
                                        this.setElement(
                                          this._createElement(
                                            n.result(this, 'tagName')
                                          )
                                        ),
                                        this._setAttributes(t);
                                    }
                                  },
                                  _setAttributes: function (t) {
                                    this.$el.attr(t);
                                  },
                                });
                                var A = function (t, e, r, o) {
                                    n.each(r, function (n, r) {
                                      e[r] &&
                                        (t.prototype[r] = (function (
                                          t,
                                          e,
                                          n,
                                          r
                                        ) {
                                          switch (e) {
                                            case 1:
                                              return function () {
                                                return t[n](this[r]);
                                              };
                                            case 2:
                                              return function (e) {
                                                return t[n](this[r], e);
                                              };
                                            case 3:
                                              return function (e, o) {
                                                return t[n](
                                                  this[r],
                                                  j(e, this),
                                                  o
                                                );
                                              };
                                            case 4:
                                              return function (e, o, i) {
                                                return t[n](
                                                  this[r],
                                                  j(e, this),
                                                  o,
                                                  i
                                                );
                                              };
                                            default:
                                              return function () {
                                                var e = i.call(arguments);
                                                return (
                                                  e.unshift(this[r]),
                                                  t[n].apply(t, e)
                                                );
                                              };
                                          }
                                        })(e, n, r, o));
                                    });
                                  },
                                  j = function (t, e) {
                                    return n.isFunction(t)
                                      ? t
                                      : n.isObject(t) && !e._isModel(t)
                                      ? M(t)
                                      : n.isString(t)
                                      ? function (e) {
                                          return e.get(t);
                                        }
                                      : t;
                                  },
                                  M = function (t) {
                                    var e = n.matches(t);
                                    return function (t) {
                                      return e(t.attributes);
                                    };
                                  };
                                n.each(
                                  [
                                    [
                                      y,
                                      {
                                        forEach: 3,
                                        each: 3,
                                        map: 3,
                                        collect: 3,
                                        reduce: 0,
                                        foldl: 0,
                                        inject: 0,
                                        reduceRight: 0,
                                        foldr: 0,
                                        find: 3,
                                        detect: 3,
                                        filter: 3,
                                        select: 3,
                                        reject: 3,
                                        every: 3,
                                        all: 3,
                                        some: 3,
                                        any: 3,
                                        include: 3,
                                        includes: 3,
                                        contains: 3,
                                        invoke: 0,
                                        max: 3,
                                        min: 3,
                                        toArray: 1,
                                        size: 1,
                                        first: 3,
                                        head: 3,
                                        take: 3,
                                        initial: 3,
                                        rest: 3,
                                        tail: 3,
                                        drop: 3,
                                        last: 3,
                                        without: 0,
                                        difference: 0,
                                        indexOf: 3,
                                        shuffle: 1,
                                        lastIndexOf: 3,
                                        isEmpty: 1,
                                        chain: 1,
                                        sample: 3,
                                        partition: 3,
                                        groupBy: 3,
                                        countBy: 3,
                                        sortBy: 3,
                                        indexBy: 3,
                                        findIndex: 3,
                                        findLastIndex: 3,
                                      },
                                      'models',
                                    ],
                                    [
                                      m,
                                      {
                                        keys: 1,
                                        values: 1,
                                        pairs: 1,
                                        invert: 1,
                                        pick: 0,
                                        omit: 0,
                                        chain: 1,
                                        isEmpty: 1,
                                      },
                                      'attributes',
                                    ],
                                  ],
                                  function (t) {
                                    var e = t[0],
                                      r = t[1],
                                      o = t[2];
                                    (e.mixin = function (t) {
                                      var r = n.reduce(
                                        n.functions(t),
                                        function (t, e) {
                                          return (t[e] = 0), t;
                                        },
                                        {}
                                      );
                                      A(e, t, r, o);
                                    }),
                                      A(e, n, r, o);
                                  }
                                ),
                                  (e.sync = function (t, r, o) {
                                    var i = L[t];
                                    n.defaults(o || (o = {}), {
                                      emulateHTTP: e.emulateHTTP,
                                      emulateJSON: e.emulateJSON,
                                    });
                                    var a = {
                                      type: i,
                                      dataType: 'json',
                                    };
                                    if (
                                      (o.url ||
                                        (a.url = n.result(r, 'url') || U()),
                                      null != o.data ||
                                        !r ||
                                        ('create' !== t &&
                                          'update' !== t &&
                                          'patch' !== t) ||
                                        ((a.contentType = 'application/json'),
                                        (a.data = JSON.stringify(
                                          o.attrs || r.toJSON(o)
                                        ))),
                                      o.emulateJSON &&
                                        ((a.contentType =
                                          'application/x-www-form-urlencoded'),
                                        (a.data = a.data
                                          ? {
                                              model: a.data,
                                            }
                                          : {})),
                                      o.emulateHTTP &&
                                        ('PUT' === i ||
                                          'DELETE' === i ||
                                          'PATCH' === i))
                                    ) {
                                      (a.type = 'POST'),
                                        o.emulateJSON && (a.data._method = i);
                                      var s = o.beforeSend;
                                      o.beforeSend = function (t) {
                                        if (
                                          (t.setRequestHeader(
                                            'X-HTTP-Method-Override',
                                            i
                                          ),
                                          s)
                                        )
                                          return s.apply(this, arguments);
                                      };
                                    }
                                    'GET' === a.type ||
                                      o.emulateJSON ||
                                      (a.processData = !1);
                                    var l = o.error;
                                    o.error = function (t, e, n) {
                                      (o.textStatus = e),
                                        (o.errorThrown = n),
                                        l && l.call(o.context, t, e, n);
                                    };
                                    var c = (o.xhr = e.ajax(n.extend(a, o)));
                                    return r.trigger('request', r, c, o), c;
                                  });
                                var L = {
                                  create: 'POST',
                                  update: 'PUT',
                                  patch: 'PATCH',
                                  delete: 'DELETE',
                                  read: 'GET',
                                };
                                e.ajax = function () {
                                  return e.$.ajax.apply(e.$, arguments);
                                };
                                var D = (e.Router = function (t) {
                                    t || (t = {}),
                                      this.preinitialize.apply(this, arguments),
                                      t.routes && (this.routes = t.routes),
                                      this._bindRoutes(),
                                      this.initialize.apply(this, arguments);
                                  }),
                                  N = /\((.*?)\)/g,
                                  I = /(\(\?)?:\w+/g,
                                  F = /\*\w+/g,
                                  R = /[\-{}\[\]+?.,\\\^$|#\s]/g;
                                n.extend(D.prototype, s, {
                                  preinitialize: function () {},
                                  initialize: function () {},
                                  route: function (t, r, o) {
                                    n.isRegExp(t) ||
                                      (t = this._routeToRegExp(t)),
                                      n.isFunction(r) && ((o = r), (r = '')),
                                      o || (o = this[r]);
                                    var i = this;
                                    return (
                                      e.history.route(t, function (n) {
                                        var a = i._extractParameters(t, n);
                                        !1 !== i.execute(o, a, r) &&
                                          (i.trigger.apply(
                                            i,
                                            ['route:' + r].concat(a)
                                          ),
                                          i.trigger('route', r, a),
                                          e.history.trigger('route', i, r, a));
                                      }),
                                      this
                                    );
                                  },
                                  execute: function (t, e, n) {
                                    t && t.apply(this, e);
                                  },
                                  navigate: function (t, n) {
                                    return e.history.navigate(t, n), this;
                                  },
                                  _bindRoutes: function () {
                                    if (this.routes) {
                                      this.routes = n.result(this, 'routes');
                                      for (
                                        var t, e = n.keys(this.routes);
                                        null != (t = e.pop());

                                      )
                                        this.route(t, this.routes[t]);
                                    }
                                  },
                                  _routeToRegExp: function (t) {
                                    return (
                                      (t = t
                                        .replace(R, '\\$&')
                                        .replace(N, '(?:$1)?')
                                        .replace(I, function (t, e) {
                                          return e ? t : '([^/?]+)';
                                        })
                                        .replace(F, '([^?]*?)')),
                                      new RegExp(
                                        '^' + t + '(?:\\?([\\s\\S]*))?$'
                                      )
                                    );
                                  },
                                  _extractParameters: function (t, e) {
                                    var r = t.exec(e).slice(1);
                                    return n.map(r, function (t, e) {
                                      return e === r.length - 1
                                        ? t || null
                                        : t
                                        ? decodeURIComponent(t)
                                        : null;
                                    });
                                  },
                                });
                                var z = (e.History = function () {
                                    (this.handlers = []),
                                      (this.checkUrl =
                                        this.checkUrl.bind(this)),
                                      'undefined' != typeof window &&
                                        ((this.location = window.location),
                                        (this.history = window.history));
                                  }),
                                  V = /^[#\/]|\s+$/g,
                                  B = /^\/+|\/+$/g,
                                  H = /#.*$/;
                                (z.started = !1),
                                  n.extend(z.prototype, s, {
                                    interval: 50,
                                    atRoot: function () {
                                      return (
                                        this.location.pathname.replace(
                                          /[^\/]$/,
                                          '$&/'
                                        ) === this.root && !this.getSearch()
                                      );
                                    },
                                    matchRoot: function () {
                                      return (
                                        this.decodeFragment(
                                          this.location.pathname
                                        ).slice(0, this.root.length - 1) +
                                          '/' ===
                                        this.root
                                      );
                                    },
                                    decodeFragment: function (t) {
                                      return decodeURI(
                                        t.replace(/%25/g, '%2525')
                                      );
                                    },
                                    getSearch: function () {
                                      var t = this.location.href
                                        .replace(/#.*/, '')
                                        .match(/\?.+/);
                                      return t ? t[0] : '';
                                    },
                                    getHash: function (t) {
                                      var e = (t || this).location.href.match(
                                        /#(.*)$/
                                      );
                                      return e ? e[1] : '';
                                    },
                                    getPath: function () {
                                      var t = this.decodeFragment(
                                        this.location.pathname +
                                          this.getSearch()
                                      ).slice(this.root.length - 1);
                                      return '/' === t.charAt(0)
                                        ? t.slice(1)
                                        : t;
                                    },
                                    getFragment: function (t) {
                                      return (
                                        null == t &&
                                          (t =
                                            this._usePushState ||
                                            !this._wantsHashChange
                                              ? this.getPath()
                                              : this.getHash()),
                                        t.replace(V, '')
                                      );
                                    },
                                    start: function (t) {
                                      if (z.started)
                                        throw new Error(
                                          'Backbone.history has already been started'
                                        );
                                      if (
                                        ((z.started = !0),
                                        (this.options = n.extend(
                                          {
                                            root: '/',
                                          },
                                          this.options,
                                          t
                                        )),
                                        (this.root = this.options.root),
                                        (this._wantsHashChange =
                                          !1 !== this.options.hashChange),
                                        (this._hasHashChange =
                                          'onhashchange' in window &&
                                          (void 0 === document.documentMode ||
                                            document.documentMode > 7)),
                                        (this._useHashChange =
                                          this._wantsHashChange &&
                                          this._hasHashChange),
                                        (this._wantsPushState =
                                          !!this.options.pushState),
                                        (this._hasPushState = !(
                                          !this.history ||
                                          !this.history.pushState
                                        )),
                                        (this._usePushState =
                                          this._wantsPushState &&
                                          this._hasPushState),
                                        (this.fragment = this.getFragment()),
                                        (this.root = (
                                          '/' +
                                          this.root +
                                          '/'
                                        ).replace(B, '/')),
                                        this._wantsHashChange &&
                                          this._wantsPushState)
                                      ) {
                                        if (
                                          !this._hasPushState &&
                                          !this.atRoot()
                                        ) {
                                          var e = this.root.slice(0, -1) || '/';
                                          return (
                                            this.location.replace(
                                              e + '#' + this.getPath()
                                            ),
                                            !0
                                          );
                                        }
                                        this._hasPushState &&
                                          this.atRoot() &&
                                          this.navigate(this.getHash(), {
                                            replace: !0,
                                          });
                                      }
                                      if (
                                        !this._hasHashChange &&
                                        this._wantsHashChange &&
                                        !this._usePushState
                                      ) {
                                        (this.iframe =
                                          document.createElement('iframe')),
                                          (this.iframe.src = 'javascript:0'),
                                          (this.iframe.style.display = 'none'),
                                          (this.iframe.tabIndex = -1);
                                        var r = document.body,
                                          o = r.insertBefore(
                                            this.iframe,
                                            r.firstChild
                                          ).contentWindow;
                                        o.document.open(),
                                          o.document.close(),
                                          (o.location.hash =
                                            '#' + this.fragment);
                                      }
                                      var i =
                                        window.addEventListener ||
                                        function (t, e) {
                                          return attachEvent('on' + t, e);
                                        };
                                      if (
                                        (this._usePushState
                                          ? i('popstate', this.checkUrl, !1)
                                          : this._useHashChange && !this.iframe
                                          ? i('hashchange', this.checkUrl, !1)
                                          : this._wantsHashChange &&
                                            (this._checkUrlInterval =
                                              setInterval(
                                                this.checkUrl,
                                                this.interval
                                              )),
                                        !this.options.silent)
                                      )
                                        return this.loadUrl();
                                    },
                                    stop: function () {
                                      var t =
                                        window.removeEventListener ||
                                        function (t, e) {
                                          return detachEvent('on' + t, e);
                                        };
                                      this._usePushState
                                        ? t('popstate', this.checkUrl, !1)
                                        : this._useHashChange &&
                                          !this.iframe &&
                                          t('hashchange', this.checkUrl, !1),
                                        this.iframe &&
                                          (document.body.removeChild(
                                            this.iframe
                                          ),
                                          (this.iframe = null)),
                                        this._checkUrlInterval &&
                                          clearInterval(this._checkUrlInterval),
                                        (z.started = !1);
                                    },
                                    route: function (t, e) {
                                      this.handlers.unshift({
                                        route: t,
                                        callback: e,
                                      });
                                    },
                                    checkUrl: function (t) {
                                      var e = this.getFragment();
                                      if (
                                        (e === this.fragment &&
                                          this.iframe &&
                                          (e = this.getHash(
                                            this.iframe.contentWindow
                                          )),
                                        e === this.fragment)
                                      )
                                        return !1;
                                      this.iframe && this.navigate(e),
                                        this.loadUrl();
                                    },
                                    loadUrl: function (t) {
                                      return (
                                        !!this.matchRoot() &&
                                        ((t = this.fragment =
                                          this.getFragment(t)),
                                        n.some(this.handlers, function (e) {
                                          if (e.route.test(t))
                                            return e.callback(t), !0;
                                        }))
                                      );
                                    },
                                    navigate: function (t, e) {
                                      if (!z.started) return !1;
                                      (e && !0 !== e) ||
                                        (e = {
                                          trigger: !!e,
                                        }),
                                        (t = this.getFragment(t || ''));
                                      var n = this.root;
                                      ('' !== t && '?' !== t.charAt(0)) ||
                                        (n = n.slice(0, -1) || '/');
                                      var r = n + t;
                                      t = t.replace(H, '');
                                      var o = this.decodeFragment(t);
                                      if (this.fragment !== o) {
                                        if (
                                          ((this.fragment = o),
                                          this._usePushState)
                                        )
                                          this.history[
                                            e.replace
                                              ? 'replaceState'
                                              : 'pushState'
                                          ]({}, document.title, r);
                                        else {
                                          if (!this._wantsHashChange)
                                            return this.location.assign(r);
                                          if (
                                            (this._updateHash(
                                              this.location,
                                              t,
                                              e.replace
                                            ),
                                            this.iframe &&
                                              t !==
                                                this.getHash(
                                                  this.iframe.contentWindow
                                                ))
                                          ) {
                                            var i = this.iframe.contentWindow;
                                            e.replace ||
                                              (i.document.open(),
                                              i.document.close()),
                                              this._updateHash(
                                                i.location,
                                                t,
                                                e.replace
                                              );
                                          }
                                        }
                                        return e.trigger
                                          ? this.loadUrl(t)
                                          : void 0;
                                      }
                                    },
                                    _updateHash: function (t, e, n) {
                                      if (n) {
                                        var r = t.href.replace(
                                          /(javascript:|#).*$/,
                                          ''
                                        );
                                        t.replace(r + '#' + e);
                                      } else t.hash = '#' + e;
                                    },
                                  }),
                                  (e.history = new z()),
                                  (m.extend =
                                    y.extend =
                                    D.extend =
                                    T.extend =
                                    z.extend =
                                      function (t, e) {
                                        var r,
                                          o = this;
                                        return (
                                          (r =
                                            t && n.has(t, 'constructor')
                                              ? t.constructor
                                              : function () {
                                                  return o.apply(
                                                    this,
                                                    arguments
                                                  );
                                                }),
                                          n.extend(r, o, e),
                                          (r.prototype = n.create(
                                            o.prototype,
                                            t
                                          )),
                                          (r.prototype.constructor = r),
                                          (r.__super__ = o.prototype),
                                          r
                                        );
                                      });
                                var U = function () {
                                    throw new Error(
                                      'A "url" property or function must be specified'
                                    );
                                  },
                                  W = function (t, e) {
                                    var n = e.error;
                                    e.error = function (r) {
                                      n && n.call(e.context, t, r, e),
                                        t.trigger('error', t, r, e);
                                    };
                                  };
                                return e;
                              })(i, n, t, e);
                            }.apply(e, r)),
                            void 0 === o || (t.exports = o));
                      },
                      210: (t, e, n) => {
                        1 &&
                          (function (t) {
                            t.extendMode('css', {
                              commentStart: '/*',
                              commentEnd: '*/',
                              newlineAfterToken: function (t, e) {
                                return /^[;{}]$/.test(e);
                              },
                            }),
                              t.extendMode('javascript', {
                                commentStart: '/*',
                                commentEnd: '*/',
                                newlineAfterToken: function (t, e, n, r) {
                                  return this.jsonMode
                                    ? /^[\[,{]$/.test(e) || /^}/.test(n)
                                    : (';' != e ||
                                        !r.lexical ||
                                        ')' != r.lexical.type) &&
                                        /^[;{}]$/.test(e) &&
                                        !/^;/.test(n);
                                },
                              });
                            var e =
                              /^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
                            t.extendMode('xml', {
                              commentStart: '\x3c!--',
                              commentEnd: '--\x3e',
                              newlineAfterToken: function (t, n, r, o) {
                                var i = !1;
                                return (
                                  'html' == this.configuration &&
                                    (i =
                                      !!o.context && e.test(o.context.tagName)),
                                  !i &&
                                    (('tag' == t &&
                                      />$/.test(n) &&
                                      o.context) ||
                                      /^</.test(r))
                                );
                              },
                            }),
                              t.defineExtension(
                                'commentRange',
                                function (e, n, r) {
                                  var o = this,
                                    i = t.innerMode(
                                      o.getMode(),
                                      o.getTokenAt(n).state
                                    ).mode;
                                  o.operation(function () {
                                    if (e)
                                      o.replaceRange(i.commentEnd, r),
                                        o.replaceRange(i.commentStart, n),
                                        n.line == r.line &&
                                          n.ch == r.ch &&
                                          o.setCursor(
                                            n.line,
                                            n.ch + i.commentStart.length
                                          );
                                    else {
                                      var t = o.getRange(n, r),
                                        a = t.indexOf(i.commentStart),
                                        s = t.lastIndexOf(i.commentEnd);
                                      a > -1 &&
                                        s > -1 &&
                                        s > a &&
                                        (t =
                                          t.substr(0, a) +
                                          t.substring(
                                            a + i.commentStart.length,
                                            s
                                          ) +
                                          t.substr(s + i.commentEnd.length)),
                                        o.replaceRange(t, n, r);
                                    }
                                  });
                                }
                              ),
                              t.defineExtension(
                                'autoIndentRange',
                                function (t, e) {
                                  var n = this;
                                  this.operation(function () {
                                    for (var r = t.line; r <= e.line; r++)
                                      n.indentLine(r, 'smart');
                                  });
                                }
                              ),
                              t.defineExtension(
                                'autoFormatRange',
                                function (e, n) {
                                  var r = this,
                                    o = r.getMode(),
                                    i = r.getRange(e, n).split('\n'),
                                    a = t.copyState(o, r.getTokenAt(e).state),
                                    s = r.getOption('tabSize'),
                                    l = '',
                                    c = 0,
                                    u = 0 === e.ch;

                                  function p() {
                                    (l += '\n'), (u = !0), ++c;
                                  }
                                  for (var d = 0; d < i.length; ++d) {
                                    for (
                                      var f = new t.StringStream(i[d], s);
                                      !f.eol();

                                    ) {
                                      var h = t.innerMode(o, a),
                                        g = o.token(f, a),
                                        v = f.current();
                                      (f.start = f.pos),
                                        (u && !/\S/.test(v)) ||
                                          ((l += v), (u = !1)),
                                        !u &&
                                          h.mode.newlineAfterToken &&
                                          h.mode.newlineAfterToken(
                                            g,
                                            v,
                                            f.string.slice(f.pos) ||
                                              i[d + 1] ||
                                              '',
                                            h.state
                                          ) &&
                                          p();
                                    }
                                    !f.pos && o.blankLine && o.blankLine(a),
                                      !u && d < i.length - 1 && p();
                                  }
                                  r.operation(function () {
                                    r.replaceRange(l, e, n);
                                    for (
                                      var t = e.line + 1, o = e.line + c;
                                      t <= o;
                                      ++t
                                    )
                                      r.indentLine(t, 'smart');
                                    r.setSelection(e, r.getCursor(!1));
                                  });
                                }
                              );
                          })(n(631));
                      },
                      631: function (t) {
                        1 &&
                          (t.exports = (function () {
                            'use strict';
                            var t = navigator.userAgent,
                              e = navigator.platform,
                              n = /gecko\/\d/i.test(t),
                              r = /MSIE \d/.test(t),
                              o = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(
                                t
                              ),
                              i = /Edge\/(\d+)/.exec(t),
                              a = r || o || i,
                              s =
                                a &&
                                (r ? document.documentMode || 6 : +(i || o)[1]),
                              l = !i && /WebKit\//.test(t),
                              c = l && /Qt\/\d+\.\d+/.test(t),
                              u = !i && /Chrome\/(\d+)/.exec(t),
                              p = u && +u[1],
                              d = /Opera\//.test(t),
                              f = /Apple Computer/.test(navigator.vendor),
                              h = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),
                              g = /PhantomJS/.test(t),
                              v =
                                f &&
                                (/Mobile\/\w+/.test(t) ||
                                  navigator.maxTouchPoints > 2),
                              m = /Android/.test(t),
                              y =
                                v ||
                                m ||
                                /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(
                                  t
                                ),
                              b = v || /Mac/.test(e),
                              _ = /\bCrOS\b/.test(t),
                              w = /win/i.test(e),
                              x = d && t.match(/Version\/(\d*\.\d*)/);
                            x && (x = Number(x[1])),
                              x && x >= 15 && ((d = !1), (l = !0));
                            var C = b && (c || (d && (null == x || x < 12.11))),
                              S = n || (a && s >= 9);

                            function O(t) {
                              return new RegExp(
                                '(^|\\s)' + t + '(?:$|\\s)\\s*'
                              );
                            }
                            var k,
                              T = function (t, e) {
                                var n = t.className,
                                  r = O(e).exec(n);
                                if (r) {
                                  var o = n.slice(r.index + r[0].length);
                                  t.className =
                                    n.slice(0, r.index) + (o ? r[1] + o : '');
                                }
                              };

                            function E(t) {
                              for (var e = t.childNodes.length; e > 0; --e)
                                t.removeChild(t.firstChild);
                              return t;
                            }

                            function P(t, e) {
                              return E(t).appendChild(e);
                            }

                            function A(t, e, n, r) {
                              var o = document.createElement(t);
                              if (
                                (n && (o.className = n),
                                r && (o.style.cssText = r),
                                'string' == typeof e)
                              )
                                o.appendChild(document.createTextNode(e));
                              else if (e)
                                for (var i = 0; i < e.length; ++i)
                                  o.appendChild(e[i]);
                              return o;
                            }

                            function j(t, e, n, r) {
                              var o = A(t, e, n, r);
                              return o.setAttribute('role', 'presentation'), o;
                            }

                            function M(t, e) {
                              if (
                                (3 == e.nodeType && (e = e.parentNode),
                                t.contains)
                              )
                                return t.contains(e);
                              do {
                                if ((11 == e.nodeType && (e = e.host), e == t))
                                  return !0;
                              } while ((e = e.parentNode));
                            }

                            function L() {
                              var t;
                              try {
                                t = document.activeElement;
                              } catch (e) {
                                t = document.body || null;
                              }
                              for (
                                ;
                                t && t.shadowRoot && t.shadowRoot.activeElement;

                              )
                                t = t.shadowRoot.activeElement;
                              return t;
                            }

                            function D(t, e) {
                              var n = t.className;
                              O(e).test(n) ||
                                (t.className += (n ? ' ' : '') + e);
                            }

                            function N(t, e) {
                              for (
                                var n = t.split(' '), r = 0;
                                r < n.length;
                                r++
                              )
                                n[r] && !O(n[r]).test(e) && (e += ' ' + n[r]);
                              return e;
                            }
                            k = document.createRange
                              ? function (t, e, n, r) {
                                  var o = document.createRange();
                                  return (
                                    o.setEnd(r || t, n), o.setStart(t, e), o
                                  );
                                }
                              : function (t, e, n) {
                                  var r = document.body.createTextRange();
                                  try {
                                    r.moveToElementText(t.parentNode);
                                  } catch (t) {
                                    return r;
                                  }
                                  return (
                                    r.collapse(!0),
                                    r.moveEnd('character', n),
                                    r.moveStart('character', e),
                                    r
                                  );
                                };
                            var I = function (t) {
                              t.select();
                            };

                            function F(t) {
                              var e = Array.prototype.slice.call(arguments, 1);
                              return function () {
                                return t.apply(null, e);
                              };
                            }

                            function R(t, e, n) {
                              for (var r in (e || (e = {}), t))
                                !t.hasOwnProperty(r) ||
                                  (!1 === n && e.hasOwnProperty(r)) ||
                                  (e[r] = t[r]);
                              return e;
                            }

                            function z(t, e, n, r, o) {
                              null == e &&
                                -1 == (e = t.search(/[^\s\u00a0]/)) &&
                                (e = t.length);
                              for (var i = r || 0, a = o || 0; ; ) {
                                var s = t.indexOf('\t', i);
                                if (s < 0 || s >= e) return a + (e - i);
                                (a += s - i), (a += n - (a % n)), (i = s + 1);
                              }
                            }
                            v
                              ? (I = function (t) {
                                  (t.selectionStart = 0),
                                    (t.selectionEnd = t.value.length);
                                })
                              : a &&
                                (I = function (t) {
                                  try {
                                    t.select();
                                  } catch (t) {}
                                });
                            var V = function () {
                              (this.id = null),
                                (this.f = null),
                                (this.time = 0),
                                (this.handler = F(this.onTimeout, this));
                            };

                            function B(t, e) {
                              for (var n = 0; n < t.length; ++n)
                                if (t[n] == e) return n;
                              return -1;
                            }
                            (V.prototype.onTimeout = function (t) {
                              (t.id = 0),
                                t.time <= +new Date()
                                  ? t.f()
                                  : setTimeout(t.handler, t.time - +new Date());
                            }),
                              (V.prototype.set = function (t, e) {
                                this.f = e;
                                var n = +new Date() + t;
                                (!this.id || n < this.time) &&
                                  (clearTimeout(this.id),
                                  (this.id = setTimeout(this.handler, t)),
                                  (this.time = n));
                              });
                            var H = 50,
                              U = {
                                toString: function () {
                                  return 'CodeMirror.Pass';
                                },
                              },
                              W = {
                                scroll: !1,
                              },
                              $ = {
                                origin: '*mouse',
                              },
                              G = {
                                origin: '+move',
                              };

                            function q(t, e, n) {
                              for (var r = 0, o = 0; ; ) {
                                var i = t.indexOf('\t', r);
                                -1 == i && (i = t.length);
                                var a = i - r;
                                if (i == t.length || o + a >= e)
                                  return r + Math.min(a, e - o);
                                if (
                                  ((o += i - r),
                                  (r = i + 1),
                                  (o += n - (o % n)) >= e)
                                )
                                  return r;
                              }
                            }
                            var K = [''];

                            function Z(t) {
                              for (; K.length <= t; ) K.push(Y(K) + ' ');
                              return K[t];
                            }

                            function Y(t) {
                              return t[t.length - 1];
                            }

                            function X(t, e) {
                              for (var n = [], r = 0; r < t.length; r++)
                                n[r] = e(t[r], r);
                              return n;
                            }

                            function J() {}

                            function Q(t, e) {
                              var n;
                              return (
                                Object.create
                                  ? (n = Object.create(t))
                                  : ((J.prototype = t), (n = new J())),
                                e && R(e, n),
                                n
                              );
                            }
                            var tt =
                              /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;

                            function et(t) {
                              return (
                                /\w/.test(t) ||
                                (t > '' &&
                                  (t.toUpperCase() != t.toLowerCase() ||
                                    tt.test(t)))
                              );
                            }

                            function nt(t, e) {
                              return e
                                ? !!(e.source.indexOf('\\w') > -1 && et(t)) ||
                                    e.test(t)
                                : et(t);
                            }

                            function rt(t) {
                              for (var e in t)
                                if (t.hasOwnProperty(e) && t[e]) return !1;
                              return !0;
                            }
                            var ot =
                              /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;

                            function it(t) {
                              return t.charCodeAt(0) >= 768 && ot.test(t);
                            }

                            function at(t, e, n) {
                              for (
                                ;
                                (n < 0 ? e > 0 : e < t.length) &&
                                it(t.charAt(e));

                              )
                                e += n;
                              return e;
                            }

                            function st(t, e, n) {
                              for (var r = e > n ? -1 : 1; ; ) {
                                if (e == n) return e;
                                var o = (e + n) / 2,
                                  i = r < 0 ? Math.ceil(o) : Math.floor(o);
                                if (i == e) return t(i) ? e : n;
                                t(i) ? (n = i) : (e = i + r);
                              }
                            }
                            var lt = null;

                            function ct(t, e, n) {
                              var r;
                              lt = null;
                              for (var o = 0; o < t.length; ++o) {
                                var i = t[o];
                                if (i.from < e && i.to > e) return o;
                                i.to == e &&
                                  (i.from != i.to && 'before' == n
                                    ? (r = o)
                                    : (lt = o)),
                                  i.from == e &&
                                    (i.from != i.to && 'before' != n
                                      ? (r = o)
                                      : (lt = o));
                              }
                              return null != r ? r : lt;
                            }
                            var ut = (function () {
                              var t =
                                  'bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN',
                                e =
                                  'nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111';

                              function n(n) {
                                return n <= 247
                                  ? t.charAt(n)
                                  : 1424 <= n && n <= 1524
                                  ? 'R'
                                  : 1536 <= n && n <= 1785
                                  ? e.charAt(n - 1536)
                                  : 1774 <= n && n <= 2220
                                  ? 'r'
                                  : 8192 <= n && n <= 8203
                                  ? 'w'
                                  : 8204 == n
                                  ? 'b'
                                  : 'L';
                              }
                              var r =
                                  /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,
                                o = /[stwN]/,
                                i = /[LRr]/,
                                a = /[Lb1n]/,
                                s = /[1n]/;

                              function l(t, e, n) {
                                (this.level = t),
                                  (this.from = e),
                                  (this.to = n);
                              }
                              return function (t, e) {
                                var c = 'ltr' == e ? 'L' : 'R';
                                if (0 == t.length || ('ltr' == e && !r.test(t)))
                                  return !1;
                                for (
                                  var u = t.length, p = [], d = 0;
                                  d < u;
                                  ++d
                                )
                                  p.push(n(t.charCodeAt(d)));
                                for (var f = 0, h = c; f < u; ++f) {
                                  var g = p[f];
                                  'm' == g ? (p[f] = h) : (h = g);
                                }
                                for (var v = 0, m = c; v < u; ++v) {
                                  var y = p[v];
                                  '1' == y && 'r' == m
                                    ? (p[v] = 'n')
                                    : i.test(y) &&
                                      ((m = y), 'r' == y && (p[v] = 'R'));
                                }
                                for (var b = 1, _ = p[0]; b < u - 1; ++b) {
                                  var w = p[b];
                                  '+' == w && '1' == _ && '1' == p[b + 1]
                                    ? (p[b] = '1')
                                    : ',' != w ||
                                      _ != p[b + 1] ||
                                      ('1' != _ && 'n' != _) ||
                                      (p[b] = _),
                                    (_ = w);
                                }
                                for (var x = 0; x < u; ++x) {
                                  var C = p[x];
                                  if (',' == C) p[x] = 'N';
                                  else if ('%' == C) {
                                    var S = void 0;
                                    for (S = x + 1; S < u && '%' == p[S]; ++S);
                                    for (
                                      var O =
                                          (x && '!' == p[x - 1]) ||
                                          (S < u && '1' == p[S])
                                            ? '1'
                                            : 'N',
                                        k = x;
                                      k < S;
                                      ++k
                                    )
                                      p[k] = O;
                                    x = S - 1;
                                  }
                                }
                                for (var T = 0, E = c; T < u; ++T) {
                                  var P = p[T];
                                  'L' == E && '1' == P
                                    ? (p[T] = 'L')
                                    : i.test(P) && (E = P);
                                }
                                for (var A = 0; A < u; ++A)
                                  if (o.test(p[A])) {
                                    var j = void 0;
                                    for (j = A + 1; j < u && o.test(p[j]); ++j);
                                    for (
                                      var M = 'L' == (A ? p[A - 1] : c),
                                        L =
                                          M == ('L' == (j < u ? p[j] : c))
                                            ? M
                                              ? 'L'
                                              : 'R'
                                            : c,
                                        D = A;
                                      D < j;
                                      ++D
                                    )
                                      p[D] = L;
                                    A = j - 1;
                                  }
                                for (var N, I = [], F = 0; F < u; )
                                  if (a.test(p[F])) {
                                    var R = F;
                                    for (++F; F < u && a.test(p[F]); ++F);
                                    I.push(new l(0, R, F));
                                  } else {
                                    var z = F,
                                      V = I.length,
                                      B = 'rtl' == e ? 1 : 0;
                                    for (++F; F < u && 'L' != p[F]; ++F);
                                    for (var H = z; H < F; )
                                      if (s.test(p[H])) {
                                        z < H &&
                                          (I.splice(V, 0, new l(1, z, H)),
                                          (V += B));
                                        var U = H;
                                        for (++H; H < F && s.test(p[H]); ++H);
                                        I.splice(V, 0, new l(2, U, H)),
                                          (V += B),
                                          (z = H);
                                      } else ++H;
                                    z < F && I.splice(V, 0, new l(1, z, F));
                                  }
                                return (
                                  'ltr' == e &&
                                    (1 == I[0].level &&
                                      (N = t.match(/^\s+/)) &&
                                      ((I[0].from = N[0].length),
                                      I.unshift(new l(0, 0, N[0].length))),
                                    1 == Y(I).level &&
                                      (N = t.match(/\s+$/)) &&
                                      ((Y(I).to -= N[0].length),
                                      I.push(new l(0, u - N[0].length, u)))),
                                  'rtl' == e ? I.reverse() : I
                                );
                              };
                            })();

                            function pt(t, e) {
                              var n = t.order;
                              return (
                                null == n && (n = t.order = ut(t.text, e)), n
                              );
                            }
                            var dt = [],
                              ft = function (t, e, n) {
                                if (t.addEventListener)
                                  t.addEventListener(e, n, !1);
                                else if (t.attachEvent)
                                  t.attachEvent('on' + e, n);
                                else {
                                  var r = t._handlers || (t._handlers = {});
                                  r[e] = (r[e] || dt).concat(n);
                                }
                              };

                            function ht(t, e) {
                              return (t._handlers && t._handlers[e]) || dt;
                            }

                            function gt(t, e, n) {
                              if (t.removeEventListener)
                                t.removeEventListener(e, n, !1);
                              else if (t.detachEvent)
                                t.detachEvent('on' + e, n);
                              else {
                                var r = t._handlers,
                                  o = r && r[e];
                                if (o) {
                                  var i = B(o, n);
                                  i > -1 &&
                                    (r[e] = o
                                      .slice(0, i)
                                      .concat(o.slice(i + 1)));
                                }
                              }
                            }

                            function vt(t, e) {
                              var n = ht(t, e);
                              if (n.length)
                                for (
                                  var r = Array.prototype.slice.call(
                                      arguments,
                                      2
                                    ),
                                    o = 0;
                                  o < n.length;
                                  ++o
                                )
                                  n[o].apply(null, r);
                            }

                            function mt(t, e, n) {
                              return (
                                'string' == typeof e &&
                                  (e = {
                                    type: e,
                                    preventDefault: function () {
                                      this.defaultPrevented = !0;
                                    },
                                  }),
                                vt(t, n || e.type, t, e),
                                Ct(e) || e.codemirrorIgnore
                              );
                            }

                            function yt(t) {
                              var e = t._handlers && t._handlers.cursorActivity;
                              if (e)
                                for (
                                  var n =
                                      t.curOp.cursorActivityHandlers ||
                                      (t.curOp.cursorActivityHandlers = []),
                                    r = 0;
                                  r < e.length;
                                  ++r
                                )
                                  -1 == B(n, e[r]) && n.push(e[r]);
                            }

                            function bt(t, e) {
                              return ht(t, e).length > 0;
                            }

                            function _t(t) {
                              (t.prototype.on = function (t, e) {
                                ft(this, t, e);
                              }),
                                (t.prototype.off = function (t, e) {
                                  gt(this, t, e);
                                });
                            }

                            function wt(t) {
                              t.preventDefault
                                ? t.preventDefault()
                                : (t.returnValue = !1);
                            }

                            function xt(t) {
                              t.stopPropagation
                                ? t.stopPropagation()
                                : (t.cancelBubble = !0);
                            }

                            function Ct(t) {
                              return null != t.defaultPrevented
                                ? t.defaultPrevented
                                : 0 == t.returnValue;
                            }

                            function St(t) {
                              wt(t), xt(t);
                            }

                            function Ot(t) {
                              return t.target || t.srcElement;
                            }

                            function kt(t) {
                              var e = t.which;
                              return (
                                null == e &&
                                  (1 & t.button
                                    ? (e = 1)
                                    : 2 & t.button
                                    ? (e = 3)
                                    : 4 & t.button && (e = 2)),
                                b && t.ctrlKey && 1 == e && (e = 3),
                                e
                              );
                            }
                            var Tt,
                              Et,
                              Pt = (function () {
                                if (a && s < 9) return !1;
                                var t = A('div');
                                return 'draggable' in t || 'dragDrop' in t;
                              })();

                            function At(t) {
                              if (null == Tt) {
                                var e = A('span', '​');
                                P(
                                  t,
                                  A('span', [e, document.createTextNode('x')])
                                ),
                                  0 != t.firstChild.offsetHeight &&
                                    (Tt =
                                      e.offsetWidth <= 1 &&
                                      e.offsetHeight > 2 &&
                                      !(a && s < 8));
                              }
                              var n = Tt
                                ? A('span', '​')
                                : A(
                                    'span',
                                    ' ',
                                    null,
                                    'display: inline-block; width: 1px; margin-right: -1px'
                                  );
                              return n.setAttribute('cm-text', ''), n;
                            }

                            function jt(t) {
                              if (null != Et) return Et;
                              var e = P(t, document.createTextNode('AخA')),
                                n = k(e, 0, 1).getBoundingClientRect(),
                                r = k(e, 1, 2).getBoundingClientRect();
                              return (
                                E(t),
                                !(!n || n.left == n.right) &&
                                  (Et = r.right - n.right < 3)
                              );
                            }
                            var Mt,
                              Lt =
                                3 != '\n\nb'.split(/\n/).length
                                  ? function (t) {
                                      for (
                                        var e = 0, n = [], r = t.length;
                                        e <= r;

                                      ) {
                                        var o = t.indexOf('\n', e);
                                        -1 == o && (o = t.length);
                                        var i = t.slice(
                                            e,
                                            '\r' == t.charAt(o - 1) ? o - 1 : o
                                          ),
                                          a = i.indexOf('\r');
                                        -1 != a
                                          ? (n.push(i.slice(0, a)),
                                            (e += a + 1))
                                          : (n.push(i), (e = o + 1));
                                      }
                                      return n;
                                    }
                                  : function (t) {
                                      return t.split(/\r\n?|\n/);
                                    },
                              Dt = window.getSelection
                                ? function (t) {
                                    try {
                                      return t.selectionStart != t.selectionEnd;
                                    } catch (t) {
                                      return !1;
                                    }
                                  }
                                : function (t) {
                                    var e;
                                    try {
                                      e =
                                        t.ownerDocument.selection.createRange();
                                    } catch (t) {}
                                    return (
                                      !(!e || e.parentElement() != t) &&
                                      0 != e.compareEndPoints('StartToEnd', e)
                                    );
                                  },
                              Nt =
                                'oncopy' in (Mt = A('div')) ||
                                (Mt.setAttribute('oncopy', 'return;'),
                                'function' == typeof Mt.oncopy),
                              It = null,
                              Ft = {},
                              Rt = {};

                            function zt(t, e) {
                              arguments.length > 2 &&
                                (e.dependencies = Array.prototype.slice.call(
                                  arguments,
                                  2
                                )),
                                (Ft[t] = e);
                            }

                            function Vt(t) {
                              if ('string' == typeof t && Rt.hasOwnProperty(t))
                                t = Rt[t];
                              else if (
                                t &&
                                'string' == typeof t.name &&
                                Rt.hasOwnProperty(t.name)
                              ) {
                                var e = Rt[t.name];
                                'string' == typeof e &&
                                  (e = {
                                    name: e,
                                  }),
                                  ((t = Q(e, t)).name = e.name);
                              } else {
                                if (
                                  'string' == typeof t &&
                                  /^[\w\-]+\/[\w\-]+\+xml$/.test(t)
                                )
                                  return Vt('application/xml');
                                if (
                                  'string' == typeof t &&
                                  /^[\w\-]+\/[\w\-]+\+json$/.test(t)
                                )
                                  return Vt('application/json');
                              }
                              return 'string' == typeof t
                                ? {
                                    name: t,
                                  }
                                : t || {
                                    name: 'null',
                                  };
                            }

                            function Bt(t, e) {
                              e = Vt(e);
                              var n = Ft[e.name];
                              if (!n) return Bt(t, 'text/plain');
                              var r = n(t, e);
                              if (Ht.hasOwnProperty(e.name)) {
                                var o = Ht[e.name];
                                for (var i in o)
                                  o.hasOwnProperty(i) &&
                                    (r.hasOwnProperty(i) && (r['_' + i] = r[i]),
                                    (r[i] = o[i]));
                              }
                              if (
                                ((r.name = e.name),
                                e.helperType && (r.helperType = e.helperType),
                                e.modeProps)
                              )
                                for (var a in e.modeProps)
                                  r[a] = e.modeProps[a];
                              return r;
                            }
                            var Ht = {};

                            function Ut(t, e) {
                              R(e, Ht.hasOwnProperty(t) ? Ht[t] : (Ht[t] = {}));
                            }

                            function Wt(t, e) {
                              if (!0 === e) return e;
                              if (t.copyState) return t.copyState(e);
                              var n = {};
                              for (var r in e) {
                                var o = e[r];
                                o instanceof Array && (o = o.concat([])),
                                  (n[r] = o);
                              }
                              return n;
                            }

                            function $t(t, e) {
                              for (
                                var n;
                                t.innerMode &&
                                (n = t.innerMode(e)) &&
                                n.mode != t;

                              )
                                (e = n.state), (t = n.mode);
                              return (
                                n || {
                                  mode: t,
                                  state: e,
                                }
                              );
                            }

                            function Gt(t, e, n) {
                              return !t.startState || t.startState(e, n);
                            }
                            var qt = function (t, e, n) {
                              (this.pos = this.start = 0),
                                (this.string = t),
                                (this.tabSize = e || 8),
                                (this.lastColumnPos = this.lastColumnValue = 0),
                                (this.lineStart = 0),
                                (this.lineOracle = n);
                            };

                            function Kt(t, e) {
                              if ((e -= t.first) < 0 || e >= t.size)
                                throw new Error(
                                  'There is no line ' +
                                    (e + t.first) +
                                    ' in the document.'
                                );
                              for (var n = t; !n.lines; )
                                for (var r = 0; ; ++r) {
                                  var o = n.children[r],
                                    i = o.chunkSize();
                                  if (e < i) {
                                    n = o;
                                    break;
                                  }
                                  e -= i;
                                }
                              return n.lines[e];
                            }

                            function Zt(t, e, n) {
                              var r = [],
                                o = e.line;
                              return (
                                t.iter(e.line, n.line + 1, function (t) {
                                  var i = t.text;
                                  o == n.line && (i = i.slice(0, n.ch)),
                                    o == e.line && (i = i.slice(e.ch)),
                                    r.push(i),
                                    ++o;
                                }),
                                r
                              );
                            }

                            function Yt(t, e, n) {
                              var r = [];
                              return (
                                t.iter(e, n, function (t) {
                                  r.push(t.text);
                                }),
                                r
                              );
                            }

                            function Xt(t, e) {
                              var n = e - t.height;
                              if (n)
                                for (var r = t; r; r = r.parent) r.height += n;
                            }

                            function Jt(t) {
                              if (null == t.parent) return null;
                              for (
                                var e = t.parent,
                                  n = B(e.lines, t),
                                  r = e.parent;
                                r;
                                e = r, r = r.parent
                              )
                                for (var o = 0; r.children[o] != e; ++o)
                                  n += r.children[o].chunkSize();
                              return n + e.first;
                            }

                            function Qt(t, e) {
                              var n = t.first;
                              t: do {
                                for (var r = 0; r < t.children.length; ++r) {
                                  var o = t.children[r],
                                    i = o.height;
                                  if (e < i) {
                                    t = o;
                                    continue t;
                                  }
                                  (e -= i), (n += o.chunkSize());
                                }
                                return n;
                              } while (!t.lines);
                              for (var a = 0; a < t.lines.length; ++a) {
                                var s = t.lines[a].height;
                                if (e < s) break;
                                e -= s;
                              }
                              return n + a;
                            }

                            function te(t, e) {
                              return e >= t.first && e < t.first + t.size;
                            }

                            function ee(t, e) {
                              return String(
                                t.lineNumberFormatter(e + t.firstLineNumber)
                              );
                            }

                            function ne(t, e, n) {
                              if (
                                (void 0 === n && (n = null),
                                !(this instanceof ne))
                              )
                                return new ne(t, e, n);
                              (this.line = t), (this.ch = e), (this.sticky = n);
                            }

                            function re(t, e) {
                              return t.line - e.line || t.ch - e.ch;
                            }

                            function oe(t, e) {
                              return t.sticky == e.sticky && 0 == re(t, e);
                            }

                            function ie(t) {
                              return ne(t.line, t.ch);
                            }

                            function ae(t, e) {
                              return re(t, e) < 0 ? e : t;
                            }

                            function se(t, e) {
                              return re(t, e) < 0 ? t : e;
                            }

                            function le(t, e) {
                              return Math.max(
                                t.first,
                                Math.min(e, t.first + t.size - 1)
                              );
                            }

                            function ce(t, e) {
                              if (e.line < t.first) return ne(t.first, 0);
                              var n = t.first + t.size - 1;
                              return e.line > n
                                ? ne(n, Kt(t, n).text.length)
                                : (function (t, e) {
                                    var n = t.ch;
                                    return null == n || n > e
                                      ? ne(t.line, e)
                                      : n < 0
                                      ? ne(t.line, 0)
                                      : t;
                                  })(e, Kt(t, e.line).text.length);
                            }

                            function ue(t, e) {
                              for (var n = [], r = 0; r < e.length; r++)
                                n[r] = ce(t, e[r]);
                              return n;
                            }
                            (qt.prototype.eol = function () {
                              return this.pos >= this.string.length;
                            }),
                              (qt.prototype.sol = function () {
                                return this.pos == this.lineStart;
                              }),
                              (qt.prototype.peek = function () {
                                return this.string.charAt(this.pos) || void 0;
                              }),
                              (qt.prototype.next = function () {
                                if (this.pos < this.string.length)
                                  return this.string.charAt(this.pos++);
                              }),
                              (qt.prototype.eat = function (t) {
                                var e = this.string.charAt(this.pos);
                                if (
                                  'string' == typeof t
                                    ? e == t
                                    : e && (t.test ? t.test(e) : t(e))
                                )
                                  return ++this.pos, e;
                              }),
                              (qt.prototype.eatWhile = function (t) {
                                for (var e = this.pos; this.eat(t); );
                                return this.pos > e;
                              }),
                              (qt.prototype.eatSpace = function () {
                                for (
                                  var t = this.pos;
                                  /[\s\u00a0]/.test(
                                    this.string.charAt(this.pos)
                                  );

                                )
                                  ++this.pos;
                                return this.pos > t;
                              }),
                              (qt.prototype.skipToEnd = function () {
                                this.pos = this.string.length;
                              }),
                              (qt.prototype.skipTo = function (t) {
                                var e = this.string.indexOf(t, this.pos);
                                if (e > -1) return (this.pos = e), !0;
                              }),
                              (qt.prototype.backUp = function (t) {
                                this.pos -= t;
                              }),
                              (qt.prototype.column = function () {
                                return (
                                  this.lastColumnPos < this.start &&
                                    ((this.lastColumnValue = z(
                                      this.string,
                                      this.start,
                                      this.tabSize,
                                      this.lastColumnPos,
                                      this.lastColumnValue
                                    )),
                                    (this.lastColumnPos = this.start)),
                                  this.lastColumnValue -
                                    (this.lineStart
                                      ? z(
                                          this.string,
                                          this.lineStart,
                                          this.tabSize
                                        )
                                      : 0)
                                );
                              }),
                              (qt.prototype.indentation = function () {
                                return (
                                  z(this.string, null, this.tabSize) -
                                  (this.lineStart
                                    ? z(
                                        this.string,
                                        this.lineStart,
                                        this.tabSize
                                      )
                                    : 0)
                                );
                              }),
                              (qt.prototype.match = function (t, e, n) {
                                if ('string' != typeof t) {
                                  var r = this.string.slice(this.pos).match(t);
                                  return r && r.index > 0
                                    ? null
                                    : (r &&
                                        !1 !== e &&
                                        (this.pos += r[0].length),
                                      r);
                                }
                                var o = function (t) {
                                  return n ? t.toLowerCase() : t;
                                };
                                if (
                                  o(this.string.substr(this.pos, t.length)) ==
                                  o(t)
                                )
                                  return !1 !== e && (this.pos += t.length), !0;
                              }),
                              (qt.prototype.current = function () {
                                return this.string.slice(this.start, this.pos);
                              }),
                              (qt.prototype.hideFirstChars = function (t, e) {
                                this.lineStart += t;
                                try {
                                  return e();
                                } finally {
                                  this.lineStart -= t;
                                }
                              }),
                              (qt.prototype.lookAhead = function (t) {
                                var e = this.lineOracle;
                                return e && e.lookAhead(t);
                              }),
                              (qt.prototype.baseToken = function () {
                                var t = this.lineOracle;
                                return t && t.baseToken(this.pos);
                              });
                            var pe = function (t, e) {
                                (this.state = t), (this.lookAhead = e);
                              },
                              de = function (t, e, n, r) {
                                (this.state = e),
                                  (this.doc = t),
                                  (this.line = n),
                                  (this.maxLookAhead = r || 0),
                                  (this.baseTokens = null),
                                  (this.baseTokenPos = 1);
                              };

                            function fe(t, e, n, r) {
                              var o = [t.state.modeGen],
                                i = {};
                              xe(
                                t,
                                e.text,
                                t.doc.mode,
                                n,
                                function (t, e) {
                                  return o.push(t, e);
                                },
                                i,
                                r
                              );
                              for (
                                var a = n.state,
                                  s = function (r) {
                                    n.baseTokens = o;
                                    var s = t.state.overlays[r],
                                      l = 1,
                                      c = 0;
                                    (n.state = !0),
                                      xe(
                                        t,
                                        e.text,
                                        s.mode,
                                        n,
                                        function (t, e) {
                                          for (var n = l; c < t; ) {
                                            var r = o[l];
                                            r > t &&
                                              o.splice(l, 1, t, o[l + 1], r),
                                              (l += 2),
                                              (c = Math.min(t, r));
                                          }
                                          if (e)
                                            if (s.opaque)
                                              o.splice(
                                                n,
                                                l - n,
                                                t,
                                                'overlay ' + e
                                              ),
                                                (l = n + 2);
                                            else
                                              for (; n < l; n += 2) {
                                                var i = o[n + 1];
                                                o[n + 1] =
                                                  (i ? i + ' ' : '') +
                                                  'overlay ' +
                                                  e;
                                              }
                                        },
                                        i
                                      ),
                                      (n.state = a),
                                      (n.baseTokens = null),
                                      (n.baseTokenPos = 1);
                                  },
                                  l = 0;
                                l < t.state.overlays.length;
                                ++l
                              )
                                s(l);
                              return {
                                styles: o,
                                classes: i.bgClass || i.textClass ? i : null,
                              };
                            }

                            function he(t, e, n) {
                              if (!e.styles || e.styles[0] != t.state.modeGen) {
                                var r = ge(t, Jt(e)),
                                  o =
                                    e.text.length >
                                      t.options.maxHighlightLength &&
                                    Wt(t.doc.mode, r.state),
                                  i = fe(t, e, r);
                                o && (r.state = o),
                                  (e.stateAfter = r.save(!o)),
                                  (e.styles = i.styles),
                                  i.classes
                                    ? (e.styleClasses = i.classes)
                                    : e.styleClasses && (e.styleClasses = null),
                                  n === t.doc.highlightFrontier &&
                                    (t.doc.modeFrontier = Math.max(
                                      t.doc.modeFrontier,
                                      ++t.doc.highlightFrontier
                                    ));
                              }
                              return e.styles;
                            }

                            function ge(t, e, n) {
                              var r = t.doc,
                                o = t.display;
                              if (!r.mode.startState) return new de(r, !0, e);
                              var i = (function (t, e, n) {
                                  for (
                                    var r,
                                      o,
                                      i = t.doc,
                                      a = n
                                        ? -1
                                        : e -
                                          (t.doc.mode.innerMode ? 1e3 : 100),
                                      s = e;
                                    s > a;
                                    --s
                                  ) {
                                    if (s <= i.first) return i.first;
                                    var l = Kt(i, s - 1),
                                      c = l.stateAfter;
                                    if (
                                      c &&
                                      (!n ||
                                        s +
                                          (c instanceof pe ? c.lookAhead : 0) <=
                                          i.modeFrontier)
                                    )
                                      return s;
                                    var u = z(l.text, null, t.options.tabSize);
                                    (null == o || r > u) &&
                                      ((o = s - 1), (r = u));
                                  }
                                  return o;
                                })(t, e, n),
                                a = i > r.first && Kt(r, i - 1).stateAfter,
                                s = a
                                  ? de.fromSaved(r, a, i)
                                  : new de(r, Gt(r.mode), i);
                              return (
                                r.iter(i, e, function (n) {
                                  ve(t, n.text, s);
                                  var r = s.line;
                                  (n.stateAfter =
                                    r == e - 1 ||
                                    r % 5 == 0 ||
                                    (r >= o.viewFrom && r < o.viewTo)
                                      ? s.save()
                                      : null),
                                    s.nextLine();
                                }),
                                n && (r.modeFrontier = s.line),
                                s
                              );
                            }

                            function ve(t, e, n, r) {
                              var o = t.doc.mode,
                                i = new qt(e, t.options.tabSize, n);
                              for (
                                i.start = i.pos = r || 0,
                                  '' == e && me(o, n.state);
                                !i.eol();

                              )
                                ye(o, i, n.state), (i.start = i.pos);
                            }

                            function me(t, e) {
                              if (t.blankLine) return t.blankLine(e);
                              if (t.innerMode) {
                                var n = $t(t, e);
                                return n.mode.blankLine
                                  ? n.mode.blankLine(n.state)
                                  : void 0;
                              }
                            }

                            function ye(t, e, n, r) {
                              for (var o = 0; o < 10; o++) {
                                r && (r[0] = $t(t, n).mode);
                                var i = t.token(e, n);
                                if (e.pos > e.start) return i;
                              }
                              throw new Error(
                                'Mode ' + t.name + ' failed to advance stream.'
                              );
                            }
                            (de.prototype.lookAhead = function (t) {
                              var e = this.doc.getLine(this.line + t);
                              return (
                                null != e &&
                                  t > this.maxLookAhead &&
                                  (this.maxLookAhead = t),
                                e
                              );
                            }),
                              (de.prototype.baseToken = function (t) {
                                if (!this.baseTokens) return null;
                                for (
                                  ;
                                  this.baseTokens[this.baseTokenPos] <= t;

                                )
                                  this.baseTokenPos += 2;
                                var e = this.baseTokens[this.baseTokenPos + 1];
                                return {
                                  type: e && e.replace(/( |^)overlay .*/, ''),
                                  size: this.baseTokens[this.baseTokenPos] - t,
                                };
                              }),
                              (de.prototype.nextLine = function () {
                                this.line++,
                                  this.maxLookAhead > 0 && this.maxLookAhead--;
                              }),
                              (de.fromSaved = function (t, e, n) {
                                return e instanceof pe
                                  ? new de(
                                      t,
                                      Wt(t.mode, e.state),
                                      n,
                                      e.lookAhead
                                    )
                                  : new de(t, Wt(t.mode, e), n);
                              }),
                              (de.prototype.save = function (t) {
                                var e =
                                  !1 !== t
                                    ? Wt(this.doc.mode, this.state)
                                    : this.state;
                                return this.maxLookAhead > 0
                                  ? new pe(e, this.maxLookAhead)
                                  : e;
                              });
                            var be = function (t, e, n) {
                              (this.start = t.start),
                                (this.end = t.pos),
                                (this.string = t.current()),
                                (this.type = e || null),
                                (this.state = n);
                            };

                            function _e(t, e, n, r) {
                              var o,
                                i,
                                a = t.doc,
                                s = a.mode,
                                l = Kt(a, (e = ce(a, e)).line),
                                c = ge(t, e.line, n),
                                u = new qt(l.text, t.options.tabSize, c);
                              for (
                                r && (i = []);
                                (r || u.pos < e.ch) && !u.eol();

                              )
                                (u.start = u.pos),
                                  (o = ye(s, u, c.state)),
                                  r &&
                                    i.push(new be(u, o, Wt(a.mode, c.state)));
                              return r ? i : new be(u, o, c.state);
                            }

                            function we(t, e) {
                              if (t)
                                for (;;) {
                                  var n = t.match(
                                    /(?:^|\s+)line-(background-)?(\S+)/
                                  );
                                  if (!n) break;
                                  t =
                                    t.slice(0, n.index) +
                                    t.slice(n.index + n[0].length);
                                  var r = n[1] ? 'bgClass' : 'textClass';
                                  null == e[r]
                                    ? (e[r] = n[2])
                                    : new RegExp(
                                        '(?:^|\\s)' + n[2] + '(?:$|\\s)'
                                      ).test(e[r]) || (e[r] += ' ' + n[2]);
                                }
                              return t;
                            }

                            function xe(t, e, n, r, o, i, a) {
                              var s = n.flattenSpans;
                              null == s && (s = t.options.flattenSpans);
                              var l,
                                c = 0,
                                u = null,
                                p = new qt(e, t.options.tabSize, r),
                                d = t.options.addModeClass && [null];
                              for (
                                '' == e && we(me(n, r.state), i);
                                !p.eol();

                              ) {
                                if (
                                  (p.pos > t.options.maxHighlightLength
                                    ? ((s = !1),
                                      a && ve(t, e, r, p.pos),
                                      (p.pos = e.length),
                                      (l = null))
                                    : (l = we(ye(n, p, r.state, d), i)),
                                  d)
                                ) {
                                  var f = d[0].name;
                                  f && (l = 'm-' + (l ? f + ' ' + l : f));
                                }
                                if (!s || u != l) {
                                  for (; c < p.start; )
                                    o((c = Math.min(p.start, c + 5e3)), u);
                                  u = l;
                                }
                                p.start = p.pos;
                              }
                              for (; c < p.pos; ) {
                                var h = Math.min(p.pos, c + 5e3);
                                o(h, u), (c = h);
                              }
                            }
                            var Ce = !1,
                              Se = !1;

                            function Oe(t, e, n) {
                              (this.marker = t), (this.from = e), (this.to = n);
                            }

                            function ke(t, e) {
                              if (t)
                                for (var n = 0; n < t.length; ++n) {
                                  var r = t[n];
                                  if (r.marker == e) return r;
                                }
                            }

                            function Te(t, e) {
                              for (var n, r = 0; r < t.length; ++r)
                                t[r] != e && (n || (n = [])).push(t[r]);
                              return n;
                            }

                            function Ee(t, e) {
                              if (e.full) return null;
                              var n =
                                  te(t, e.from.line) &&
                                  Kt(t, e.from.line).markedSpans,
                                r =
                                  te(t, e.to.line) &&
                                  Kt(t, e.to.line).markedSpans;
                              if (!n && !r) return null;
                              var o = e.from.ch,
                                i = e.to.ch,
                                a = 0 == re(e.from, e.to),
                                s = (function (t, e, n) {
                                  var r;
                                  if (t)
                                    for (var o = 0; o < t.length; ++o) {
                                      var i = t[o],
                                        a = i.marker;
                                      if (
                                        null == i.from ||
                                        (a.inclusiveLeft
                                          ? i.from <= e
                                          : i.from < e) ||
                                        (i.from == e &&
                                          'bookmark' == a.type &&
                                          (!n || !i.marker.insertLeft))
                                      ) {
                                        var s =
                                          null == i.to ||
                                          (a.inclusiveRight
                                            ? i.to >= e
                                            : i.to > e);
                                        (r || (r = [])).push(
                                          new Oe(a, i.from, s ? null : i.to)
                                        );
                                      }
                                    }
                                  return r;
                                })(n, o, a),
                                l = (function (t, e, n) {
                                  var r;
                                  if (t)
                                    for (var o = 0; o < t.length; ++o) {
                                      var i = t[o],
                                        a = i.marker;
                                      if (
                                        null == i.to ||
                                        (a.inclusiveRight
                                          ? i.to >= e
                                          : i.to > e) ||
                                        (i.from == e &&
                                          'bookmark' == a.type &&
                                          (!n || i.marker.insertLeft))
                                      ) {
                                        var s =
                                          null == i.from ||
                                          (a.inclusiveLeft
                                            ? i.from <= e
                                            : i.from < e);
                                        (r || (r = [])).push(
                                          new Oe(
                                            a,
                                            s ? null : i.from - e,
                                            null == i.to ? null : i.to - e
                                          )
                                        );
                                      }
                                    }
                                  return r;
                                })(r, i, a),
                                c = 1 == e.text.length,
                                u = Y(e.text).length + (c ? o : 0);
                              if (s)
                                for (var p = 0; p < s.length; ++p) {
                                  var d = s[p];
                                  if (null == d.to) {
                                    var f = ke(l, d.marker);
                                    f
                                      ? c &&
                                        (d.to = null == f.to ? null : f.to + u)
                                      : (d.to = o);
                                  }
                                }
                              if (l)
                                for (var h = 0; h < l.length; ++h) {
                                  var g = l[h];
                                  null != g.to && (g.to += u),
                                    null == g.from
                                      ? ke(s, g.marker) ||
                                        ((g.from = u),
                                        c && (s || (s = [])).push(g))
                                      : ((g.from += u),
                                        c && (s || (s = [])).push(g));
                                }
                              s && (s = Pe(s)), l && l != s && (l = Pe(l));
                              var v = [s];
                              if (!c) {
                                var m,
                                  y = e.text.length - 2;
                                if (y > 0 && s)
                                  for (var b = 0; b < s.length; ++b)
                                    null == s[b].to &&
                                      (m || (m = [])).push(
                                        new Oe(s[b].marker, null, null)
                                      );
                                for (var _ = 0; _ < y; ++_) v.push(m);
                                v.push(l);
                              }
                              return v;
                            }

                            function Pe(t) {
                              for (var e = 0; e < t.length; ++e) {
                                var n = t[e];
                                null != n.from &&
                                  n.from == n.to &&
                                  !1 !== n.marker.clearWhenEmpty &&
                                  t.splice(e--, 1);
                              }
                              return t.length ? t : null;
                            }

                            function Ae(t) {
                              var e = t.markedSpans;
                              if (e) {
                                for (var n = 0; n < e.length; ++n)
                                  e[n].marker.detachLine(t);
                                t.markedSpans = null;
                              }
                            }

                            function je(t, e) {
                              if (e) {
                                for (var n = 0; n < e.length; ++n)
                                  e[n].marker.attachLine(t);
                                t.markedSpans = e;
                              }
                            }

                            function Me(t) {
                              return t.inclusiveLeft ? -1 : 0;
                            }

                            function Le(t) {
                              return t.inclusiveRight ? 1 : 0;
                            }

                            function De(t, e) {
                              var n = t.lines.length - e.lines.length;
                              if (0 != n) return n;
                              var r = t.find(),
                                o = e.find(),
                                i = re(r.from, o.from) || Me(t) - Me(e);
                              return i
                                ? -i
                                : re(r.to, o.to) ||
                                    Le(t) - Le(e) ||
                                    e.id - t.id;
                            }

                            function Ne(t, e) {
                              var n,
                                r = Se && t.markedSpans;
                              if (r)
                                for (var o = void 0, i = 0; i < r.length; ++i)
                                  (o = r[i]).marker.collapsed &&
                                    null == (e ? o.from : o.to) &&
                                    (!n || De(n, o.marker) < 0) &&
                                    (n = o.marker);
                              return n;
                            }

                            function Ie(t) {
                              return Ne(t, !0);
                            }

                            function Fe(t) {
                              return Ne(t, !1);
                            }

                            function Re(t, e) {
                              var n,
                                r = Se && t.markedSpans;
                              if (r)
                                for (var o = 0; o < r.length; ++o) {
                                  var i = r[o];
                                  i.marker.collapsed &&
                                    (null == i.from || i.from < e) &&
                                    (null == i.to || i.to > e) &&
                                    (!n || De(n, i.marker) < 0) &&
                                    (n = i.marker);
                                }
                              return n;
                            }

                            function ze(t, e, n, r, o) {
                              var i = Kt(t, e),
                                a = Se && i.markedSpans;
                              if (a)
                                for (var s = 0; s < a.length; ++s) {
                                  var l = a[s];
                                  if (l.marker.collapsed) {
                                    var c = l.marker.find(0),
                                      u = re(c.from, n) || Me(l.marker) - Me(o),
                                      p = re(c.to, r) || Le(l.marker) - Le(o);
                                    if (
                                      !(
                                        (u >= 0 && p <= 0) ||
                                        (u <= 0 && p >= 0)
                                      ) &&
                                      ((u <= 0 &&
                                        (l.marker.inclusiveRight &&
                                        o.inclusiveLeft
                                          ? re(c.to, n) >= 0
                                          : re(c.to, n) > 0)) ||
                                        (u >= 0 &&
                                          (l.marker.inclusiveRight &&
                                          o.inclusiveLeft
                                            ? re(c.from, r) <= 0
                                            : re(c.from, r) < 0)))
                                    )
                                      return !0;
                                  }
                                }
                            }

                            function Ve(t) {
                              for (var e; (e = Ie(t)); )
                                t = e.find(-1, !0).line;
                              return t;
                            }

                            function Be(t, e) {
                              var n = Kt(t, e),
                                r = Ve(n);
                              return n == r ? e : Jt(r);
                            }

                            function He(t, e) {
                              if (e > t.lastLine()) return e;
                              var n,
                                r = Kt(t, e);
                              if (!Ue(t, r)) return e;
                              for (; (n = Fe(r)); ) r = n.find(1, !0).line;
                              return Jt(r) + 1;
                            }

                            function Ue(t, e) {
                              var n = Se && e.markedSpans;
                              if (n)
                                for (var r = void 0, o = 0; o < n.length; ++o)
                                  if ((r = n[o]).marker.collapsed) {
                                    if (null == r.from) return !0;
                                    if (
                                      !r.marker.widgetNode &&
                                      0 == r.from &&
                                      r.marker.inclusiveLeft &&
                                      We(t, e, r)
                                    )
                                      return !0;
                                  }
                            }

                            function We(t, e, n) {
                              if (null == n.to) {
                                var r = n.marker.find(1, !0);
                                return We(
                                  t,
                                  r.line,
                                  ke(r.line.markedSpans, n.marker)
                                );
                              }
                              if (
                                n.marker.inclusiveRight &&
                                n.to == e.text.length
                              )
                                return !0;
                              for (
                                var o = void 0, i = 0;
                                i < e.markedSpans.length;
                                ++i
                              )
                                if (
                                  (o = e.markedSpans[i]).marker.collapsed &&
                                  !o.marker.widgetNode &&
                                  o.from == n.to &&
                                  (null == o.to || o.to != n.from) &&
                                  (o.marker.inclusiveLeft ||
                                    n.marker.inclusiveRight) &&
                                  We(t, e, o)
                                )
                                  return !0;
                            }

                            function $e(t) {
                              for (
                                var e = 0, n = (t = Ve(t)).parent, r = 0;
                                r < n.lines.length;
                                ++r
                              ) {
                                var o = n.lines[r];
                                if (o == t) break;
                                e += o.height;
                              }
                              for (var i = n.parent; i; i = (n = i).parent)
                                for (var a = 0; a < i.children.length; ++a) {
                                  var s = i.children[a];
                                  if (s == n) break;
                                  e += s.height;
                                }
                              return e;
                            }

                            function Ge(t) {
                              if (0 == t.height) return 0;
                              for (
                                var e, n = t.text.length, r = t;
                                (e = Ie(r));

                              ) {
                                var o = e.find(0, !0);
                                (r = o.from.line), (n += o.from.ch - o.to.ch);
                              }
                              for (r = t; (e = Fe(r)); ) {
                                var i = e.find(0, !0);
                                (n -= r.text.length - i.from.ch),
                                  (n += (r = i.to.line).text.length - i.to.ch);
                              }
                              return n;
                            }

                            function qe(t) {
                              var e = t.display,
                                n = t.doc;
                              (e.maxLine = Kt(n, n.first)),
                                (e.maxLineLength = Ge(e.maxLine)),
                                (e.maxLineChanged = !0),
                                n.iter(function (t) {
                                  var n = Ge(t);
                                  n > e.maxLineLength &&
                                    ((e.maxLineLength = n), (e.maxLine = t));
                                });
                            }
                            var Ke = function (t, e, n) {
                              (this.text = t),
                                je(this, e),
                                (this.height = n ? n(this) : 1);
                            };

                            function Ze(t) {
                              (t.parent = null), Ae(t);
                            }
                            (Ke.prototype.lineNo = function () {
                              return Jt(this);
                            }),
                              _t(Ke);
                            var Ye = {},
                              Xe = {};

                            function Je(t, e) {
                              if (!t || /^\s*$/.test(t)) return null;
                              var n = e.addModeClass ? Xe : Ye;
                              return (
                                n[t] || (n[t] = t.replace(/\S+/g, 'cm-$&'))
                              );
                            }

                            function Qe(t, e) {
                              var n = j(
                                  'span',
                                  null,
                                  null,
                                  l ? 'padding-right: .1px' : null
                                ),
                                r = {
                                  pre: j('pre', [n], 'CodeMirror-line'),
                                  content: n,
                                  col: 0,
                                  pos: 0,
                                  cm: t,
                                  trailingSpace: !1,
                                  splitSpaces: t.getOption('lineWrapping'),
                                };
                              e.measure = {};
                              for (
                                var o = 0;
                                o <= (e.rest ? e.rest.length : 0);
                                o++
                              ) {
                                var i = o ? e.rest[o - 1] : e.line,
                                  a = void 0;
                                (r.pos = 0),
                                  (r.addToken = en),
                                  jt(t.display.measure) &&
                                    (a = pt(i, t.doc.direction)) &&
                                    (r.addToken = nn(r.addToken, a)),
                                  (r.map = []),
                                  on(
                                    i,
                                    r,
                                    he(
                                      t,
                                      i,
                                      e != t.display.externalMeasured && Jt(i)
                                    )
                                  ),
                                  i.styleClasses &&
                                    (i.styleClasses.bgClass &&
                                      (r.bgClass = N(
                                        i.styleClasses.bgClass,
                                        r.bgClass || ''
                                      )),
                                    i.styleClasses.textClass &&
                                      (r.textClass = N(
                                        i.styleClasses.textClass,
                                        r.textClass || ''
                                      ))),
                                  0 == r.map.length &&
                                    r.map.push(
                                      0,
                                      0,
                                      r.content.appendChild(
                                        At(t.display.measure)
                                      )
                                    ),
                                  0 == o
                                    ? ((e.measure.map = r.map),
                                      (e.measure.cache = {}))
                                    : ((
                                        e.measure.maps || (e.measure.maps = [])
                                      ).push(r.map),
                                      (
                                        e.measure.caches ||
                                        (e.measure.caches = [])
                                      ).push({}));
                              }
                              if (l) {
                                var s = r.content.lastChild;
                                (/\bcm-tab\b/.test(s.className) ||
                                  (s.querySelector &&
                                    s.querySelector('.cm-tab'))) &&
                                  (r.content.className = 'cm-tab-wrap-hack');
                              }
                              return (
                                vt(t, 'renderLine', t, e.line, r.pre),
                                r.pre.className &&
                                  (r.textClass = N(
                                    r.pre.className,
                                    r.textClass || ''
                                  )),
                                r
                              );
                            }

                            function tn(t) {
                              var e = A('span', '•', 'cm-invalidchar');
                              return (
                                (e.title =
                                  '\\u' + t.charCodeAt(0).toString(16)),
                                e.setAttribute('aria-label', e.title),
                                e
                              );
                            }

                            function en(t, e, n, r, o, i, l) {
                              if (e) {
                                var c,
                                  u = t.splitSpaces
                                    ? (function (t, e) {
                                        if (t.length > 1 && !/  /.test(t))
                                          return t;
                                        for (
                                          var n = e, r = '', o = 0;
                                          o < t.length;
                                          o++
                                        ) {
                                          var i = t.charAt(o);
                                          ' ' != i ||
                                            !n ||
                                            (o != t.length - 1 &&
                                              32 != t.charCodeAt(o + 1)) ||
                                            (i = ' '),
                                            (r += i),
                                            (n = ' ' == i);
                                        }
                                        return r;
                                      })(e, t.trailingSpace)
                                    : e,
                                  p = t.cm.state.specialChars,
                                  d = !1;
                                if (p.test(e)) {
                                  c = document.createDocumentFragment();
                                  for (var f = 0; 1; ) {
                                    p.lastIndex = f;
                                    var h = p.exec(e),
                                      g = h ? h.index - f : e.length - f;
                                    if (g) {
                                      var v = document.createTextNode(
                                        u.slice(f, f + g)
                                      );
                                      a && s < 9
                                        ? c.appendChild(A('span', [v]))
                                        : c.appendChild(v),
                                        t.map.push(t.pos, t.pos + g, v),
                                        (t.col += g),
                                        (t.pos += g);
                                    }
                                    if (!h) break;
                                    f += g + 1;
                                    var m = void 0;
                                    if ('\t' == h[0]) {
                                      var y = t.cm.options.tabSize,
                                        b = y - (t.col % y);
                                      (m = c.appendChild(
                                        A('span', Z(b), 'cm-tab')
                                      )).setAttribute('role', 'presentation'),
                                        m.setAttribute('cm-text', '\t'),
                                        (t.col += b);
                                    } else
                                      '\r' == h[0] || '\n' == h[0]
                                        ? ((m = c.appendChild(
                                            A(
                                              'span',
                                              '\r' == h[0] ? '␍' : '␤',
                                              'cm-invalidchar'
                                            )
                                          )).setAttribute('cm-text', h[0]),
                                          (t.col += 1))
                                        : ((m =
                                            t.cm.options.specialCharPlaceholder(
                                              h[0]
                                            )).setAttribute('cm-text', h[0]),
                                          a && s < 9
                                            ? c.appendChild(A('span', [m]))
                                            : c.appendChild(m),
                                          (t.col += 1));
                                    t.map.push(t.pos, t.pos + 1, m), t.pos++;
                                  }
                                } else
                                  (t.col += e.length),
                                    (c = document.createTextNode(u)),
                                    t.map.push(t.pos, t.pos + e.length, c),
                                    a && s < 9 && (d = !0),
                                    (t.pos += e.length);
                                if (
                                  ((t.trailingSpace =
                                    32 == u.charCodeAt(e.length - 1)),
                                  n || r || o || d || i || l)
                                ) {
                                  var _ = n || '';
                                  r && (_ += r), o && (_ += o);
                                  var w = A('span', [c], _, i);
                                  if (l)
                                    for (var x in l)
                                      l.hasOwnProperty(x) &&
                                        'style' != x &&
                                        'class' != x &&
                                        w.setAttribute(x, l[x]);
                                  return t.content.appendChild(w);
                                }
                                t.content.appendChild(c);
                              }
                            }

                            function nn(t, e) {
                              return function (n, r, o, i, a, s, l) {
                                o = o
                                  ? o + ' cm-force-border'
                                  : 'cm-force-border';
                                for (var c = n.pos, u = c + r.length; ; ) {
                                  for (
                                    var p = void 0, d = 0;
                                    d < e.length &&
                                    !((p = e[d]).to > c && p.from <= c);
                                    d++
                                  );
                                  if (p.to >= u) return t(n, r, o, i, a, s, l);
                                  t(n, r.slice(0, p.to - c), o, i, null, s, l),
                                    (i = null),
                                    (r = r.slice(p.to - c)),
                                    (c = p.to);
                                }
                              };
                            }

                            function rn(t, e, n, r) {
                              var o = !r && n.widgetNode;
                              o && t.map.push(t.pos, t.pos + e, o),
                                !r &&
                                  t.cm.display.input.needsContentAttribute &&
                                  (o ||
                                    (o = t.content.appendChild(
                                      document.createElement('span')
                                    )),
                                  o.setAttribute('cm-marker', n.id)),
                                o &&
                                  (t.cm.display.input.setUneditable(o),
                                  t.content.appendChild(o)),
                                (t.pos += e),
                                (t.trailingSpace = !1);
                            }

                            function on(t, e, n) {
                              var r = t.markedSpans,
                                o = t.text,
                                i = 0;
                              if (r)
                                for (
                                  var a,
                                    s,
                                    l,
                                    c,
                                    u,
                                    p,
                                    d,
                                    f = o.length,
                                    h = 0,
                                    g = 1,
                                    v = '',
                                    m = 0;
                                  ;

                                ) {
                                  if (m == h) {
                                    (l = c = u = s = ''),
                                      (d = null),
                                      (p = null),
                                      (m = 1 / 0);
                                    for (
                                      var y = [], b = void 0, _ = 0;
                                      _ < r.length;
                                      ++_
                                    ) {
                                      var w = r[_],
                                        x = w.marker;
                                      if (
                                        'bookmark' == x.type &&
                                        w.from == h &&
                                        x.widgetNode
                                      )
                                        y.push(x);
                                      else if (
                                        w.from <= h &&
                                        (null == w.to ||
                                          w.to > h ||
                                          (x.collapsed &&
                                            w.to == h &&
                                            w.from == h))
                                      ) {
                                        if (
                                          (null != w.to &&
                                            w.to != h &&
                                            m > w.to &&
                                            ((m = w.to), (c = '')),
                                          x.className &&
                                            (l += ' ' + x.className),
                                          x.css &&
                                            (s = (s ? s + ';' : '') + x.css),
                                          x.startStyle &&
                                            w.from == h &&
                                            (u += ' ' + x.startStyle),
                                          x.endStyle &&
                                            w.to == m &&
                                            (b || (b = [])).push(
                                              x.endStyle,
                                              w.to
                                            ),
                                          x.title &&
                                            ((d || (d = {})).title = x.title),
                                          x.attributes)
                                        )
                                          for (var C in x.attributes)
                                            (d || (d = {}))[C] =
                                              x.attributes[C];
                                        x.collapsed &&
                                          (!p || De(p.marker, x) < 0) &&
                                          (p = w);
                                      } else
                                        w.from > h &&
                                          m > w.from &&
                                          (m = w.from);
                                    }
                                    if (b)
                                      for (var S = 0; S < b.length; S += 2)
                                        b[S + 1] == m && (c += ' ' + b[S]);
                                    if (!p || p.from == h)
                                      for (var O = 0; O < y.length; ++O)
                                        rn(e, 0, y[O]);
                                    if (p && (p.from || 0) == h) {
                                      if (
                                        (rn(
                                          e,
                                          (null == p.to ? f + 1 : p.to) - h,
                                          p.marker,
                                          null == p.from
                                        ),
                                        null == p.to)
                                      )
                                        return;
                                      p.to == h && (p = !1);
                                    }
                                  }
                                  if (h >= f) break;
                                  for (var k = Math.min(f, m); 1; ) {
                                    if (v) {
                                      var T = h + v.length;
                                      if (!p) {
                                        var E = T > k ? v.slice(0, k - h) : v;
                                        e.addToken(
                                          e,
                                          E,
                                          a ? a + l : l,
                                          u,
                                          h + E.length == m ? c : '',
                                          s,
                                          d
                                        );
                                      }
                                      if (T >= k) {
                                        (v = v.slice(k - h)), (h = k);
                                        break;
                                      }
                                      (h = T), (u = '');
                                    }
                                    (v = o.slice(i, (i = n[g++]))),
                                      (a = Je(n[g++], e.cm.options));
                                  }
                                }
                              else
                                for (var P = 1; P < n.length; P += 2)
                                  e.addToken(
                                    e,
                                    o.slice(i, (i = n[P])),
                                    Je(n[P + 1], e.cm.options)
                                  );
                            }

                            function an(t, e, n) {
                              (this.line = e),
                                (this.rest = (function (t) {
                                  for (var e, n; (e = Fe(t)); )
                                    (t = e.find(1, !0).line),
                                      (n || (n = [])).push(t);
                                  return n;
                                })(e)),
                                (this.size = this.rest
                                  ? Jt(Y(this.rest)) - n + 1
                                  : 1),
                                (this.node = this.text = null),
                                (this.hidden = Ue(t, e));
                            }

                            function sn(t, e, n) {
                              for (var r, o = [], i = e; i < n; i = r) {
                                var a = new an(t.doc, Kt(t.doc, i), i);
                                (r = i + a.size), o.push(a);
                              }
                              return o;
                            }
                            var ln = null,
                              cn = null;

                            function un(t, e) {
                              var n = ht(t, e);
                              if (n.length) {
                                var r,
                                  o = Array.prototype.slice.call(arguments, 2);
                                ln
                                  ? (r = ln.delayedCallbacks)
                                  : cn
                                  ? (r = cn)
                                  : ((r = cn = []), setTimeout(pn, 0));
                                for (
                                  var i = function (t) {
                                      r.push(function () {
                                        return n[t].apply(null, o);
                                      });
                                    },
                                    a = 0;
                                  a < n.length;
                                  ++a
                                )
                                  i(a);
                              }
                            }

                            function pn() {
                              var t = cn;
                              cn = null;
                              for (var e = 0; e < t.length; ++e) t[e]();
                            }

                            function dn(t, e, n, r) {
                              for (var o = 0; o < e.changes.length; o++) {
                                var i = e.changes[o];
                                'text' == i
                                  ? gn(t, e)
                                  : 'gutter' == i
                                  ? mn(t, e, n, r)
                                  : 'class' == i
                                  ? vn(t, e)
                                  : 'widget' == i && yn(t, e, r);
                              }
                              e.changes = null;
                            }

                            function fn(t) {
                              return (
                                t.node == t.text &&
                                  ((t.node = A(
                                    'div',
                                    null,
                                    null,
                                    'position: relative'
                                  )),
                                  t.text.parentNode &&
                                    t.text.parentNode.replaceChild(
                                      t.node,
                                      t.text
                                    ),
                                  t.node.appendChild(t.text),
                                  a && s < 8 && (t.node.style.zIndex = 2)),
                                t.node
                              );
                            }

                            function hn(t, e) {
                              var n = t.display.externalMeasured;
                              return n && n.line == e.line
                                ? ((t.display.externalMeasured = null),
                                  (e.measure = n.measure),
                                  n.built)
                                : Qe(t, e);
                            }

                            function gn(t, e) {
                              var n = e.text.className,
                                r = hn(t, e);
                              e.text == e.node && (e.node = r.pre),
                                e.text.parentNode.replaceChild(r.pre, e.text),
                                (e.text = r.pre),
                                r.bgClass != e.bgClass ||
                                r.textClass != e.textClass
                                  ? ((e.bgClass = r.bgClass),
                                    (e.textClass = r.textClass),
                                    vn(t, e))
                                  : n && (e.text.className = n);
                            }

                            function vn(t, e) {
                              (function (t, e) {
                                var n = e.bgClass
                                  ? e.bgClass + ' ' + (e.line.bgClass || '')
                                  : e.line.bgClass;
                                if (
                                  (n && (n += ' CodeMirror-linebackground'),
                                  e.background)
                                )
                                  n
                                    ? (e.background.className = n)
                                    : (e.background.parentNode.removeChild(
                                        e.background
                                      ),
                                      (e.background = null));
                                else if (n) {
                                  var r = fn(e);
                                  (e.background = r.insertBefore(
                                    A('div', null, n),
                                    r.firstChild
                                  )),
                                    t.display.input.setUneditable(e.background);
                                }
                              })(t, e),
                                e.line.wrapClass
                                  ? (fn(e).className = e.line.wrapClass)
                                  : e.node != e.text && (e.node.className = '');
                              var n = e.textClass
                                ? e.textClass + ' ' + (e.line.textClass || '')
                                : e.line.textClass;
                              e.text.className = n || '';
                            }

                            function mn(t, e, n, r) {
                              if (
                                (e.gutter &&
                                  (e.node.removeChild(e.gutter),
                                  (e.gutter = null)),
                                e.gutterBackground &&
                                  (e.node.removeChild(e.gutterBackground),
                                  (e.gutterBackground = null)),
                                e.line.gutterClass)
                              ) {
                                var o = fn(e);
                                (e.gutterBackground = A(
                                  'div',
                                  null,
                                  'CodeMirror-gutter-background ' +
                                    e.line.gutterClass,
                                  'left: ' +
                                    (t.options.fixedGutter
                                      ? r.fixedPos
                                      : -r.gutterTotalWidth) +
                                    'px; width: ' +
                                    r.gutterTotalWidth +
                                    'px'
                                )),
                                  t.display.input.setUneditable(
                                    e.gutterBackground
                                  ),
                                  o.insertBefore(e.gutterBackground, e.text);
                              }
                              var i = e.line.gutterMarkers;
                              if (t.options.lineNumbers || i) {
                                var a = fn(e),
                                  s = (e.gutter = A(
                                    'div',
                                    null,
                                    'CodeMirror-gutter-wrapper',
                                    'left: ' +
                                      (t.options.fixedGutter
                                        ? r.fixedPos
                                        : -r.gutterTotalWidth) +
                                      'px'
                                  ));
                                if (
                                  (s.setAttribute('aria-hidden', 'true'),
                                  t.display.input.setUneditable(s),
                                  a.insertBefore(s, e.text),
                                  e.line.gutterClass &&
                                    (s.className += ' ' + e.line.gutterClass),
                                  !t.options.lineNumbers ||
                                    (i && i['CodeMirror-linenumbers']) ||
                                    (e.lineNumber = s.appendChild(
                                      A(
                                        'div',
                                        ee(t.options, n),
                                        'CodeMirror-linenumber CodeMirror-gutter-elt',
                                        'left: ' +
                                          r.gutterLeft[
                                            'CodeMirror-linenumbers'
                                          ] +
                                          'px; width: ' +
                                          t.display.lineNumInnerWidth +
                                          'px'
                                      )
                                    )),
                                  i)
                                )
                                  for (
                                    var l = 0;
                                    l < t.display.gutterSpecs.length;
                                    ++l
                                  ) {
                                    var c = t.display.gutterSpecs[l].className,
                                      u = i.hasOwnProperty(c) && i[c];
                                    u &&
                                      s.appendChild(
                                        A(
                                          'div',
                                          [u],
                                          'CodeMirror-gutter-elt',
                                          'left: ' +
                                            r.gutterLeft[c] +
                                            'px; width: ' +
                                            r.gutterWidth[c] +
                                            'px'
                                        )
                                      );
                                  }
                              }
                            }

                            function yn(t, e, n) {
                              e.alignable && (e.alignable = null);
                              for (
                                var r = O('CodeMirror-linewidget'),
                                  o = e.node.firstChild,
                                  i = void 0;
                                o;
                                o = i
                              )
                                (i = o.nextSibling),
                                  r.test(o.className) && e.node.removeChild(o);
                              _n(t, e, n);
                            }

                            function bn(t, e, n, r) {
                              var o = hn(t, e);
                              return (
                                (e.text = e.node = o.pre),
                                o.bgClass && (e.bgClass = o.bgClass),
                                o.textClass && (e.textClass = o.textClass),
                                vn(t, e),
                                mn(t, e, n, r),
                                _n(t, e, r),
                                e.node
                              );
                            }

                            function _n(t, e, n) {
                              if ((wn(t, e.line, e, n, !0), e.rest))
                                for (var r = 0; r < e.rest.length; r++)
                                  wn(t, e.rest[r], e, n, !1);
                            }

                            function wn(t, e, n, r, o) {
                              if (e.widgets)
                                for (
                                  var i = fn(n), a = 0, s = e.widgets;
                                  a < s.length;
                                  ++a
                                ) {
                                  var l = s[a],
                                    c = A(
                                      'div',
                                      [l.node],
                                      'CodeMirror-linewidget' +
                                        (l.className ? ' ' + l.className : '')
                                    );
                                  l.handleMouseEvents ||
                                    c.setAttribute('cm-ignore-events', 'true'),
                                    xn(l, c, n, r),
                                    t.display.input.setUneditable(c),
                                    o && l.above
                                      ? i.insertBefore(c, n.gutter || n.text)
                                      : i.appendChild(c),
                                    un(l, 'redraw');
                                }
                            }

                            function xn(t, e, n, r) {
                              if (t.noHScroll) {
                                (n.alignable || (n.alignable = [])).push(e);
                                var o = r.wrapperWidth;
                                (e.style.left = r.fixedPos + 'px'),
                                  t.coverGutter ||
                                    ((o -= r.gutterTotalWidth),
                                    (e.style.paddingLeft =
                                      r.gutterTotalWidth + 'px')),
                                  (e.style.width = o + 'px');
                              }
                              t.coverGutter &&
                                ((e.style.zIndex = 5),
                                (e.style.position = 'relative'),
                                t.noHScroll ||
                                  (e.style.marginLeft =
                                    -r.gutterTotalWidth + 'px'));
                            }

                            function Cn(t) {
                              if (null != t.height) return t.height;
                              var e = t.doc.cm;
                              if (!e) return 0;
                              if (!M(document.body, t.node)) {
                                var n = 'position: relative;';
                                t.coverGutter &&
                                  (n +=
                                    'margin-left: -' +
                                    e.display.gutters.offsetWidth +
                                    'px;'),
                                  t.noHScroll &&
                                    (n +=
                                      'width: ' +
                                      e.display.wrapper.clientWidth +
                                      'px;'),
                                  P(
                                    e.display.measure,
                                    A('div', [t.node], null, n)
                                  );
                              }
                              return (t.height =
                                t.node.parentNode.offsetHeight);
                            }

                            function Sn(t, e) {
                              for (
                                var n = Ot(e);
                                n != t.wrapper;
                                n = n.parentNode
                              )
                                if (
                                  !n ||
                                  (1 == n.nodeType &&
                                    'true' ==
                                      n.getAttribute('cm-ignore-events')) ||
                                  (n.parentNode == t.sizer && n != t.mover)
                                )
                                  return !0;
                            }

                            function On(t) {
                              return t.lineSpace.offsetTop;
                            }

                            function kn(t) {
                              return (
                                t.mover.offsetHeight - t.lineSpace.offsetHeight
                              );
                            }

                            function Tn(t) {
                              if (t.cachedPaddingH) return t.cachedPaddingH;
                              var e = P(
                                  t.measure,
                                  A('pre', 'x', 'CodeMirror-line-like')
                                ),
                                n = window.getComputedStyle
                                  ? window.getComputedStyle(e)
                                  : e.currentStyle,
                                r = {
                                  left: parseInt(n.paddingLeft),
                                  right: parseInt(n.paddingRight),
                                };
                              return (
                                isNaN(r.left) ||
                                  isNaN(r.right) ||
                                  (t.cachedPaddingH = r),
                                r
                              );
                            }

                            function En(t) {
                              return H - t.display.nativeBarWidth;
                            }

                            function Pn(t) {
                              return (
                                t.display.scroller.clientWidth -
                                En(t) -
                                t.display.barWidth
                              );
                            }

                            function An(t) {
                              return (
                                t.display.scroller.clientHeight -
                                En(t) -
                                t.display.barHeight
                              );
                            }

                            function jn(t, e, n) {
                              if (t.line == e)
                                return {
                                  map: t.measure.map,
                                  cache: t.measure.cache,
                                };
                              if (t.rest) {
                                for (var r = 0; r < t.rest.length; r++)
                                  if (t.rest[r] == e)
                                    return {
                                      map: t.measure.maps[r],
                                      cache: t.measure.caches[r],
                                    };
                                for (var o = 0; o < t.rest.length; o++)
                                  if (Jt(t.rest[o]) > n)
                                    return {
                                      map: t.measure.maps[o],
                                      cache: t.measure.caches[o],
                                      before: !0,
                                    };
                              }
                            }

                            function Mn(t, e, n, r) {
                              return Nn(t, Dn(t, e), n, r);
                            }

                            function Ln(t, e) {
                              if (
                                e >= t.display.viewFrom &&
                                e < t.display.viewTo
                              )
                                return t.display.view[fr(t, e)];
                              var n = t.display.externalMeasured;
                              return n && e >= n.lineN && e < n.lineN + n.size
                                ? n
                                : void 0;
                            }

                            function Dn(t, e) {
                              var n = Jt(e),
                                r = Ln(t, n);
                              r && !r.text
                                ? (r = null)
                                : r &&
                                  r.changes &&
                                  (dn(t, r, n, lr(t)),
                                  (t.curOp.forceUpdate = !0)),
                                r ||
                                  (r = (function (t, e) {
                                    var n = Jt((e = Ve(e))),
                                      r = (t.display.externalMeasured = new an(
                                        t.doc,
                                        e,
                                        n
                                      ));
                                    r.lineN = n;
                                    var o = (r.built = Qe(t, r));
                                    return (
                                      (r.text = o.pre),
                                      P(t.display.lineMeasure, o.pre),
                                      r
                                    );
                                  })(t, e));
                              var o = jn(r, e, n);
                              return {
                                line: e,
                                view: r,
                                rect: null,
                                map: o.map,
                                cache: o.cache,
                                before: o.before,
                                hasHeights: !1,
                              };
                            }

                            function Nn(t, e, n, r, o) {
                              e.before && (n = -1);
                              var i,
                                a = n + (r || '');
                              return (
                                e.cache.hasOwnProperty(a)
                                  ? (i = e.cache[a])
                                  : (e.rect ||
                                      (e.rect =
                                        e.view.text.getBoundingClientRect()),
                                    e.hasHeights ||
                                      ((function (t, e, n) {
                                        var r = t.options.lineWrapping,
                                          o = r && Pn(t);
                                        if (
                                          !e.measure.heights ||
                                          (r && e.measure.width != o)
                                        ) {
                                          var i = (e.measure.heights = []);
                                          if (r) {
                                            e.measure.width = o;
                                            for (
                                              var a =
                                                  e.text.firstChild.getClientRects(),
                                                s = 0;
                                              s < a.length - 1;
                                              s++
                                            ) {
                                              var l = a[s],
                                                c = a[s + 1];
                                              Math.abs(l.bottom - c.bottom) >
                                                2 &&
                                                i.push(
                                                  (l.bottom + c.top) / 2 - n.top
                                                );
                                            }
                                          }
                                          i.push(n.bottom - n.top);
                                        }
                                      })(t, e.view, e.rect),
                                      (e.hasHeights = !0)),
                                    (i = Vn(t, e, n, r)).bogus ||
                                      (e.cache[a] = i)),
                                {
                                  left: i.left,
                                  right: i.right,
                                  top: o ? i.rtop : i.top,
                                  bottom: o ? i.rbottom : i.bottom,
                                }
                              );
                            }
                            var In,
                              Fn = {
                                left: 0,
                                right: 0,
                                top: 0,
                                bottom: 0,
                              };

                            function Rn(t, e, n) {
                              for (
                                var r, o, i, a, s, l, c = 0;
                                c < t.length;
                                c += 3
                              )
                                if (
                                  ((s = t[c]),
                                  (l = t[c + 1]),
                                  e < s
                                    ? ((o = 0), (i = 1), (a = 'left'))
                                    : e < l
                                    ? (i = (o = e - s) + 1)
                                    : (c == t.length - 3 ||
                                        (e == l && t[c + 3] > e)) &&
                                      ((o = (i = l - s) - 1),
                                      e >= l && (a = 'right')),
                                  null != o)
                                ) {
                                  if (
                                    ((r = t[c + 2]),
                                    s == l &&
                                      n == (r.insertLeft ? 'left' : 'right') &&
                                      (a = n),
                                    'left' == n && 0 == o)
                                  )
                                    for (
                                      ;
                                      c &&
                                      t[c - 2] == t[c - 3] &&
                                      t[c - 1].insertLeft;

                                    )
                                      (r = t[(c -= 3) + 2]), (a = 'left');
                                  if ('right' == n && o == l - s)
                                    for (
                                      ;
                                      c < t.length - 3 &&
                                      t[c + 3] == t[c + 4] &&
                                      !t[c + 5].insertLeft;

                                    )
                                      (r = t[(c += 3) + 2]), (a = 'right');
                                  break;
                                }
                              return {
                                node: r,
                                start: o,
                                end: i,
                                collapse: a,
                                coverStart: s,
                                coverEnd: l,
                              };
                            }

                            function zn(t, e) {
                              var n = Fn;
                              if ('left' == e)
                                for (
                                  var r = 0;
                                  r < t.length && (n = t[r]).left == n.right;
                                  r++
                                );
                              else
                                for (
                                  var o = t.length - 1;
                                  o >= 0 && (n = t[o]).left == n.right;
                                  o--
                                );
                              return n;
                            }

                            function Vn(t, e, n, r) {
                              var o,
                                i = Rn(e.map, n, r),
                                l = i.node,
                                c = i.start,
                                u = i.end,
                                p = i.collapse;
                              if (3 == l.nodeType) {
                                for (var d = 0; d < 4; d++) {
                                  for (
                                    ;
                                    c &&
                                    it(e.line.text.charAt(i.coverStart + c));

                                  )
                                    --c;
                                  for (
                                    ;
                                    i.coverStart + u < i.coverEnd &&
                                    it(e.line.text.charAt(i.coverStart + u));

                                  )
                                    ++u;
                                  if (
                                    (o =
                                      a &&
                                      s < 9 &&
                                      0 == c &&
                                      u == i.coverEnd - i.coverStart
                                        ? l.parentNode.getBoundingClientRect()
                                        : zn(k(l, c, u).getClientRects(), r))
                                      .left ||
                                    o.right ||
                                    0 == c
                                  )
                                    break;
                                  (u = c), (c -= 1), (p = 'right');
                                }
                                a &&
                                  s < 11 &&
                                  (o = (function (t, e) {
                                    if (
                                      !window.screen ||
                                      null == screen.logicalXDPI ||
                                      screen.logicalXDPI == screen.deviceXDPI ||
                                      !(function (t) {
                                        if (null != It) return It;
                                        var e = P(t, A('span', 'x')),
                                          n = e.getBoundingClientRect(),
                                          r = k(
                                            e,
                                            0,
                                            1
                                          ).getBoundingClientRect();
                                        return (It =
                                          Math.abs(n.left - r.left) > 1);
                                      })(t)
                                    )
                                      return e;
                                    var n =
                                        screen.logicalXDPI / screen.deviceXDPI,
                                      r =
                                        screen.logicalYDPI / screen.deviceYDPI;
                                    return {
                                      left: e.left * n,
                                      right: e.right * n,
                                      top: e.top * r,
                                      bottom: e.bottom * r,
                                    };
                                  })(t.display.measure, o));
                              } else {
                                var f;
                                c > 0 && (p = r = 'right'),
                                  (o =
                                    t.options.lineWrapping &&
                                    (f = l.getClientRects()).length > 1
                                      ? f['right' == r ? f.length - 1 : 0]
                                      : l.getBoundingClientRect());
                              }
                              if (
                                a &&
                                s < 9 &&
                                !c &&
                                (!o || (!o.left && !o.right))
                              ) {
                                var h = l.parentNode.getClientRects()[0];
                                o = h
                                  ? {
                                      left: h.left,
                                      right: h.left + sr(t.display),
                                      top: h.top,
                                      bottom: h.bottom,
                                    }
                                  : Fn;
                              }
                              for (
                                var g = o.top - e.rect.top,
                                  v = o.bottom - e.rect.top,
                                  m = (g + v) / 2,
                                  y = e.view.measure.heights,
                                  b = 0;
                                b < y.length - 1 && !(m < y[b]);
                                b++
                              );
                              var _ = b ? y[b - 1] : 0,
                                w = y[b],
                                x = {
                                  left:
                                    ('right' == p ? o.right : o.left) -
                                    e.rect.left,
                                  right:
                                    ('left' == p ? o.left : o.right) -
                                    e.rect.left,
                                  top: _,
                                  bottom: w,
                                };
                              return (
                                o.left || o.right || (x.bogus = !0),
                                t.options.singleCursorHeightPerLine ||
                                  ((x.rtop = g), (x.rbottom = v)),
                                x
                              );
                            }

                            function Bn(t) {
                              if (
                                t.measure &&
                                ((t.measure.cache = {}),
                                (t.measure.heights = null),
                                t.rest)
                              )
                                for (var e = 0; e < t.rest.length; e++)
                                  t.measure.caches[e] = {};
                            }

                            function Hn(t) {
                              (t.display.externalMeasure = null),
                                E(t.display.lineMeasure);
                              for (var e = 0; e < t.display.view.length; e++)
                                Bn(t.display.view[e]);
                            }

                            function Un(t) {
                              Hn(t),
                                (t.display.cachedCharWidth =
                                  t.display.cachedTextHeight =
                                  t.display.cachedPaddingH =
                                    null),
                                t.options.lineWrapping ||
                                  (t.display.maxLineChanged = !0),
                                (t.display.lineNumChars = null);
                            }

                            function Wn() {
                              return u && m
                                ? -(
                                    document.body.getBoundingClientRect().left -
                                    parseInt(
                                      getComputedStyle(document.body).marginLeft
                                    )
                                  )
                                : window.pageXOffset ||
                                    (document.documentElement || document.body)
                                      .scrollLeft;
                            }

                            function $n() {
                              return u && m
                                ? -(
                                    document.body.getBoundingClientRect().top -
                                    parseInt(
                                      getComputedStyle(document.body).marginTop
                                    )
                                  )
                                : window.pageYOffset ||
                                    (document.documentElement || document.body)
                                      .scrollTop;
                            }

                            function Gn(t) {
                              var e = Ve(t).widgets,
                                n = 0;
                              if (e)
                                for (var r = 0; r < e.length; ++r)
                                  e[r].above && (n += Cn(e[r]));
                              return n;
                            }

                            function qn(t, e, n, r, o) {
                              if (!o) {
                                var i = Gn(e);
                                (n.top += i), (n.bottom += i);
                              }
                              if ('line' == r) return n;
                              r || (r = 'local');
                              var a = $e(e);
                              if (
                                ('local' == r
                                  ? (a += On(t.display))
                                  : (a -= t.display.viewOffset),
                                'page' == r || 'window' == r)
                              ) {
                                var s =
                                  t.display.lineSpace.getBoundingClientRect();
                                a += s.top + ('window' == r ? 0 : $n());
                                var l = s.left + ('window' == r ? 0 : Wn());
                                (n.left += l), (n.right += l);
                              }
                              return (n.top += a), (n.bottom += a), n;
                            }

                            function Kn(t, e, n) {
                              if ('div' == n) return e;
                              var r = e.left,
                                o = e.top;
                              if ('page' == n) (r -= Wn()), (o -= $n());
                              else if ('local' == n || !n) {
                                var i = t.display.sizer.getBoundingClientRect();
                                (r += i.left), (o += i.top);
                              }
                              var a =
                                t.display.lineSpace.getBoundingClientRect();
                              return {
                                left: r - a.left,
                                top: o - a.top,
                              };
                            }

                            function Zn(t, e, n, r, o) {
                              return (
                                r || (r = Kt(t.doc, e.line)),
                                qn(t, r, Mn(t, r, e.ch, o), n)
                              );
                            }

                            function Yn(t, e, n, r, o, i) {
                              function a(e, a) {
                                var s = Nn(t, o, e, a ? 'right' : 'left', i);
                                return (
                                  a ? (s.left = s.right) : (s.right = s.left),
                                  qn(t, r, s, n)
                                );
                              }
                              (r = r || Kt(t.doc, e.line)), o || (o = Dn(t, r));
                              var s = pt(r, t.doc.direction),
                                l = e.ch,
                                c = e.sticky;
                              if (
                                (l >= r.text.length
                                  ? ((l = r.text.length), (c = 'before'))
                                  : l <= 0 && ((l = 0), (c = 'after')),
                                !s)
                              )
                                return a(
                                  'before' == c ? l - 1 : l,
                                  'before' == c
                                );

                              function u(t, e, n) {
                                return a(n ? t - 1 : t, (1 == s[e].level) != n);
                              }
                              var p = ct(s, l, c),
                                d = lt,
                                f = u(l, p, 'before' == c);
                              return (
                                null != d && (f.other = u(l, d, 'before' != c)),
                                f
                              );
                            }

                            function Xn(t, e) {
                              var n = 0;
                              (e = ce(t.doc, e)),
                                t.options.lineWrapping ||
                                  (n = sr(t.display) * e.ch);
                              var r = Kt(t.doc, e.line),
                                o = $e(r) + On(t.display);
                              return {
                                left: n,
                                right: n,
                                top: o,
                                bottom: o + r.height,
                              };
                            }

                            function Jn(t, e, n, r, o) {
                              var i = ne(t, e, n);
                              return (i.xRel = o), r && (i.outside = r), i;
                            }

                            function Qn(t, e, n) {
                              var r = t.doc;
                              if ((n += t.display.viewOffset) < 0)
                                return Jn(r.first, 0, null, -1, -1);
                              var o = Qt(r, n),
                                i = r.first + r.size - 1;
                              if (o > i)
                                return Jn(
                                  r.first + r.size - 1,
                                  Kt(r, i).text.length,
                                  null,
                                  1,
                                  1
                                );
                              e < 0 && (e = 0);
                              for (var a = Kt(r, o); ; ) {
                                var s = rr(t, a, o, e, n),
                                  l = Re(
                                    a,
                                    s.ch + (s.xRel > 0 || s.outside > 0 ? 1 : 0)
                                  );
                                if (!l) return s;
                                var c = l.find(1);
                                if (c.line == o) return c;
                                a = Kt(r, (o = c.line));
                              }
                            }

                            function tr(t, e, n, r) {
                              r -= Gn(e);
                              var o = e.text.length,
                                i = st(
                                  function (e) {
                                    return Nn(t, n, e - 1).bottom <= r;
                                  },
                                  o,
                                  0
                                );
                              return {
                                begin: i,
                                end: (o = st(
                                  function (e) {
                                    return Nn(t, n, e).top > r;
                                  },
                                  i,
                                  o
                                )),
                              };
                            }

                            function er(t, e, n, r) {
                              return (
                                n || (n = Dn(t, e)),
                                tr(t, e, n, qn(t, e, Nn(t, n, r), 'line').top)
                              );
                            }

                            function nr(t, e, n, r) {
                              return (
                                !(t.bottom <= n) &&
                                (t.top > n || (r ? t.left : t.right) > e)
                              );
                            }

                            function rr(t, e, n, r, o) {
                              o -= $e(e);
                              var i = Dn(t, e),
                                a = Gn(e),
                                s = 0,
                                l = e.text.length,
                                c = !0,
                                u = pt(e, t.doc.direction);
                              if (u) {
                                var p = (t.options.lineWrapping ? ir : or)(
                                  t,
                                  e,
                                  n,
                                  i,
                                  u,
                                  r,
                                  o
                                );
                                (s = (c = 1 != p.level) ? p.from : p.to - 1),
                                  (l = c ? p.to : p.from - 1);
                              }
                              var d,
                                f,
                                h = null,
                                g = null,
                                v = st(
                                  function (e) {
                                    var n = Nn(t, i, e);
                                    return (
                                      (n.top += a),
                                      (n.bottom += a),
                                      !!nr(n, r, o, !1) &&
                                        (n.top <= o &&
                                          n.left <= r &&
                                          ((h = e), (g = n)),
                                        !0)
                                    );
                                  },
                                  s,
                                  l
                                ),
                                m = !1;
                              if (g) {
                                var y = r - g.left < g.right - r,
                                  b = y == c;
                                (v = h + (b ? 0 : 1)),
                                  (f = b ? 'after' : 'before'),
                                  (d = y ? g.left : g.right);
                              } else {
                                c || (v != l && v != s) || v++,
                                  (f =
                                    0 == v
                                      ? 'after'
                                      : v == e.text.length
                                      ? 'before'
                                      : Nn(t, i, v - (c ? 1 : 0)).bottom + a <=
                                          o ==
                                        c
                                      ? 'after'
                                      : 'before');
                                var _ = Yn(t, ne(n, v, f), 'line', e, i);
                                (d = _.left),
                                  (m = o < _.top ? -1 : o >= _.bottom ? 1 : 0);
                              }
                              return Jn(n, (v = at(e.text, v, 1)), f, m, r - d);
                            }

                            function or(t, e, n, r, o, i, a) {
                              var s = st(
                                  function (s) {
                                    var l = o[s],
                                      c = 1 != l.level;
                                    return nr(
                                      Yn(
                                        t,
                                        ne(
                                          n,
                                          c ? l.to : l.from,
                                          c ? 'before' : 'after'
                                        ),
                                        'line',
                                        e,
                                        r
                                      ),
                                      i,
                                      a,
                                      !0
                                    );
                                  },
                                  0,
                                  o.length - 1
                                ),
                                l = o[s];
                              if (s > 0) {
                                var c = 1 != l.level,
                                  u = Yn(
                                    t,
                                    ne(
                                      n,
                                      c ? l.from : l.to,
                                      c ? 'after' : 'before'
                                    ),
                                    'line',
                                    e,
                                    r
                                  );
                                nr(u, i, a, !0) && u.top > a && (l = o[s - 1]);
                              }
                              return l;
                            }

                            function ir(t, e, n, r, o, i, a) {
                              var s = tr(t, e, r, a),
                                l = s.begin,
                                c = s.end;
                              /\s/.test(e.text.charAt(c - 1)) && c--;
                              for (
                                var u = null, p = null, d = 0;
                                d < o.length;
                                d++
                              ) {
                                var f = o[d];
                                if (!(f.from >= c || f.to <= l)) {
                                  var h = Nn(
                                      t,
                                      r,
                                      1 != f.level
                                        ? Math.min(c, f.to) - 1
                                        : Math.max(l, f.from)
                                    ).right,
                                    g = h < i ? i - h + 1e9 : h - i;
                                  (!u || p > g) && ((u = f), (p = g));
                                }
                              }
                              return (
                                u || (u = o[o.length - 1]),
                                u.from < l &&
                                  (u = {
                                    from: l,
                                    to: u.to,
                                    level: u.level,
                                  }),
                                u.to > c &&
                                  (u = {
                                    from: u.from,
                                    to: c,
                                    level: u.level,
                                  }),
                                u
                              );
                            }

                            function ar(t) {
                              if (null != t.cachedTextHeight)
                                return t.cachedTextHeight;
                              if (null == In) {
                                In = A('pre', null, 'CodeMirror-line-like');
                                for (var e = 0; e < 49; ++e)
                                  In.appendChild(document.createTextNode('x')),
                                    In.appendChild(A('br'));
                                In.appendChild(document.createTextNode('x'));
                              }
                              P(t.measure, In);
                              var n = In.offsetHeight / 50;
                              return (
                                n > 3 && (t.cachedTextHeight = n),
                                E(t.measure),
                                n || 1
                              );
                            }

                            function sr(t) {
                              if (null != t.cachedCharWidth)
                                return t.cachedCharWidth;
                              var e = A('span', 'xxxxxxxxxx'),
                                n = A('pre', [e], 'CodeMirror-line-like');
                              P(t.measure, n);
                              var r = e.getBoundingClientRect(),
                                o = (r.right - r.left) / 10;
                              return o > 2 && (t.cachedCharWidth = o), o || 10;
                            }

                            function lr(t) {
                              for (
                                var e = t.display,
                                  n = {},
                                  r = {},
                                  o = e.gutters.clientLeft,
                                  i = e.gutters.firstChild,
                                  a = 0;
                                i;
                                i = i.nextSibling, ++a
                              ) {
                                var s = t.display.gutterSpecs[a].className;
                                (n[s] = i.offsetLeft + i.clientLeft + o),
                                  (r[s] = i.clientWidth);
                              }
                              return {
                                fixedPos: cr(e),
                                gutterTotalWidth: e.gutters.offsetWidth,
                                gutterLeft: n,
                                gutterWidth: r,
                                wrapperWidth: e.wrapper.clientWidth,
                              };
                            }

                            function cr(t) {
                              return (
                                t.scroller.getBoundingClientRect().left -
                                t.sizer.getBoundingClientRect().left
                              );
                            }

                            function ur(t) {
                              var e = ar(t.display),
                                n = t.options.lineWrapping,
                                r =
                                  n &&
                                  Math.max(
                                    5,
                                    t.display.scroller.clientWidth /
                                      sr(t.display) -
                                      3
                                  );
                              return function (o) {
                                if (Ue(t.doc, o)) return 0;
                                var i = 0;
                                if (o.widgets)
                                  for (var a = 0; a < o.widgets.length; a++)
                                    o.widgets[a].height &&
                                      (i += o.widgets[a].height);
                                return n
                                  ? i + (Math.ceil(o.text.length / r) || 1) * e
                                  : i + e;
                              };
                            }

                            function pr(t) {
                              var e = t.doc,
                                n = ur(t);
                              e.iter(function (t) {
                                var e = n(t);
                                e != t.height && Xt(t, e);
                              });
                            }

                            function dr(t, e, n, r) {
                              var o = t.display;
                              if (
                                !n &&
                                'true' == Ot(e).getAttribute('cm-not-content')
                              )
                                return null;
                              var i,
                                a,
                                s = o.lineSpace.getBoundingClientRect();
                              try {
                                (i = e.clientX - s.left),
                                  (a = e.clientY - s.top);
                              } catch (t) {
                                return null;
                              }
                              var l,
                                c = Qn(t, i, a);
                              if (
                                r &&
                                c.xRel > 0 &&
                                (l = Kt(t.doc, c.line).text).length == c.ch
                              ) {
                                var u =
                                  z(l, l.length, t.options.tabSize) - l.length;
                                c = ne(
                                  c.line,
                                  Math.max(
                                    0,
                                    Math.round(
                                      (i - Tn(t.display).left) / sr(t.display)
                                    ) - u
                                  )
                                );
                              }
                              return c;
                            }

                            function fr(t, e) {
                              if (e >= t.display.viewTo) return null;
                              if ((e -= t.display.viewFrom) < 0) return null;
                              for (
                                var n = t.display.view, r = 0;
                                r < n.length;
                                r++
                              )
                                if ((e -= n[r].size) < 0) return r;
                            }

                            function hr(t, e, n, r) {
                              null == e && (e = t.doc.first),
                                null == n && (n = t.doc.first + t.doc.size),
                                r || (r = 0);
                              var o = t.display;
                              if (
                                (r &&
                                  n < o.viewTo &&
                                  (null == o.updateLineNumbers ||
                                    o.updateLineNumbers > e) &&
                                  (o.updateLineNumbers = e),
                                (t.curOp.viewChanged = !0),
                                e >= o.viewTo)
                              )
                                Se && Be(t.doc, e) < o.viewTo && vr(t);
                              else if (n <= o.viewFrom)
                                Se && He(t.doc, n + r) > o.viewFrom
                                  ? vr(t)
                                  : ((o.viewFrom += r), (o.viewTo += r));
                              else if (e <= o.viewFrom && n >= o.viewTo) vr(t);
                              else if (e <= o.viewFrom) {
                                var i = mr(t, n, n + r, 1);
                                i
                                  ? ((o.view = o.view.slice(i.index)),
                                    (o.viewFrom = i.lineN),
                                    (o.viewTo += r))
                                  : vr(t);
                              } else if (n >= o.viewTo) {
                                var a = mr(t, e, e, -1);
                                a
                                  ? ((o.view = o.view.slice(0, a.index)),
                                    (o.viewTo = a.lineN))
                                  : vr(t);
                              } else {
                                var s = mr(t, e, e, -1),
                                  l = mr(t, n, n + r, 1);
                                s && l
                                  ? ((o.view = o.view
                                      .slice(0, s.index)
                                      .concat(sn(t, s.lineN, l.lineN))
                                      .concat(o.view.slice(l.index))),
                                    (o.viewTo += r))
                                  : vr(t);
                              }
                              var c = o.externalMeasured;
                              c &&
                                (n < c.lineN
                                  ? (c.lineN += r)
                                  : e < c.lineN + c.size &&
                                    (o.externalMeasured = null));
                            }

                            function gr(t, e, n) {
                              t.curOp.viewChanged = !0;
                              var r = t.display,
                                o = t.display.externalMeasured;
                              if (
                                (o &&
                                  e >= o.lineN &&
                                  e < o.lineN + o.size &&
                                  (r.externalMeasured = null),
                                !(e < r.viewFrom || e >= r.viewTo))
                              ) {
                                var i = r.view[fr(t, e)];
                                if (null != i.node) {
                                  var a = i.changes || (i.changes = []);
                                  -1 == B(a, n) && a.push(n);
                                }
                              }
                            }

                            function vr(t) {
                              (t.display.viewFrom = t.display.viewTo =
                                t.doc.first),
                                (t.display.view = []),
                                (t.display.viewOffset = 0);
                            }

                            function mr(t, e, n, r) {
                              var o,
                                i = fr(t, e),
                                a = t.display.view;
                              if (!Se || n == t.doc.first + t.doc.size)
                                return {
                                  index: i,
                                  lineN: n,
                                };
                              for (
                                var s = t.display.viewFrom, l = 0;
                                l < i;
                                l++
                              )
                                s += a[l].size;
                              if (s != e) {
                                if (r > 0) {
                                  if (i == a.length - 1) return null;
                                  (o = s + a[i].size - e), i++;
                                } else o = s - e;
                                (e += o), (n += o);
                              }
                              for (; Be(t.doc, n) != n; ) {
                                if (i == (r < 0 ? 0 : a.length - 1))
                                  return null;
                                (n += r * a[i - (r < 0 ? 1 : 0)].size),
                                  (i += r);
                              }
                              return {
                                index: i,
                                lineN: n,
                              };
                            }

                            function yr(t) {
                              for (
                                var e = t.display.view, n = 0, r = 0;
                                r < e.length;
                                r++
                              ) {
                                var o = e[r];
                                o.hidden || (o.node && !o.changes) || ++n;
                              }
                              return n;
                            }

                            function br(t) {
                              t.display.input.showSelection(
                                t.display.input.prepareSelection()
                              );
                            }

                            function _r(t, e) {
                              void 0 === e && (e = !0);
                              var n = t.doc,
                                r = {},
                                o = (r.cursors =
                                  document.createDocumentFragment()),
                                i = (r.selection =
                                  document.createDocumentFragment()),
                                a = t.options.$customCursor;
                              a && (e = !0);
                              for (var s = 0; s < n.sel.ranges.length; s++)
                                if (e || s != n.sel.primIndex) {
                                  var l = n.sel.ranges[s];
                                  if (
                                    !(
                                      l.from().line >= t.display.viewTo ||
                                      l.to().line < t.display.viewFrom
                                    )
                                  ) {
                                    var c = l.empty();
                                    if (a) {
                                      var u = a(t, l);
                                      u && wr(t, u, o);
                                    } else
                                      (c ||
                                        t.options.showCursorWhenSelecting) &&
                                        wr(t, l.head, o);
                                    c || Cr(t, l, i);
                                  }
                                }
                              return r;
                            }

                            function wr(t, e, n) {
                              var r = Yn(
                                  t,
                                  e,
                                  'div',
                                  null,
                                  null,
                                  !t.options.singleCursorHeightPerLine
                                ),
                                o = n.appendChild(
                                  A('div', ' ', 'CodeMirror-cursor')
                                );
                              if (
                                ((o.style.left = r.left + 'px'),
                                (o.style.top = r.top + 'px'),
                                (o.style.height =
                                  Math.max(0, r.bottom - r.top) *
                                    t.options.cursorHeight +
                                  'px'),
                                /\bcm-fat-cursor\b/.test(
                                  t.getWrapperElement().className
                                ))
                              ) {
                                var i = Zn(t, e, 'div', null, null),
                                  a = i.right - i.left;
                                o.style.width =
                                  (a > 0 ? a : t.defaultCharWidth()) + 'px';
                              }
                              if (r.other) {
                                var s = n.appendChild(
                                  A(
                                    'div',
                                    ' ',
                                    'CodeMirror-cursor CodeMirror-secondarycursor'
                                  )
                                );
                                (s.style.display = ''),
                                  (s.style.left = r.other.left + 'px'),
                                  (s.style.top = r.other.top + 'px'),
                                  (s.style.height =
                                    0.85 * (r.other.bottom - r.other.top) +
                                    'px');
                              }
                            }

                            function xr(t, e) {
                              return t.top - e.top || t.left - e.left;
                            }

                            function Cr(t, e, n) {
                              var r = t.display,
                                o = t.doc,
                                i = document.createDocumentFragment(),
                                a = Tn(t.display),
                                s = a.left,
                                l =
                                  Math.max(
                                    r.sizerWidth,
                                    Pn(t) - r.sizer.offsetLeft
                                  ) - a.right,
                                c = 'ltr' == o.direction;

                              function u(t, e, n, r) {
                                e < 0 && (e = 0),
                                  (e = Math.round(e)),
                                  (r = Math.round(r)),
                                  i.appendChild(
                                    A(
                                      'div',
                                      null,
                                      'CodeMirror-selected',
                                      'position: absolute; left: ' +
                                        t +
                                        'px;\n                             top: ' +
                                        e +
                                        'px; width: ' +
                                        (null == n ? l - t : n) +
                                        'px;\n                             height: ' +
                                        (r - e) +
                                        'px'
                                    )
                                  );
                              }

                              function p(e, n, r) {
                                var i,
                                  a,
                                  p = Kt(o, e),
                                  d = p.text.length;

                                function f(n, r) {
                                  return Zn(t, ne(e, n), 'div', p, r);
                                }

                                function h(e, n, r) {
                                  var o = er(t, p, null, e),
                                    i =
                                      ('ltr' == n) == ('after' == r)
                                        ? 'left'
                                        : 'right';
                                  return f(
                                    'after' == r
                                      ? o.begin
                                      : o.end -
                                          (/\s/.test(p.text.charAt(o.end - 1))
                                            ? 2
                                            : 1),
                                    i
                                  )[i];
                                }
                                var g = pt(p, o.direction);
                                return (
                                  (function (t, e, n, r) {
                                    if (!t) return r(e, n, 'ltr', 0);
                                    for (var o = !1, i = 0; i < t.length; ++i) {
                                      var a = t[i];
                                      ((a.from < n && a.to > e) ||
                                        (e == n && a.to == e)) &&
                                        (r(
                                          Math.max(a.from, e),
                                          Math.min(a.to, n),
                                          1 == a.level ? 'rtl' : 'ltr',
                                          i
                                        ),
                                        (o = !0));
                                    }
                                    o || r(e, n, 'ltr');
                                  })(
                                    g,
                                    n || 0,
                                    null == r ? d : r,
                                    function (t, e, o, p) {
                                      var v = 'ltr' == o,
                                        m = f(t, v ? 'left' : 'right'),
                                        y = f(e - 1, v ? 'right' : 'left'),
                                        b = null == n && 0 == t,
                                        _ = null == r && e == d,
                                        w = 0 == p,
                                        x = !g || p == g.length - 1;
                                      if (y.top - m.top <= 3) {
                                        var C = (c ? _ : b) && x,
                                          S =
                                            (c ? b : _) && w
                                              ? s
                                              : (v ? m : y).left,
                                          O = C ? l : (v ? y : m).right;
                                        u(S, m.top, O - S, m.bottom);
                                      } else {
                                        var k, T, E, P;
                                        v
                                          ? ((k = c && b && w ? s : m.left),
                                            (T = c ? l : h(t, o, 'before')),
                                            (E = c ? s : h(e, o, 'after')),
                                            (P = c && _ && x ? l : y.right))
                                          : ((k = c ? h(t, o, 'before') : s),
                                            (T = !c && b && w ? l : m.right),
                                            (E = !c && _ && x ? s : y.left),
                                            (P = c ? h(e, o, 'after') : l)),
                                          u(k, m.top, T - k, m.bottom),
                                          m.bottom < y.top &&
                                            u(s, m.bottom, null, y.top),
                                          u(E, y.top, P - E, y.bottom);
                                      }
                                      (!i || xr(m, i) < 0) && (i = m),
                                        xr(y, i) < 0 && (i = y),
                                        (!a || xr(m, a) < 0) && (a = m),
                                        xr(y, a) < 0 && (a = y);
                                    }
                                  ),
                                  {
                                    start: i,
                                    end: a,
                                  }
                                );
                              }
                              var d = e.from(),
                                f = e.to();
                              if (d.line == f.line) p(d.line, d.ch, f.ch);
                              else {
                                var h = Kt(o, d.line),
                                  g = Kt(o, f.line),
                                  v = Ve(h) == Ve(g),
                                  m = p(
                                    d.line,
                                    d.ch,
                                    v ? h.text.length + 1 : null
                                  ).end,
                                  y = p(f.line, v ? 0 : null, f.ch).start;
                                v &&
                                  (m.top < y.top - 2
                                    ? (u(m.right, m.top, null, m.bottom),
                                      u(s, y.top, y.left, y.bottom))
                                    : u(
                                        m.right,
                                        m.top,
                                        y.left - m.right,
                                        m.bottom
                                      )),
                                  m.bottom < y.top &&
                                    u(s, m.bottom, null, y.top);
                              }
                              n.appendChild(i);
                            }

                            function Sr(t) {
                              if (t.state.focused) {
                                var e = t.display;
                                clearInterval(e.blinker);
                                var n = !0;
                                (e.cursorDiv.style.visibility = ''),
                                  t.options.cursorBlinkRate > 0
                                    ? (e.blinker = setInterval(function () {
                                        t.hasFocus() || Er(t),
                                          (e.cursorDiv.style.visibility = (n =
                                            !n)
                                            ? ''
                                            : 'hidden');
                                      }, t.options.cursorBlinkRate))
                                    : t.options.cursorBlinkRate < 0 &&
                                      (e.cursorDiv.style.visibility = 'hidden');
                              }
                            }

                            function Or(t) {
                              t.hasFocus() ||
                                (t.display.input.focus(),
                                t.state.focused || Tr(t));
                            }

                            function kr(t) {
                              (t.state.delayingBlurEvent = !0),
                                setTimeout(function () {
                                  t.state.delayingBlurEvent &&
                                    ((t.state.delayingBlurEvent = !1),
                                    t.state.focused && Er(t));
                                }, 100);
                            }

                            function Tr(t, e) {
                              t.state.delayingBlurEvent &&
                                !t.state.draggingText &&
                                (t.state.delayingBlurEvent = !1),
                                'nocursor' != t.options.readOnly &&
                                  (t.state.focused ||
                                    (vt(t, 'focus', t, e),
                                    (t.state.focused = !0),
                                    D(t.display.wrapper, 'CodeMirror-focused'),
                                    t.curOp ||
                                      t.display.selForContextMenu ==
                                        t.doc.sel ||
                                      (t.display.input.reset(),
                                      l &&
                                        setTimeout(function () {
                                          return t.display.input.reset(!0);
                                        }, 20)),
                                    t.display.input.receivedFocus()),
                                  Sr(t));
                            }

                            function Er(t, e) {
                              t.state.delayingBlurEvent ||
                                (t.state.focused &&
                                  (vt(t, 'blur', t, e),
                                  (t.state.focused = !1),
                                  T(t.display.wrapper, 'CodeMirror-focused')),
                                clearInterval(t.display.blinker),
                                setTimeout(function () {
                                  t.state.focused || (t.display.shift = !1);
                                }, 150));
                            }

                            function Pr(t) {
                              for (
                                var e = t.display,
                                  n = e.lineDiv.offsetTop,
                                  r = Math.max(
                                    0,
                                    e.scroller.getBoundingClientRect().top
                                  ),
                                  o = e.lineDiv.getBoundingClientRect().top,
                                  i = 0,
                                  l = 0;
                                l < e.view.length;
                                l++
                              ) {
                                var c = e.view[l],
                                  u = t.options.lineWrapping,
                                  p = void 0,
                                  d = 0;
                                if (!c.hidden) {
                                  if (((o += c.line.height), a && s < 8)) {
                                    var f =
                                      c.node.offsetTop + c.node.offsetHeight;
                                    (p = f - n), (n = f);
                                  } else {
                                    var h = c.node.getBoundingClientRect();
                                    (p = h.bottom - h.top),
                                      !u &&
                                        c.text.firstChild &&
                                        (d =
                                          c.text.firstChild.getBoundingClientRect()
                                            .right -
                                          h.left -
                                          1);
                                  }
                                  var g = c.line.height - p;
                                  if (
                                    (g > 0.005 || g < -0.005) &&
                                    (o < r && (i -= g),
                                    Xt(c.line, p),
                                    Ar(c.line),
                                    c.rest)
                                  )
                                    for (var v = 0; v < c.rest.length; v++)
                                      Ar(c.rest[v]);
                                  if (d > t.display.sizerWidth) {
                                    var m = Math.ceil(d / sr(t.display));
                                    m > t.display.maxLineLength &&
                                      ((t.display.maxLineLength = m),
                                      (t.display.maxLine = c.line),
                                      (t.display.maxLineChanged = !0));
                                  }
                                }
                              }
                              Math.abs(i) > 2 && (e.scroller.scrollTop += i);
                            }

                            function Ar(t) {
                              if (t.widgets)
                                for (var e = 0; e < t.widgets.length; ++e) {
                                  var n = t.widgets[e],
                                    r = n.node.parentNode;
                                  r && (n.height = r.offsetHeight);
                                }
                            }

                            function jr(t, e, n) {
                              var r =
                                n && null != n.top
                                  ? Math.max(0, n.top)
                                  : t.scroller.scrollTop;
                              r = Math.floor(r - On(t));
                              var o =
                                  n && null != n.bottom
                                    ? n.bottom
                                    : r + t.wrapper.clientHeight,
                                i = Qt(e, r),
                                a = Qt(e, o);
                              if (n && n.ensure) {
                                var s = n.ensure.from.line,
                                  l = n.ensure.to.line;
                                s < i
                                  ? ((i = s),
                                    (a = Qt(
                                      e,
                                      $e(Kt(e, s)) + t.wrapper.clientHeight
                                    )))
                                  : Math.min(l, e.lastLine()) >= a &&
                                    ((i = Qt(
                                      e,
                                      $e(Kt(e, l)) - t.wrapper.clientHeight
                                    )),
                                    (a = l));
                              }
                              return {
                                from: i,
                                to: Math.max(a, i + 1),
                              };
                            }

                            function Mr(t, e) {
                              var n = t.display,
                                r = ar(t.display);
                              e.top < 0 && (e.top = 0);
                              var o =
                                  t.curOp && null != t.curOp.scrollTop
                                    ? t.curOp.scrollTop
                                    : n.scroller.scrollTop,
                                i = An(t),
                                a = {};
                              e.bottom - e.top > i && (e.bottom = e.top + i);
                              var s = t.doc.height + kn(n),
                                l = e.top < r,
                                c = e.bottom > s - r;
                              if (e.top < o) a.scrollTop = l ? 0 : e.top;
                              else if (e.bottom > o + i) {
                                var u = Math.min(e.top, (c ? s : e.bottom) - i);
                                u != o && (a.scrollTop = u);
                              }
                              var p = t.options.fixedGutter
                                  ? 0
                                  : n.gutters.offsetWidth,
                                d =
                                  t.curOp && null != t.curOp.scrollLeft
                                    ? t.curOp.scrollLeft
                                    : n.scroller.scrollLeft - p,
                                f = Pn(t) - n.gutters.offsetWidth,
                                h = e.right - e.left > f;
                              return (
                                h && (e.right = e.left + f),
                                e.left < 10
                                  ? (a.scrollLeft = 0)
                                  : e.left < d
                                  ? (a.scrollLeft = Math.max(
                                      0,
                                      e.left + p - (h ? 0 : 10)
                                    ))
                                  : e.right > f + d - 3 &&
                                    (a.scrollLeft = e.right + (h ? 0 : 10) - f),
                                a
                              );
                            }

                            function Lr(t, e) {
                              null != e &&
                                (Ir(t),
                                (t.curOp.scrollTop =
                                  (null == t.curOp.scrollTop
                                    ? t.doc.scrollTop
                                    : t.curOp.scrollTop) + e));
                            }

                            function Dr(t) {
                              Ir(t);
                              var e = t.getCursor();
                              t.curOp.scrollToPos = {
                                from: e,
                                to: e,
                                margin: t.options.cursorScrollMargin,
                              };
                            }

                            function Nr(t, e, n) {
                              (null == e && null == n) || Ir(t),
                                null != e && (t.curOp.scrollLeft = e),
                                null != n && (t.curOp.scrollTop = n);
                            }

                            function Ir(t) {
                              var e = t.curOp.scrollToPos;
                              e &&
                                ((t.curOp.scrollToPos = null),
                                Fr(t, Xn(t, e.from), Xn(t, e.to), e.margin));
                            }

                            function Fr(t, e, n, r) {
                              var o = Mr(t, {
                                left: Math.min(e.left, n.left),
                                top: Math.min(e.top, n.top) - r,
                                right: Math.max(e.right, n.right),
                                bottom: Math.max(e.bottom, n.bottom) + r,
                              });
                              Nr(t, o.scrollLeft, o.scrollTop);
                            }

                            function Rr(t, e) {
                              Math.abs(t.doc.scrollTop - e) < 2 ||
                                (n ||
                                  po(t, {
                                    top: e,
                                  }),
                                zr(t, e, !0),
                                n && po(t),
                                ao(t, 100));
                            }

                            function zr(t, e, n) {
                              (e = Math.max(
                                0,
                                Math.min(
                                  t.display.scroller.scrollHeight -
                                    t.display.scroller.clientHeight,
                                  e
                                )
                              )),
                                (t.display.scroller.scrollTop != e || n) &&
                                  ((t.doc.scrollTop = e),
                                  t.display.scrollbars.setScrollTop(e),
                                  t.display.scroller.scrollTop != e &&
                                    (t.display.scroller.scrollTop = e));
                            }

                            function Vr(t, e, n, r) {
                              (e = Math.max(
                                0,
                                Math.min(
                                  e,
                                  t.display.scroller.scrollWidth -
                                    t.display.scroller.clientWidth
                                )
                              )),
                                ((n
                                  ? e == t.doc.scrollLeft
                                  : Math.abs(t.doc.scrollLeft - e) < 2) &&
                                  !r) ||
                                  ((t.doc.scrollLeft = e),
                                  vo(t),
                                  t.display.scroller.scrollLeft != e &&
                                    (t.display.scroller.scrollLeft = e),
                                  t.display.scrollbars.setScrollLeft(e));
                            }

                            function Br(t) {
                              var e = t.display,
                                n = e.gutters.offsetWidth,
                                r = Math.round(t.doc.height + kn(t.display));
                              return {
                                clientHeight: e.scroller.clientHeight,
                                viewHeight: e.wrapper.clientHeight,
                                scrollWidth: e.scroller.scrollWidth,
                                clientWidth: e.scroller.clientWidth,
                                viewWidth: e.wrapper.clientWidth,
                                barLeft: t.options.fixedGutter ? n : 0,
                                docHeight: r,
                                scrollHeight: r + En(t) + e.barHeight,
                                nativeBarWidth: e.nativeBarWidth,
                                gutterWidth: n,
                              };
                            }
                            var Hr = function (t, e, n) {
                              this.cm = n;
                              var r = (this.vert = A(
                                  'div',
                                  [A('div', null, null, 'min-width: 1px')],
                                  'CodeMirror-vscrollbar'
                                )),
                                o = (this.horiz = A(
                                  'div',
                                  [
                                    A(
                                      'div',
                                      null,
                                      null,
                                      'height: 100%; min-height: 1px'
                                    ),
                                  ],
                                  'CodeMirror-hscrollbar'
                                ));
                              (r.tabIndex = o.tabIndex = -1),
                                t(r),
                                t(o),
                                ft(r, 'scroll', function () {
                                  r.clientHeight && e(r.scrollTop, 'vertical');
                                }),
                                ft(o, 'scroll', function () {
                                  o.clientWidth &&
                                    e(o.scrollLeft, 'horizontal');
                                }),
                                (this.checkedZeroWidth = !1),
                                a &&
                                  s < 8 &&
                                  (this.horiz.style.minHeight =
                                    this.vert.style.minWidth =
                                      '18px');
                            };
                            (Hr.prototype.update = function (t) {
                              var e = t.scrollWidth > t.clientWidth + 1,
                                n = t.scrollHeight > t.clientHeight + 1,
                                r = t.nativeBarWidth;
                              if (n) {
                                (this.vert.style.display = 'block'),
                                  (this.vert.style.bottom = e ? r + 'px' : '0');
                                var o = t.viewHeight - (e ? r : 0);
                                this.vert.firstChild.style.height =
                                  Math.max(
                                    0,
                                    t.scrollHeight - t.clientHeight + o
                                  ) + 'px';
                              } else
                                (this.vert.scrollTop = 0),
                                  (this.vert.style.display = ''),
                                  (this.vert.firstChild.style.height = '0');
                              if (e) {
                                (this.horiz.style.display = 'block'),
                                  (this.horiz.style.right = n ? r + 'px' : '0'),
                                  (this.horiz.style.left = t.barLeft + 'px');
                                var i = t.viewWidth - t.barLeft - (n ? r : 0);
                                this.horiz.firstChild.style.width =
                                  Math.max(
                                    0,
                                    t.scrollWidth - t.clientWidth + i
                                  ) + 'px';
                              } else
                                (this.horiz.style.display = ''),
                                  (this.horiz.firstChild.style.width = '0');
                              return (
                                !this.checkedZeroWidth &&
                                  t.clientHeight > 0 &&
                                  (0 == r && this.zeroWidthHack(),
                                  (this.checkedZeroWidth = !0)),
                                {
                                  right: n ? r : 0,
                                  bottom: e ? r : 0,
                                }
                              );
                            }),
                              (Hr.prototype.setScrollLeft = function (t) {
                                this.horiz.scrollLeft != t &&
                                  (this.horiz.scrollLeft = t),
                                  this.disableHoriz &&
                                    this.enableZeroWidthBar(
                                      this.horiz,
                                      this.disableHoriz,
                                      'horiz'
                                    );
                              }),
                              (Hr.prototype.setScrollTop = function (t) {
                                this.vert.scrollTop != t &&
                                  (this.vert.scrollTop = t),
                                  this.disableVert &&
                                    this.enableZeroWidthBar(
                                      this.vert,
                                      this.disableVert,
                                      'vert'
                                    );
                              }),
                              (Hr.prototype.zeroWidthHack = function () {
                                var t = b && !h ? '12px' : '18px';
                                (this.horiz.style.height =
                                  this.vert.style.width =
                                    t),
                                  (this.horiz.style.visibility =
                                    this.vert.style.visibility =
                                      'hidden'),
                                  (this.disableHoriz = new V()),
                                  (this.disableVert = new V());
                              }),
                              (Hr.prototype.enableZeroWidthBar = function (
                                t,
                                e,
                                n
                              ) {
                                (t.style.visibility = ''),
                                  e.set(1e3, function r() {
                                    var o = t.getBoundingClientRect();
                                    ('vert' == n
                                      ? document.elementFromPoint(
                                          o.right - 1,
                                          (o.top + o.bottom) / 2
                                        )
                                      : document.elementFromPoint(
                                          (o.right + o.left) / 2,
                                          o.bottom - 1
                                        )) != t
                                      ? (t.style.visibility = 'hidden')
                                      : e.set(1e3, r);
                                  });
                              }),
                              (Hr.prototype.clear = function () {
                                var t = this.horiz.parentNode;
                                t.removeChild(this.horiz),
                                  t.removeChild(this.vert);
                              });
                            var Ur = function () {};

                            function Wr(t, e) {
                              e || (e = Br(t));
                              var n = t.display.barWidth,
                                r = t.display.barHeight;
                              $r(t, e);
                              for (
                                var o = 0;
                                (o < 4 && n != t.display.barWidth) ||
                                r != t.display.barHeight;
                                o++
                              )
                                n != t.display.barWidth &&
                                  t.options.lineWrapping &&
                                  Pr(t),
                                  $r(t, Br(t)),
                                  (n = t.display.barWidth),
                                  (r = t.display.barHeight);
                            }

                            function $r(t, e) {
                              var n = t.display,
                                r = n.scrollbars.update(e);
                              (n.sizer.style.paddingRight =
                                (n.barWidth = r.right) + 'px'),
                                (n.sizer.style.paddingBottom =
                                  (n.barHeight = r.bottom) + 'px'),
                                (n.heightForcer.style.borderBottom =
                                  r.bottom + 'px solid transparent'),
                                r.right && r.bottom
                                  ? ((n.scrollbarFiller.style.display =
                                      'block'),
                                    (n.scrollbarFiller.style.height =
                                      r.bottom + 'px'),
                                    (n.scrollbarFiller.style.width =
                                      r.right + 'px'))
                                  : (n.scrollbarFiller.style.display = ''),
                                r.bottom &&
                                t.options.coverGutterNextToScrollbar &&
                                t.options.fixedGutter
                                  ? ((n.gutterFiller.style.display = 'block'),
                                    (n.gutterFiller.style.height =
                                      r.bottom + 'px'),
                                    (n.gutterFiller.style.width =
                                      e.gutterWidth + 'px'))
                                  : (n.gutterFiller.style.display = '');
                            }
                            (Ur.prototype.update = function () {
                              return {
                                bottom: 0,
                                right: 0,
                              };
                            }),
                              (Ur.prototype.setScrollLeft = function () {}),
                              (Ur.prototype.setScrollTop = function () {}),
                              (Ur.prototype.clear = function () {});
                            var Gr = {
                              native: Hr,
                              null: Ur,
                            };

                            function qr(t) {
                              t.display.scrollbars &&
                                (t.display.scrollbars.clear(),
                                t.display.scrollbars.addClass &&
                                  T(
                                    t.display.wrapper,
                                    t.display.scrollbars.addClass
                                  )),
                                (t.display.scrollbars = new Gr[
                                  t.options.scrollbarStyle
                                ](
                                  function (e) {
                                    t.display.wrapper.insertBefore(
                                      e,
                                      t.display.scrollbarFiller
                                    ),
                                      ft(e, 'mousedown', function () {
                                        t.state.focused &&
                                          setTimeout(function () {
                                            return t.display.input.focus();
                                          }, 0);
                                      }),
                                      e.setAttribute('cm-not-content', 'true');
                                  },
                                  function (e, n) {
                                    'horizontal' == n ? Vr(t, e) : Rr(t, e);
                                  },
                                  t
                                )),
                                t.display.scrollbars.addClass &&
                                  D(
                                    t.display.wrapper,
                                    t.display.scrollbars.addClass
                                  );
                            }
                            var Kr = 0;

                            function Zr(t) {
                              (t.curOp = {
                                cm: t,
                                viewChanged: !1,
                                startHeight: t.doc.height,
                                forceUpdate: !1,
                                updateInput: 0,
                                typing: !1,
                                changeObjs: null,
                                cursorActivityHandlers: null,
                                cursorActivityCalled: 0,
                                selectionChanged: !1,
                                updateMaxLine: !1,
                                scrollLeft: null,
                                scrollTop: null,
                                scrollToPos: null,
                                focus: !1,
                                id: ++Kr,
                                markArrays: null,
                              }),
                                (function (t) {
                                  ln
                                    ? ln.ops.push(t)
                                    : (t.ownsGroup = ln =
                                        {
                                          ops: [t],
                                          delayedCallbacks: [],
                                        });
                                })(t.curOp);
                            }

                            function Yr(t) {
                              var e = t.curOp;
                              e &&
                                (function (t, e) {
                                  var n = t.ownsGroup;
                                  if (n)
                                    try {
                                      !(function (t) {
                                        var e = t.delayedCallbacks,
                                          n = 0;
                                        do {
                                          for (; n < e.length; n++)
                                            e[n].call(null);
                                          for (
                                            var r = 0;
                                            r < t.ops.length;
                                            r++
                                          ) {
                                            var o = t.ops[r];
                                            if (o.cursorActivityHandlers)
                                              for (
                                                ;
                                                o.cursorActivityCalled <
                                                o.cursorActivityHandlers.length;

                                              )
                                                o.cursorActivityHandlers[
                                                  o.cursorActivityCalled++
                                                ].call(null, o.cm);
                                          }
                                        } while (n < e.length);
                                      })(n);
                                    } finally {
                                      (ln = null), e(n);
                                    }
                                })(e, function (t) {
                                  for (var e = 0; e < t.ops.length; e++)
                                    t.ops[e].cm.curOp = null;
                                  !(function (t) {
                                    for (
                                      var e = t.ops, n = 0;
                                      n < e.length;
                                      n++
                                    )
                                      Xr(e[n]);
                                    for (var r = 0; r < e.length; r++) Jr(e[r]);
                                    for (var o = 0; o < e.length; o++) Qr(e[o]);
                                    for (var i = 0; i < e.length; i++) to(e[i]);
                                    for (var a = 0; a < e.length; a++) eo(e[a]);
                                  })(t);
                                });
                            }

                            function Xr(t) {
                              var e = t.cm,
                                n = e.display;
                              (function (t) {
                                var e = t.display;
                                !e.scrollbarsClipped &&
                                  e.scroller.offsetWidth &&
                                  ((e.nativeBarWidth =
                                    e.scroller.offsetWidth -
                                    e.scroller.clientWidth),
                                  (e.heightForcer.style.height = En(t) + 'px'),
                                  (e.sizer.style.marginBottom =
                                    -e.nativeBarWidth + 'px'),
                                  (e.sizer.style.borderRightWidth =
                                    En(t) + 'px'),
                                  (e.scrollbarsClipped = !0));
                              })(e),
                                t.updateMaxLine && qe(e),
                                (t.mustUpdate =
                                  t.viewChanged ||
                                  t.forceUpdate ||
                                  null != t.scrollTop ||
                                  (t.scrollToPos &&
                                    (t.scrollToPos.from.line < n.viewFrom ||
                                      t.scrollToPos.to.line >= n.viewTo)) ||
                                  (n.maxLineChanged && e.options.lineWrapping)),
                                (t.update =
                                  t.mustUpdate &&
                                  new lo(
                                    e,
                                    t.mustUpdate && {
                                      top: t.scrollTop,
                                      ensure: t.scrollToPos,
                                    },
                                    t.forceUpdate
                                  ));
                            }

                            function Jr(t) {
                              t.updatedDisplay =
                                t.mustUpdate && co(t.cm, t.update);
                            }

                            function Qr(t) {
                              var e = t.cm,
                                n = e.display;
                              t.updatedDisplay && Pr(e),
                                (t.barMeasure = Br(e)),
                                n.maxLineChanged &&
                                  !e.options.lineWrapping &&
                                  ((t.adjustWidthTo =
                                    Mn(e, n.maxLine, n.maxLine.text.length)
                                      .left + 3),
                                  (e.display.sizerWidth = t.adjustWidthTo),
                                  (t.barMeasure.scrollWidth = Math.max(
                                    n.scroller.clientWidth,
                                    n.sizer.offsetLeft +
                                      t.adjustWidthTo +
                                      En(e) +
                                      e.display.barWidth
                                  )),
                                  (t.maxScrollLeft = Math.max(
                                    0,
                                    n.sizer.offsetLeft + t.adjustWidthTo - Pn(e)
                                  ))),
                                (t.updatedDisplay || t.selectionChanged) &&
                                  (t.preparedSelection =
                                    n.input.prepareSelection());
                            }

                            function to(t) {
                              var e = t.cm;
                              null != t.adjustWidthTo &&
                                ((e.display.sizer.style.minWidth =
                                  t.adjustWidthTo + 'px'),
                                t.maxScrollLeft < e.doc.scrollLeft &&
                                  Vr(
                                    e,
                                    Math.min(
                                      e.display.scroller.scrollLeft,
                                      t.maxScrollLeft
                                    ),
                                    !0
                                  ),
                                (e.display.maxLineChanged = !1));
                              var n = t.focus && t.focus == L();
                              t.preparedSelection &&
                                e.display.input.showSelection(
                                  t.preparedSelection,
                                  n
                                ),
                                (t.updatedDisplay ||
                                  t.startHeight != e.doc.height) &&
                                  Wr(e, t.barMeasure),
                                t.updatedDisplay && go(e, t.barMeasure),
                                t.selectionChanged && Sr(e),
                                e.state.focused &&
                                  t.updateInput &&
                                  e.display.input.reset(t.typing),
                                n && Or(t.cm);
                            }

                            function eo(t) {
                              var e = t.cm,
                                n = e.display,
                                r = e.doc;
                              t.updatedDisplay && uo(e, t.update),
                                null == n.wheelStartX ||
                                  (null == t.scrollTop &&
                                    null == t.scrollLeft &&
                                    !t.scrollToPos) ||
                                  (n.wheelStartX = n.wheelStartY = null),
                                null != t.scrollTop &&
                                  zr(e, t.scrollTop, t.forceScroll),
                                null != t.scrollLeft &&
                                  Vr(e, t.scrollLeft, !0, !0),
                                t.scrollToPos &&
                                  (function (t, e) {
                                    if (!mt(t, 'scrollCursorIntoView')) {
                                      var n = t.display,
                                        r = n.sizer.getBoundingClientRect(),
                                        o = null;
                                      if (
                                        (e.top + r.top < 0
                                          ? (o = !0)
                                          : e.bottom + r.top >
                                              (window.innerHeight ||
                                                document.documentElement
                                                  .clientHeight) && (o = !1),
                                        null != o && !g)
                                      ) {
                                        var i = A(
                                          'div',
                                          '​',
                                          null,
                                          'position: absolute;\n                         top: ' +
                                            (e.top -
                                              n.viewOffset -
                                              On(t.display)) +
                                            'px;\n                         height: ' +
                                            (e.bottom -
                                              e.top +
                                              En(t) +
                                              n.barHeight) +
                                            'px;\n                         left: ' +
                                            e.left +
                                            'px; width: ' +
                                            Math.max(2, e.right - e.left) +
                                            'px;'
                                        );
                                        t.display.lineSpace.appendChild(i),
                                          i.scrollIntoView(o),
                                          t.display.lineSpace.removeChild(i);
                                      }
                                    }
                                  })(
                                    e,
                                    (function (t, e, n, r) {
                                      var o;
                                      null == r && (r = 0),
                                        t.options.lineWrapping ||
                                          e != n ||
                                          ((n =
                                            'before' == e.sticky
                                              ? ne(e.line, e.ch + 1, 'before')
                                              : e),
                                          (e = e.ch
                                            ? ne(
                                                e.line,
                                                'before' == e.sticky
                                                  ? e.ch - 1
                                                  : e.ch,
                                                'after'
                                              )
                                            : e));
                                      for (var i = 0; i < 5; i++) {
                                        var a = !1,
                                          s = Yn(t, e),
                                          l = n && n != e ? Yn(t, n) : s,
                                          c = Mr(
                                            t,
                                            (o = {
                                              left: Math.min(s.left, l.left),
                                              top: Math.min(s.top, l.top) - r,
                                              right: Math.max(s.left, l.left),
                                              bottom:
                                                Math.max(s.bottom, l.bottom) +
                                                r,
                                            })
                                          ),
                                          u = t.doc.scrollTop,
                                          p = t.doc.scrollLeft;
                                        if (
                                          (null != c.scrollTop &&
                                            (Rr(t, c.scrollTop),
                                            Math.abs(t.doc.scrollTop - u) > 1 &&
                                              (a = !0)),
                                          null != c.scrollLeft &&
                                            (Vr(t, c.scrollLeft),
                                            Math.abs(t.doc.scrollLeft - p) >
                                              1 && (a = !0)),
                                          !a)
                                        )
                                          break;
                                      }
                                      return o;
                                    })(
                                      e,
                                      ce(r, t.scrollToPos.from),
                                      ce(r, t.scrollToPos.to),
                                      t.scrollToPos.margin
                                    )
                                  );
                              var o = t.maybeHiddenMarkers,
                                i = t.maybeUnhiddenMarkers;
                              if (o)
                                for (var a = 0; a < o.length; ++a)
                                  o[a].lines.length || vt(o[a], 'hide');
                              if (i)
                                for (var s = 0; s < i.length; ++s)
                                  i[s].lines.length && vt(i[s], 'unhide');
                              n.wrapper.offsetHeight &&
                                (r.scrollTop = e.display.scroller.scrollTop),
                                t.changeObjs &&
                                  vt(e, 'changes', e, t.changeObjs),
                                t.update && t.update.finish();
                            }

                            function no(t, e) {
                              if (t.curOp) return e();
                              Zr(t);
                              try {
                                return e();
                              } finally {
                                Yr(t);
                              }
                            }

                            function ro(t, e) {
                              return function () {
                                if (t.curOp) return e.apply(t, arguments);
                                Zr(t);
                                try {
                                  return e.apply(t, arguments);
                                } finally {
                                  Yr(t);
                                }
                              };
                            }

                            function oo(t) {
                              return function () {
                                if (this.curOp) return t.apply(this, arguments);
                                Zr(this);
                                try {
                                  return t.apply(this, arguments);
                                } finally {
                                  Yr(this);
                                }
                              };
                            }

                            function io(t) {
                              return function () {
                                var e = this.cm;
                                if (!e || e.curOp)
                                  return t.apply(this, arguments);
                                Zr(e);
                                try {
                                  return t.apply(this, arguments);
                                } finally {
                                  Yr(e);
                                }
                              };
                            }

                            function ao(t, e) {
                              t.doc.highlightFrontier < t.display.viewTo &&
                                t.state.highlight.set(e, F(so, t));
                            }

                            function so(t) {
                              var e = t.doc;
                              if (!(e.highlightFrontier >= t.display.viewTo)) {
                                var n = +new Date() + t.options.workTime,
                                  r = ge(t, e.highlightFrontier),
                                  o = [];
                                e.iter(
                                  r.line,
                                  Math.min(
                                    e.first + e.size,
                                    t.display.viewTo + 500
                                  ),
                                  function (i) {
                                    if (r.line >= t.display.viewFrom) {
                                      var a = i.styles,
                                        s =
                                          i.text.length >
                                          t.options.maxHighlightLength
                                            ? Wt(e.mode, r.state)
                                            : null,
                                        l = fe(t, i, r, !0);
                                      s && (r.state = s), (i.styles = l.styles);
                                      var c = i.styleClasses,
                                        u = l.classes;
                                      u
                                        ? (i.styleClasses = u)
                                        : c && (i.styleClasses = null);
                                      for (
                                        var p =
                                            !a ||
                                            a.length != i.styles.length ||
                                            (c != u &&
                                              (!c ||
                                                !u ||
                                                c.bgClass != u.bgClass ||
                                                c.textClass != u.textClass)),
                                          d = 0;
                                        !p && d < a.length;
                                        ++d
                                      )
                                        p = a[d] != i.styles[d];
                                      p && o.push(r.line),
                                        (i.stateAfter = r.save()),
                                        r.nextLine();
                                    } else
                                      i.text.length <=
                                        t.options.maxHighlightLength &&
                                        ve(t, i.text, r),
                                        (i.stateAfter =
                                          r.line % 5 == 0 ? r.save() : null),
                                        r.nextLine();
                                    if (+new Date() > n)
                                      return ao(t, t.options.workDelay), !0;
                                  }
                                ),
                                  (e.highlightFrontier = r.line),
                                  (e.modeFrontier = Math.max(
                                    e.modeFrontier,
                                    r.line
                                  )),
                                  o.length &&
                                    no(t, function () {
                                      for (var e = 0; e < o.length; e++)
                                        gr(t, o[e], 'text');
                                    });
                              }
                            }
                            var lo = function (t, e, n) {
                              var r = t.display;
                              (this.viewport = e),
                                (this.visible = jr(r, t.doc, e)),
                                (this.editorIsHidden = !r.wrapper.offsetWidth),
                                (this.wrapperHeight = r.wrapper.clientHeight),
                                (this.wrapperWidth = r.wrapper.clientWidth),
                                (this.oldDisplayWidth = Pn(t)),
                                (this.force = n),
                                (this.dims = lr(t)),
                                (this.events = []);
                            };

                            function co(t, e) {
                              var n = t.display,
                                r = t.doc;
                              if (e.editorIsHidden) return vr(t), !1;
                              if (
                                !e.force &&
                                e.visible.from >= n.viewFrom &&
                                e.visible.to <= n.viewTo &&
                                (null == n.updateLineNumbers ||
                                  n.updateLineNumbers >= n.viewTo) &&
                                n.renderedView == n.view &&
                                0 == yr(t)
                              )
                                return !1;
                              mo(t) && (vr(t), (e.dims = lr(t)));
                              var o = r.first + r.size,
                                i = Math.max(
                                  e.visible.from - t.options.viewportMargin,
                                  r.first
                                ),
                                a = Math.min(
                                  o,
                                  e.visible.to + t.options.viewportMargin
                                );
                              n.viewFrom < i &&
                                i - n.viewFrom < 20 &&
                                (i = Math.max(r.first, n.viewFrom)),
                                n.viewTo > a &&
                                  n.viewTo - a < 20 &&
                                  (a = Math.min(o, n.viewTo)),
                                Se && ((i = Be(t.doc, i)), (a = He(t.doc, a)));
                              var s =
                                i != n.viewFrom ||
                                a != n.viewTo ||
                                n.lastWrapHeight != e.wrapperHeight ||
                                n.lastWrapWidth != e.wrapperWidth;
                              (function (t, e, n) {
                                var r = t.display;
                                0 == r.view.length ||
                                e >= r.viewTo ||
                                n <= r.viewFrom
                                  ? ((r.view = sn(t, e, n)), (r.viewFrom = e))
                                  : (r.viewFrom > e
                                      ? (r.view = sn(t, e, r.viewFrom).concat(
                                          r.view
                                        ))
                                      : r.viewFrom < e &&
                                        (r.view = r.view.slice(fr(t, e))),
                                    (r.viewFrom = e),
                                    r.viewTo < n
                                      ? (r.view = r.view.concat(
                                          sn(t, r.viewTo, n)
                                        ))
                                      : r.viewTo > n &&
                                        (r.view = r.view.slice(0, fr(t, n)))),
                                  (r.viewTo = n);
                              })(t, i, a),
                                (n.viewOffset = $e(Kt(t.doc, n.viewFrom))),
                                (t.display.mover.style.top =
                                  n.viewOffset + 'px');
                              var l = yr(t);
                              if (
                                !s &&
                                0 == l &&
                                !e.force &&
                                n.renderedView == n.view &&
                                (null == n.updateLineNumbers ||
                                  n.updateLineNumbers >= n.viewTo)
                              )
                                return !1;
                              var c = (function (t) {
                                if (t.hasFocus()) return null;
                                var e = L();
                                if (!e || !M(t.display.lineDiv, e)) return null;
                                var n = {
                                  activeElt: e,
                                };
                                if (window.getSelection) {
                                  var r = window.getSelection();
                                  r.anchorNode &&
                                    r.extend &&
                                    M(t.display.lineDiv, r.anchorNode) &&
                                    ((n.anchorNode = r.anchorNode),
                                    (n.anchorOffset = r.anchorOffset),
                                    (n.focusNode = r.focusNode),
                                    (n.focusOffset = r.focusOffset));
                                }
                                return n;
                              })(t);
                              return (
                                l > 4 && (n.lineDiv.style.display = 'none'),
                                fo(t, n.updateLineNumbers, e.dims),
                                l > 4 && (n.lineDiv.style.display = ''),
                                (n.renderedView = n.view),
                                (function (t) {
                                  if (
                                    t &&
                                    t.activeElt &&
                                    t.activeElt != L() &&
                                    (t.activeElt.focus(),
                                    !/^(INPUT|TEXTAREA)$/.test(
                                      t.activeElt.nodeName
                                    ) &&
                                      t.anchorNode &&
                                      M(document.body, t.anchorNode) &&
                                      M(document.body, t.focusNode))
                                  ) {
                                    var e = window.getSelection(),
                                      n = document.createRange();
                                    n.setEnd(t.anchorNode, t.anchorOffset),
                                      n.collapse(!1),
                                      e.removeAllRanges(),
                                      e.addRange(n),
                                      e.extend(t.focusNode, t.focusOffset);
                                  }
                                })(c),
                                E(n.cursorDiv),
                                E(n.selectionDiv),
                                (n.gutters.style.height =
                                  n.sizer.style.minHeight =
                                    0),
                                s &&
                                  ((n.lastWrapHeight = e.wrapperHeight),
                                  (n.lastWrapWidth = e.wrapperWidth),
                                  ao(t, 400)),
                                (n.updateLineNumbers = null),
                                !0
                              );
                            }

                            function uo(t, e) {
                              for (var n = e.viewport, r = !0; ; r = !1) {
                                if (
                                  r &&
                                  t.options.lineWrapping &&
                                  e.oldDisplayWidth != Pn(t)
                                )
                                  r && (e.visible = jr(t.display, t.doc, n));
                                else if (
                                  (n &&
                                    null != n.top &&
                                    (n = {
                                      top: Math.min(
                                        t.doc.height + kn(t.display) - An(t),
                                        n.top
                                      ),
                                    }),
                                  (e.visible = jr(t.display, t.doc, n)),
                                  e.visible.from >= t.display.viewFrom &&
                                    e.visible.to <= t.display.viewTo)
                                )
                                  break;
                                if (!co(t, e)) break;
                                Pr(t);
                                var o = Br(t);
                                br(t), Wr(t, o), go(t, o), (e.force = !1);
                              }
                              e.signal(t, 'update', t),
                                (t.display.viewFrom ==
                                  t.display.reportedViewFrom &&
                                  t.display.viewTo ==
                                    t.display.reportedViewTo) ||
                                  (e.signal(
                                    t,
                                    'viewportChange',
                                    t,
                                    t.display.viewFrom,
                                    t.display.viewTo
                                  ),
                                  (t.display.reportedViewFrom =
                                    t.display.viewFrom),
                                  (t.display.reportedViewTo =
                                    t.display.viewTo));
                            }

                            function po(t, e) {
                              var n = new lo(t, e);
                              if (co(t, n)) {
                                Pr(t), uo(t, n);
                                var r = Br(t);
                                br(t), Wr(t, r), go(t, r), n.finish();
                              }
                            }

                            function fo(t, e, n) {
                              var r = t.display,
                                o = t.options.lineNumbers,
                                i = r.lineDiv,
                                a = i.firstChild;

                              function s(e) {
                                var n = e.nextSibling;
                                return (
                                  l && b && t.display.currentWheelTarget == e
                                    ? (e.style.display = 'none')
                                    : e.parentNode.removeChild(e),
                                  n
                                );
                              }
                              for (
                                var c = r.view, u = r.viewFrom, p = 0;
                                p < c.length;
                                p++
                              ) {
                                var d = c[p];
                                if (d.hidden);
                                else if (d.node && d.node.parentNode == i) {
                                  for (; a != d.node; ) a = s(a);
                                  var f =
                                    o && null != e && e <= u && d.lineNumber;
                                  d.changes &&
                                    (B(d.changes, 'gutter') > -1 && (f = !1),
                                    dn(t, d, u, n)),
                                    f &&
                                      (E(d.lineNumber),
                                      d.lineNumber.appendChild(
                                        document.createTextNode(
                                          ee(t.options, u)
                                        )
                                      )),
                                    (a = d.node.nextSibling);
                                } else {
                                  var h = bn(t, d, u, n);
                                  i.insertBefore(h, a);
                                }
                                u += d.size;
                              }
                              for (; a; ) a = s(a);
                            }

                            function ho(t) {
                              var e = t.gutters.offsetWidth;
                              (t.sizer.style.marginLeft = e + 'px'),
                                un(t, 'gutterChanged', t);
                            }

                            function go(t, e) {
                              (t.display.sizer.style.minHeight =
                                e.docHeight + 'px'),
                                (t.display.heightForcer.style.top =
                                  e.docHeight + 'px'),
                                (t.display.gutters.style.height =
                                  e.docHeight +
                                  t.display.barHeight +
                                  En(t) +
                                  'px');
                            }

                            function vo(t) {
                              var e = t.display,
                                n = e.view;
                              if (
                                e.alignWidgets ||
                                (e.gutters.firstChild && t.options.fixedGutter)
                              ) {
                                for (
                                  var r =
                                      cr(e) -
                                      e.scroller.scrollLeft +
                                      t.doc.scrollLeft,
                                    o = e.gutters.offsetWidth,
                                    i = r + 'px',
                                    a = 0;
                                  a < n.length;
                                  a++
                                )
                                  if (!n[a].hidden) {
                                    t.options.fixedGutter &&
                                      (n[a].gutter &&
                                        (n[a].gutter.style.left = i),
                                      n[a].gutterBackground &&
                                        (n[a].gutterBackground.style.left = i));
                                    var s = n[a].alignable;
                                    if (s)
                                      for (var l = 0; l < s.length; l++)
                                        s[l].style.left = i;
                                  }
                                t.options.fixedGutter &&
                                  (e.gutters.style.left = r + o + 'px');
                              }
                            }

                            function mo(t) {
                              if (!t.options.lineNumbers) return !1;
                              var e = t.doc,
                                n = ee(t.options, e.first + e.size - 1),
                                r = t.display;
                              if (n.length != r.lineNumChars) {
                                var o = r.measure.appendChild(
                                    A(
                                      'div',
                                      [A('div', n)],
                                      'CodeMirror-linenumber CodeMirror-gutter-elt'
                                    )
                                  ),
                                  i = o.firstChild.offsetWidth,
                                  a = o.offsetWidth - i;
                                return (
                                  (r.lineGutter.style.width = ''),
                                  (r.lineNumInnerWidth =
                                    Math.max(i, r.lineGutter.offsetWidth - a) +
                                    1),
                                  (r.lineNumWidth = r.lineNumInnerWidth + a),
                                  (r.lineNumChars = r.lineNumInnerWidth
                                    ? n.length
                                    : -1),
                                  (r.lineGutter.style.width =
                                    r.lineNumWidth + 'px'),
                                  ho(t.display),
                                  !0
                                );
                              }
                              return !1;
                            }

                            function yo(t, e) {
                              for (
                                var n = [], r = !1, o = 0;
                                o < t.length;
                                o++
                              ) {
                                var i = t[o],
                                  a = null;
                                if (
                                  ('string' != typeof i &&
                                    ((a = i.style), (i = i.className)),
                                  'CodeMirror-linenumbers' == i)
                                ) {
                                  if (!e) continue;
                                  r = !0;
                                }
                                n.push({
                                  className: i,
                                  style: a,
                                });
                              }
                              return (
                                e &&
                                  !r &&
                                  n.push({
                                    className: 'CodeMirror-linenumbers',
                                    style: null,
                                  }),
                                n
                              );
                            }

                            function bo(t) {
                              var e = t.gutters,
                                n = t.gutterSpecs;
                              E(e), (t.lineGutter = null);
                              for (var r = 0; r < n.length; ++r) {
                                var o = n[r],
                                  i = o.className,
                                  a = o.style,
                                  s = e.appendChild(
                                    A('div', null, 'CodeMirror-gutter ' + i)
                                  );
                                a && (s.style.cssText = a),
                                  'CodeMirror-linenumbers' == i &&
                                    ((t.lineGutter = s),
                                    (s.style.width =
                                      (t.lineNumWidth || 1) + 'px'));
                              }
                              (e.style.display = n.length ? '' : 'none'), ho(t);
                            }

                            function _o(t) {
                              bo(t.display), hr(t), vo(t);
                            }

                            function wo(t, e, r, o) {
                              var i = this;
                              (this.input = r),
                                (i.scrollbarFiller = A(
                                  'div',
                                  null,
                                  'CodeMirror-scrollbar-filler'
                                )),
                                i.scrollbarFiller.setAttribute(
                                  'cm-not-content',
                                  'true'
                                ),
                                (i.gutterFiller = A(
                                  'div',
                                  null,
                                  'CodeMirror-gutter-filler'
                                )),
                                i.gutterFiller.setAttribute(
                                  'cm-not-content',
                                  'true'
                                ),
                                (i.lineDiv = j('div', null, 'CodeMirror-code')),
                                (i.selectionDiv = A(
                                  'div',
                                  null,
                                  null,
                                  'position: relative; z-index: 1'
                                )),
                                (i.cursorDiv = A(
                                  'div',
                                  null,
                                  'CodeMirror-cursors'
                                )),
                                (i.measure = A(
                                  'div',
                                  null,
                                  'CodeMirror-measure'
                                )),
                                (i.lineMeasure = A(
                                  'div',
                                  null,
                                  'CodeMirror-measure'
                                )),
                                (i.lineSpace = j(
                                  'div',
                                  [
                                    i.measure,
                                    i.lineMeasure,
                                    i.selectionDiv,
                                    i.cursorDiv,
                                    i.lineDiv,
                                  ],
                                  null,
                                  'position: relative; outline: none'
                                ));
                              var c = j(
                                'div',
                                [i.lineSpace],
                                'CodeMirror-lines'
                              );
                              (i.mover = A(
                                'div',
                                [c],
                                null,
                                'position: relative'
                              )),
                                (i.sizer = A(
                                  'div',
                                  [i.mover],
                                  'CodeMirror-sizer'
                                )),
                                (i.sizerWidth = null),
                                (i.heightForcer = A(
                                  'div',
                                  null,
                                  null,
                                  'position: absolute; height: ' +
                                    H +
                                    'px; width: 1px;'
                                )),
                                (i.gutters = A(
                                  'div',
                                  null,
                                  'CodeMirror-gutters'
                                )),
                                (i.lineGutter = null),
                                (i.scroller = A(
                                  'div',
                                  [i.sizer, i.heightForcer, i.gutters],
                                  'CodeMirror-scroll'
                                )),
                                i.scroller.setAttribute('tabIndex', '-1'),
                                (i.wrapper = A(
                                  'div',
                                  [
                                    i.scrollbarFiller,
                                    i.gutterFiller,
                                    i.scroller,
                                  ],
                                  'CodeMirror'
                                )),
                                i.wrapper.setAttribute('translate', 'no'),
                                a &&
                                  s < 8 &&
                                  ((i.gutters.style.zIndex = -1),
                                  (i.scroller.style.paddingRight = 0)),
                                l || (n && y) || (i.scroller.draggable = !0),
                                t &&
                                  (t.appendChild
                                    ? t.appendChild(i.wrapper)
                                    : t(i.wrapper)),
                                (i.viewFrom = i.viewTo = e.first),
                                (i.reportedViewFrom = i.reportedViewTo =
                                  e.first),
                                (i.view = []),
                                (i.renderedView = null),
                                (i.externalMeasured = null),
                                (i.viewOffset = 0),
                                (i.lastWrapHeight = i.lastWrapWidth = 0),
                                (i.updateLineNumbers = null),
                                (i.nativeBarWidth =
                                  i.barHeight =
                                  i.barWidth =
                                    0),
                                (i.scrollbarsClipped = !1),
                                (i.lineNumWidth =
                                  i.lineNumInnerWidth =
                                  i.lineNumChars =
                                    null),
                                (i.alignWidgets = !1),
                                (i.cachedCharWidth =
                                  i.cachedTextHeight =
                                  i.cachedPaddingH =
                                    null),
                                (i.maxLine = null),
                                (i.maxLineLength = 0),
                                (i.maxLineChanged = !1),
                                (i.wheelDX =
                                  i.wheelDY =
                                  i.wheelStartX =
                                  i.wheelStartY =
                                    null),
                                (i.shift = !1),
                                (i.selForContextMenu = null),
                                (i.activeTouch = null),
                                (i.gutterSpecs = yo(o.gutters, o.lineNumbers)),
                                bo(i),
                                r.init(i);
                            }
                            (lo.prototype.signal = function (t, e) {
                              bt(t, e) && this.events.push(arguments);
                            }),
                              (lo.prototype.finish = function () {
                                for (var t = 0; t < this.events.length; t++)
                                  vt.apply(null, this.events[t]);
                              });
                            var xo = 0,
                              Co = null;

                            function So(t) {
                              var e = t.wheelDeltaX,
                                n = t.wheelDeltaY;
                              return (
                                null == e &&
                                  t.detail &&
                                  t.axis == t.HORIZONTAL_AXIS &&
                                  (e = t.detail),
                                null == n &&
                                t.detail &&
                                t.axis == t.VERTICAL_AXIS
                                  ? (n = t.detail)
                                  : null == n && (n = t.wheelDelta),
                                {
                                  x: e,
                                  y: n,
                                }
                              );
                            }

                            function Oo(t) {
                              var e = So(t);
                              return (e.x *= Co), (e.y *= Co), e;
                            }

                            function ko(t, e) {
                              u &&
                                p >= 102 &&
                                (null == t.display.chromeScrollHack
                                  ? (t.display.sizer.style.pointerEvents =
                                      'none')
                                  : clearTimeout(t.display.chromeScrollHack),
                                (t.display.chromeScrollHack = setTimeout(
                                  function () {
                                    (t.display.chromeScrollHack = null),
                                      (t.display.sizer.style.pointerEvents =
                                        '');
                                  },
                                  100
                                )));
                              var r = So(e),
                                o = r.x,
                                i = r.y,
                                a = Co;
                              0 === e.deltaMode &&
                                ((o = e.deltaX), (i = e.deltaY), (a = 1));
                              var s = t.display,
                                c = s.scroller,
                                f = c.scrollWidth > c.clientWidth,
                                h = c.scrollHeight > c.clientHeight;
                              if ((o && f) || (i && h)) {
                                if (i && b && l)
                                  t: for (
                                    var g = e.target, v = s.view;
                                    g != c;
                                    g = g.parentNode
                                  )
                                    for (var m = 0; m < v.length; m++)
                                      if (v[m].node == g) {
                                        t.display.currentWheelTarget = g;
                                        break t;
                                      }
                                if (o && !n && !d && null != a)
                                  return (
                                    i &&
                                      h &&
                                      Rr(t, Math.max(0, c.scrollTop + i * a)),
                                    Vr(t, Math.max(0, c.scrollLeft + o * a)),
                                    (!i || (i && h)) && wt(e),
                                    void (s.wheelStartX = null)
                                  );
                                if (i && null != a) {
                                  var y = i * a,
                                    _ = t.doc.scrollTop,
                                    w = _ + s.wrapper.clientHeight;
                                  y < 0
                                    ? (_ = Math.max(0, _ + y - 50))
                                    : (w = Math.min(t.doc.height, w + y + 50)),
                                    po(t, {
                                      top: _,
                                      bottom: w,
                                    });
                                }
                                xo < 20 &&
                                  0 !== e.deltaMode &&
                                  (null == s.wheelStartX
                                    ? ((s.wheelStartX = c.scrollLeft),
                                      (s.wheelStartY = c.scrollTop),
                                      (s.wheelDX = o),
                                      (s.wheelDY = i),
                                      setTimeout(function () {
                                        if (null != s.wheelStartX) {
                                          var t = c.scrollLeft - s.wheelStartX,
                                            e = c.scrollTop - s.wheelStartY,
                                            n =
                                              (e &&
                                                s.wheelDY &&
                                                e / s.wheelDY) ||
                                              (t && s.wheelDX && t / s.wheelDX);
                                          (s.wheelStartX = s.wheelStartY =
                                            null),
                                            n &&
                                              ((Co = (Co * xo + n) / (xo + 1)),
                                              ++xo);
                                        }
                                      }, 200))
                                    : ((s.wheelDX += o), (s.wheelDY += i)));
                              }
                            }
                            a
                              ? (Co = -0.53)
                              : n
                              ? (Co = 15)
                              : u
                              ? (Co = -0.7)
                              : f && (Co = -1 / 3);
                            var To = function (t, e) {
                              (this.ranges = t), (this.primIndex = e);
                            };
                            (To.prototype.primary = function () {
                              return this.ranges[this.primIndex];
                            }),
                              (To.prototype.equals = function (t) {
                                if (t == this) return !0;
                                if (
                                  t.primIndex != this.primIndex ||
                                  t.ranges.length != this.ranges.length
                                )
                                  return !1;
                                for (var e = 0; e < this.ranges.length; e++) {
                                  var n = this.ranges[e],
                                    r = t.ranges[e];
                                  if (
                                    !oe(n.anchor, r.anchor) ||
                                    !oe(n.head, r.head)
                                  )
                                    return !1;
                                }
                                return !0;
                              }),
                              (To.prototype.deepCopy = function () {
                                for (
                                  var t = [], e = 0;
                                  e < this.ranges.length;
                                  e++
                                )
                                  t[e] = new Eo(
                                    ie(this.ranges[e].anchor),
                                    ie(this.ranges[e].head)
                                  );
                                return new To(t, this.primIndex);
                              }),
                              (To.prototype.somethingSelected = function () {
                                for (var t = 0; t < this.ranges.length; t++)
                                  if (!this.ranges[t].empty()) return !0;
                                return !1;
                              }),
                              (To.prototype.contains = function (t, e) {
                                e || (e = t);
                                for (var n = 0; n < this.ranges.length; n++) {
                                  var r = this.ranges[n];
                                  if (
                                    re(e, r.from()) >= 0 &&
                                    re(t, r.to()) <= 0
                                  )
                                    return n;
                                }
                                return -1;
                              });
                            var Eo = function (t, e) {
                              (this.anchor = t), (this.head = e);
                            };

                            function Po(t, e, n) {
                              var r = t && t.options.selectionsMayTouch,
                                o = e[n];
                              e.sort(function (t, e) {
                                return re(t.from(), e.from());
                              }),
                                (n = B(e, o));
                              for (var i = 1; i < e.length; i++) {
                                var a = e[i],
                                  s = e[i - 1],
                                  l = re(s.to(), a.from());
                                if (r && !a.empty() ? l > 0 : l >= 0) {
                                  var c = se(s.from(), a.from()),
                                    u = ae(s.to(), a.to()),
                                    p = s.empty()
                                      ? a.from() == a.head
                                      : s.from() == s.head;
                                  i <= n && --n,
                                    e.splice(
                                      --i,
                                      2,
                                      new Eo(p ? u : c, p ? c : u)
                                    );
                                }
                              }
                              return new To(e, n);
                            }

                            function Ao(t, e) {
                              return new To([new Eo(t, e || t)], 0);
                            }

                            function jo(t) {
                              return t.text
                                ? ne(
                                    t.from.line + t.text.length - 1,
                                    Y(t.text).length +
                                      (1 == t.text.length ? t.from.ch : 0)
                                  )
                                : t.to;
                            }

                            function Mo(t, e) {
                              if (re(t, e.from) < 0) return t;
                              if (re(t, e.to) <= 0) return jo(e);
                              var n =
                                  t.line +
                                  e.text.length -
                                  (e.to.line - e.from.line) -
                                  1,
                                r = t.ch;
                              return (
                                t.line == e.to.line &&
                                  (r += jo(e).ch - e.to.ch),
                                ne(n, r)
                              );
                            }

                            function Lo(t, e) {
                              for (
                                var n = [], r = 0;
                                r < t.sel.ranges.length;
                                r++
                              ) {
                                var o = t.sel.ranges[r];
                                n.push(new Eo(Mo(o.anchor, e), Mo(o.head, e)));
                              }
                              return Po(t.cm, n, t.sel.primIndex);
                            }

                            function Do(t, e, n) {
                              return t.line == e.line
                                ? ne(n.line, t.ch - e.ch + n.ch)
                                : ne(n.line + (t.line - e.line), t.ch);
                            }

                            function No(t) {
                              (t.doc.mode = Bt(t.options, t.doc.modeOption)),
                                Io(t);
                            }

                            function Io(t) {
                              t.doc.iter(function (t) {
                                t.stateAfter && (t.stateAfter = null),
                                  t.styles && (t.styles = null);
                              }),
                                (t.doc.modeFrontier = t.doc.highlightFrontier =
                                  t.doc.first),
                                ao(t, 100),
                                t.state.modeGen++,
                                t.curOp && hr(t);
                            }

                            function Fo(t, e) {
                              return (
                                0 == e.from.ch &&
                                0 == e.to.ch &&
                                '' == Y(e.text) &&
                                (!t.cm || t.cm.options.wholeLineUpdateBefore)
                              );
                            }

                            function Ro(t, e, n, r) {
                              function o(t) {
                                return n ? n[t] : null;
                              }

                              function i(t, n, o) {
                                (function (t, e, n, r) {
                                  (t.text = e),
                                    t.stateAfter && (t.stateAfter = null),
                                    t.styles && (t.styles = null),
                                    null != t.order && (t.order = null),
                                    Ae(t),
                                    je(t, n);
                                  var o = r ? r(t) : 1;
                                  o != t.height && Xt(t, o);
                                })(t, n, o, r),
                                  un(t, 'change', t, e);
                              }

                              function a(t, e) {
                                for (var n = [], i = t; i < e; ++i)
                                  n.push(new Ke(c[i], o(i), r));
                                return n;
                              }
                              var s = e.from,
                                l = e.to,
                                c = e.text,
                                u = Kt(t, s.line),
                                p = Kt(t, l.line),
                                d = Y(c),
                                f = o(c.length - 1),
                                h = l.line - s.line;
                              if (e.full)
                                t.insert(0, a(0, c.length)),
                                  t.remove(c.length, t.size - c.length);
                              else if (Fo(t, e)) {
                                var g = a(0, c.length - 1);
                                i(p, p.text, f),
                                  h && t.remove(s.line, h),
                                  g.length && t.insert(s.line, g);
                              } else if (u == p)
                                if (1 == c.length)
                                  i(
                                    u,
                                    u.text.slice(0, s.ch) +
                                      d +
                                      u.text.slice(l.ch),
                                    f
                                  );
                                else {
                                  var v = a(1, c.length - 1);
                                  v.push(new Ke(d + u.text.slice(l.ch), f, r)),
                                    i(u, u.text.slice(0, s.ch) + c[0], o(0)),
                                    t.insert(s.line + 1, v);
                                }
                              else if (1 == c.length)
                                i(
                                  u,
                                  u.text.slice(0, s.ch) +
                                    c[0] +
                                    p.text.slice(l.ch),
                                  o(0)
                                ),
                                  t.remove(s.line + 1, h);
                              else {
                                i(u, u.text.slice(0, s.ch) + c[0], o(0)),
                                  i(p, d + p.text.slice(l.ch), f);
                                var m = a(1, c.length - 1);
                                h > 1 && t.remove(s.line + 1, h - 1),
                                  t.insert(s.line + 1, m);
                              }
                              un(t, 'change', t, e);
                            }

                            function zo(t, e, n) {
                              !(function t(r, o, i) {
                                if (r.linked)
                                  for (var a = 0; a < r.linked.length; ++a) {
                                    var s = r.linked[a];
                                    if (s.doc != o) {
                                      var l = i && s.sharedHist;
                                      (n && !l) ||
                                        (e(s.doc, l), t(s.doc, r, l));
                                    }
                                  }
                              })(t, null, !0);
                            }

                            function Vo(t, e) {
                              if (e.cm)
                                throw new Error(
                                  'This document is already in use.'
                                );
                              (t.doc = e),
                                (e.cm = t),
                                pr(t),
                                No(t),
                                Bo(t),
                                (t.options.direction = e.direction),
                                t.options.lineWrapping || qe(t),
                                (t.options.mode = e.modeOption),
                                hr(t);
                            }

                            function Bo(t) {
                              ('rtl' == t.doc.direction ? D : T)(
                                t.display.lineDiv,
                                'CodeMirror-rtl'
                              );
                            }

                            function Ho(t) {
                              (this.done = []),
                                (this.undone = []),
                                (this.undoDepth = t ? t.undoDepth : 1 / 0),
                                (this.lastModTime = this.lastSelTime = 0),
                                (this.lastOp = this.lastSelOp = null),
                                (this.lastOrigin = this.lastSelOrigin = null),
                                (this.generation = this.maxGeneration =
                                  t ? t.maxGeneration : 1);
                            }

                            function Uo(t, e) {
                              var n = {
                                from: ie(e.from),
                                to: jo(e),
                                text: Zt(t, e.from, e.to),
                              };
                              return (
                                Ko(t, n, e.from.line, e.to.line + 1),
                                zo(
                                  t,
                                  function (t) {
                                    return Ko(t, n, e.from.line, e.to.line + 1);
                                  },
                                  !0
                                ),
                                n
                              );
                            }

                            function Wo(t) {
                              for (; t.length && Y(t).ranges; ) t.pop();
                            }

                            function $o(t, e, n, r) {
                              var o = t.history;
                              o.undone.length = 0;
                              var i,
                                a,
                                s = +new Date();
                              if (
                                (o.lastOp == r ||
                                  (o.lastOrigin == e.origin &&
                                    e.origin &&
                                    (('+' == e.origin.charAt(0) &&
                                      o.lastModTime >
                                        s -
                                          (t.cm
                                            ? t.cm.options.historyEventDelay
                                            : 500)) ||
                                      '*' == e.origin.charAt(0)))) &&
                                (i = (function (t, e) {
                                  return e
                                    ? (Wo(t.done), Y(t.done))
                                    : t.done.length && !Y(t.done).ranges
                                    ? Y(t.done)
                                    : t.done.length > 1 &&
                                      !t.done[t.done.length - 2].ranges
                                    ? (t.done.pop(), Y(t.done))
                                    : void 0;
                                })(o, o.lastOp == r))
                              )
                                (a = Y(i.changes)),
                                  0 == re(e.from, e.to) && 0 == re(e.from, a.to)
                                    ? (a.to = jo(e))
                                    : i.changes.push(Uo(t, e));
                              else {
                                var l = Y(o.done);
                                for (
                                  (l && l.ranges) || qo(t.sel, o.done),
                                    i = {
                                      changes: [Uo(t, e)],
                                      generation: o.generation,
                                    },
                                    o.done.push(i);
                                  o.done.length > o.undoDepth;

                                )
                                  o.done.shift(),
                                    o.done[0].ranges || o.done.shift();
                              }
                              o.done.push(n),
                                (o.generation = ++o.maxGeneration),
                                (o.lastModTime = o.lastSelTime = s),
                                (o.lastOp = o.lastSelOp = r),
                                (o.lastOrigin = o.lastSelOrigin = e.origin),
                                a || vt(t, 'historyAdded');
                            }

                            function Go(t, e, n, r) {
                              var o = t.history,
                                i = r && r.origin;
                              n == o.lastSelOp ||
                              (i &&
                                o.lastSelOrigin == i &&
                                ((o.lastModTime == o.lastSelTime &&
                                  o.lastOrigin == i) ||
                                  (function (t, e, n, r) {
                                    var o = e.charAt(0);
                                    return (
                                      '*' == o ||
                                      ('+' == o &&
                                        n.ranges.length == r.ranges.length &&
                                        n.somethingSelected() ==
                                          r.somethingSelected() &&
                                        new Date() - t.history.lastSelTime <=
                                          (t.cm
                                            ? t.cm.options.historyEventDelay
                                            : 500))
                                    );
                                  })(t, i, Y(o.done), e)))
                                ? (o.done[o.done.length - 1] = e)
                                : qo(e, o.done),
                                (o.lastSelTime = +new Date()),
                                (o.lastSelOrigin = i),
                                (o.lastSelOp = n),
                                r && !1 !== r.clearRedo && Wo(o.undone);
                            }

                            function qo(t, e) {
                              var n = Y(e);
                              (n && n.ranges && n.equals(t)) || e.push(t);
                            }

                            function Ko(t, e, n, r) {
                              var o = e['spans_' + t.id],
                                i = 0;
                              t.iter(
                                Math.max(t.first, n),
                                Math.min(t.first + t.size, r),
                                function (n) {
                                  n.markedSpans &&
                                    ((o || (o = e['spans_' + t.id] = {}))[i] =
                                      n.markedSpans),
                                    ++i;
                                }
                              );
                            }

                            function Zo(t) {
                              if (!t) return null;
                              for (var e, n = 0; n < t.length; ++n)
                                t[n].marker.explicitlyCleared
                                  ? e || (e = t.slice(0, n))
                                  : e && e.push(t[n]);
                              return e ? (e.length ? e : null) : t;
                            }

                            function Yo(t, e) {
                              var n = (function (t, e) {
                                  var n = e['spans_' + t.id];
                                  if (!n) return null;
                                  for (
                                    var r = [], o = 0;
                                    o < e.text.length;
                                    ++o
                                  )
                                    r.push(Zo(n[o]));
                                  return r;
                                })(t, e),
                                r = Ee(t, e);
                              if (!n) return r;
                              if (!r) return n;
                              for (var o = 0; o < n.length; ++o) {
                                var i = n[o],
                                  a = r[o];
                                if (i && a)
                                  t: for (var s = 0; s < a.length; ++s) {
                                    for (var l = a[s], c = 0; c < i.length; ++c)
                                      if (i[c].marker == l.marker) continue t;
                                    i.push(l);
                                  }
                                else a && (n[o] = a);
                              }
                              return n;
                            }

                            function Xo(t, e, n) {
                              for (var r = [], o = 0; o < t.length; ++o) {
                                var i = t[o];
                                if (i.ranges)
                                  r.push(n ? To.prototype.deepCopy.call(i) : i);
                                else {
                                  var a = i.changes,
                                    s = [];
                                  r.push({
                                    changes: s,
                                  });
                                  for (var l = 0; l < a.length; ++l) {
                                    var c = a[l],
                                      u = void 0;
                                    if (
                                      (s.push({
                                        from: c.from,
                                        to: c.to,
                                        text: c.text,
                                      }),
                                      e)
                                    )
                                      for (var p in c)
                                        (u = p.match(/^spans_(\d+)$/)) &&
                                          B(e, Number(u[1])) > -1 &&
                                          ((Y(s)[p] = c[p]), delete c[p]);
                                  }
                                }
                              }
                              return r;
                            }

                            function Jo(t, e, n, r) {
                              if (r) {
                                var o = t.anchor;
                                if (n) {
                                  var i = re(e, o) < 0;
                                  i != re(n, o) < 0
                                    ? ((o = e), (e = n))
                                    : i != re(e, n) < 0 && (e = n);
                                }
                                return new Eo(o, e);
                              }
                              return new Eo(n || e, e);
                            }

                            function Qo(t, e, n, r, o) {
                              null == o &&
                                (o = t.cm && (t.cm.display.shift || t.extend)),
                                oi(
                                  t,
                                  new To([Jo(t.sel.primary(), e, n, o)], 0),
                                  r
                                );
                            }

                            function ti(t, e, n) {
                              for (
                                var r = [],
                                  o = t.cm && (t.cm.display.shift || t.extend),
                                  i = 0;
                                i < t.sel.ranges.length;
                                i++
                              )
                                r[i] = Jo(t.sel.ranges[i], e[i], null, o);
                              oi(t, Po(t.cm, r, t.sel.primIndex), n);
                            }

                            function ei(t, e, n, r) {
                              var o = t.sel.ranges.slice(0);
                              (o[e] = n),
                                oi(t, Po(t.cm, o, t.sel.primIndex), r);
                            }

                            function ni(t, e, n, r) {
                              oi(t, Ao(e, n), r);
                            }

                            function ri(t, e, n) {
                              var r = t.history.done,
                                o = Y(r);
                              o && o.ranges
                                ? ((r[r.length - 1] = e), ii(t, e, n))
                                : oi(t, e, n);
                            }

                            function oi(t, e, n) {
                              ii(t, e, n),
                                Go(t, t.sel, t.cm ? t.cm.curOp.id : NaN, n);
                            }

                            function ii(t, e, n) {
                              (bt(t, 'beforeSelectionChange') ||
                                (t.cm && bt(t.cm, 'beforeSelectionChange'))) &&
                                (e = (function (t, e, n) {
                                  var r = {
                                    ranges: e.ranges,
                                    update: function (e) {
                                      this.ranges = [];
                                      for (var n = 0; n < e.length; n++)
                                        this.ranges[n] = new Eo(
                                          ce(t, e[n].anchor),
                                          ce(t, e[n].head)
                                        );
                                    },
                                    origin: n && n.origin,
                                  };
                                  return (
                                    vt(t, 'beforeSelectionChange', t, r),
                                    t.cm &&
                                      vt(
                                        t.cm,
                                        'beforeSelectionChange',
                                        t.cm,
                                        r
                                      ),
                                    r.ranges != e.ranges
                                      ? Po(t.cm, r.ranges, r.ranges.length - 1)
                                      : e
                                  );
                                })(t, e, n));
                              var r =
                                (n && n.bias) ||
                                (re(e.primary().head, t.sel.primary().head) < 0
                                  ? -1
                                  : 1);
                              ai(t, li(t, e, r, !0)),
                                (n && !1 === n.scroll) ||
                                  !t.cm ||
                                  'nocursor' == t.cm.getOption('readOnly') ||
                                  Dr(t.cm);
                            }

                            function ai(t, e) {
                              e.equals(t.sel) ||
                                ((t.sel = e),
                                t.cm &&
                                  ((t.cm.curOp.updateInput = 1),
                                  (t.cm.curOp.selectionChanged = !0),
                                  yt(t.cm)),
                                un(t, 'cursorActivity', t));
                            }

                            function si(t) {
                              ai(t, li(t, t.sel, null, !1));
                            }

                            function li(t, e, n, r) {
                              for (var o, i = 0; i < e.ranges.length; i++) {
                                var a = e.ranges[i],
                                  s =
                                    e.ranges.length == t.sel.ranges.length &&
                                    t.sel.ranges[i],
                                  l = ui(t, a.anchor, s && s.anchor, n, r),
                                  c =
                                    a.head == a.anchor
                                      ? l
                                      : ui(t, a.head, s && s.head, n, r);
                                (o || l != a.anchor || c != a.head) &&
                                  (o || (o = e.ranges.slice(0, i)),
                                  (o[i] = new Eo(l, c)));
                              }
                              return o ? Po(t.cm, o, e.primIndex) : e;
                            }

                            function ci(t, e, n, r, o) {
                              var i = Kt(t, e.line);
                              if (i.markedSpans)
                                for (var a = 0; a < i.markedSpans.length; ++a) {
                                  var s = i.markedSpans[a],
                                    l = s.marker,
                                    c =
                                      'selectLeft' in l
                                        ? !l.selectLeft
                                        : l.inclusiveLeft,
                                    u =
                                      'selectRight' in l
                                        ? !l.selectRight
                                        : l.inclusiveRight;
                                  if (
                                    (null == s.from ||
                                      (c ? s.from <= e.ch : s.from < e.ch)) &&
                                    (null == s.to ||
                                      (u ? s.to >= e.ch : s.to > e.ch))
                                  ) {
                                    if (
                                      o &&
                                      (vt(l, 'beforeCursorEnter'),
                                      l.explicitlyCleared)
                                    ) {
                                      if (i.markedSpans) {
                                        --a;
                                        continue;
                                      }
                                      break;
                                    }
                                    if (!l.atomic) continue;
                                    if (n) {
                                      var p = l.find(r < 0 ? 1 : -1),
                                        d = void 0;
                                      if (
                                        ((r < 0 ? u : c) &&
                                          (p = pi(
                                            t,
                                            p,
                                            -r,
                                            p && p.line == e.line ? i : null
                                          )),
                                        p &&
                                          p.line == e.line &&
                                          (d = re(p, n)) &&
                                          (r < 0 ? d < 0 : d > 0))
                                      )
                                        return ci(t, p, e, r, o);
                                    }
                                    var f = l.find(r < 0 ? -1 : 1);
                                    return (
                                      (r < 0 ? c : u) &&
                                        (f = pi(
                                          t,
                                          f,
                                          r,
                                          f.line == e.line ? i : null
                                        )),
                                      f ? ci(t, f, e, r, o) : null
                                    );
                                  }
                                }
                              return e;
                            }

                            function ui(t, e, n, r, o) {
                              var i = r || 1;
                              return (
                                ci(t, e, n, i, o) ||
                                (!o && ci(t, e, n, i, !0)) ||
                                ci(t, e, n, -i, o) ||
                                (!o && ci(t, e, n, -i, !0)) ||
                                ((t.cantEdit = !0), ne(t.first, 0))
                              );
                            }

                            function pi(t, e, n, r) {
                              return n < 0 && 0 == e.ch
                                ? e.line > t.first
                                  ? ce(t, ne(e.line - 1))
                                  : null
                                : n > 0 &&
                                  e.ch == (r || Kt(t, e.line)).text.length
                                ? e.line < t.first + t.size - 1
                                  ? ne(e.line + 1, 0)
                                  : null
                                : new ne(e.line, e.ch + n);
                            }

                            function di(t) {
                              t.setSelection(
                                ne(t.firstLine(), 0),
                                ne(t.lastLine()),
                                W
                              );
                            }

                            function fi(t, e, n) {
                              var r = {
                                canceled: !1,
                                from: e.from,
                                to: e.to,
                                text: e.text,
                                origin: e.origin,
                                cancel: function () {
                                  return (r.canceled = !0);
                                },
                              };
                              return (
                                n &&
                                  (r.update = function (e, n, o, i) {
                                    e && (r.from = ce(t, e)),
                                      n && (r.to = ce(t, n)),
                                      o && (r.text = o),
                                      void 0 !== i && (r.origin = i);
                                  }),
                                vt(t, 'beforeChange', t, r),
                                t.cm && vt(t.cm, 'beforeChange', t.cm, r),
                                r.canceled
                                  ? (t.cm && (t.cm.curOp.updateInput = 2), null)
                                  : {
                                      from: r.from,
                                      to: r.to,
                                      text: r.text,
                                      origin: r.origin,
                                    }
                              );
                            }

                            function hi(t, e, n) {
                              if (t.cm) {
                                if (!t.cm.curOp) return ro(t.cm, hi)(t, e, n);
                                if (t.cm.state.suppressEdits) return;
                              }
                              if (
                                !(
                                  bt(t, 'beforeChange') ||
                                  (t.cm && bt(t.cm, 'beforeChange'))
                                ) ||
                                (e = fi(t, e, !0))
                              ) {
                                var r =
                                  Ce &&
                                  !n &&
                                  (function (t, e, n) {
                                    var r = null;
                                    if (
                                      (t.iter(e.line, n.line + 1, function (t) {
                                        if (t.markedSpans)
                                          for (
                                            var e = 0;
                                            e < t.markedSpans.length;
                                            ++e
                                          ) {
                                            var n = t.markedSpans[e].marker;
                                            !n.readOnly ||
                                              (r && -1 != B(r, n)) ||
                                              (r || (r = [])).push(n);
                                          }
                                      }),
                                      !r)
                                    )
                                      return null;
                                    for (
                                      var o = [
                                          {
                                            from: e,
                                            to: n,
                                          },
                                        ],
                                        i = 0;
                                      i < r.length;
                                      ++i
                                    )
                                      for (
                                        var a = r[i], s = a.find(0), l = 0;
                                        l < o.length;
                                        ++l
                                      ) {
                                        var c = o[l];
                                        if (
                                          !(
                                            re(c.to, s.from) < 0 ||
                                            re(c.from, s.to) > 0
                                          )
                                        ) {
                                          var u = [l, 1],
                                            p = re(c.from, s.from),
                                            d = re(c.to, s.to);
                                          (p < 0 || (!a.inclusiveLeft && !p)) &&
                                            u.push({
                                              from: c.from,
                                              to: s.from,
                                            }),
                                            (d > 0 ||
                                              (!a.inclusiveRight && !d)) &&
                                              u.push({
                                                from: s.to,
                                                to: c.to,
                                              }),
                                            o.splice.apply(o, u),
                                            (l += u.length - 3);
                                        }
                                      }
                                    return o;
                                  })(t, e.from, e.to);
                                if (r)
                                  for (var o = r.length - 1; o >= 0; --o)
                                    gi(t, {
                                      from: r[o].from,
                                      to: r[o].to,
                                      text: o ? [''] : e.text,
                                      origin: e.origin,
                                    });
                                else gi(t, e);
                              }
                            }

                            function gi(t, e) {
                              if (
                                1 != e.text.length ||
                                '' != e.text[0] ||
                                0 != re(e.from, e.to)
                              ) {
                                var n = Lo(t, e);
                                $o(t, e, n, t.cm ? t.cm.curOp.id : NaN),
                                  yi(t, e, n, Ee(t, e));
                                var r = [];
                                zo(t, function (t, n) {
                                  n ||
                                    -1 != B(r, t.history) ||
                                    (xi(t.history, e), r.push(t.history)),
                                    yi(t, e, null, Ee(t, e));
                                });
                              }
                            }

                            function vi(t, e, n) {
                              var r = t.cm && t.cm.state.suppressEdits;
                              if (!r || n) {
                                for (
                                  var o,
                                    i = t.history,
                                    a = t.sel,
                                    s = 'undo' == e ? i.done : i.undone,
                                    l = 'undo' == e ? i.undone : i.done,
                                    c = 0;
                                  c < s.length &&
                                  ((o = s[c]),
                                  n ? !o.ranges || o.equals(t.sel) : o.ranges);
                                  c++
                                );
                                if (c != s.length) {
                                  for (
                                    i.lastOrigin = i.lastSelOrigin = null;
                                    ;

                                  ) {
                                    if (!(o = s.pop()).ranges) {
                                      if (r) return void s.push(o);
                                      break;
                                    }
                                    if ((qo(o, l), n && !o.equals(t.sel)))
                                      return void oi(t, o, {
                                        clearRedo: !1,
                                      });
                                    a = o;
                                  }
                                  var u = [];
                                  qo(a, l),
                                    l.push({
                                      changes: u,
                                      generation: i.generation,
                                    }),
                                    (i.generation =
                                      o.generation || ++i.maxGeneration);
                                  for (
                                    var p =
                                        bt(t, 'beforeChange') ||
                                        (t.cm && bt(t.cm, 'beforeChange')),
                                      d = function (n) {
                                        var r = o.changes[n];
                                        if (
                                          ((r.origin = e), p && !fi(t, r, !1))
                                        )
                                          return (s.length = 0), {};
                                        u.push(Uo(t, r));
                                        var i = n ? Lo(t, r) : Y(s);
                                        yi(t, r, i, Yo(t, r)),
                                          !n &&
                                            t.cm &&
                                            t.cm.scrollIntoView({
                                              from: r.from,
                                              to: jo(r),
                                            });
                                        var a = [];
                                        zo(t, function (t, e) {
                                          e ||
                                            -1 != B(a, t.history) ||
                                            (xi(t.history, r),
                                            a.push(t.history)),
                                            yi(t, r, null, Yo(t, r));
                                        });
                                      },
                                      f = o.changes.length - 1;
                                    f >= 0;
                                    --f
                                  ) {
                                    var h = d(f);
                                    if (h) return h.v;
                                  }
                                }
                              }
                            }

                            function mi(t, e) {
                              if (
                                0 != e &&
                                ((t.first += e),
                                (t.sel = new To(
                                  X(t.sel.ranges, function (t) {
                                    return new Eo(
                                      ne(t.anchor.line + e, t.anchor.ch),
                                      ne(t.head.line + e, t.head.ch)
                                    );
                                  }),
                                  t.sel.primIndex
                                )),
                                t.cm)
                              ) {
                                hr(t.cm, t.first, t.first - e, e);
                                for (
                                  var n = t.cm.display, r = n.viewFrom;
                                  r < n.viewTo;
                                  r++
                                )
                                  gr(t.cm, r, 'gutter');
                              }
                            }

                            function yi(t, e, n, r) {
                              if (t.cm && !t.cm.curOp)
                                return ro(t.cm, yi)(t, e, n, r);
                              if (e.to.line < t.first)
                                mi(
                                  t,
                                  e.text.length - 1 - (e.to.line - e.from.line)
                                );
                              else if (!(e.from.line > t.lastLine())) {
                                if (e.from.line < t.first) {
                                  var o =
                                    e.text.length - 1 - (t.first - e.from.line);
                                  mi(t, o),
                                    (e = {
                                      from: ne(t.first, 0),
                                      to: ne(e.to.line + o, e.to.ch),
                                      text: [Y(e.text)],
                                      origin: e.origin,
                                    });
                                }
                                var i = t.lastLine();
                                e.to.line > i &&
                                  (e = {
                                    from: e.from,
                                    to: ne(i, Kt(t, i).text.length),
                                    text: [e.text[0]],
                                    origin: e.origin,
                                  }),
                                  (e.removed = Zt(t, e.from, e.to)),
                                  n || (n = Lo(t, e)),
                                  t.cm
                                    ? (function (t, e, n) {
                                        var r = t.doc,
                                          o = t.display,
                                          i = e.from,
                                          a = e.to,
                                          s = !1,
                                          l = i.line;
                                        t.options.lineWrapping ||
                                          ((l = Jt(Ve(Kt(r, i.line)))),
                                          r.iter(l, a.line + 1, function (t) {
                                            if (t == o.maxLine)
                                              return (s = !0), !0;
                                          })),
                                          r.sel.contains(e.from, e.to) > -1 &&
                                            yt(t),
                                          Ro(r, e, n, ur(t)),
                                          t.options.lineWrapping ||
                                            (r.iter(
                                              l,
                                              i.line + e.text.length,
                                              function (t) {
                                                var e = Ge(t);
                                                e > o.maxLineLength &&
                                                  ((o.maxLine = t),
                                                  (o.maxLineLength = e),
                                                  (o.maxLineChanged = !0),
                                                  (s = !1));
                                              }
                                            ),
                                            s && (t.curOp.updateMaxLine = !0)),
                                          (function (t, e) {
                                            if (
                                              ((t.modeFrontier = Math.min(
                                                t.modeFrontier,
                                                e
                                              )),
                                              !(t.highlightFrontier < e - 10))
                                            ) {
                                              for (
                                                var n = t.first, r = e - 1;
                                                r > n;
                                                r--
                                              ) {
                                                var o = Kt(t, r).stateAfter;
                                                if (
                                                  o &&
                                                  (!(o instanceof pe) ||
                                                    r + o.lookAhead < e)
                                                ) {
                                                  n = r + 1;
                                                  break;
                                                }
                                              }
                                              t.highlightFrontier = Math.min(
                                                t.highlightFrontier,
                                                n
                                              );
                                            }
                                          })(r, i.line),
                                          ao(t, 400);
                                        var c =
                                          e.text.length - (a.line - i.line) - 1;
                                        e.full
                                          ? hr(t)
                                          : i.line != a.line ||
                                            1 != e.text.length ||
                                            Fo(t.doc, e)
                                          ? hr(t, i.line, a.line + 1, c)
                                          : gr(t, i.line, 'text');
                                        var u = bt(t, 'changes'),
                                          p = bt(t, 'change');
                                        if (p || u) {
                                          var d = {
                                            from: i,
                                            to: a,
                                            text: e.text,
                                            removed: e.removed,
                                            origin: e.origin,
                                          };
                                          p && un(t, 'change', t, d),
                                            u &&
                                              (
                                                t.curOp.changeObjs ||
                                                (t.curOp.changeObjs = [])
                                              ).push(d);
                                        }
                                        t.display.selForContextMenu = null;
                                      })(t.cm, e, r)
                                    : Ro(t, e, r),
                                  ii(t, n, W),
                                  t.cantEdit &&
                                    ui(t, ne(t.firstLine(), 0)) &&
                                    (t.cantEdit = !1);
                              }
                            }

                            function bi(t, e, n, r, o) {
                              var i;
                              r || (r = n),
                                re(r, n) < 0 &&
                                  ((n = (i = [r, n])[0]), (r = i[1])),
                                'string' == typeof e && (e = t.splitLines(e)),
                                hi(t, {
                                  from: n,
                                  to: r,
                                  text: e,
                                  origin: o,
                                });
                            }

                            function _i(t, e, n, r) {
                              n < t.line
                                ? (t.line += r)
                                : e < t.line && ((t.line = e), (t.ch = 0));
                            }

                            function wi(t, e, n, r) {
                              for (var o = 0; o < t.length; ++o) {
                                var i = t[o],
                                  a = !0;
                                if (i.ranges) {
                                  i.copied ||
                                    ((i = t[o] = i.deepCopy()).copied = !0);
                                  for (var s = 0; s < i.ranges.length; s++)
                                    _i(i.ranges[s].anchor, e, n, r),
                                      _i(i.ranges[s].head, e, n, r);
                                } else {
                                  for (var l = 0; l < i.changes.length; ++l) {
                                    var c = i.changes[l];
                                    if (n < c.from.line)
                                      (c.from = ne(c.from.line + r, c.from.ch)),
                                        (c.to = ne(c.to.line + r, c.to.ch));
                                    else if (e <= c.to.line) {
                                      a = !1;
                                      break;
                                    }
                                  }
                                  a || (t.splice(0, o + 1), (o = 0));
                                }
                              }
                            }

                            function xi(t, e) {
                              var n = e.from.line,
                                r = e.to.line,
                                o = e.text.length - (r - n) - 1;
                              wi(t.done, n, r, o), wi(t.undone, n, r, o);
                            }

                            function Ci(t, e, n, r) {
                              var o = e,
                                i = e;
                              return (
                                'number' == typeof e
                                  ? (i = Kt(t, le(t, e)))
                                  : (o = Jt(e)),
                                null == o
                                  ? null
                                  : (r(i, o) && t.cm && gr(t.cm, o, n), i)
                              );
                            }

                            function Si(t) {
                              (this.lines = t), (this.parent = null);
                              for (var e = 0, n = 0; n < t.length; ++n)
                                (t[n].parent = this), (e += t[n].height);
                              this.height = e;
                            }

                            function Oi(t) {
                              this.children = t;
                              for (var e = 0, n = 0, r = 0; r < t.length; ++r) {
                                var o = t[r];
                                (e += o.chunkSize()),
                                  (n += o.height),
                                  (o.parent = this);
                              }
                              (this.size = e),
                                (this.height = n),
                                (this.parent = null);
                            }
                            (Eo.prototype.from = function () {
                              return se(this.anchor, this.head);
                            }),
                              (Eo.prototype.to = function () {
                                return ae(this.anchor, this.head);
                              }),
                              (Eo.prototype.empty = function () {
                                return (
                                  this.head.line == this.anchor.line &&
                                  this.head.ch == this.anchor.ch
                                );
                              }),
                              (Si.prototype = {
                                chunkSize: function () {
                                  return this.lines.length;
                                },
                                removeInner: function (t, e) {
                                  for (var n = t, r = t + e; n < r; ++n) {
                                    var o = this.lines[n];
                                    (this.height -= o.height),
                                      Ze(o),
                                      un(o, 'delete');
                                  }
                                  this.lines.splice(t, e);
                                },
                                collapse: function (t) {
                                  t.push.apply(t, this.lines);
                                },
                                insertInner: function (t, e, n) {
                                  (this.height += n),
                                    (this.lines = this.lines
                                      .slice(0, t)
                                      .concat(e)
                                      .concat(this.lines.slice(t)));
                                  for (var r = 0; r < e.length; ++r)
                                    e[r].parent = this;
                                },
                                iterN: function (t, e, n) {
                                  for (var r = t + e; t < r; ++t)
                                    if (n(this.lines[t])) return !0;
                                },
                              }),
                              (Oi.prototype = {
                                chunkSize: function () {
                                  return this.size;
                                },
                                removeInner: function (t, e) {
                                  this.size -= e;
                                  for (
                                    var n = 0;
                                    n < this.children.length;
                                    ++n
                                  ) {
                                    var r = this.children[n],
                                      o = r.chunkSize();
                                    if (t < o) {
                                      var i = Math.min(e, o - t),
                                        a = r.height;
                                      if (
                                        (r.removeInner(t, i),
                                        (this.height -= a - r.height),
                                        o == i &&
                                          (this.children.splice(n--, 1),
                                          (r.parent = null)),
                                        0 == (e -= i))
                                      )
                                        break;
                                      t = 0;
                                    } else t -= o;
                                  }
                                  if (
                                    this.size - e < 25 &&
                                    (this.children.length > 1 ||
                                      !(this.children[0] instanceof Si))
                                  ) {
                                    var s = [];
                                    this.collapse(s),
                                      (this.children = [new Si(s)]),
                                      (this.children[0].parent = this);
                                  }
                                },
                                collapse: function (t) {
                                  for (var e = 0; e < this.children.length; ++e)
                                    this.children[e].collapse(t);
                                },
                                insertInner: function (t, e, n) {
                                  (this.size += e.length), (this.height += n);
                                  for (
                                    var r = 0;
                                    r < this.children.length;
                                    ++r
                                  ) {
                                    var o = this.children[r],
                                      i = o.chunkSize();
                                    if (t <= i) {
                                      if (
                                        (o.insertInner(t, e, n),
                                        o.lines && o.lines.length > 50)
                                      ) {
                                        for (
                                          var a = (o.lines.length % 25) + 25,
                                            s = a;
                                          s < o.lines.length;

                                        ) {
                                          var l = new Si(
                                            o.lines.slice(s, (s += 25))
                                          );
                                          (o.height -= l.height),
                                            this.children.splice(++r, 0, l),
                                            (l.parent = this);
                                        }
                                        (o.lines = o.lines.slice(0, a)),
                                          this.maybeSpill();
                                      }
                                      break;
                                    }
                                    t -= i;
                                  }
                                },
                                maybeSpill: function () {
                                  if (!(this.children.length <= 10)) {
                                    var t = this;
                                    do {
                                      var e = new Oi(
                                        t.children.splice(
                                          t.children.length - 5,
                                          5
                                        )
                                      );
                                      if (t.parent) {
                                        (t.size -= e.size),
                                          (t.height -= e.height);
                                        var n = B(t.parent.children, t);
                                        t.parent.children.splice(n + 1, 0, e);
                                      } else {
                                        var r = new Oi(t.children);
                                        (r.parent = t),
                                          (t.children = [r, e]),
                                          (t = r);
                                      }
                                      e.parent = t.parent;
                                    } while (t.children.length > 10);
                                    t.parent.maybeSpill();
                                  }
                                },
                                iterN: function (t, e, n) {
                                  for (
                                    var r = 0;
                                    r < this.children.length;
                                    ++r
                                  ) {
                                    var o = this.children[r],
                                      i = o.chunkSize();
                                    if (t < i) {
                                      var a = Math.min(e, i - t);
                                      if (o.iterN(t, a, n)) return !0;
                                      if (0 == (e -= a)) break;
                                      t = 0;
                                    } else t -= i;
                                  }
                                },
                              });
                            var ki = function (t, e, n) {
                              if (n)
                                for (var r in n)
                                  n.hasOwnProperty(r) && (this[r] = n[r]);
                              (this.doc = t), (this.node = e);
                            };

                            function Ti(t, e, n) {
                              $e(e) <
                                ((t.curOp && t.curOp.scrollTop) ||
                                  t.doc.scrollTop) && Lr(t, n);
                            }
                            (ki.prototype.clear = function () {
                              var t = this.doc.cm,
                                e = this.line.widgets,
                                n = this.line,
                                r = Jt(n);
                              if (null != r && e) {
                                for (var o = 0; o < e.length; ++o)
                                  e[o] == this && e.splice(o--, 1);
                                e.length || (n.widgets = null);
                                var i = Cn(this);
                                Xt(n, Math.max(0, n.height - i)),
                                  t &&
                                    (no(t, function () {
                                      Ti(t, n, -i), gr(t, r, 'widget');
                                    }),
                                    un(t, 'lineWidgetCleared', t, this, r));
                              }
                            }),
                              (ki.prototype.changed = function () {
                                var t = this,
                                  e = this.height,
                                  n = this.doc.cm,
                                  r = this.line;
                                this.height = null;
                                var o = Cn(this) - e;
                                o &&
                                  (Ue(this.doc, r) || Xt(r, r.height + o),
                                  n &&
                                    no(n, function () {
                                      (n.curOp.forceUpdate = !0),
                                        Ti(n, r, o),
                                        un(n, 'lineWidgetChanged', n, t, Jt(r));
                                    }));
                              }),
                              _t(ki);
                            var Ei = 0,
                              Pi = function (t, e) {
                                (this.lines = []),
                                  (this.type = e),
                                  (this.doc = t),
                                  (this.id = ++Ei);
                              };

                            function Ai(t, e, n, r, o) {
                              if (r && r.shared)
                                return (function (t, e, n, r, o) {
                                  (r = R(r)).shared = !1;
                                  var i = [Ai(t, e, n, r, o)],
                                    a = i[0],
                                    s = r.widgetNode;
                                  return (
                                    zo(t, function (t) {
                                      s && (r.widgetNode = s.cloneNode(!0)),
                                        i.push(Ai(t, ce(t, e), ce(t, n), r, o));
                                      for (var l = 0; l < t.linked.length; ++l)
                                        if (t.linked[l].isParent) return;
                                      a = Y(i);
                                    }),
                                    new ji(i, a)
                                  );
                                })(t, e, n, r, o);
                              if (t.cm && !t.cm.curOp)
                                return ro(t.cm, Ai)(t, e, n, r, o);
                              var i = new Pi(t, o),
                                a = re(e, n);
                              if (
                                (r && R(r, i, !1),
                                a > 0 || (0 == a && !1 !== i.clearWhenEmpty))
                              )
                                return i;
                              if (
                                (i.replacedWith &&
                                  ((i.collapsed = !0),
                                  (i.widgetNode = j(
                                    'span',
                                    [i.replacedWith],
                                    'CodeMirror-widget'
                                  )),
                                  r.handleMouseEvents ||
                                    i.widgetNode.setAttribute(
                                      'cm-ignore-events',
                                      'true'
                                    ),
                                  r.insertLeft &&
                                    (i.widgetNode.insertLeft = !0)),
                                i.collapsed)
                              ) {
                                if (
                                  ze(t, e.line, e, n, i) ||
                                  (e.line != n.line && ze(t, n.line, e, n, i))
                                )
                                  throw new Error(
                                    'Inserting collapsed marker partially overlapping an existing one'
                                  );
                                Se = !0;
                              }
                              i.addToHistory &&
                                $o(
                                  t,
                                  {
                                    from: e,
                                    to: n,
                                    origin: 'markText',
                                  },
                                  t.sel,
                                  NaN
                                );
                              var s,
                                l = e.line,
                                c = t.cm;
                              if (
                                (t.iter(l, n.line + 1, function (r) {
                                  c &&
                                    i.collapsed &&
                                    !c.options.lineWrapping &&
                                    Ve(r) == c.display.maxLine &&
                                    (s = !0),
                                    i.collapsed && l != e.line && Xt(r, 0),
                                    (function (t, e, n) {
                                      var r =
                                        n &&
                                        window.WeakSet &&
                                        (n.markedSpans ||
                                          (n.markedSpans = new WeakSet()));
                                      r && t.markedSpans && r.has(t.markedSpans)
                                        ? t.markedSpans.push(e)
                                        : ((t.markedSpans = t.markedSpans
                                            ? t.markedSpans.concat([e])
                                            : [e]),
                                          r && r.add(t.markedSpans)),
                                        e.marker.attachLine(t);
                                    })(
                                      r,
                                      new Oe(
                                        i,
                                        l == e.line ? e.ch : null,
                                        l == n.line ? n.ch : null
                                      ),
                                      t.cm && t.cm.curOp
                                    ),
                                    ++l;
                                }),
                                i.collapsed &&
                                  t.iter(e.line, n.line + 1, function (e) {
                                    Ue(t, e) && Xt(e, 0);
                                  }),
                                i.clearOnEnter &&
                                  ft(i, 'beforeCursorEnter', function () {
                                    return i.clear();
                                  }),
                                i.readOnly &&
                                  ((Ce = !0),
                                  (t.history.done.length ||
                                    t.history.undone.length) &&
                                    t.clearHistory()),
                                i.collapsed && ((i.id = ++Ei), (i.atomic = !0)),
                                c)
                              ) {
                                if (
                                  (s && (c.curOp.updateMaxLine = !0),
                                  i.collapsed)
                                )
                                  hr(c, e.line, n.line + 1);
                                else if (
                                  i.className ||
                                  i.startStyle ||
                                  i.endStyle ||
                                  i.css ||
                                  i.attributes ||
                                  i.title
                                )
                                  for (var u = e.line; u <= n.line; u++)
                                    gr(c, u, 'text');
                                i.atomic && si(c.doc),
                                  un(c, 'markerAdded', c, i);
                              }
                              return i;
                            }
                            (Pi.prototype.clear = function () {
                              if (!this.explicitlyCleared) {
                                var t = this.doc.cm,
                                  e = t && !t.curOp;
                                if ((e && Zr(t), bt(this, 'clear'))) {
                                  var n = this.find();
                                  n && un(this, 'clear', n.from, n.to);
                                }
                                for (
                                  var r = null, o = null, i = 0;
                                  i < this.lines.length;
                                  ++i
                                ) {
                                  var a = this.lines[i],
                                    s = ke(a.markedSpans, this);
                                  t && !this.collapsed
                                    ? gr(t, Jt(a), 'text')
                                    : t &&
                                      (null != s.to && (o = Jt(a)),
                                      null != s.from && (r = Jt(a))),
                                    (a.markedSpans = Te(a.markedSpans, s)),
                                    null == s.from &&
                                      this.collapsed &&
                                      !Ue(this.doc, a) &&
                                      t &&
                                      Xt(a, ar(t.display));
                                }
                                if (
                                  t &&
                                  this.collapsed &&
                                  !t.options.lineWrapping
                                )
                                  for (var l = 0; l < this.lines.length; ++l) {
                                    var c = Ve(this.lines[l]),
                                      u = Ge(c);
                                    u > t.display.maxLineLength &&
                                      ((t.display.maxLine = c),
                                      (t.display.maxLineLength = u),
                                      (t.display.maxLineChanged = !0));
                                  }
                                null != r &&
                                  t &&
                                  this.collapsed &&
                                  hr(t, r, o + 1),
                                  (this.lines.length = 0),
                                  (this.explicitlyCleared = !0),
                                  this.atomic &&
                                    this.doc.cantEdit &&
                                    ((this.doc.cantEdit = !1), t && si(t.doc)),
                                  t && un(t, 'markerCleared', t, this, r, o),
                                  e && Yr(t),
                                  this.parent && this.parent.clear();
                              }
                            }),
                              (Pi.prototype.find = function (t, e) {
                                var n, r;
                                null == t && 'bookmark' == this.type && (t = 1);
                                for (var o = 0; o < this.lines.length; ++o) {
                                  var i = this.lines[o],
                                    a = ke(i.markedSpans, this);
                                  if (
                                    null != a.from &&
                                    ((n = ne(e ? i : Jt(i), a.from)), -1 == t)
                                  )
                                    return n;
                                  if (
                                    null != a.to &&
                                    ((r = ne(e ? i : Jt(i), a.to)), 1 == t)
                                  )
                                    return r;
                                }
                                return (
                                  n && {
                                    from: n,
                                    to: r,
                                  }
                                );
                              }),
                              (Pi.prototype.changed = function () {
                                var t = this,
                                  e = this.find(-1, !0),
                                  n = this,
                                  r = this.doc.cm;
                                e &&
                                  r &&
                                  no(r, function () {
                                    var o = e.line,
                                      i = Jt(e.line),
                                      a = Ln(r, i);
                                    if (
                                      (a &&
                                        (Bn(a),
                                        (r.curOp.selectionChanged =
                                          r.curOp.forceUpdate =
                                            !0)),
                                      (r.curOp.updateMaxLine = !0),
                                      !Ue(n.doc, o) && null != n.height)
                                    ) {
                                      var s = n.height;
                                      n.height = null;
                                      var l = Cn(n) - s;
                                      l && Xt(o, o.height + l);
                                    }
                                    un(r, 'markerChanged', r, t);
                                  });
                              }),
                              (Pi.prototype.attachLine = function (t) {
                                if (!this.lines.length && this.doc.cm) {
                                  var e = this.doc.cm.curOp;
                                  (e.maybeHiddenMarkers &&
                                    -1 != B(e.maybeHiddenMarkers, this)) ||
                                    (
                                      e.maybeUnhiddenMarkers ||
                                      (e.maybeUnhiddenMarkers = [])
                                    ).push(this);
                                }
                                this.lines.push(t);
                              }),
                              (Pi.prototype.detachLine = function (t) {
                                if (
                                  (this.lines.splice(B(this.lines, t), 1),
                                  !this.lines.length && this.doc.cm)
                                ) {
                                  var e = this.doc.cm.curOp;
                                  (
                                    e.maybeHiddenMarkers ||
                                    (e.maybeHiddenMarkers = [])
                                  ).push(this);
                                }
                              }),
                              _t(Pi);
                            var ji = function (t, e) {
                              (this.markers = t), (this.primary = e);
                              for (var n = 0; n < t.length; ++n)
                                t[n].parent = this;
                            };

                            function Mi(t) {
                              return t.findMarks(
                                ne(t.first, 0),
                                t.clipPos(ne(t.lastLine())),
                                function (t) {
                                  return t.parent;
                                }
                              );
                            }

                            function Li(t) {
                              for (
                                var e = function (e) {
                                    var n = t[e],
                                      r = [n.primary.doc];
                                    zo(n.primary.doc, function (t) {
                                      return r.push(t);
                                    });
                                    for (var o = 0; o < n.markers.length; o++) {
                                      var i = n.markers[o];
                                      -1 == B(r, i.doc) &&
                                        ((i.parent = null),
                                        n.markers.splice(o--, 1));
                                    }
                                  },
                                  n = 0;
                                n < t.length;
                                n++
                              )
                                e(n);
                            }
                            (ji.prototype.clear = function () {
                              if (!this.explicitlyCleared) {
                                this.explicitlyCleared = !0;
                                for (var t = 0; t < this.markers.length; ++t)
                                  this.markers[t].clear();
                                un(this, 'clear');
                              }
                            }),
                              (ji.prototype.find = function (t, e) {
                                return this.primary.find(t, e);
                              }),
                              _t(ji);
                            var Di = 0,
                              Ni = function (t, e, n, r, o) {
                                if (!(this instanceof Ni))
                                  return new Ni(t, e, n, r, o);
                                null == n && (n = 0),
                                  Oi.call(this, [new Si([new Ke('', null)])]),
                                  (this.first = n),
                                  (this.scrollTop = this.scrollLeft = 0),
                                  (this.cantEdit = !1),
                                  (this.cleanGeneration = 1),
                                  (this.modeFrontier = this.highlightFrontier =
                                    n);
                                var i = ne(n, 0);
                                (this.sel = Ao(i)),
                                  (this.history = new Ho(null)),
                                  (this.id = ++Di),
                                  (this.modeOption = e),
                                  (this.lineSep = r),
                                  (this.direction = 'rtl' == o ? 'rtl' : 'ltr'),
                                  (this.extend = !1),
                                  'string' == typeof t &&
                                    (t = this.splitLines(t)),
                                  Ro(this, {
                                    from: i,
                                    to: i,
                                    text: t,
                                  }),
                                  oi(this, Ao(i), W);
                              };
                            (Ni.prototype = Q(Oi.prototype, {
                              constructor: Ni,
                              iter: function (t, e, n) {
                                n
                                  ? this.iterN(t - this.first, e - t, n)
                                  : this.iterN(
                                      this.first,
                                      this.first + this.size,
                                      t
                                    );
                              },
                              insert: function (t, e) {
                                for (var n = 0, r = 0; r < e.length; ++r)
                                  n += e[r].height;
                                this.insertInner(t - this.first, e, n);
                              },
                              remove: function (t, e) {
                                this.removeInner(t - this.first, e);
                              },
                              getValue: function (t) {
                                var e = Yt(
                                  this,
                                  this.first,
                                  this.first + this.size
                                );
                                return !1 === t
                                  ? e
                                  : e.join(t || this.lineSeparator());
                              },
                              setValue: io(function (t) {
                                var e = ne(this.first, 0),
                                  n = this.first + this.size - 1;
                                hi(
                                  this,
                                  {
                                    from: e,
                                    to: ne(n, Kt(this, n).text.length),
                                    text: this.splitLines(t),
                                    origin: 'setValue',
                                    full: !0,
                                  },
                                  !0
                                ),
                                  this.cm && Nr(this.cm, 0, 0),
                                  oi(this, Ao(e), W);
                              }),
                              replaceRange: function (t, e, n, r) {
                                bi(
                                  this,
                                  t,
                                  (e = ce(this, e)),
                                  (n = n ? ce(this, n) : e),
                                  r
                                );
                              },
                              getRange: function (t, e, n) {
                                var r = Zt(this, ce(this, t), ce(this, e));
                                return !1 === n
                                  ? r
                                  : '' === n
                                  ? r.join('')
                                  : r.join(n || this.lineSeparator());
                              },
                              getLine: function (t) {
                                var e = this.getLineHandle(t);
                                return e && e.text;
                              },
                              getLineHandle: function (t) {
                                if (te(this, t)) return Kt(this, t);
                              },
                              getLineNumber: function (t) {
                                return Jt(t);
                              },
                              getLineHandleVisualStart: function (t) {
                                return (
                                  'number' == typeof t && (t = Kt(this, t)),
                                  Ve(t)
                                );
                              },
                              lineCount: function () {
                                return this.size;
                              },
                              firstLine: function () {
                                return this.first;
                              },
                              lastLine: function () {
                                return this.first + this.size - 1;
                              },
                              clipPos: function (t) {
                                return ce(this, t);
                              },
                              getCursor: function (t) {
                                var e = this.sel.primary();
                                return null == t || 'head' == t
                                  ? e.head
                                  : 'anchor' == t
                                  ? e.anchor
                                  : 'end' == t || 'to' == t || !1 === t
                                  ? e.to()
                                  : e.from();
                              },
                              listSelections: function () {
                                return this.sel.ranges;
                              },
                              somethingSelected: function () {
                                return this.sel.somethingSelected();
                              },
                              setCursor: io(function (t, e, n) {
                                ni(
                                  this,
                                  ce(
                                    this,
                                    'number' == typeof t ? ne(t, e || 0) : t
                                  ),
                                  null,
                                  n
                                );
                              }),
                              setSelection: io(function (t, e, n) {
                                ni(this, ce(this, t), ce(this, e || t), n);
                              }),
                              extendSelection: io(function (t, e, n) {
                                Qo(this, ce(this, t), e && ce(this, e), n);
                              }),
                              extendSelections: io(function (t, e) {
                                ti(this, ue(this, t), e);
                              }),
                              extendSelectionsBy: io(function (t, e) {
                                ti(this, ue(this, X(this.sel.ranges, t)), e);
                              }),
                              setSelections: io(function (t, e, n) {
                                if (t.length) {
                                  for (var r = [], o = 0; o < t.length; o++)
                                    r[o] = new Eo(
                                      ce(this, t[o].anchor),
                                      ce(this, t[o].head || t[o].anchor)
                                    );
                                  null == e &&
                                    (e = Math.min(
                                      t.length - 1,
                                      this.sel.primIndex
                                    )),
                                    oi(this, Po(this.cm, r, e), n);
                                }
                              }),
                              addSelection: io(function (t, e, n) {
                                var r = this.sel.ranges.slice(0);
                                r.push(new Eo(ce(this, t), ce(this, e || t))),
                                  oi(this, Po(this.cm, r, r.length - 1), n);
                              }),
                              getSelection: function (t) {
                                for (
                                  var e, n = this.sel.ranges, r = 0;
                                  r < n.length;
                                  r++
                                ) {
                                  var o = Zt(this, n[r].from(), n[r].to());
                                  e = e ? e.concat(o) : o;
                                }
                                return !1 === t
                                  ? e
                                  : e.join(t || this.lineSeparator());
                              },
                              getSelections: function (t) {
                                for (
                                  var e = [], n = this.sel.ranges, r = 0;
                                  r < n.length;
                                  r++
                                ) {
                                  var o = Zt(this, n[r].from(), n[r].to());
                                  !1 !== t &&
                                    (o = o.join(t || this.lineSeparator())),
                                    (e[r] = o);
                                }
                                return e;
                              },
                              replaceSelection: function (t, e, n) {
                                for (
                                  var r = [], o = 0;
                                  o < this.sel.ranges.length;
                                  o++
                                )
                                  r[o] = t;
                                this.replaceSelections(r, e, n || '+input');
                              },
                              replaceSelections: io(function (t, e, n) {
                                for (
                                  var r = [], o = this.sel, i = 0;
                                  i < o.ranges.length;
                                  i++
                                ) {
                                  var a = o.ranges[i];
                                  r[i] = {
                                    from: a.from(),
                                    to: a.to(),
                                    text: this.splitLines(t[i]),
                                    origin: n,
                                  };
                                }
                                for (
                                  var s =
                                      e &&
                                      'end' != e &&
                                      (function (t, e, n) {
                                        for (
                                          var r = [],
                                            o = ne(t.first, 0),
                                            i = o,
                                            a = 0;
                                          a < e.length;
                                          a++
                                        ) {
                                          var s = e[a],
                                            l = Do(s.from, o, i),
                                            c = Do(jo(s), o, i);
                                          if (
                                            ((o = s.to), (i = c), 'around' == n)
                                          ) {
                                            var u = t.sel.ranges[a],
                                              p = re(u.head, u.anchor) < 0;
                                            r[a] = new Eo(p ? c : l, p ? l : c);
                                          } else r[a] = new Eo(l, l);
                                        }
                                        return new To(r, t.sel.primIndex);
                                      })(this, r, e),
                                    l = r.length - 1;
                                  l >= 0;
                                  l--
                                )
                                  hi(this, r[l]);
                                s ? ri(this, s) : this.cm && Dr(this.cm);
                              }),
                              undo: io(function () {
                                vi(this, 'undo');
                              }),
                              redo: io(function () {
                                vi(this, 'redo');
                              }),
                              undoSelection: io(function () {
                                vi(this, 'undo', !0);
                              }),
                              redoSelection: io(function () {
                                vi(this, 'redo', !0);
                              }),
                              setExtending: function (t) {
                                this.extend = t;
                              },
                              getExtending: function () {
                                return this.extend;
                              },
                              historySize: function () {
                                for (
                                  var t = this.history, e = 0, n = 0, r = 0;
                                  r < t.done.length;
                                  r++
                                )
                                  t.done[r].ranges || ++e;
                                for (var o = 0; o < t.undone.length; o++)
                                  t.undone[o].ranges || ++n;
                                return {
                                  undo: e,
                                  redo: n,
                                };
                              },
                              clearHistory: function () {
                                var t = this;
                                (this.history = new Ho(this.history)),
                                  zo(
                                    this,
                                    function (e) {
                                      return (e.history = t.history);
                                    },
                                    !0
                                  );
                              },
                              markClean: function () {
                                this.cleanGeneration = this.changeGeneration(
                                  !0
                                );
                              },
                              changeGeneration: function (t) {
                                return (
                                  t &&
                                    (this.history.lastOp =
                                      this.history.lastSelOp =
                                      this.history.lastOrigin =
                                        null),
                                  this.history.generation
                                );
                              },
                              isClean: function (t) {
                                return (
                                  this.history.generation ==
                                  (t || this.cleanGeneration)
                                );
                              },
                              getHistory: function () {
                                return {
                                  done: Xo(this.history.done),
                                  undone: Xo(this.history.undone),
                                };
                              },
                              setHistory: function (t) {
                                var e = (this.history = new Ho(this.history));
                                (e.done = Xo(t.done.slice(0), null, !0)),
                                  (e.undone = Xo(t.undone.slice(0), null, !0));
                              },
                              setGutterMarker: io(function (t, e, n) {
                                return Ci(this, t, 'gutter', function (t) {
                                  var r =
                                    t.gutterMarkers || (t.gutterMarkers = {});
                                  return (
                                    (r[e] = n),
                                    !n && rt(r) && (t.gutterMarkers = null),
                                    !0
                                  );
                                });
                              }),
                              clearGutter: io(function (t) {
                                var e = this;
                                this.iter(function (n) {
                                  n.gutterMarkers &&
                                    n.gutterMarkers[t] &&
                                    Ci(e, n, 'gutter', function () {
                                      return (
                                        (n.gutterMarkers[t] = null),
                                        rt(n.gutterMarkers) &&
                                          (n.gutterMarkers = null),
                                        !0
                                      );
                                    });
                                });
                              }),
                              lineInfo: function (t) {
                                var e;
                                if ('number' == typeof t) {
                                  if (!te(this, t)) return null;
                                  if (((e = t), !(t = Kt(this, t))))
                                    return null;
                                } else if (null == (e = Jt(t))) return null;
                                return {
                                  line: e,
                                  handle: t,
                                  text: t.text,
                                  gutterMarkers: t.gutterMarkers,
                                  textClass: t.textClass,
                                  bgClass: t.bgClass,
                                  wrapClass: t.wrapClass,
                                  widgets: t.widgets,
                                };
                              },
                              addLineClass: io(function (t, e, n) {
                                return Ci(
                                  this,
                                  t,
                                  'gutter' == e ? 'gutter' : 'class',
                                  function (t) {
                                    var r =
                                      'text' == e
                                        ? 'textClass'
                                        : 'background' == e
                                        ? 'bgClass'
                                        : 'gutter' == e
                                        ? 'gutterClass'
                                        : 'wrapClass';
                                    if (t[r]) {
                                      if (O(n).test(t[r])) return !1;
                                      t[r] += ' ' + n;
                                    } else t[r] = n;
                                    return !0;
                                  }
                                );
                              }),
                              removeLineClass: io(function (t, e, n) {
                                return Ci(
                                  this,
                                  t,
                                  'gutter' == e ? 'gutter' : 'class',
                                  function (t) {
                                    var r =
                                        'text' == e
                                          ? 'textClass'
                                          : 'background' == e
                                          ? 'bgClass'
                                          : 'gutter' == e
                                          ? 'gutterClass'
                                          : 'wrapClass',
                                      o = t[r];
                                    if (!o) return !1;
                                    if (null == n) t[r] = null;
                                    else {
                                      var i = o.match(O(n));
                                      if (!i) return !1;
                                      var a = i.index + i[0].length;
                                      t[r] =
                                        o.slice(0, i.index) +
                                          (i.index && a != o.length
                                            ? ' '
                                            : '') +
                                          o.slice(a) || null;
                                    }
                                    return !0;
                                  }
                                );
                              }),
                              addLineWidget: io(function (t, e, n) {
                                return (function (t, e, n, r) {
                                  var o = new ki(t, n, r),
                                    i = t.cm;
                                  return (
                                    i &&
                                      o.noHScroll &&
                                      (i.display.alignWidgets = !0),
                                    Ci(t, e, 'widget', function (e) {
                                      var n = e.widgets || (e.widgets = []);
                                      if (
                                        (null == o.insertAt
                                          ? n.push(o)
                                          : n.splice(
                                              Math.min(
                                                n.length,
                                                Math.max(0, o.insertAt)
                                              ),
                                              0,
                                              o
                                            ),
                                        (o.line = e),
                                        i && !Ue(t, e))
                                      ) {
                                        var r = $e(e) < t.scrollTop;
                                        Xt(e, e.height + Cn(o)),
                                          r && Lr(i, o.height),
                                          (i.curOp.forceUpdate = !0);
                                      }
                                      return !0;
                                    }),
                                    i &&
                                      un(
                                        i,
                                        'lineWidgetAdded',
                                        i,
                                        o,
                                        'number' == typeof e ? e : Jt(e)
                                      ),
                                    o
                                  );
                                })(this, t, e, n);
                              }),
                              removeLineWidget: function (t) {
                                t.clear();
                              },
                              markText: function (t, e, n) {
                                return Ai(
                                  this,
                                  ce(this, t),
                                  ce(this, e),
                                  n,
                                  (n && n.type) || 'range'
                                );
                              },
                              setBookmark: function (t, e) {
                                var n = {
                                  replacedWith:
                                    e && (null == e.nodeType ? e.widget : e),
                                  insertLeft: e && e.insertLeft,
                                  clearWhenEmpty: !1,
                                  shared: e && e.shared,
                                  handleMouseEvents: e && e.handleMouseEvents,
                                };
                                return Ai(
                                  this,
                                  (t = ce(this, t)),
                                  t,
                                  n,
                                  'bookmark'
                                );
                              },
                              findMarksAt: function (t) {
                                var e = [],
                                  n = Kt(
                                    this,
                                    (t = ce(this, t)).line
                                  ).markedSpans;
                                if (n)
                                  for (var r = 0; r < n.length; ++r) {
                                    var o = n[r];
                                    (null == o.from || o.from <= t.ch) &&
                                      (null == o.to || o.to >= t.ch) &&
                                      e.push(o.marker.parent || o.marker);
                                  }
                                return e;
                              },
                              findMarks: function (t, e, n) {
                                (t = ce(this, t)), (e = ce(this, e));
                                var r = [],
                                  o = t.line;
                                return (
                                  this.iter(t.line, e.line + 1, function (i) {
                                    var a = i.markedSpans;
                                    if (a)
                                      for (var s = 0; s < a.length; s++) {
                                        var l = a[s];
                                        (null != l.to &&
                                          o == t.line &&
                                          t.ch >= l.to) ||
                                          (null == l.from && o != t.line) ||
                                          (null != l.from &&
                                            o == e.line &&
                                            l.from >= e.ch) ||
                                          (n && !n(l.marker)) ||
                                          r.push(l.marker.parent || l.marker);
                                      }
                                    ++o;
                                  }),
                                  r
                                );
                              },
                              getAllMarks: function () {
                                var t = [];
                                return (
                                  this.iter(function (e) {
                                    var n = e.markedSpans;
                                    if (n)
                                      for (var r = 0; r < n.length; ++r)
                                        null != n[r].from &&
                                          t.push(n[r].marker);
                                  }),
                                  t
                                );
                              },
                              posFromIndex: function (t) {
                                var e,
                                  n = this.first,
                                  r = this.lineSeparator().length;
                                return (
                                  this.iter(function (o) {
                                    var i = o.text.length + r;
                                    if (i > t) return (e = t), !0;
                                    (t -= i), ++n;
                                  }),
                                  ce(this, ne(n, e))
                                );
                              },
                              indexFromPos: function (t) {
                                var e = (t = ce(this, t)).ch;
                                if (t.line < this.first || t.ch < 0) return 0;
                                var n = this.lineSeparator().length;
                                return (
                                  this.iter(this.first, t.line, function (t) {
                                    e += t.text.length + n;
                                  }),
                                  e
                                );
                              },
                              copy: function (t) {
                                var e = new Ni(
                                  Yt(this, this.first, this.first + this.size),
                                  this.modeOption,
                                  this.first,
                                  this.lineSep,
                                  this.direction
                                );
                                return (
                                  (e.scrollTop = this.scrollTop),
                                  (e.scrollLeft = this.scrollLeft),
                                  (e.sel = this.sel),
                                  (e.extend = !1),
                                  t &&
                                    ((e.history.undoDepth =
                                      this.history.undoDepth),
                                    e.setHistory(this.getHistory())),
                                  e
                                );
                              },
                              linkedDoc: function (t) {
                                t || (t = {});
                                var e = this.first,
                                  n = this.first + this.size;
                                null != t.from && t.from > e && (e = t.from),
                                  null != t.to && t.to < n && (n = t.to);
                                var r = new Ni(
                                  Yt(this, e, n),
                                  t.mode || this.modeOption,
                                  e,
                                  this.lineSep,
                                  this.direction
                                );
                                return (
                                  t.sharedHist && (r.history = this.history),
                                  (this.linked || (this.linked = [])).push({
                                    doc: r,
                                    sharedHist: t.sharedHist,
                                  }),
                                  (r.linked = [
                                    {
                                      doc: this,
                                      isParent: !0,
                                      sharedHist: t.sharedHist,
                                    },
                                  ]),
                                  (function (t, e) {
                                    for (var n = 0; n < e.length; n++) {
                                      var r = e[n],
                                        o = r.find(),
                                        i = t.clipPos(o.from),
                                        a = t.clipPos(o.to);
                                      if (re(i, a)) {
                                        var s = Ai(
                                          t,
                                          i,
                                          a,
                                          r.primary,
                                          r.primary.type
                                        );
                                        r.markers.push(s), (s.parent = r);
                                      }
                                    }
                                  })(r, Mi(this)),
                                  r
                                );
                              },
                              unlinkDoc: function (t) {
                                if (
                                  (t instanceof La && (t = t.doc), this.linked)
                                )
                                  for (var e = 0; e < this.linked.length; ++e)
                                    if (this.linked[e].doc == t) {
                                      this.linked.splice(e, 1),
                                        t.unlinkDoc(this),
                                        Li(Mi(this));
                                      break;
                                    }
                                if (t.history == this.history) {
                                  var n = [t.id];
                                  zo(
                                    t,
                                    function (t) {
                                      return n.push(t.id);
                                    },
                                    !0
                                  ),
                                    (t.history = new Ho(null)),
                                    (t.history.done = Xo(this.history.done, n)),
                                    (t.history.undone = Xo(
                                      this.history.undone,
                                      n
                                    ));
                                }
                              },
                              iterLinkedDocs: function (t) {
                                zo(this, t);
                              },
                              getMode: function () {
                                return this.mode;
                              },
                              getEditor: function () {
                                return this.cm;
                              },
                              splitLines: function (t) {
                                return this.lineSep
                                  ? t.split(this.lineSep)
                                  : Lt(t);
                              },
                              lineSeparator: function () {
                                return this.lineSep || '\n';
                              },
                              setDirection: io(function (t) {
                                'rtl' != t && (t = 'ltr'),
                                  t != this.direction &&
                                    ((this.direction = t),
                                    this.iter(function (t) {
                                      return (t.order = null);
                                    }),
                                    this.cm &&
                                      (function (t) {
                                        no(t, function () {
                                          Bo(t), hr(t);
                                        });
                                      })(this.cm));
                              }),
                            })),
                              (Ni.prototype.eachLine = Ni.prototype.iter);
                            var Ii = 0;

                            function Fi(t) {
                              var e = this;
                              if ((Ri(e), !mt(e, t) && !Sn(e.display, t))) {
                                wt(t), a && (Ii = +new Date());
                                var n = dr(e, t, !0),
                                  r = t.dataTransfer.files;
                                if (n && !e.isReadOnly())
                                  if (
                                    r &&
                                    r.length &&
                                    window.FileReader &&
                                    window.File
                                  )
                                    for (
                                      var o = r.length,
                                        i = Array(o),
                                        s = 0,
                                        l = function () {
                                          ++s == o &&
                                            ro(e, function () {
                                              var t = {
                                                from: (n = ce(e.doc, n)),
                                                to: n,
                                                text: e.doc.splitLines(
                                                  i
                                                    .filter(function (t) {
                                                      return null != t;
                                                    })
                                                    .join(e.doc.lineSeparator())
                                                ),
                                                origin: 'paste',
                                              };
                                              hi(e.doc, t),
                                                ri(
                                                  e.doc,
                                                  Ao(
                                                    ce(e.doc, n),
                                                    ce(e.doc, jo(t))
                                                  )
                                                );
                                            })();
                                        },
                                        c = function (t, n) {
                                          if (
                                            e.options.allowDropFileTypes &&
                                            -1 ==
                                              B(
                                                e.options.allowDropFileTypes,
                                                t.type
                                              )
                                          )
                                            l();
                                          else {
                                            var r = new FileReader();
                                            (r.onerror = function () {
                                              return l();
                                            }),
                                              (r.onload = function () {
                                                var t = r.result;
                                                /[\x00-\x08\x0e-\x1f]{2}/.test(
                                                  t
                                                ) || (i[n] = t),
                                                  l();
                                              }),
                                              r.readAsText(t);
                                          }
                                        },
                                        u = 0;
                                      u < r.length;
                                      u++
                                    )
                                      c(r[u], u);
                                  else {
                                    if (
                                      e.state.draggingText &&
                                      e.doc.sel.contains(n) > -1
                                    )
                                      return (
                                        e.state.draggingText(t),
                                        void setTimeout(function () {
                                          return e.display.input.focus();
                                        }, 20)
                                      );
                                    try {
                                      var p = t.dataTransfer.getData('Text');
                                      if (p) {
                                        var d;
                                        if (
                                          (e.state.draggingText &&
                                            !e.state.draggingText.copy &&
                                            (d = e.listSelections()),
                                          ii(e.doc, Ao(n, n)),
                                          d)
                                        )
                                          for (var f = 0; f < d.length; ++f)
                                            bi(
                                              e.doc,
                                              '',
                                              d[f].anchor,
                                              d[f].head,
                                              'drag'
                                            );
                                        e.replaceSelection(
                                          p,
                                          'around',
                                          'paste'
                                        ),
                                          e.display.input.focus();
                                      }
                                    } catch (t) {}
                                  }
                              }
                            }

                            function Ri(t) {
                              t.display.dragCursor &&
                                (t.display.lineSpace.removeChild(
                                  t.display.dragCursor
                                ),
                                (t.display.dragCursor = null));
                            }

                            function zi(t) {
                              if (document.getElementsByClassName) {
                                for (
                                  var e =
                                      document.getElementsByClassName(
                                        'CodeMirror'
                                      ),
                                    n = [],
                                    r = 0;
                                  r < e.length;
                                  r++
                                ) {
                                  var o = e[r].CodeMirror;
                                  o && n.push(o);
                                }
                                n.length &&
                                  n[0].operation(function () {
                                    for (var e = 0; e < n.length; e++) t(n[e]);
                                  });
                              }
                            }
                            var Vi = !1;

                            function Bi() {
                              Vi ||
                                ((function () {
                                  var t;
                                  ft(window, 'resize', function () {
                                    null == t &&
                                      (t = setTimeout(function () {
                                        (t = null), zi(Hi);
                                      }, 100));
                                  }),
                                    ft(window, 'blur', function () {
                                      return zi(Er);
                                    });
                                })(),
                                (Vi = !0));
                            }

                            function Hi(t) {
                              var e = t.display;
                              (e.cachedCharWidth =
                                e.cachedTextHeight =
                                e.cachedPaddingH =
                                  null),
                                (e.scrollbarsClipped = !1),
                                t.setSize();
                            }
                            for (
                              var Ui = {
                                  3: 'Pause',
                                  8: 'Backspace',
                                  9: 'Tab',
                                  13: 'Enter',
                                  16: 'Shift',
                                  17: 'Ctrl',
                                  18: 'Alt',
                                  19: 'Pause',
                                  20: 'CapsLock',
                                  27: 'Esc',
                                  32: 'Space',
                                  33: 'PageUp',
                                  34: 'PageDown',
                                  35: 'End',
                                  36: 'Home',
                                  37: 'Left',
                                  38: 'Up',
                                  39: 'Right',
                                  40: 'Down',
                                  44: 'PrintScrn',
                                  45: 'Insert',
                                  46: 'Delete',
                                  59: ';',
                                  61: '=',
                                  91: 'Mod',
                                  92: 'Mod',
                                  93: 'Mod',
                                  106: '*',
                                  107: '=',
                                  109: '-',
                                  110: '.',
                                  111: '/',
                                  145: 'ScrollLock',
                                  173: '-',
                                  186: ';',
                                  187: '=',
                                  188: ',',
                                  189: '-',
                                  190: '.',
                                  191: '/',
                                  192: '`',
                                  219: '[',
                                  220: '\\',
                                  221: ']',
                                  222: "'",
                                  224: 'Mod',
                                  63232: 'Up',
                                  63233: 'Down',
                                  63234: 'Left',
                                  63235: 'Right',
                                  63272: 'Delete',
                                  63273: 'Home',
                                  63275: 'End',
                                  63276: 'PageUp',
                                  63277: 'PageDown',
                                  63302: 'Insert',
                                },
                                Wi = 0;
                              Wi < 10;
                              Wi++
                            )
                              Ui[Wi + 48] = Ui[Wi + 96] = String(Wi);
                            for (var $i = 65; $i <= 90; $i++)
                              Ui[$i] = String.fromCharCode($i);
                            for (var Gi = 1; Gi <= 12; Gi++)
                              Ui[Gi + 111] = Ui[Gi + 63235] = 'F' + Gi;
                            var qi = {};

                            function Ki(t) {
                              var e,
                                n,
                                r,
                                o,
                                i = t.split(/-(?!$)/);
                              t = i[i.length - 1];
                              for (var a = 0; a < i.length - 1; a++) {
                                var s = i[a];
                                if (/^(cmd|meta|m)$/i.test(s)) o = !0;
                                else if (/^a(lt)?$/i.test(s)) e = !0;
                                else if (/^(c|ctrl|control)$/i.test(s)) n = !0;
                                else {
                                  if (!/^s(hift)?$/i.test(s))
                                    throw new Error(
                                      'Unrecognized modifier name: ' + s
                                    );
                                  r = !0;
                                }
                              }
                              return (
                                e && (t = 'Alt-' + t),
                                n && (t = 'Ctrl-' + t),
                                o && (t = 'Cmd-' + t),
                                r && (t = 'Shift-' + t),
                                t
                              );
                            }

                            function Zi(t) {
                              var e = {};
                              for (var n in t)
                                if (t.hasOwnProperty(n)) {
                                  var r = t[n];
                                  if (
                                    /^(name|fallthrough|(de|at)tach)$/.test(n)
                                  )
                                    continue;
                                  if ('...' == r) {
                                    delete t[n];
                                    continue;
                                  }
                                  for (
                                    var o = X(n.split(' '), Ki), i = 0;
                                    i < o.length;
                                    i++
                                  ) {
                                    var a = void 0,
                                      s = void 0;
                                    i == o.length - 1
                                      ? ((s = o.join(' ')), (a = r))
                                      : ((s = o.slice(0, i + 1).join(' ')),
                                        (a = '...'));
                                    var l = e[s];
                                    if (l) {
                                      if (l != a)
                                        throw new Error(
                                          'Inconsistent bindings for ' + s
                                        );
                                    } else e[s] = a;
                                  }
                                  delete t[n];
                                }
                              for (var c in e) t[c] = e[c];
                              return t;
                            }

                            function Yi(t, e, n, r) {
                              var o = (e = ta(e)).call ? e.call(t, r) : e[t];
                              if (!1 === o) return 'nothing';
                              if ('...' === o) return 'multi';
                              if (null != o && n(o)) return 'handled';
                              if (e.fallthrough) {
                                if (
                                  '[object Array]' !=
                                  Object.prototype.toString.call(e.fallthrough)
                                )
                                  return Yi(t, e.fallthrough, n, r);
                                for (var i = 0; i < e.fallthrough.length; i++) {
                                  var a = Yi(t, e.fallthrough[i], n, r);
                                  if (a) return a;
                                }
                              }
                            }

                            function Xi(t) {
                              var e = 'string' == typeof t ? t : Ui[t.keyCode];
                              return (
                                'Ctrl' == e ||
                                'Alt' == e ||
                                'Shift' == e ||
                                'Mod' == e
                              );
                            }

                            function Ji(t, e, n) {
                              var r = t;
                              return (
                                e.altKey && 'Alt' != r && (t = 'Alt-' + t),
                                (C ? e.metaKey : e.ctrlKey) &&
                                  'Ctrl' != r &&
                                  (t = 'Ctrl-' + t),
                                (C ? e.ctrlKey : e.metaKey) &&
                                  'Mod' != r &&
                                  (t = 'Cmd-' + t),
                                !n &&
                                  e.shiftKey &&
                                  'Shift' != r &&
                                  (t = 'Shift-' + t),
                                t
                              );
                            }

                            function Qi(t, e) {
                              if (d && 34 == t.keyCode && t['char']) return !1;
                              var n = Ui[t.keyCode];
                              return (
                                null != n &&
                                !t.altGraphKey &&
                                (3 == t.keyCode && t.code && (n = t.code),
                                Ji(n, t, e))
                              );
                            }

                            function ta(t) {
                              return 'string' == typeof t ? qi[t] : t;
                            }

                            function ea(t, e) {
                              for (
                                var n = t.doc.sel.ranges, r = [], o = 0;
                                o < n.length;
                                o++
                              ) {
                                for (
                                  var i = e(n[o]);
                                  r.length && re(i.from, Y(r).to) <= 0;

                                ) {
                                  var a = r.pop();
                                  if (re(a.from, i.from) < 0) {
                                    i.from = a.from;
                                    break;
                                  }
                                }
                                r.push(i);
                              }
                              no(t, function () {
                                for (var e = r.length - 1; e >= 0; e--)
                                  bi(t.doc, '', r[e].from, r[e].to, '+delete');
                                Dr(t);
                              });
                            }

                            function na(t, e, n) {
                              var r = at(t.text, e + n, n);
                              return r < 0 || r > t.text.length ? null : r;
                            }

                            function ra(t, e, n) {
                              var r = na(t, e.ch, n);
                              return null == r
                                ? null
                                : new ne(e.line, r, n < 0 ? 'after' : 'before');
                            }

                            function oa(t, e, n, r, o) {
                              if (t) {
                                'rtl' == e.doc.direction && (o = -o);
                                var i = pt(n, e.doc.direction);
                                if (i) {
                                  var a,
                                    s = o < 0 ? Y(i) : i[0],
                                    l =
                                      o < 0 == (1 == s.level)
                                        ? 'after'
                                        : 'before';
                                  if (s.level > 0 || 'rtl' == e.doc.direction) {
                                    var c = Dn(e, n);
                                    a = o < 0 ? n.text.length - 1 : 0;
                                    var u = Nn(e, c, a).top;
                                    (a = st(
                                      function (t) {
                                        return Nn(e, c, t).top == u;
                                      },
                                      o < 0 == (1 == s.level)
                                        ? s.from
                                        : s.to - 1,
                                      a
                                    )),
                                      'before' == l && (a = na(n, a, 1));
                                  } else a = o < 0 ? s.to : s.from;
                                  return new ne(r, a, l);
                                }
                              }
                              return new ne(
                                r,
                                o < 0 ? n.text.length : 0,
                                o < 0 ? 'before' : 'after'
                              );
                            }
                            (qi.basic = {
                              Left: 'goCharLeft',
                              Right: 'goCharRight',
                              Up: 'goLineUp',
                              Down: 'goLineDown',
                              End: 'goLineEnd',
                              Home: 'goLineStartSmart',
                              PageUp: 'goPageUp',
                              PageDown: 'goPageDown',
                              Delete: 'delCharAfter',
                              Backspace: 'delCharBefore',
                              'Shift-Backspace': 'delCharBefore',
                              Tab: 'defaultTab',
                              'Shift-Tab': 'indentAuto',
                              Enter: 'newlineAndIndent',
                              Insert: 'toggleOverwrite',
                              Esc: 'singleSelection',
                            }),
                              (qi.pcDefault = {
                                'Ctrl-A': 'selectAll',
                                'Ctrl-D': 'deleteLine',
                                'Ctrl-Z': 'undo',
                                'Shift-Ctrl-Z': 'redo',
                                'Ctrl-Y': 'redo',
                                'Ctrl-Home': 'goDocStart',
                                'Ctrl-End': 'goDocEnd',
                                'Ctrl-Up': 'goLineUp',
                                'Ctrl-Down': 'goLineDown',
                                'Ctrl-Left': 'goGroupLeft',
                                'Ctrl-Right': 'goGroupRight',
                                'Alt-Left': 'goLineStart',
                                'Alt-Right': 'goLineEnd',
                                'Ctrl-Backspace': 'delGroupBefore',
                                'Ctrl-Delete': 'delGroupAfter',
                                'Ctrl-S': 'save',
                                'Ctrl-F': 'find',
                                'Ctrl-G': 'findNext',
                                'Shift-Ctrl-G': 'findPrev',
                                'Shift-Ctrl-F': 'replace',
                                'Shift-Ctrl-R': 'replaceAll',
                                'Ctrl-[': 'indentLess',
                                'Ctrl-]': 'indentMore',
                                'Ctrl-U': 'undoSelection',
                                'Shift-Ctrl-U': 'redoSelection',
                                'Alt-U': 'redoSelection',
                                fallthrough: 'basic',
                              }),
                              (qi.emacsy = {
                                'Ctrl-F': 'goCharRight',
                                'Ctrl-B': 'goCharLeft',
                                'Ctrl-P': 'goLineUp',
                                'Ctrl-N': 'goLineDown',
                                'Ctrl-A': 'goLineStart',
                                'Ctrl-E': 'goLineEnd',
                                'Ctrl-V': 'goPageDown',
                                'Shift-Ctrl-V': 'goPageUp',
                                'Ctrl-D': 'delCharAfter',
                                'Ctrl-H': 'delCharBefore',
                                'Alt-Backspace': 'delWordBefore',
                                'Ctrl-K': 'killLine',
                                'Ctrl-T': 'transposeChars',
                                'Ctrl-O': 'openLine',
                              }),
                              (qi.macDefault = {
                                'Cmd-A': 'selectAll',
                                'Cmd-D': 'deleteLine',
                                'Cmd-Z': 'undo',
                                'Shift-Cmd-Z': 'redo',
                                'Cmd-Y': 'redo',
                                'Cmd-Home': 'goDocStart',
                                'Cmd-Up': 'goDocStart',
                                'Cmd-End': 'goDocEnd',
                                'Cmd-Down': 'goDocEnd',
                                'Alt-Left': 'goGroupLeft',
                                'Alt-Right': 'goGroupRight',
                                'Cmd-Left': 'goLineLeft',
                                'Cmd-Right': 'goLineRight',
                                'Alt-Backspace': 'delGroupBefore',
                                'Ctrl-Alt-Backspace': 'delGroupAfter',
                                'Alt-Delete': 'delGroupAfter',
                                'Cmd-S': 'save',
                                'Cmd-F': 'find',
                                'Cmd-G': 'findNext',
                                'Shift-Cmd-G': 'findPrev',
                                'Cmd-Alt-F': 'replace',
                                'Shift-Cmd-Alt-F': 'replaceAll',
                                'Cmd-[': 'indentLess',
                                'Cmd-]': 'indentMore',
                                'Cmd-Backspace': 'delWrappedLineLeft',
                                'Cmd-Delete': 'delWrappedLineRight',
                                'Cmd-U': 'undoSelection',
                                'Shift-Cmd-U': 'redoSelection',
                                'Ctrl-Up': 'goDocStart',
                                'Ctrl-Down': 'goDocEnd',
                                fallthrough: ['basic', 'emacsy'],
                              }),
                              (qi['default'] = b
                                ? qi.macDefault
                                : qi.pcDefault);
                            var ia = {
                              selectAll: di,
                              singleSelection: function (t) {
                                return t.setSelection(
                                  t.getCursor('anchor'),
                                  t.getCursor('head'),
                                  W
                                );
                              },
                              killLine: function (t) {
                                return ea(t, function (e) {
                                  if (e.empty()) {
                                    var n = Kt(t.doc, e.head.line).text.length;
                                    return e.head.ch == n &&
                                      e.head.line < t.lastLine()
                                      ? {
                                          from: e.head,
                                          to: ne(e.head.line + 1, 0),
                                        }
                                      : {
                                          from: e.head,
                                          to: ne(e.head.line, n),
                                        };
                                  }
                                  return {
                                    from: e.from(),
                                    to: e.to(),
                                  };
                                });
                              },
                              deleteLine: function (t) {
                                return ea(t, function (e) {
                                  return {
                                    from: ne(e.from().line, 0),
                                    to: ce(t.doc, ne(e.to().line + 1, 0)),
                                  };
                                });
                              },
                              delLineLeft: function (t) {
                                return ea(t, function (t) {
                                  return {
                                    from: ne(t.from().line, 0),
                                    to: t.from(),
                                  };
                                });
                              },
                              delWrappedLineLeft: function (t) {
                                return ea(t, function (e) {
                                  var n = t.charCoords(e.head, 'div').top + 5;
                                  return {
                                    from: t.coordsChar(
                                      {
                                        left: 0,
                                        top: n,
                                      },
                                      'div'
                                    ),
                                    to: e.from(),
                                  };
                                });
                              },
                              delWrappedLineRight: function (t) {
                                return ea(t, function (e) {
                                  var n = t.charCoords(e.head, 'div').top + 5,
                                    r = t.coordsChar(
                                      {
                                        left:
                                          t.display.lineDiv.offsetWidth + 100,
                                        top: n,
                                      },
                                      'div'
                                    );
                                  return {
                                    from: e.from(),
                                    to: r,
                                  };
                                });
                              },
                              undo: function (t) {
                                return t.undo();
                              },
                              redo: function (t) {
                                return t.redo();
                              },
                              undoSelection: function (t) {
                                return t.undoSelection();
                              },
                              redoSelection: function (t) {
                                return t.redoSelection();
                              },
                              goDocStart: function (t) {
                                return t.extendSelection(ne(t.firstLine(), 0));
                              },
                              goDocEnd: function (t) {
                                return t.extendSelection(ne(t.lastLine()));
                              },
                              goLineStart: function (t) {
                                return t.extendSelectionsBy(
                                  function (e) {
                                    return aa(t, e.head.line);
                                  },
                                  {
                                    origin: '+move',
                                    bias: 1,
                                  }
                                );
                              },
                              goLineStartSmart: function (t) {
                                return t.extendSelectionsBy(
                                  function (e) {
                                    return sa(t, e.head);
                                  },
                                  {
                                    origin: '+move',
                                    bias: 1,
                                  }
                                );
                              },
                              goLineEnd: function (t) {
                                return t.extendSelectionsBy(
                                  function (e) {
                                    return (function (t, e) {
                                      var n = Kt(t.doc, e),
                                        r = (function (t) {
                                          for (var e; (e = Fe(t)); )
                                            t = e.find(1, !0).line;
                                          return t;
                                        })(n);
                                      return (
                                        r != n && (e = Jt(r)),
                                        oa(!0, t, n, e, -1)
                                      );
                                    })(t, e.head.line);
                                  },
                                  {
                                    origin: '+move',
                                    bias: -1,
                                  }
                                );
                              },
                              goLineRight: function (t) {
                                return t.extendSelectionsBy(function (e) {
                                  var n = t.cursorCoords(e.head, 'div').top + 5;
                                  return t.coordsChar(
                                    {
                                      left: t.display.lineDiv.offsetWidth + 100,
                                      top: n,
                                    },
                                    'div'
                                  );
                                }, G);
                              },
                              goLineLeft: function (t) {
                                return t.extendSelectionsBy(function (e) {
                                  var n = t.cursorCoords(e.head, 'div').top + 5;
                                  return t.coordsChar(
                                    {
                                      left: 0,
                                      top: n,
                                    },
                                    'div'
                                  );
                                }, G);
                              },
                              goLineLeftSmart: function (t) {
                                return t.extendSelectionsBy(function (e) {
                                  var n = t.cursorCoords(e.head, 'div').top + 5,
                                    r = t.coordsChar(
                                      {
                                        left: 0,
                                        top: n,
                                      },
                                      'div'
                                    );
                                  return r.ch < t.getLine(r.line).search(/\S/)
                                    ? sa(t, e.head)
                                    : r;
                                }, G);
                              },
                              goLineUp: function (t) {
                                return t.moveV(-1, 'line');
                              },
                              goLineDown: function (t) {
                                return t.moveV(1, 'line');
                              },
                              goPageUp: function (t) {
                                return t.moveV(-1, 'page');
                              },
                              goPageDown: function (t) {
                                return t.moveV(1, 'page');
                              },
                              goCharLeft: function (t) {
                                return t.moveH(-1, 'char');
                              },
                              goCharRight: function (t) {
                                return t.moveH(1, 'char');
                              },
                              goColumnLeft: function (t) {
                                return t.moveH(-1, 'column');
                              },
                              goColumnRight: function (t) {
                                return t.moveH(1, 'column');
                              },
                              goWordLeft: function (t) {
                                return t.moveH(-1, 'word');
                              },
                              goGroupRight: function (t) {
                                return t.moveH(1, 'group');
                              },
                              goGroupLeft: function (t) {
                                return t.moveH(-1, 'group');
                              },
                              goWordRight: function (t) {
                                return t.moveH(1, 'word');
                              },
                              delCharBefore: function (t) {
                                return t.deleteH(-1, 'codepoint');
                              },
                              delCharAfter: function (t) {
                                return t.deleteH(1, 'char');
                              },
                              delWordBefore: function (t) {
                                return t.deleteH(-1, 'word');
                              },
                              delWordAfter: function (t) {
                                return t.deleteH(1, 'word');
                              },
                              delGroupBefore: function (t) {
                                return t.deleteH(-1, 'group');
                              },
                              delGroupAfter: function (t) {
                                return t.deleteH(1, 'group');
                              },
                              indentAuto: function (t) {
                                return t.indentSelection('smart');
                              },
                              indentMore: function (t) {
                                return t.indentSelection('add');
                              },
                              indentLess: function (t) {
                                return t.indentSelection('subtract');
                              },
                              insertTab: function (t) {
                                return t.replaceSelection('\t');
                              },
                              insertSoftTab: function (t) {
                                for (
                                  var e = [],
                                    n = t.listSelections(),
                                    r = t.options.tabSize,
                                    o = 0;
                                  o < n.length;
                                  o++
                                ) {
                                  var i = n[o].from(),
                                    a = z(t.getLine(i.line), i.ch, r);
                                  e.push(Z(r - (a % r)));
                                }
                                t.replaceSelections(e);
                              },
                              defaultTab: function (t) {
                                t.somethingSelected()
                                  ? t.indentSelection('add')
                                  : t.execCommand('insertTab');
                              },
                              transposeChars: function (t) {
                                return no(t, function () {
                                  for (
                                    var e = t.listSelections(), n = [], r = 0;
                                    r < e.length;
                                    r++
                                  )
                                    if (e[r].empty()) {
                                      var o = e[r].head,
                                        i = Kt(t.doc, o.line).text;
                                      if (i)
                                        if (
                                          (o.ch == i.length &&
                                            (o = new ne(o.line, o.ch - 1)),
                                          o.ch > 0)
                                        )
                                          (o = new ne(o.line, o.ch + 1)),
                                            t.replaceRange(
                                              i.charAt(o.ch - 1) +
                                                i.charAt(o.ch - 2),
                                              ne(o.line, o.ch - 2),
                                              o,
                                              '+transpose'
                                            );
                                        else if (o.line > t.doc.first) {
                                          var a = Kt(t.doc, o.line - 1).text;
                                          a &&
                                            ((o = new ne(o.line, 1)),
                                            t.replaceRange(
                                              i.charAt(0) +
                                                t.doc.lineSeparator() +
                                                a.charAt(a.length - 1),
                                              ne(o.line - 1, a.length - 1),
                                              o,
                                              '+transpose'
                                            ));
                                        }
                                      n.push(new Eo(o, o));
                                    }
                                  t.setSelections(n);
                                });
                              },
                              newlineAndIndent: function (t) {
                                return no(t, function () {
                                  for (
                                    var e = t.listSelections(),
                                      n = e.length - 1;
                                    n >= 0;
                                    n--
                                  )
                                    t.replaceRange(
                                      t.doc.lineSeparator(),
                                      e[n].anchor,
                                      e[n].head,
                                      '+input'
                                    );
                                  e = t.listSelections();
                                  for (var r = 0; r < e.length; r++)
                                    t.indentLine(e[r].from().line, null, !0);
                                  Dr(t);
                                });
                              },
                              openLine: function (t) {
                                return t.replaceSelection('\n', 'start');
                              },
                              toggleOverwrite: function (t) {
                                return t.toggleOverwrite();
                              },
                            };

                            function aa(t, e) {
                              var n = Kt(t.doc, e),
                                r = Ve(n);
                              return r != n && (e = Jt(r)), oa(!0, t, r, e, 1);
                            }

                            function sa(t, e) {
                              var n = aa(t, e.line),
                                r = Kt(t.doc, n.line),
                                o = pt(r, t.doc.direction);
                              if (!o || 0 == o[0].level) {
                                var i = Math.max(n.ch, r.text.search(/\S/)),
                                  a = e.line == n.line && e.ch <= i && e.ch;
                                return ne(n.line, a ? 0 : i, n.sticky);
                              }
                              return n;
                            }

                            function la(t, e, n) {
                              if ('string' == typeof e && !(e = ia[e]))
                                return !1;
                              t.display.input.ensurePolled();
                              var r = t.display.shift,
                                o = !1;
                              try {
                                t.isReadOnly() && (t.state.suppressEdits = !0),
                                  n && (t.display.shift = !1),
                                  (o = e(t) != U);
                              } finally {
                                (t.display.shift = r),
                                  (t.state.suppressEdits = !1);
                              }
                              return o;
                            }
                            var ca = new V();

                            function ua(t, e, n, r) {
                              var o = t.state.keySeq;
                              if (o) {
                                if (Xi(e)) return 'handled';
                                if (
                                  (/\'$/.test(e)
                                    ? (t.state.keySeq = null)
                                    : ca.set(50, function () {
                                        t.state.keySeq == o &&
                                          ((t.state.keySeq = null),
                                          t.display.input.reset());
                                      }),
                                  pa(t, o + ' ' + e, n, r))
                                )
                                  return !0;
                              }
                              return pa(t, e, n, r);
                            }

                            function pa(t, e, n, r) {
                              var o = (function (t, e, n) {
                                for (
                                  var r = 0;
                                  r < t.state.keyMaps.length;
                                  r++
                                ) {
                                  var o = Yi(e, t.state.keyMaps[r], n, t);
                                  if (o) return o;
                                }
                                return (
                                  (t.options.extraKeys &&
                                    Yi(e, t.options.extraKeys, n, t)) ||
                                  Yi(e, t.options.keyMap, n, t)
                                );
                              })(t, e, r);
                              return (
                                'multi' == o && (t.state.keySeq = e),
                                'handled' == o && un(t, 'keyHandled', t, e, n),
                                ('handled' != o && 'multi' != o) ||
                                  (wt(n), Sr(t)),
                                !!o
                              );
                            }

                            function da(t, e) {
                              var n = Qi(e, !0);
                              return (
                                !!n &&
                                (e.shiftKey && !t.state.keySeq
                                  ? ua(t, 'Shift-' + n, e, function (e) {
                                      return la(t, e, !0);
                                    }) ||
                                    ua(t, n, e, function (e) {
                                      if (
                                        'string' == typeof e
                                          ? /^go[A-Z]/.test(e)
                                          : e.motion
                                      )
                                        return la(t, e);
                                    })
                                  : ua(t, n, e, function (e) {
                                      return la(t, e);
                                    }))
                              );
                            }
                            var fa = null;

                            function ha(t) {
                              var e = this;
                              if (
                                !(
                                  (t.target &&
                                    t.target != e.display.input.getField()) ||
                                  ((e.curOp.focus = L()), mt(e, t))
                                )
                              ) {
                                a &&
                                  s < 11 &&
                                  27 == t.keyCode &&
                                  (t.returnValue = !1);
                                var r = t.keyCode;
                                e.display.shift = 16 == r || t.shiftKey;
                                var o = da(e, t);
                                d &&
                                  ((fa = o ? r : null),
                                  o ||
                                    88 != r ||
                                    Nt ||
                                    !(b ? t.metaKey : t.ctrlKey) ||
                                    e.replaceSelection('', null, 'cut')),
                                  n &&
                                    !b &&
                                    !o &&
                                    46 == r &&
                                    t.shiftKey &&
                                    !t.ctrlKey &&
                                    document.execCommand &&
                                    document.execCommand('cut'),
                                  18 != r ||
                                    /\bCodeMirror-crosshair\b/.test(
                                      e.display.lineDiv.className
                                    ) ||
                                    (function (t) {
                                      var e = t.display.lineDiv;

                                      function n(t) {
                                        (18 != t.keyCode && t.altKey) ||
                                          (T(e, 'CodeMirror-crosshair'),
                                          gt(document, 'keyup', n),
                                          gt(document, 'mouseover', n));
                                      }
                                      D(e, 'CodeMirror-crosshair'),
                                        ft(document, 'keyup', n),
                                        ft(document, 'mouseover', n);
                                    })(e);
                              }
                            }

                            function ga(t) {
                              16 == t.keyCode && (this.doc.sel.shift = !1),
                                mt(this, t);
                            }

                            function va(t) {
                              var e = this;
                              if (
                                !(
                                  (t.target &&
                                    t.target != e.display.input.getField()) ||
                                  Sn(e.display, t) ||
                                  mt(e, t) ||
                                  (t.ctrlKey && !t.altKey) ||
                                  (b && t.metaKey)
                                )
                              ) {
                                var n = t.keyCode,
                                  r = t.charCode;
                                if (d && n == fa)
                                  return (fa = null), void wt(t);
                                if (
                                  !d ||
                                  (t.which && !(t.which < 10)) ||
                                  !da(e, t)
                                ) {
                                  var o = String.fromCharCode(
                                    null == r ? n : r
                                  );
                                  '\b' != o &&
                                    ((function (t, e, n) {
                                      return ua(
                                        t,
                                        "'" + n + "'",
                                        e,
                                        function (e) {
                                          return la(t, e, !0);
                                        }
                                      );
                                    })(e, t, o) ||
                                      e.display.input.onKeyPress(t));
                                }
                              }
                            }
                            var ma,
                              ya,
                              ba = 400,
                              _a = function (t, e, n) {
                                (this.time = t),
                                  (this.pos = e),
                                  (this.button = n);
                              };

                            function wa(t) {
                              var e = this,
                                n = e.display;
                              if (
                                !(
                                  mt(e, t) ||
                                  (n.activeTouch && n.input.supportsTouch())
                                )
                              )
                                if (
                                  (n.input.ensurePolled(),
                                  (n.shift = t.shiftKey),
                                  Sn(n, t))
                                )
                                  l ||
                                    ((n.scroller.draggable = !1),
                                    setTimeout(function () {
                                      return (n.scroller.draggable = !0);
                                    }, 100));
                                else if (!Oa(e, t)) {
                                  var r = dr(e, t),
                                    o = kt(t),
                                    i = r
                                      ? (function (t, e) {
                                          var n = +new Date();
                                          return ya && ya.compare(n, t, e)
                                            ? ((ma = ya = null), 'triple')
                                            : ma && ma.compare(n, t, e)
                                            ? ((ya = new _a(n, t, e)),
                                              (ma = null),
                                              'double')
                                            : ((ma = new _a(n, t, e)),
                                              (ya = null),
                                              'single');
                                        })(r, o)
                                      : 'single';
                                  window.focus(),
                                    1 == o &&
                                      e.state.selectingText &&
                                      e.state.selectingText(t),
                                    (r &&
                                      (function (t, e, n, r, o) {
                                        var i = 'Click';
                                        return (
                                          'double' == r
                                            ? (i = 'Double' + i)
                                            : 'triple' == r &&
                                              (i = 'Triple' + i),
                                          ua(
                                            t,
                                            Ji(
                                              (i =
                                                (1 == e
                                                  ? 'Left'
                                                  : 2 == e
                                                  ? 'Middle'
                                                  : 'Right') + i),
                                              o
                                            ),
                                            o,
                                            function (e) {
                                              if (
                                                ('string' == typeof e &&
                                                  (e = ia[e]),
                                                !e)
                                              )
                                                return !1;
                                              var r = !1;
                                              try {
                                                t.isReadOnly() &&
                                                  (t.state.suppressEdits = !0),
                                                  (r = e(t, n) != U);
                                              } finally {
                                                t.state.suppressEdits = !1;
                                              }
                                              return r;
                                            }
                                          )
                                        );
                                      })(e, o, r, i, t)) ||
                                      (1 == o
                                        ? r
                                          ? (function (t, e, n, r) {
                                              a
                                                ? setTimeout(F(Or, t), 0)
                                                : (t.curOp.focus = L());
                                              var o,
                                                i = (function (t, e, n) {
                                                  var r =
                                                      t.getOption(
                                                        'configureMouse'
                                                      ),
                                                    o = r ? r(t, e, n) : {};
                                                  if (null == o.unit) {
                                                    var i = _
                                                      ? n.shiftKey && n.metaKey
                                                      : n.altKey;
                                                    o.unit = i
                                                      ? 'rectangle'
                                                      : 'single' == e
                                                      ? 'char'
                                                      : 'double' == e
                                                      ? 'word'
                                                      : 'line';
                                                  }
                                                  return (
                                                    (null == o.extend ||
                                                      t.doc.extend) &&
                                                      (o.extend =
                                                        t.doc.extend ||
                                                        n.shiftKey),
                                                    null == o.addNew &&
                                                      (o.addNew = b
                                                        ? n.metaKey
                                                        : n.ctrlKey),
                                                    null == o.moveOnDrag &&
                                                      (o.moveOnDrag = !(b
                                                        ? n.altKey
                                                        : n.ctrlKey)),
                                                    o
                                                  );
                                                })(t, n, r),
                                                s = t.doc.sel;
                                              t.options.dragDrop &&
                                              Pt &&
                                              !t.isReadOnly() &&
                                              'single' == n &&
                                              (o = s.contains(e)) > -1 &&
                                              (re((o = s.ranges[o]).from(), e) <
                                                0 ||
                                                e.xRel > 0) &&
                                              (re(o.to(), e) > 0 || e.xRel < 0)
                                                ? xa(t, r, e, i)
                                                : (function (t, e, n, r) {
                                                    a && kr(t);
                                                    var o = t.display,
                                                      i = t.doc;
                                                    wt(e);
                                                    var s,
                                                      l,
                                                      c = i.sel,
                                                      u = c.ranges;
                                                    if (
                                                      (r.addNew && !r.extend
                                                        ? ((l =
                                                            i.sel.contains(n)),
                                                          (s =
                                                            l > -1
                                                              ? u[l]
                                                              : new Eo(n, n)))
                                                        : ((s =
                                                            i.sel.primary()),
                                                          (l =
                                                            i.sel.primIndex)),
                                                      'rectangle' == r.unit)
                                                    )
                                                      r.addNew ||
                                                        (s = new Eo(n, n)),
                                                        (n = dr(t, e, !0, !0)),
                                                        (l = -1);
                                                    else {
                                                      var p = Ca(t, n, r.unit);
                                                      s = r.extend
                                                        ? Jo(
                                                            s,
                                                            p.anchor,
                                                            p.head,
                                                            r.extend
                                                          )
                                                        : p;
                                                    }
                                                    r.addNew
                                                      ? -1 == l
                                                        ? ((l = u.length),
                                                          oi(
                                                            i,
                                                            Po(
                                                              t,
                                                              u.concat([s]),
                                                              l
                                                            ),
                                                            {
                                                              scroll: !1,
                                                              origin: '*mouse',
                                                            }
                                                          ))
                                                        : u.length > 1 &&
                                                          u[l].empty() &&
                                                          'char' == r.unit &&
                                                          !r.extend
                                                        ? (oi(
                                                            i,
                                                            Po(
                                                              t,
                                                              u
                                                                .slice(0, l)
                                                                .concat(
                                                                  u.slice(l + 1)
                                                                ),
                                                              0
                                                            ),
                                                            {
                                                              scroll: !1,
                                                              origin: '*mouse',
                                                            }
                                                          ),
                                                          (c = i.sel))
                                                        : ei(i, l, s, $)
                                                      : ((l = 0),
                                                        oi(
                                                          i,
                                                          new To([s], 0),
                                                          $
                                                        ),
                                                        (c = i.sel));
                                                    var d = n;

                                                    function f(e) {
                                                      if (0 != re(d, e))
                                                        if (
                                                          ((d = e),
                                                          'rectangle' == r.unit)
                                                        ) {
                                                          for (
                                                            var o = [],
                                                              a =
                                                                t.options
                                                                  .tabSize,
                                                              u = z(
                                                                Kt(i, n.line)
                                                                  .text,
                                                                n.ch,
                                                                a
                                                              ),
                                                              p = z(
                                                                Kt(i, e.line)
                                                                  .text,
                                                                e.ch,
                                                                a
                                                              ),
                                                              f = Math.min(
                                                                u,
                                                                p
                                                              ),
                                                              h = Math.max(
                                                                u,
                                                                p
                                                              ),
                                                              g = Math.min(
                                                                n.line,
                                                                e.line
                                                              ),
                                                              v = Math.min(
                                                                t.lastLine(),
                                                                Math.max(
                                                                  n.line,
                                                                  e.line
                                                                )
                                                              );
                                                            g <= v;
                                                            g++
                                                          ) {
                                                            var m = Kt(
                                                                i,
                                                                g
                                                              ).text,
                                                              y = q(m, f, a);
                                                            f == h
                                                              ? o.push(
                                                                  new Eo(
                                                                    ne(g, y),
                                                                    ne(g, y)
                                                                  )
                                                                )
                                                              : m.length > y &&
                                                                o.push(
                                                                  new Eo(
                                                                    ne(g, y),
                                                                    ne(
                                                                      g,
                                                                      q(m, h, a)
                                                                    )
                                                                  )
                                                                );
                                                          }
                                                          o.length ||
                                                            o.push(
                                                              new Eo(n, n)
                                                            ),
                                                            oi(
                                                              i,
                                                              Po(
                                                                t,
                                                                c.ranges
                                                                  .slice(0, l)
                                                                  .concat(o),
                                                                l
                                                              ),
                                                              {
                                                                origin:
                                                                  '*mouse',
                                                                scroll: !1,
                                                              }
                                                            ),
                                                            t.scrollIntoView(e);
                                                        } else {
                                                          var b,
                                                            _ = s,
                                                            w = Ca(
                                                              t,
                                                              e,
                                                              r.unit
                                                            ),
                                                            x = _.anchor;
                                                          re(w.anchor, x) > 0
                                                            ? ((b = w.head),
                                                              (x = se(
                                                                _.from(),
                                                                w.anchor
                                                              )))
                                                            : ((b = w.anchor),
                                                              (x = ae(
                                                                _.to(),
                                                                w.head
                                                              )));
                                                          var C =
                                                            c.ranges.slice(0);
                                                          (C[l] = (function (
                                                            t,
                                                            e
                                                          ) {
                                                            var n = e.anchor,
                                                              r = e.head,
                                                              o = Kt(
                                                                t.doc,
                                                                n.line
                                                              );
                                                            if (
                                                              0 == re(n, r) &&
                                                              n.sticky ==
                                                                r.sticky
                                                            )
                                                              return e;
                                                            var i = pt(o);
                                                            if (!i) return e;
                                                            var a = ct(
                                                                i,
                                                                n.ch,
                                                                n.sticky
                                                              ),
                                                              s = i[a];
                                                            if (
                                                              s.from != n.ch &&
                                                              s.to != n.ch
                                                            )
                                                              return e;
                                                            var l,
                                                              c =
                                                                a +
                                                                ((s.from ==
                                                                  n.ch) ==
                                                                (1 != s.level)
                                                                  ? 0
                                                                  : 1);
                                                            if (
                                                              0 == c ||
                                                              c == i.length
                                                            )
                                                              return e;
                                                            if (
                                                              r.line != n.line
                                                            )
                                                              l =
                                                                (r.line -
                                                                  n.line) *
                                                                  ('ltr' ==
                                                                  t.doc
                                                                    .direction
                                                                    ? 1
                                                                    : -1) >
                                                                0;
                                                            else {
                                                              var u = ct(
                                                                  i,
                                                                  r.ch,
                                                                  r.sticky
                                                                ),
                                                                p =
                                                                  u - a ||
                                                                  (r.ch -
                                                                    n.ch) *
                                                                    (1 ==
                                                                    s.level
                                                                      ? -1
                                                                      : 1);
                                                              l =
                                                                u == c - 1 ||
                                                                u == c
                                                                  ? p < 0
                                                                  : p > 0;
                                                            }
                                                            var d =
                                                                i[
                                                                  c +
                                                                    (l ? -1 : 0)
                                                                ],
                                                              f =
                                                                l ==
                                                                (1 == d.level),
                                                              h = f
                                                                ? d.from
                                                                : d.to,
                                                              g = f
                                                                ? 'after'
                                                                : 'before';
                                                            return n.ch == h &&
                                                              n.sticky == g
                                                              ? e
                                                              : new Eo(
                                                                  new ne(
                                                                    n.line,
                                                                    h,
                                                                    g
                                                                  ),
                                                                  r
                                                                );
                                                          })(
                                                            t,
                                                            new Eo(ce(i, x), b)
                                                          )),
                                                            oi(
                                                              i,
                                                              Po(t, C, l),
                                                              $
                                                            );
                                                        }
                                                    }
                                                    var h =
                                                        o.wrapper.getBoundingClientRect(),
                                                      g = 0;

                                                    function v(e) {
                                                      var n = ++g,
                                                        a = dr(
                                                          t,
                                                          e,
                                                          !0,
                                                          'rectangle' == r.unit
                                                        );
                                                      if (a)
                                                        if (0 != re(a, d)) {
                                                          (t.curOp.focus = L()),
                                                            f(a);
                                                          var s = jr(o, i);
                                                          (a.line >= s.to ||
                                                            a.line < s.from) &&
                                                            setTimeout(
                                                              ro(
                                                                t,
                                                                function () {
                                                                  g == n &&
                                                                    v(e);
                                                                }
                                                              ),
                                                              150
                                                            );
                                                        } else {
                                                          var l =
                                                            e.clientY < h.top
                                                              ? -20
                                                              : e.clientY >
                                                                h.bottom
                                                              ? 20
                                                              : 0;
                                                          l &&
                                                            setTimeout(
                                                              ro(
                                                                t,
                                                                function () {
                                                                  g == n &&
                                                                    ((o.scroller.scrollTop +=
                                                                      l),
                                                                    v(e));
                                                                }
                                                              ),
                                                              50
                                                            );
                                                        }
                                                    }

                                                    function m(e) {
                                                      (t.state.selectingText =
                                                        !1),
                                                        (g = 1 / 0),
                                                        e &&
                                                          (wt(e),
                                                          o.input.focus()),
                                                        gt(
                                                          o.wrapper
                                                            .ownerDocument,
                                                          'mousemove',
                                                          y
                                                        ),
                                                        gt(
                                                          o.wrapper
                                                            .ownerDocument,
                                                          'mouseup',
                                                          b
                                                        ),
                                                        (i.history.lastSelOrigin =
                                                          null);
                                                    }
                                                    var y = ro(t, function (t) {
                                                        0 !== t.buttons && kt(t)
                                                          ? v(t)
                                                          : m(t);
                                                      }),
                                                      b = ro(t, m);
                                                    (t.state.selectingText = b),
                                                      ft(
                                                        o.wrapper.ownerDocument,
                                                        'mousemove',
                                                        y
                                                      ),
                                                      ft(
                                                        o.wrapper.ownerDocument,
                                                        'mouseup',
                                                        b
                                                      );
                                                  })(t, r, e, i);
                                            })(e, r, i, t)
                                          : Ot(t) == n.scroller && wt(t)
                                        : 2 == o
                                        ? (r && Qo(e.doc, r),
                                          setTimeout(function () {
                                            return n.input.focus();
                                          }, 20))
                                        : 3 == o &&
                                          (S
                                            ? e.display.input.onContextMenu(t)
                                            : kr(e)));
                                }
                            }

                            function xa(t, e, n, r) {
                              var o = t.display,
                                i = !1,
                                c = ro(t, function (e) {
                                  l && (o.scroller.draggable = !1),
                                    (t.state.draggingText = !1),
                                    t.state.delayingBlurEvent &&
                                      (t.hasFocus()
                                        ? (t.state.delayingBlurEvent = !1)
                                        : kr(t)),
                                    gt(o.wrapper.ownerDocument, 'mouseup', c),
                                    gt(o.wrapper.ownerDocument, 'mousemove', u),
                                    gt(o.scroller, 'dragstart', p),
                                    gt(o.scroller, 'drop', c),
                                    i ||
                                      (wt(e),
                                      r.addNew ||
                                        Qo(t.doc, n, null, null, r.extend),
                                      (l && !f) || (a && 9 == s)
                                        ? setTimeout(function () {
                                            o.wrapper.ownerDocument.body.focus({
                                              preventScroll: !0,
                                            }),
                                              o.input.focus();
                                          }, 20)
                                        : o.input.focus());
                                }),
                                u = function (t) {
                                  i =
                                    i ||
                                    Math.abs(e.clientX - t.clientX) +
                                      Math.abs(e.clientY - t.clientY) >=
                                      10;
                                },
                                p = function () {
                                  return (i = !0);
                                };
                              l && (o.scroller.draggable = !0),
                                (t.state.draggingText = c),
                                (c.copy = !r.moveOnDrag),
                                ft(o.wrapper.ownerDocument, 'mouseup', c),
                                ft(o.wrapper.ownerDocument, 'mousemove', u),
                                ft(o.scroller, 'dragstart', p),
                                ft(o.scroller, 'drop', c),
                                (t.state.delayingBlurEvent = !0),
                                setTimeout(function () {
                                  return o.input.focus();
                                }, 20),
                                o.scroller.dragDrop && o.scroller.dragDrop();
                            }

                            function Ca(t, e, n) {
                              if ('char' == n) return new Eo(e, e);
                              if ('word' == n) return t.findWordAt(e);
                              if ('line' == n)
                                return new Eo(
                                  ne(e.line, 0),
                                  ce(t.doc, ne(e.line + 1, 0))
                                );
                              var r = n(t, e);
                              return new Eo(r.from, r.to);
                            }

                            function Sa(t, e, n, r) {
                              var o, i;
                              if (e.touches)
                                (o = e.touches[0].clientX),
                                  (i = e.touches[0].clientY);
                              else
                                try {
                                  (o = e.clientX), (i = e.clientY);
                                } catch (t) {
                                  return !1;
                                }
                              if (
                                o >=
                                Math.floor(
                                  t.display.gutters.getBoundingClientRect()
                                    .right
                                )
                              )
                                return !1;
                              r && wt(e);
                              var a = t.display,
                                s = a.lineDiv.getBoundingClientRect();
                              if (i > s.bottom || !bt(t, n)) return Ct(e);
                              i -= s.top - a.viewOffset;
                              for (
                                var l = 0;
                                l < t.display.gutterSpecs.length;
                                ++l
                              ) {
                                var c = a.gutters.childNodes[l];
                                if (c && c.getBoundingClientRect().right >= o)
                                  return (
                                    vt(
                                      t,
                                      n,
                                      t,
                                      Qt(t.doc, i),
                                      t.display.gutterSpecs[l].className,
                                      e
                                    ),
                                    Ct(e)
                                  );
                              }
                            }

                            function Oa(t, e) {
                              return Sa(t, e, 'gutterClick', !0);
                            }

                            function ka(t, e) {
                              Sn(t.display, e) ||
                                (function (t, e) {
                                  return (
                                    !!bt(t, 'gutterContextMenu') &&
                                    Sa(t, e, 'gutterContextMenu', !1)
                                  );
                                })(t, e) ||
                                mt(t, e, 'contextmenu') ||
                                S ||
                                t.display.input.onContextMenu(e);
                            }

                            function Ta(t) {
                              (t.display.wrapper.className =
                                t.display.wrapper.className.replace(
                                  /\s*cm-s-\S+/g,
                                  ''
                                ) +
                                t.options.theme.replace(
                                  /(^|\s)\s*/g,
                                  ' cm-s-'
                                )),
                                Un(t);
                            }
                            _a.prototype.compare = function (t, e, n) {
                              return (
                                this.time + ba > t &&
                                0 == re(e, this.pos) &&
                                n == this.button
                              );
                            };
                            var Ea = {
                                toString: function () {
                                  return 'CodeMirror.Init';
                                },
                              },
                              Pa = {},
                              Aa = {};

                            function ja(t, e, n) {
                              if (!e != !(n && n != Ea)) {
                                var r = t.display.dragFunctions,
                                  o = e ? ft : gt;
                                o(t.display.scroller, 'dragstart', r.start),
                                  o(t.display.scroller, 'dragenter', r.enter),
                                  o(t.display.scroller, 'dragover', r.over),
                                  o(t.display.scroller, 'dragleave', r.leave),
                                  o(t.display.scroller, 'drop', r.drop);
                              }
                            }

                            function Ma(t) {
                              t.options.lineWrapping
                                ? (D(t.display.wrapper, 'CodeMirror-wrap'),
                                  (t.display.sizer.style.minWidth = ''),
                                  (t.display.sizerWidth = null))
                                : (T(t.display.wrapper, 'CodeMirror-wrap'),
                                  qe(t)),
                                pr(t),
                                hr(t),
                                Un(t),
                                setTimeout(function () {
                                  return Wr(t);
                                }, 100);
                            }

                            function La(t, e) {
                              var n = this;
                              if (!(this instanceof La)) return new La(t, e);
                              (this.options = e = e ? R(e) : {}), R(Pa, e, !1);
                              var r = e.value;
                              'string' == typeof r
                                ? (r = new Ni(
                                    r,
                                    e.mode,
                                    null,
                                    e.lineSeparator,
                                    e.direction
                                  ))
                                : e.mode && (r.modeOption = e.mode),
                                (this.doc = r);
                              var o = new La.inputStyles[e.inputStyle](this),
                                i = (this.display = new wo(t, r, o, e));
                              for (var c in ((i.wrapper.CodeMirror = this),
                              Ta(this),
                              e.lineWrapping &&
                                (this.display.wrapper.className +=
                                  ' CodeMirror-wrap'),
                              qr(this),
                              (this.state = {
                                keyMaps: [],
                                overlays: [],
                                modeGen: 0,
                                overwrite: !1,
                                delayingBlurEvent: !1,
                                focused: !1,
                                suppressEdits: !1,
                                pasteIncoming: -1,
                                cutIncoming: -1,
                                selectingText: !1,
                                draggingText: !1,
                                highlight: new V(),
                                keySeq: null,
                                specialChars: null,
                              }),
                              e.autofocus && !y && i.input.focus(),
                              a &&
                                s < 11 &&
                                setTimeout(function () {
                                  return n.display.input.reset(!0);
                                }, 20),
                              (function (t) {
                                var e = t.display;
                                ft(e.scroller, 'mousedown', ro(t, wa)),
                                  ft(
                                    e.scroller,
                                    'dblclick',
                                    a && s < 11
                                      ? ro(t, function (e) {
                                          if (!mt(t, e)) {
                                            var n = dr(t, e);
                                            if (
                                              n &&
                                              !Oa(t, e) &&
                                              !Sn(t.display, e)
                                            ) {
                                              wt(e);
                                              var r = t.findWordAt(n);
                                              Qo(t.doc, r.anchor, r.head);
                                            }
                                          }
                                        })
                                      : function (e) {
                                          return mt(t, e) || wt(e);
                                        }
                                  ),
                                  ft(e.scroller, 'contextmenu', function (e) {
                                    return ka(t, e);
                                  }),
                                  ft(
                                    e.input.getField(),
                                    'contextmenu',
                                    function (n) {
                                      e.scroller.contains(n.target) || ka(t, n);
                                    }
                                  );
                                var n,
                                  r = {
                                    end: 0,
                                  };

                                function o() {
                                  e.activeTouch &&
                                    ((n = setTimeout(function () {
                                      return (e.activeTouch = null);
                                    }, 1e3)),
                                    ((r = e.activeTouch).end = +new Date()));
                                }

                                function i(t) {
                                  if (1 != t.touches.length) return !1;
                                  var e = t.touches[0];
                                  return e.radiusX <= 1 && e.radiusY <= 1;
                                }

                                function l(t, e) {
                                  if (null == e.left) return !0;
                                  var n = e.left - t.left,
                                    r = e.top - t.top;
                                  return n * n + r * r > 20 * 20;
                                }
                                ft(e.scroller, 'touchstart', function (o) {
                                  if (!mt(t, o) && !i(o) && !Oa(t, o)) {
                                    e.input.ensurePolled(), clearTimeout(n);
                                    var a = +new Date();
                                    (e.activeTouch = {
                                      start: a,
                                      moved: !1,
                                      prev: a - r.end <= 300 ? r : null,
                                    }),
                                      1 == o.touches.length &&
                                        ((e.activeTouch.left =
                                          o.touches[0].pageX),
                                        (e.activeTouch.top =
                                          o.touches[0].pageY));
                                  }
                                }),
                                  ft(e.scroller, 'touchmove', function () {
                                    e.activeTouch && (e.activeTouch.moved = !0);
                                  }),
                                  ft(e.scroller, 'touchend', function (n) {
                                    var r = e.activeTouch;
                                    if (
                                      r &&
                                      !Sn(e, n) &&
                                      null != r.left &&
                                      !r.moved &&
                                      new Date() - r.start < 300
                                    ) {
                                      var i,
                                        a = t.coordsChar(e.activeTouch, 'page');
                                      (i =
                                        !r.prev || l(r, r.prev)
                                          ? new Eo(a, a)
                                          : !r.prev.prev || l(r, r.prev.prev)
                                          ? t.findWordAt(a)
                                          : new Eo(
                                              ne(a.line, 0),
                                              ce(t.doc, ne(a.line + 1, 0))
                                            )),
                                        t.setSelection(i.anchor, i.head),
                                        t.focus(),
                                        wt(n);
                                    }
                                    o();
                                  }),
                                  ft(e.scroller, 'touchcancel', o),
                                  ft(e.scroller, 'scroll', function () {
                                    e.scroller.clientHeight &&
                                      (Rr(t, e.scroller.scrollTop),
                                      Vr(t, e.scroller.scrollLeft, !0),
                                      vt(t, 'scroll', t));
                                  }),
                                  ft(e.scroller, 'mousewheel', function (e) {
                                    return ko(t, e);
                                  }),
                                  ft(
                                    e.scroller,
                                    'DOMMouseScroll',
                                    function (e) {
                                      return ko(t, e);
                                    }
                                  ),
                                  ft(e.wrapper, 'scroll', function () {
                                    return (e.wrapper.scrollTop =
                                      e.wrapper.scrollLeft =
                                        0);
                                  }),
                                  (e.dragFunctions = {
                                    enter: function (e) {
                                      mt(t, e) || St(e);
                                    },
                                    over: function (e) {
                                      mt(t, e) ||
                                        ((function (t, e) {
                                          var n = dr(t, e);
                                          if (n) {
                                            var r =
                                              document.createDocumentFragment();
                                            wr(t, n, r),
                                              t.display.dragCursor ||
                                                ((t.display.dragCursor = A(
                                                  'div',
                                                  null,
                                                  'CodeMirror-cursors CodeMirror-dragcursors'
                                                )),
                                                t.display.lineSpace.insertBefore(
                                                  t.display.dragCursor,
                                                  t.display.cursorDiv
                                                )),
                                              P(t.display.dragCursor, r);
                                          }
                                        })(t, e),
                                        St(e));
                                    },
                                    start: function (e) {
                                      return (function (t, e) {
                                        if (
                                          a &&
                                          (!t.state.draggingText ||
                                            +new Date() - Ii < 100)
                                        )
                                          St(e);
                                        else if (
                                          !mt(t, e) &&
                                          !Sn(t.display, e) &&
                                          (e.dataTransfer.setData(
                                            'Text',
                                            t.getSelection()
                                          ),
                                          (e.dataTransfer.effectAllowed =
                                            'copyMove'),
                                          e.dataTransfer.setDragImage && !f)
                                        ) {
                                          var n = A(
                                            'img',
                                            null,
                                            null,
                                            'position: fixed; left: 0; top: 0;'
                                          );
                                          (n.src =
                                            'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='),
                                            d &&
                                              ((n.width = n.height = 1),
                                              t.display.wrapper.appendChild(n),
                                              (n._top = n.offsetTop)),
                                            e.dataTransfer.setDragImage(
                                              n,
                                              0,
                                              0
                                            ),
                                            d && n.parentNode.removeChild(n);
                                        }
                                      })(t, e);
                                    },
                                    drop: ro(t, Fi),
                                    leave: function (e) {
                                      mt(t, e) || Ri(t);
                                    },
                                  });
                                var c = e.input.getField();
                                ft(c, 'keyup', function (e) {
                                  return ga.call(t, e);
                                }),
                                  ft(c, 'keydown', ro(t, ha)),
                                  ft(c, 'keypress', ro(t, va)),
                                  ft(c, 'focus', function (e) {
                                    return Tr(t, e);
                                  }),
                                  ft(c, 'blur', function (e) {
                                    return Er(t, e);
                                  });
                              })(this),
                              Bi(),
                              Zr(this),
                              (this.curOp.forceUpdate = !0),
                              Vo(this, r),
                              (e.autofocus && !y) || this.hasFocus()
                                ? setTimeout(function () {
                                    n.hasFocus() && !n.state.focused && Tr(n);
                                  }, 20)
                                : Er(this),
                              Aa))
                                Aa.hasOwnProperty(c) && Aa[c](this, e[c], Ea);
                              mo(this), e.finishInit && e.finishInit(this);
                              for (var u = 0; u < Da.length; ++u) Da[u](this);
                              Yr(this),
                                l &&
                                  e.lineWrapping &&
                                  'optimizelegibility' ==
                                    getComputedStyle(i.lineDiv).textRendering &&
                                  (i.lineDiv.style.textRendering = 'auto');
                            }
                            (La.defaults = Pa), (La.optionHandlers = Aa);
                            var Da = [];

                            function Na(t, e, n, r) {
                              var o,
                                i = t.doc;
                              null == n && (n = 'add'),
                                'smart' == n &&
                                  (i.mode.indent
                                    ? (o = ge(t, e).state)
                                    : (n = 'prev'));
                              var a = t.options.tabSize,
                                s = Kt(i, e),
                                l = z(s.text, null, a);
                              s.stateAfter && (s.stateAfter = null);
                              var c,
                                u = s.text.match(/^\s*/)[0];
                              if (r || /\S/.test(s.text)) {
                                if (
                                  'smart' == n &&
                                  ((c = i.mode.indent(
                                    o,
                                    s.text.slice(u.length),
                                    s.text
                                  )) == U ||
                                    c > 150)
                                ) {
                                  if (!r) return;
                                  n = 'prev';
                                }
                              } else (c = 0), (n = 'not');
                              'prev' == n
                                ? (c =
                                    e > i.first
                                      ? z(Kt(i, e - 1).text, null, a)
                                      : 0)
                                : 'add' == n
                                ? (c = l + t.options.indentUnit)
                                : 'subtract' == n
                                ? (c = l - t.options.indentUnit)
                                : 'number' == typeof n && (c = l + n),
                                (c = Math.max(0, c));
                              var p = '',
                                d = 0;
                              if (t.options.indentWithTabs)
                                for (var f = Math.floor(c / a); f; --f)
                                  (d += a), (p += '\t');
                              if ((d < c && (p += Z(c - d)), p != u))
                                return (
                                  bi(i, p, ne(e, 0), ne(e, u.length), '+input'),
                                  (s.stateAfter = null),
                                  !0
                                );
                              for (var h = 0; h < i.sel.ranges.length; h++) {
                                var g = i.sel.ranges[h];
                                if (g.head.line == e && g.head.ch < u.length) {
                                  var v = ne(e, u.length);
                                  ei(i, h, new Eo(v, v));
                                  break;
                                }
                              }
                            }
                            La.defineInitHook = function (t) {
                              return Da.push(t);
                            };
                            var Ia = null;

                            function Fa(t) {
                              Ia = t;
                            }

                            function Ra(t, e, n, r, o) {
                              var i = t.doc;
                              (t.display.shift = !1), r || (r = i.sel);
                              var a = +new Date() - 200,
                                s = 'paste' == o || t.state.pasteIncoming > a,
                                l = Lt(e),
                                c = null;
                              if (s && r.ranges.length > 1)
                                if (Ia && Ia.text.join('\n') == e) {
                                  if (r.ranges.length % Ia.text.length == 0) {
                                    c = [];
                                    for (var u = 0; u < Ia.text.length; u++)
                                      c.push(i.splitLines(Ia.text[u]));
                                  }
                                } else
                                  l.length == r.ranges.length &&
                                    t.options.pasteLinesPerSelection &&
                                    (c = X(l, function (t) {
                                      return [t];
                                    }));
                              for (
                                var p = t.curOp.updateInput,
                                  d = r.ranges.length - 1;
                                d >= 0;
                                d--
                              ) {
                                var f = r.ranges[d],
                                  h = f.from(),
                                  g = f.to();
                                f.empty() &&
                                  (n && n > 0
                                    ? (h = ne(h.line, h.ch - n))
                                    : t.state.overwrite && !s
                                    ? (g = ne(
                                        g.line,
                                        Math.min(
                                          Kt(i, g.line).text.length,
                                          g.ch + Y(l).length
                                        )
                                      ))
                                    : s &&
                                      Ia &&
                                      Ia.lineWise &&
                                      Ia.text.join('\n') == l.join('\n') &&
                                      (h = g = ne(h.line, 0)));
                                var v = {
                                  from: h,
                                  to: g,
                                  text: c ? c[d % c.length] : l,
                                  origin:
                                    o ||
                                    (s
                                      ? 'paste'
                                      : t.state.cutIncoming > a
                                      ? 'cut'
                                      : '+input'),
                                };
                                hi(t.doc, v), un(t, 'inputRead', t, v);
                              }
                              e && !s && Va(t, e),
                                Dr(t),
                                t.curOp.updateInput < 2 &&
                                  (t.curOp.updateInput = p),
                                (t.curOp.typing = !0),
                                (t.state.pasteIncoming = t.state.cutIncoming =
                                  -1);
                            }

                            function za(t, e) {
                              var n =
                                t.clipboardData &&
                                t.clipboardData.getData('Text');
                              if (n)
                                return (
                                  t.preventDefault(),
                                  e.isReadOnly() ||
                                    e.options.disableInput ||
                                    !e.hasFocus() ||
                                    no(e, function () {
                                      return Ra(e, n, 0, null, 'paste');
                                    }),
                                  !0
                                );
                            }

                            function Va(t, e) {
                              if (
                                t.options.electricChars &&
                                t.options.smartIndent
                              )
                                for (
                                  var n = t.doc.sel, r = n.ranges.length - 1;
                                  r >= 0;
                                  r--
                                ) {
                                  var o = n.ranges[r];
                                  if (
                                    !(
                                      o.head.ch > 100 ||
                                      (r &&
                                        n.ranges[r - 1].head.line ==
                                          o.head.line)
                                    )
                                  ) {
                                    var i = t.getModeAt(o.head),
                                      a = !1;
                                    if (i.electricChars) {
                                      for (
                                        var s = 0;
                                        s < i.electricChars.length;
                                        s++
                                      )
                                        if (
                                          e.indexOf(i.electricChars.charAt(s)) >
                                          -1
                                        ) {
                                          a = Na(t, o.head.line, 'smart');
                                          break;
                                        }
                                    } else
                                      i.electricInput &&
                                        i.electricInput.test(
                                          Kt(t.doc, o.head.line).text.slice(
                                            0,
                                            o.head.ch
                                          )
                                        ) &&
                                        (a = Na(t, o.head.line, 'smart'));
                                    a && un(t, 'electricInput', t, o.head.line);
                                  }
                                }
                            }

                            function Ba(t) {
                              for (
                                var e = [], n = [], r = 0;
                                r < t.doc.sel.ranges.length;
                                r++
                              ) {
                                var o = t.doc.sel.ranges[r].head.line,
                                  i = {
                                    anchor: ne(o, 0),
                                    head: ne(o + 1, 0),
                                  };
                                n.push(i), e.push(t.getRange(i.anchor, i.head));
                              }
                              return {
                                text: e,
                                ranges: n,
                              };
                            }

                            function Ha(t, e, n, r) {
                              t.setAttribute('autocorrect', n ? '' : 'off'),
                                t.setAttribute(
                                  'autocapitalize',
                                  r ? '' : 'off'
                                ),
                                t.setAttribute('spellcheck', !!e);
                            }

                            function Ua() {
                              var t = A(
                                  'textarea',
                                  null,
                                  null,
                                  'position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none'
                                ),
                                e = A(
                                  'div',
                                  [t],
                                  null,
                                  'overflow: hidden; position: relative; width: 3px; height: 0px;'
                                );
                              return (
                                l
                                  ? (t.style.width = '1000px')
                                  : t.setAttribute('wrap', 'off'),
                                v && (t.style.border = '1px solid black'),
                                Ha(t),
                                e
                              );
                            }

                            function Wa(t, e, n, r, o) {
                              var i = e,
                                a = n,
                                s = Kt(t, e.line),
                                l = o && 'rtl' == t.direction ? -n : n;

                              function c(i) {
                                var a;
                                if ('codepoint' == r) {
                                  var c = s.text.charCodeAt(
                                    e.ch + (n > 0 ? 0 : -1)
                                  );
                                  if (isNaN(c)) a = null;
                                  else {
                                    var u =
                                      n > 0
                                        ? c >= 55296 && c < 56320
                                        : c >= 56320 && c < 57343;
                                    a = new ne(
                                      e.line,
                                      Math.max(
                                        0,
                                        Math.min(
                                          s.text.length,
                                          e.ch + n * (u ? 2 : 1)
                                        )
                                      ),
                                      -n
                                    );
                                  }
                                } else
                                  a = o
                                    ? (function (t, e, n, r) {
                                        var o = pt(e, t.doc.direction);
                                        if (!o) return ra(e, n, r);
                                        n.ch >= e.text.length
                                          ? ((n.ch = e.text.length),
                                            (n.sticky = 'before'))
                                          : n.ch <= 0 &&
                                            ((n.ch = 0), (n.sticky = 'after'));
                                        var i = ct(o, n.ch, n.sticky),
                                          a = o[i];
                                        if (
                                          'ltr' == t.doc.direction &&
                                          a.level % 2 == 0 &&
                                          (r > 0 ? a.to > n.ch : a.from < n.ch)
                                        )
                                          return ra(e, n, r);
                                        var s,
                                          l = function (t, n) {
                                            return na(
                                              e,
                                              t instanceof ne ? t.ch : t,
                                              n
                                            );
                                          },
                                          c = function (n) {
                                            return t.options.lineWrapping
                                              ? ((s = s || Dn(t, e)),
                                                er(t, e, s, n))
                                              : {
                                                  begin: 0,
                                                  end: e.text.length,
                                                };
                                          },
                                          u = c(
                                            'before' == n.sticky
                                              ? l(n, -1)
                                              : n.ch
                                          );
                                        if (
                                          'rtl' == t.doc.direction ||
                                          1 == a.level
                                        ) {
                                          var p = (1 == a.level) == r < 0,
                                            d = l(n, p ? 1 : -1);
                                          if (
                                            null != d &&
                                            (p
                                              ? d <= a.to && d <= u.end
                                              : d >= a.from && d >= u.begin)
                                          ) {
                                            var f = p ? 'before' : 'after';
                                            return new ne(n.line, d, f);
                                          }
                                        }
                                        var h = function (t, e, r) {
                                            for (
                                              var i = function (t, e) {
                                                return e
                                                  ? new ne(
                                                      n.line,
                                                      l(t, 1),
                                                      'before'
                                                    )
                                                  : new ne(n.line, t, 'after');
                                              };
                                              t >= 0 && t < o.length;
                                              t += e
                                            ) {
                                              var a = o[t],
                                                s = e > 0 == (1 != a.level),
                                                c = s ? r.begin : l(r.end, -1);
                                              if (a.from <= c && c < a.to)
                                                return i(c, s);
                                              if (
                                                ((c = s ? a.from : l(a.to, -1)),
                                                r.begin <= c && c < r.end)
                                              )
                                                return i(c, s);
                                            }
                                          },
                                          g = h(i + r, r, u);
                                        if (g) return g;
                                        var v = r > 0 ? u.end : l(u.begin, -1);
                                        return null == v ||
                                          (r > 0 && v == e.text.length) ||
                                          !(g = h(
                                            r > 0 ? 0 : o.length - 1,
                                            r,
                                            c(v)
                                          ))
                                          ? null
                                          : g;
                                      })(t.cm, s, e, n)
                                    : ra(s, e, n);
                                if (null == a) {
                                  if (
                                    i ||
                                    !(function () {
                                      var n = e.line + l;
                                      return (
                                        !(
                                          n < t.first || n >= t.first + t.size
                                        ) &&
                                        ((e = new ne(n, e.ch, e.sticky)),
                                        (s = Kt(t, n)))
                                      );
                                    })()
                                  )
                                    return !1;
                                  e = oa(o, t.cm, s, e.line, l);
                                } else e = a;
                                return !0;
                              }
                              if ('char' == r || 'codepoint' == r) c();
                              else if ('column' == r) c(!0);
                              else if ('word' == r || 'group' == r)
                                for (
                                  var u = null,
                                    p = 'group' == r,
                                    d = t.cm && t.cm.getHelper(e, 'wordChars'),
                                    f = !0;
                                  !(n < 0) || c(!f);
                                  f = !1
                                ) {
                                  var h = s.text.charAt(e.ch) || '\n',
                                    g = nt(h, d)
                                      ? 'w'
                                      : p && '\n' == h
                                      ? 'n'
                                      : !p || /\s/.test(h)
                                      ? null
                                      : 'p';
                                  if (
                                    (!p || f || g || (g = 's'), u && u != g)
                                  ) {
                                    n < 0 &&
                                      ((n = 1), c(), (e.sticky = 'after'));
                                    break;
                                  }
                                  if ((g && (u = g), n > 0 && !c(!f))) break;
                                }
                              var v = ui(t, e, i, a, !0);
                              return oe(i, v) && (v.hitSide = !0), v;
                            }

                            function $a(t, e, n, r) {
                              var o,
                                i,
                                a = t.doc,
                                s = e.left;
                              if ('page' == r) {
                                var l = Math.min(
                                    t.display.wrapper.clientHeight,
                                    window.innerHeight ||
                                      document.documentElement.clientHeight
                                  ),
                                  c = Math.max(l - 0.5 * ar(t.display), 3);
                                o = (n > 0 ? e.bottom : e.top) + n * c;
                              } else
                                'line' == r &&
                                  (o = n > 0 ? e.bottom + 3 : e.top - 3);
                              for (; (i = Qn(t, s, o)).outside; ) {
                                if (n < 0 ? o <= 0 : o >= a.height) {
                                  i.hitSide = !0;
                                  break;
                                }
                                o += 5 * n;
                              }
                              return i;
                            }
                            var Ga = function (t) {
                              (this.cm = t),
                                (this.lastAnchorNode =
                                  this.lastAnchorOffset =
                                  this.lastFocusNode =
                                  this.lastFocusOffset =
                                    null),
                                (this.polling = new V()),
                                (this.composing = null),
                                (this.gracePeriod = !1),
                                (this.readDOMTimeout = null);
                            };

                            function qa(t, e) {
                              var n = Ln(t, e.line);
                              if (!n || n.hidden) return null;
                              var r = Kt(t.doc, e.line),
                                o = jn(n, r, e.line),
                                i = pt(r, t.doc.direction),
                                a = 'left';
                              i && (a = ct(i, e.ch) % 2 ? 'right' : 'left');
                              var s = Rn(o.map, e.ch, a);
                              return (
                                (s.offset =
                                  'right' == s.collapse ? s.end : s.start),
                                s
                              );
                            }

                            function Ka(t, e) {
                              return e && (t.bad = !0), t;
                            }

                            function Za(t, e, n) {
                              var r;
                              if (e == t.display.lineDiv) {
                                if (!(r = t.display.lineDiv.childNodes[n]))
                                  return Ka(
                                    t.clipPos(ne(t.display.viewTo - 1)),
                                    !0
                                  );
                                (e = null), (n = 0);
                              } else
                                for (r = e; ; r = r.parentNode) {
                                  if (!r || r == t.display.lineDiv) return null;
                                  if (
                                    r.parentNode &&
                                    r.parentNode == t.display.lineDiv
                                  )
                                    break;
                                }
                              for (var o = 0; o < t.display.view.length; o++) {
                                var i = t.display.view[o];
                                if (i.node == r) return Ya(i, e, n);
                              }
                            }

                            function Ya(t, e, n) {
                              var r = t.text.firstChild,
                                o = !1;
                              if (!e || !M(r, e))
                                return Ka(ne(Jt(t.line), 0), !0);
                              if (
                                e == r &&
                                ((o = !0), (e = r.childNodes[n]), (n = 0), !e)
                              ) {
                                var i = t.rest ? Y(t.rest) : t.line;
                                return Ka(ne(Jt(i), i.text.length), o);
                              }
                              var a = 3 == e.nodeType ? e : null,
                                s = e;
                              for (
                                a ||
                                1 != e.childNodes.length ||
                                3 != e.firstChild.nodeType ||
                                ((a = e.firstChild),
                                n && (n = a.nodeValue.length));
                                s.parentNode != r;

                              )
                                s = s.parentNode;
                              var l = t.measure,
                                c = l.maps;

                              function u(e, n, r) {
                                for (var o = -1; o < (c ? c.length : 0); o++)
                                  for (
                                    var i = o < 0 ? l.map : c[o], a = 0;
                                    a < i.length;
                                    a += 3
                                  ) {
                                    var s = i[a + 2];
                                    if (s == e || s == n) {
                                      var u = Jt(o < 0 ? t.line : t.rest[o]),
                                        p = i[a] + r;
                                      return (
                                        (r < 0 || s != e) &&
                                          (p = i[a + (r ? 1 : 0)]),
                                        ne(u, p)
                                      );
                                    }
                                  }
                              }
                              var p = u(a, s, n);
                              if (p) return Ka(p, o);
                              for (
                                var d = s.nextSibling,
                                  f = a ? a.nodeValue.length - n : 0;
                                d;
                                d = d.nextSibling
                              ) {
                                if ((p = u(d, d.firstChild, 0)))
                                  return Ka(ne(p.line, p.ch - f), o);
                                f += d.textContent.length;
                              }
                              for (
                                var h = s.previousSibling, g = n;
                                h;
                                h = h.previousSibling
                              ) {
                                if ((p = u(h, h.firstChild, -1)))
                                  return Ka(ne(p.line, p.ch + g), o);
                                g += h.textContent.length;
                              }
                            }
                            (Ga.prototype.init = function (t) {
                              var e = this,
                                n = this,
                                r = n.cm,
                                o = (n.div = t.lineDiv);

                              function i(t) {
                                for (var e = t.target; e; e = e.parentNode) {
                                  if (e == o) return !0;
                                  if (
                                    /\bCodeMirror-(?:line)?widget\b/.test(
                                      e.className
                                    )
                                  )
                                    break;
                                }
                                return !1;
                              }

                              function a(t) {
                                if (i(t) && !mt(r, t)) {
                                  if (r.somethingSelected())
                                    Fa({
                                      lineWise: !1,
                                      text: r.getSelections(),
                                    }),
                                      'cut' == t.type &&
                                        r.replaceSelection('', null, 'cut');
                                  else {
                                    if (!r.options.lineWiseCopyCut) return;
                                    var e = Ba(r);
                                    Fa({
                                      lineWise: !0,
                                      text: e.text,
                                    }),
                                      'cut' == t.type &&
                                        r.operation(function () {
                                          r.setSelections(e.ranges, 0, W),
                                            r.replaceSelection('', null, 'cut');
                                        });
                                  }
                                  if (t.clipboardData) {
                                    t.clipboardData.clearData();
                                    var a = Ia.text.join('\n');
                                    if (
                                      (t.clipboardData.setData('Text', a),
                                      t.clipboardData.getData('Text') == a)
                                    )
                                      return void t.preventDefault();
                                  }
                                  var s = Ua(),
                                    l = s.firstChild;
                                  r.display.lineSpace.insertBefore(
                                    s,
                                    r.display.lineSpace.firstChild
                                  ),
                                    (l.value = Ia.text.join('\n'));
                                  var c = L();
                                  I(l),
                                    setTimeout(function () {
                                      r.display.lineSpace.removeChild(s),
                                        c.focus(),
                                        c == o && n.showPrimarySelection();
                                    }, 50);
                                }
                              }
                              (o.contentEditable = !0),
                                Ha(
                                  o,
                                  r.options.spellcheck,
                                  r.options.autocorrect,
                                  r.options.autocapitalize
                                ),
                                ft(o, 'paste', function (t) {
                                  !i(t) ||
                                    mt(r, t) ||
                                    za(t, r) ||
                                    (s <= 11 &&
                                      setTimeout(
                                        ro(r, function () {
                                          return e.updateFromDOM();
                                        }),
                                        20
                                      ));
                                }),
                                ft(o, 'compositionstart', function (t) {
                                  e.composing = {
                                    data: t.data,
                                    done: !1,
                                  };
                                }),
                                ft(o, 'compositionupdate', function (t) {
                                  e.composing ||
                                    (e.composing = {
                                      data: t.data,
                                      done: !1,
                                    });
                                }),
                                ft(o, 'compositionend', function (t) {
                                  e.composing &&
                                    (t.data != e.composing.data &&
                                      e.readFromDOMSoon(),
                                    (e.composing.done = !0));
                                }),
                                ft(o, 'touchstart', function () {
                                  return n.forceCompositionEnd();
                                }),
                                ft(o, 'input', function () {
                                  e.composing || e.readFromDOMSoon();
                                }),
                                ft(o, 'copy', a),
                                ft(o, 'cut', a);
                            }),
                              (Ga.prototype.screenReaderLabelChanged =
                                function (t) {
                                  t
                                    ? this.div.setAttribute('aria-label', t)
                                    : this.div.removeAttribute('aria-label');
                                }),
                              (Ga.prototype.prepareSelection = function () {
                                var t = _r(this.cm, !1);
                                return (t.focus = L() == this.div), t;
                              }),
                              (Ga.prototype.showSelection = function (t, e) {
                                t &&
                                  this.cm.display.view.length &&
                                  ((t.focus || e) &&
                                    this.showPrimarySelection(),
                                  this.showMultipleSelections(t));
                              }),
                              (Ga.prototype.getSelection = function () {
                                return this.cm.display.wrapper.ownerDocument.getSelection();
                              }),
                              (Ga.prototype.showPrimarySelection = function () {
                                var t = this.getSelection(),
                                  e = this.cm,
                                  r = e.doc.sel.primary(),
                                  o = r.from(),
                                  i = r.to();
                                if (
                                  e.display.viewTo == e.display.viewFrom ||
                                  o.line >= e.display.viewTo ||
                                  i.line < e.display.viewFrom
                                )
                                  t.removeAllRanges();
                                else {
                                  var a = Za(e, t.anchorNode, t.anchorOffset),
                                    s = Za(e, t.focusNode, t.focusOffset);
                                  if (
                                    !a ||
                                    a.bad ||
                                    !s ||
                                    s.bad ||
                                    0 != re(se(a, s), o) ||
                                    0 != re(ae(a, s), i)
                                  ) {
                                    var l = e.display.view,
                                      c = (o.line >= e.display.viewFrom &&
                                        qa(e, o)) || {
                                        node: l[0].measure.map[2],
                                        offset: 0,
                                      },
                                      u = i.line < e.display.viewTo && qa(e, i);
                                    if (!u) {
                                      var p = l[l.length - 1].measure,
                                        d = p.maps
                                          ? p.maps[p.maps.length - 1]
                                          : p.map;
                                      u = {
                                        node: d[d.length - 1],
                                        offset:
                                          d[d.length - 2] - d[d.length - 3],
                                      };
                                    }
                                    if (c && u) {
                                      var f,
                                        h = t.rangeCount && t.getRangeAt(0);
                                      try {
                                        f = k(
                                          c.node,
                                          c.offset,
                                          u.offset,
                                          u.node
                                        );
                                      } catch (t) {}
                                      f &&
                                        (!n && e.state.focused
                                          ? (t.collapse(c.node, c.offset),
                                            f.collapsed ||
                                              (t.removeAllRanges(),
                                              t.addRange(f)))
                                          : (t.removeAllRanges(),
                                            t.addRange(f)),
                                        h && null == t.anchorNode
                                          ? t.addRange(h)
                                          : n && this.startGracePeriod()),
                                        this.rememberSelection();
                                    } else t.removeAllRanges();
                                  }
                                }
                              }),
                              (Ga.prototype.startGracePeriod = function () {
                                var t = this;
                                clearTimeout(this.gracePeriod),
                                  (this.gracePeriod = setTimeout(function () {
                                    (t.gracePeriod = !1),
                                      t.selectionChanged() &&
                                        t.cm.operation(function () {
                                          return (t.cm.curOp.selectionChanged =
                                            !0);
                                        });
                                  }, 20));
                              }),
                              (Ga.prototype.showMultipleSelections = function (
                                t
                              ) {
                                P(this.cm.display.cursorDiv, t.cursors),
                                  P(this.cm.display.selectionDiv, t.selection);
                              }),
                              (Ga.prototype.rememberSelection = function () {
                                var t = this.getSelection();
                                (this.lastAnchorNode = t.anchorNode),
                                  (this.lastAnchorOffset = t.anchorOffset),
                                  (this.lastFocusNode = t.focusNode),
                                  (this.lastFocusOffset = t.focusOffset);
                              }),
                              (Ga.prototype.selectionInEditor = function () {
                                var t = this.getSelection();
                                if (!t.rangeCount) return !1;
                                var e = t.getRangeAt(0).commonAncestorContainer;
                                return M(this.div, e);
                              }),
                              (Ga.prototype.focus = function () {
                                'nocursor' != this.cm.options.readOnly &&
                                  ((this.selectionInEditor() &&
                                    L() == this.div) ||
                                    this.showSelection(
                                      this.prepareSelection(),
                                      !0
                                    ),
                                  this.div.focus());
                              }),
                              (Ga.prototype.blur = function () {
                                this.div.blur();
                              }),
                              (Ga.prototype.getField = function () {
                                return this.div;
                              }),
                              (Ga.prototype.supportsTouch = function () {
                                return !0;
                              }),
                              (Ga.prototype.receivedFocus = function () {
                                var t = this,
                                  e = this;
                                this.selectionInEditor()
                                  ? setTimeout(function () {
                                      return t.pollSelection();
                                    }, 20)
                                  : no(this.cm, function () {
                                      return (e.cm.curOp.selectionChanged = !0);
                                    }),
                                  this.polling.set(
                                    this.cm.options.pollInterval,
                                    function t() {
                                      e.cm.state.focused &&
                                        (e.pollSelection(),
                                        e.polling.set(
                                          e.cm.options.pollInterval,
                                          t
                                        ));
                                    }
                                  );
                              }),
                              (Ga.prototype.selectionChanged = function () {
                                var t = this.getSelection();
                                return (
                                  t.anchorNode != this.lastAnchorNode ||
                                  t.anchorOffset != this.lastAnchorOffset ||
                                  t.focusNode != this.lastFocusNode ||
                                  t.focusOffset != this.lastFocusOffset
                                );
                              }),
                              (Ga.prototype.pollSelection = function () {
                                if (
                                  null == this.readDOMTimeout &&
                                  !this.gracePeriod &&
                                  this.selectionChanged()
                                ) {
                                  var t = this.getSelection(),
                                    e = this.cm;
                                  if (
                                    m &&
                                    u &&
                                    this.cm.display.gutterSpecs.length &&
                                    (function (t) {
                                      for (var e = t; e; e = e.parentNode)
                                        if (
                                          /CodeMirror-gutter-wrapper/.test(
                                            e.className
                                          )
                                        )
                                          return !0;
                                      return !1;
                                    })(t.anchorNode)
                                  )
                                    return (
                                      this.cm.triggerOnKeyDown({
                                        type: 'keydown',
                                        keyCode: 8,
                                        preventDefault: Math.abs,
                                      }),
                                      this.blur(),
                                      void this.focus()
                                    );
                                  if (!this.composing) {
                                    this.rememberSelection();
                                    var n = Za(e, t.anchorNode, t.anchorOffset),
                                      r = Za(e, t.focusNode, t.focusOffset);
                                    n &&
                                      r &&
                                      no(e, function () {
                                        oi(e.doc, Ao(n, r), W),
                                          (n.bad || r.bad) &&
                                            (e.curOp.selectionChanged = !0);
                                      });
                                  }
                                }
                              }),
                              (Ga.prototype.pollContent = function () {
                                null != this.readDOMTimeout &&
                                  (clearTimeout(this.readDOMTimeout),
                                  (this.readDOMTimeout = null));
                                var t,
                                  e,
                                  n,
                                  r = this.cm,
                                  o = r.display,
                                  i = r.doc.sel.primary(),
                                  a = i.from(),
                                  s = i.to();
                                if (
                                  (0 == a.ch &&
                                    a.line > r.firstLine() &&
                                    (a = ne(
                                      a.line - 1,
                                      Kt(r.doc, a.line - 1).length
                                    )),
                                  s.ch == Kt(r.doc, s.line).text.length &&
                                    s.line < r.lastLine() &&
                                    (s = ne(s.line + 1, 0)),
                                  a.line < o.viewFrom || s.line > o.viewTo - 1)
                                )
                                  return !1;
                                a.line == o.viewFrom || 0 == (t = fr(r, a.line))
                                  ? ((e = Jt(o.view[0].line)),
                                    (n = o.view[0].node))
                                  : ((e = Jt(o.view[t].line)),
                                    (n = o.view[t - 1].node.nextSibling));
                                var l,
                                  c,
                                  u = fr(r, s.line);
                                if (
                                  (u == o.view.length - 1
                                    ? ((l = o.viewTo - 1),
                                      (c = o.lineDiv.lastChild))
                                    : ((l = Jt(o.view[u + 1].line) - 1),
                                      (c = o.view[u + 1].node.previousSibling)),
                                  !n)
                                )
                                  return !1;
                                for (
                                  var p = r.doc.splitLines(
                                      (function (t, e, n, r, o) {
                                        var i = '',
                                          a = !1,
                                          s = t.doc.lineSeparator(),
                                          l = !1;

                                        function c() {
                                          a &&
                                            ((i += s),
                                            l && (i += s),
                                            (a = l = !1));
                                        }

                                        function u(t) {
                                          t && (c(), (i += t));
                                        }

                                        function p(e) {
                                          if (1 == e.nodeType) {
                                            var n = e.getAttribute('cm-text');
                                            if (n) return void u(n);
                                            var i,
                                              d = e.getAttribute('cm-marker');
                                            if (d) {
                                              var f = t.findMarks(
                                                ne(r, 0),
                                                ne(o + 1, 0),
                                                (function (t) {
                                                  return function (e) {
                                                    return e.id == t;
                                                  };
                                                })(+d)
                                              );
                                              return void (
                                                f.length &&
                                                (i = f[0].find(0)) &&
                                                u(
                                                  Zt(t.doc, i.from, i.to).join(
                                                    s
                                                  )
                                                )
                                              );
                                            }
                                            if (
                                              'false' ==
                                              e.getAttribute('contenteditable')
                                            )
                                              return;
                                            var h =
                                              /^(pre|div|p|li|table|br)$/i.test(
                                                e.nodeName
                                              );
                                            if (
                                              !/^br$/i.test(e.nodeName) &&
                                              0 == e.textContent.length
                                            )
                                              return;
                                            h && c();
                                            for (
                                              var g = 0;
                                              g < e.childNodes.length;
                                              g++
                                            )
                                              p(e.childNodes[g]);
                                            /^(pre|p)$/i.test(e.nodeName) &&
                                              (l = !0),
                                              h && (a = !0);
                                          } else
                                            3 == e.nodeType &&
                                              u(
                                                e.nodeValue
                                                  .replace(/\u200b/g, '')
                                                  .replace(/\u00a0/g, ' ')
                                              );
                                        }
                                        for (; p(e), e != n; )
                                          (e = e.nextSibling), (l = !1);
                                        return i;
                                      })(r, n, c, e, l)
                                    ),
                                    d = Zt(
                                      r.doc,
                                      ne(e, 0),
                                      ne(l, Kt(r.doc, l).text.length)
                                    );
                                  p.length > 1 && d.length > 1;

                                )
                                  if (Y(p) == Y(d)) p.pop(), d.pop(), l--;
                                  else {
                                    if (p[0] != d[0]) break;
                                    p.shift(), d.shift(), e++;
                                  }
                                for (
                                  var f = 0,
                                    h = 0,
                                    g = p[0],
                                    v = d[0],
                                    m = Math.min(g.length, v.length);
                                  f < m && g.charCodeAt(f) == v.charCodeAt(f);

                                )
                                  ++f;
                                for (
                                  var y = Y(p),
                                    b = Y(d),
                                    _ = Math.min(
                                      y.length - (1 == p.length ? f : 0),
                                      b.length - (1 == d.length ? f : 0)
                                    );
                                  h < _ &&
                                  y.charCodeAt(y.length - h - 1) ==
                                    b.charCodeAt(b.length - h - 1);

                                )
                                  ++h;
                                if (
                                  1 == p.length &&
                                  1 == d.length &&
                                  e == a.line
                                )
                                  for (
                                    ;
                                    f &&
                                    f > a.ch &&
                                    y.charCodeAt(y.length - h - 1) ==
                                      b.charCodeAt(b.length - h - 1);

                                  )
                                    f--, h++;
                                (p[p.length - 1] = y
                                  .slice(0, y.length - h)
                                  .replace(/^\u200b+/, '')),
                                  (p[0] = p[0]
                                    .slice(f)
                                    .replace(/\u200b+$/, ''));
                                var w = ne(e, f),
                                  x = ne(l, d.length ? Y(d).length - h : 0);
                                return p.length > 1 || p[0] || re(w, x)
                                  ? (bi(r.doc, p, w, x, '+input'), !0)
                                  : void 0;
                              }),
                              (Ga.prototype.ensurePolled = function () {
                                this.forceCompositionEnd();
                              }),
                              (Ga.prototype.reset = function () {
                                this.forceCompositionEnd();
                              }),
                              (Ga.prototype.forceCompositionEnd = function () {
                                this.composing &&
                                  (clearTimeout(this.readDOMTimeout),
                                  (this.composing = null),
                                  this.updateFromDOM(),
                                  this.div.blur(),
                                  this.div.focus());
                              }),
                              (Ga.prototype.readFromDOMSoon = function () {
                                var t = this;
                                null == this.readDOMTimeout &&
                                  (this.readDOMTimeout = setTimeout(
                                    function () {
                                      if (
                                        ((t.readDOMTimeout = null), t.composing)
                                      ) {
                                        if (!t.composing.done) return;
                                        t.composing = null;
                                      }
                                      t.updateFromDOM();
                                    },
                                    80
                                  ));
                              }),
                              (Ga.prototype.updateFromDOM = function () {
                                var t = this;
                                (!this.cm.isReadOnly() && this.pollContent()) ||
                                  no(this.cm, function () {
                                    return hr(t.cm);
                                  });
                              }),
                              (Ga.prototype.setUneditable = function (t) {
                                t.contentEditable = 'false';
                              }),
                              (Ga.prototype.onKeyPress = function (t) {
                                0 == t.charCode ||
                                  this.composing ||
                                  (t.preventDefault(),
                                  this.cm.isReadOnly() ||
                                    ro(this.cm, Ra)(
                                      this.cm,
                                      String.fromCharCode(
                                        null == t.charCode
                                          ? t.keyCode
                                          : t.charCode
                                      ),
                                      0
                                    ));
                              }),
                              (Ga.prototype.readOnlyChanged = function (t) {
                                this.div.contentEditable = String(
                                  'nocursor' != t
                                );
                              }),
                              (Ga.prototype.onContextMenu = function () {}),
                              (Ga.prototype.resetPosition = function () {}),
                              (Ga.prototype.needsContentAttribute = !0);
                            var Xa = function (t) {
                              (this.cm = t),
                                (this.prevInput = ''),
                                (this.pollingFast = !1),
                                (this.polling = new V()),
                                (this.hasSelection = !1),
                                (this.composing = null);
                            };
                            (Xa.prototype.init = function (t) {
                              var e = this,
                                n = this,
                                r = this.cm;
                              this.createField(t);
                              var o = this.textarea;

                              function i(t) {
                                if (!mt(r, t)) {
                                  if (r.somethingSelected())
                                    Fa({
                                      lineWise: !1,
                                      text: r.getSelections(),
                                    });
                                  else {
                                    if (!r.options.lineWiseCopyCut) return;
                                    var e = Ba(r);
                                    Fa({
                                      lineWise: !0,
                                      text: e.text,
                                    }),
                                      'cut' == t.type
                                        ? r.setSelections(e.ranges, null, W)
                                        : ((n.prevInput = ''),
                                          (o.value = e.text.join('\n')),
                                          I(o));
                                  }
                                  'cut' == t.type &&
                                    (r.state.cutIncoming = +new Date());
                                }
                              }
                              t.wrapper.insertBefore(
                                this.wrapper,
                                t.wrapper.firstChild
                              ),
                                v && (o.style.width = '0px'),
                                ft(o, 'input', function () {
                                  a &&
                                    s >= 9 &&
                                    e.hasSelection &&
                                    (e.hasSelection = null),
                                    n.poll();
                                }),
                                ft(o, 'paste', function (t) {
                                  mt(r, t) ||
                                    za(t, r) ||
                                    ((r.state.pasteIncoming = +new Date()),
                                    n.fastPoll());
                                }),
                                ft(o, 'cut', i),
                                ft(o, 'copy', i),
                                ft(t.scroller, 'paste', function (e) {
                                  if (!Sn(t, e) && !mt(r, e)) {
                                    if (!o.dispatchEvent)
                                      return (
                                        (r.state.pasteIncoming = +new Date()),
                                        void n.focus()
                                      );
                                    var i = new Event('paste');
                                    (i.clipboardData = e.clipboardData),
                                      o.dispatchEvent(i);
                                  }
                                }),
                                ft(t.lineSpace, 'selectstart', function (e) {
                                  Sn(t, e) || wt(e);
                                }),
                                ft(o, 'compositionstart', function () {
                                  var t = r.getCursor('from');
                                  n.composing && n.composing.range.clear(),
                                    (n.composing = {
                                      start: t,
                                      range: r.markText(t, r.getCursor('to'), {
                                        className: 'CodeMirror-composing',
                                      }),
                                    });
                                }),
                                ft(o, 'compositionend', function () {
                                  n.composing &&
                                    (n.poll(),
                                    n.composing.range.clear(),
                                    (n.composing = null));
                                });
                            }),
                              (Xa.prototype.createField = function (t) {
                                (this.wrapper = Ua()),
                                  (this.textarea = this.wrapper.firstChild);
                              }),
                              (Xa.prototype.screenReaderLabelChanged =
                                function (t) {
                                  t
                                    ? this.textarea.setAttribute(
                                        'aria-label',
                                        t
                                      )
                                    : this.textarea.removeAttribute(
                                        'aria-label'
                                      );
                                }),
                              (Xa.prototype.prepareSelection = function () {
                                var t = this.cm,
                                  e = t.display,
                                  n = t.doc,
                                  r = _r(t);
                                if (t.options.moveInputWithCursor) {
                                  var o = Yn(t, n.sel.primary().head, 'div'),
                                    i = e.wrapper.getBoundingClientRect(),
                                    a = e.lineDiv.getBoundingClientRect();
                                  (r.teTop = Math.max(
                                    0,
                                    Math.min(
                                      e.wrapper.clientHeight - 10,
                                      o.top + a.top - i.top
                                    )
                                  )),
                                    (r.teLeft = Math.max(
                                      0,
                                      Math.min(
                                        e.wrapper.clientWidth - 10,
                                        o.left + a.left - i.left
                                      )
                                    ));
                                }
                                return r;
                              }),
                              (Xa.prototype.showSelection = function (t) {
                                var e = this.cm.display;
                                P(e.cursorDiv, t.cursors),
                                  P(e.selectionDiv, t.selection),
                                  null != t.teTop &&
                                    ((this.wrapper.style.top = t.teTop + 'px'),
                                    (this.wrapper.style.left =
                                      t.teLeft + 'px'));
                              }),
                              (Xa.prototype.reset = function (t) {
                                if (
                                  !this.contextMenuPending &&
                                  !this.composing
                                ) {
                                  var e = this.cm;
                                  if (e.somethingSelected()) {
                                    this.prevInput = '';
                                    var n = e.getSelection();
                                    (this.textarea.value = n),
                                      e.state.focused && I(this.textarea),
                                      a && s >= 9 && (this.hasSelection = n);
                                  } else
                                    t ||
                                      ((this.prevInput = this.textarea.value =
                                        ''),
                                      a &&
                                        s >= 9 &&
                                        (this.hasSelection = null));
                                }
                              }),
                              (Xa.prototype.getField = function () {
                                return this.textarea;
                              }),
                              (Xa.prototype.supportsTouch = function () {
                                return !1;
                              }),
                              (Xa.prototype.focus = function () {
                                if (
                                  'nocursor' != this.cm.options.readOnly &&
                                  (!y || L() != this.textarea)
                                )
                                  try {
                                    this.textarea.focus();
                                  } catch (t) {}
                              }),
                              (Xa.prototype.blur = function () {
                                this.textarea.blur();
                              }),
                              (Xa.prototype.resetPosition = function () {
                                this.wrapper.style.top =
                                  this.wrapper.style.left = 0;
                              }),
                              (Xa.prototype.receivedFocus = function () {
                                this.slowPoll();
                              }),
                              (Xa.prototype.slowPoll = function () {
                                var t = this;
                                this.pollingFast ||
                                  this.polling.set(
                                    this.cm.options.pollInterval,
                                    function () {
                                      t.poll(),
                                        t.cm.state.focused && t.slowPoll();
                                    }
                                  );
                              }),
                              (Xa.prototype.fastPoll = function () {
                                var t = !1,
                                  e = this;
                                (e.pollingFast = !0),
                                  e.polling.set(20, function n() {
                                    e.poll() || t
                                      ? ((e.pollingFast = !1), e.slowPoll())
                                      : ((t = !0), e.polling.set(60, n));
                                  });
                              }),
                              (Xa.prototype.poll = function () {
                                var t = this,
                                  e = this.cm,
                                  n = this.textarea,
                                  r = this.prevInput;
                                if (
                                  this.contextMenuPending ||
                                  !e.state.focused ||
                                  (Dt(n) && !r && !this.composing) ||
                                  e.isReadOnly() ||
                                  e.options.disableInput ||
                                  e.state.keySeq
                                )
                                  return !1;
                                var o = n.value;
                                if (o == r && !e.somethingSelected()) return !1;
                                if (
                                  (a && s >= 9 && this.hasSelection === o) ||
                                  (b && /[\uf700-\uf7ff]/.test(o))
                                )
                                  return e.display.input.reset(), !1;
                                if (e.doc.sel == e.display.selForContextMenu) {
                                  var i = o.charCodeAt(0);
                                  if ((8203 != i || r || (r = '​'), 8666 == i))
                                    return (
                                      this.reset(), this.cm.execCommand('undo')
                                    );
                                }
                                for (
                                  var l = 0, c = Math.min(r.length, o.length);
                                  l < c && r.charCodeAt(l) == o.charCodeAt(l);

                                )
                                  ++l;
                                return (
                                  no(e, function () {
                                    Ra(
                                      e,
                                      o.slice(l),
                                      r.length - l,
                                      null,
                                      t.composing ? '*compose' : null
                                    ),
                                      o.length > 1e3 || o.indexOf('\n') > -1
                                        ? (n.value = t.prevInput = '')
                                        : (t.prevInput = o),
                                      t.composing &&
                                        (t.composing.range.clear(),
                                        (t.composing.range = e.markText(
                                          t.composing.start,
                                          e.getCursor('to'),
                                          {
                                            className: 'CodeMirror-composing',
                                          }
                                        )));
                                  }),
                                  !0
                                );
                              }),
                              (Xa.prototype.ensurePolled = function () {
                                this.pollingFast &&
                                  this.poll() &&
                                  (this.pollingFast = !1);
                              }),
                              (Xa.prototype.onKeyPress = function () {
                                a && s >= 9 && (this.hasSelection = null),
                                  this.fastPoll();
                              }),
                              (Xa.prototype.onContextMenu = function (t) {
                                var e = this,
                                  n = e.cm,
                                  r = n.display,
                                  o = e.textarea;
                                e.contextMenuPending && e.contextMenuPending();
                                var i = dr(n, t),
                                  c = r.scroller.scrollTop;
                                if (i && !d) {
                                  n.options.resetSelectionOnContextMenu &&
                                    -1 == n.doc.sel.contains(i) &&
                                    ro(n, oi)(n.doc, Ao(i), W);
                                  var u,
                                    p = o.style.cssText,
                                    f = e.wrapper.style.cssText,
                                    h =
                                      e.wrapper.offsetParent.getBoundingClientRect();
                                  if (
                                    ((e.wrapper.style.cssText =
                                      'position: static'),
                                    (o.style.cssText =
                                      'position: absolute; width: 30px; height: 30px;\n      top: ' +
                                      (t.clientY - h.top - 5) +
                                      'px; left: ' +
                                      (t.clientX - h.left - 5) +
                                      'px;\n      z-index: 1000; background: ' +
                                      (a
                                        ? 'rgba(255, 255, 255, .05)'
                                        : 'transparent') +
                                      ';\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);'),
                                    l && (u = window.scrollY),
                                    r.input.focus(),
                                    l && window.scrollTo(null, u),
                                    r.input.reset(),
                                    n.somethingSelected() ||
                                      (o.value = e.prevInput = ' '),
                                    (e.contextMenuPending = m),
                                    (r.selForContextMenu = n.doc.sel),
                                    clearTimeout(r.detectingSelectAll),
                                    a && s >= 9 && v(),
                                    S)
                                  ) {
                                    St(t);
                                    var g = function () {
                                      gt(window, 'mouseup', g),
                                        setTimeout(m, 20);
                                    };
                                    ft(window, 'mouseup', g);
                                  } else setTimeout(m, 50);
                                }

                                function v() {
                                  if (null != o.selectionStart) {
                                    var t = n.somethingSelected(),
                                      i = '​' + (t ? o.value : '');
                                    (o.value = '⇚'),
                                      (o.value = i),
                                      (e.prevInput = t ? '' : '​'),
                                      (o.selectionStart = 1),
                                      (o.selectionEnd = i.length),
                                      (r.selForContextMenu = n.doc.sel);
                                  }
                                }

                                function m() {
                                  if (
                                    e.contextMenuPending == m &&
                                    ((e.contextMenuPending = !1),
                                    (e.wrapper.style.cssText = f),
                                    (o.style.cssText = p),
                                    a &&
                                      s < 9 &&
                                      r.scrollbars.setScrollTop(
                                        (r.scroller.scrollTop = c)
                                      ),
                                    null != o.selectionStart)
                                  ) {
                                    (!a || (a && s < 9)) && v();
                                    var t = 0,
                                      i = function () {
                                        r.selForContextMenu == n.doc.sel &&
                                        0 == o.selectionStart &&
                                        o.selectionEnd > 0 &&
                                        '​' == e.prevInput
                                          ? ro(n, di)(n)
                                          : t++ < 10
                                          ? (r.detectingSelectAll = setTimeout(
                                              i,
                                              500
                                            ))
                                          : ((r.selForContextMenu = null),
                                            r.input.reset());
                                      };
                                    r.detectingSelectAll = setTimeout(i, 200);
                                  }
                                }
                              }),
                              (Xa.prototype.readOnlyChanged = function (t) {
                                t || this.reset(),
                                  (this.textarea.disabled = 'nocursor' == t),
                                  (this.textarea.readOnly = !!t);
                              }),
                              (Xa.prototype.setUneditable = function () {}),
                              (Xa.prototype.needsContentAttribute = !1),
                              (function (t) {
                                var e = t.optionHandlers;

                                function n(n, r, o, i) {
                                  (t.defaults[n] = r),
                                    o &&
                                      (e[n] = i
                                        ? function (t, e, n) {
                                            n != Ea && o(t, e, n);
                                          }
                                        : o);
                                }
                                (t.defineOption = n),
                                  (t.Init = Ea),
                                  n(
                                    'value',
                                    '',
                                    function (t, e) {
                                      return t.setValue(e);
                                    },
                                    !0
                                  ),
                                  n(
                                    'mode',
                                    null,
                                    function (t, e) {
                                      (t.doc.modeOption = e), No(t);
                                    },
                                    !0
                                  ),
                                  n('indentUnit', 2, No, !0),
                                  n('indentWithTabs', !1),
                                  n('smartIndent', !0),
                                  n(
                                    'tabSize',
                                    4,
                                    function (t) {
                                      Io(t), Un(t), hr(t);
                                    },
                                    !0
                                  ),
                                  n('lineSeparator', null, function (t, e) {
                                    if (((t.doc.lineSep = e), e)) {
                                      var n = [],
                                        r = t.doc.first;
                                      t.doc.iter(function (t) {
                                        for (var o = 0; ; ) {
                                          var i = t.text.indexOf(e, o);
                                          if (-1 == i) break;
                                          (o = i + e.length), n.push(ne(r, i));
                                        }
                                        r++;
                                      });
                                      for (var o = n.length - 1; o >= 0; o--)
                                        bi(
                                          t.doc,
                                          e,
                                          n[o],
                                          ne(n[o].line, n[o].ch + e.length)
                                        );
                                    }
                                  }),
                                  n(
                                    'specialChars',
                                    /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,
                                    function (t, e, n) {
                                      (t.state.specialChars = new RegExp(
                                        e.source + (e.test('\t') ? '' : '|\t'),
                                        'g'
                                      )),
                                        n != Ea && t.refresh();
                                    }
                                  ),
                                  n(
                                    'specialCharPlaceholder',
                                    tn,
                                    function (t) {
                                      return t.refresh();
                                    },
                                    !0
                                  ),
                                  n('electricChars', !0),
                                  n(
                                    'inputStyle',
                                    y ? 'contenteditable' : 'textarea',
                                    function () {
                                      throw new Error(
                                        'inputStyle can not (yet) be changed in a running editor'
                                      );
                                    },
                                    !0
                                  ),
                                  n(
                                    'spellcheck',
                                    !1,
                                    function (t, e) {
                                      return (t.getInputField().spellcheck = e);
                                    },
                                    !0
                                  ),
                                  n(
                                    'autocorrect',
                                    !1,
                                    function (t, e) {
                                      return (t.getInputField().autocorrect =
                                        e);
                                    },
                                    !0
                                  ),
                                  n(
                                    'autocapitalize',
                                    !1,
                                    function (t, e) {
                                      return (t.getInputField().autocapitalize =
                                        e);
                                    },
                                    !0
                                  ),
                                  n('rtlMoveVisually', !w),
                                  n('wholeLineUpdateBefore', !0),
                                  n(
                                    'theme',
                                    'default',
                                    function (t) {
                                      Ta(t), _o(t);
                                    },
                                    !0
                                  ),
                                  n('keyMap', 'default', function (t, e, n) {
                                    var r = ta(e),
                                      o = n != Ea && ta(n);
                                    o && o.detach && o.detach(t, r),
                                      r.attach && r.attach(t, o || null);
                                  }),
                                  n('extraKeys', null),
                                  n('configureMouse', null),
                                  n('lineWrapping', !1, Ma, !0),
                                  n(
                                    'gutters',
                                    [],
                                    function (t, e) {
                                      (t.display.gutterSpecs = yo(
                                        e,
                                        t.options.lineNumbers
                                      )),
                                        _o(t);
                                    },
                                    !0
                                  ),
                                  n(
                                    'fixedGutter',
                                    !0,
                                    function (t, e) {
                                      (t.display.gutters.style.left = e
                                        ? cr(t.display) + 'px'
                                        : '0'),
                                        t.refresh();
                                    },
                                    !0
                                  ),
                                  n(
                                    'coverGutterNextToScrollbar',
                                    !1,
                                    function (t) {
                                      return Wr(t);
                                    },
                                    !0
                                  ),
                                  n(
                                    'scrollbarStyle',
                                    'native',
                                    function (t) {
                                      qr(t),
                                        Wr(t),
                                        t.display.scrollbars.setScrollTop(
                                          t.doc.scrollTop
                                        ),
                                        t.display.scrollbars.setScrollLeft(
                                          t.doc.scrollLeft
                                        );
                                    },
                                    !0
                                  ),
                                  n(
                                    'lineNumbers',
                                    !1,
                                    function (t, e) {
                                      (t.display.gutterSpecs = yo(
                                        t.options.gutters,
                                        e
                                      )),
                                        _o(t);
                                    },
                                    !0
                                  ),
                                  n('firstLineNumber', 1, _o, !0),
                                  n(
                                    'lineNumberFormatter',
                                    function (t) {
                                      return t;
                                    },
                                    _o,
                                    !0
                                  ),
                                  n('showCursorWhenSelecting', !1, br, !0),
                                  n('resetSelectionOnContextMenu', !0),
                                  n('lineWiseCopyCut', !0),
                                  n('pasteLinesPerSelection', !0),
                                  n('selectionsMayTouch', !1),
                                  n('readOnly', !1, function (t, e) {
                                    'nocursor' == e &&
                                      (Er(t), t.display.input.blur()),
                                      t.display.input.readOnlyChanged(e);
                                  }),
                                  n('screenReaderLabel', null, function (t, e) {
                                    (e = '' === e ? null : e),
                                      t.display.input.screenReaderLabelChanged(
                                        e
                                      );
                                  }),
                                  n(
                                    'disableInput',
                                    !1,
                                    function (t, e) {
                                      e || t.display.input.reset();
                                    },
                                    !0
                                  ),
                                  n('dragDrop', !0, ja),
                                  n('allowDropFileTypes', null),
                                  n('cursorBlinkRate', 530),
                                  n('cursorScrollMargin', 0),
                                  n('cursorHeight', 1, br, !0),
                                  n('singleCursorHeightPerLine', !0, br, !0),
                                  n('workTime', 100),
                                  n('workDelay', 100),
                                  n('flattenSpans', !0, Io, !0),
                                  n('addModeClass', !1, Io, !0),
                                  n('pollInterval', 100),
                                  n('undoDepth', 200, function (t, e) {
                                    return (t.doc.history.undoDepth = e);
                                  }),
                                  n('historyEventDelay', 1250),
                                  n(
                                    'viewportMargin',
                                    10,
                                    function (t) {
                                      return t.refresh();
                                    },
                                    !0
                                  ),
                                  n('maxHighlightLength', 1e4, Io, !0),
                                  n('moveInputWithCursor', !0, function (t, e) {
                                    e || t.display.input.resetPosition();
                                  }),
                                  n('tabindex', null, function (t, e) {
                                    return (t.display.input.getField().tabIndex =
                                      e || '');
                                  }),
                                  n('autofocus', null),
                                  n(
                                    'direction',
                                    'ltr',
                                    function (t, e) {
                                      return t.doc.setDirection(e);
                                    },
                                    !0
                                  ),
                                  n('phrases', null);
                              })(La),
                              (function (t) {
                                var e = t.optionHandlers,
                                  n = (t.helpers = {});
                                (t.prototype = {
                                  constructor: t,
                                  focus: function () {
                                    window.focus(), this.display.input.focus();
                                  },
                                  setOption: function (t, n) {
                                    var r = this.options,
                                      o = r[t];
                                    (r[t] == n && 'mode' != t) ||
                                      ((r[t] = n),
                                      e.hasOwnProperty(t) &&
                                        ro(this, e[t])(this, n, o),
                                      vt(this, 'optionChange', this, t));
                                  },
                                  getOption: function (t) {
                                    return this.options[t];
                                  },
                                  getDoc: function () {
                                    return this.doc;
                                  },
                                  addKeyMap: function (t, e) {
                                    this.state.keyMaps[e ? 'push' : 'unshift'](
                                      ta(t)
                                    );
                                  },
                                  removeKeyMap: function (t) {
                                    for (
                                      var e = this.state.keyMaps, n = 0;
                                      n < e.length;
                                      ++n
                                    )
                                      if (e[n] == t || e[n].name == t)
                                        return e.splice(n, 1), !0;
                                  },
                                  addOverlay: oo(function (e, n) {
                                    var r = e.token
                                      ? e
                                      : t.getMode(this.options, e);
                                    if (r.startState)
                                      throw new Error(
                                        'Overlays may not be stateful.'
                                      );
                                    (function (t, e, n) {
                                      for (
                                        var r = 0, o = n(e);
                                        r < t.length && n(t[r]) <= o;

                                      )
                                        r++;
                                      t.splice(r, 0, e);
                                    })(
                                      this.state.overlays,
                                      {
                                        mode: r,
                                        modeSpec: e,
                                        opaque: n && n.opaque,
                                        priority: (n && n.priority) || 0,
                                      },
                                      function (t) {
                                        return t.priority;
                                      }
                                    ),
                                      this.state.modeGen++,
                                      hr(this);
                                  }),
                                  removeOverlay: oo(function (t) {
                                    for (
                                      var e = this.state.overlays, n = 0;
                                      n < e.length;
                                      ++n
                                    ) {
                                      var r = e[n].modeSpec;
                                      if (
                                        r == t ||
                                        ('string' == typeof t && r.name == t)
                                      )
                                        return (
                                          e.splice(n, 1),
                                          this.state.modeGen++,
                                          void hr(this)
                                        );
                                    }
                                  }),
                                  indentLine: oo(function (t, e, n) {
                                    'string' != typeof e &&
                                      'number' != typeof e &&
                                      (e =
                                        null == e
                                          ? this.options.smartIndent
                                            ? 'smart'
                                            : 'prev'
                                          : e
                                          ? 'add'
                                          : 'subtract'),
                                      te(this.doc, t) && Na(this, t, e, n);
                                  }),
                                  indentSelection: oo(function (t) {
                                    for (
                                      var e = this.doc.sel.ranges,
                                        n = -1,
                                        r = 0;
                                      r < e.length;
                                      r++
                                    ) {
                                      var o = e[r];
                                      if (o.empty())
                                        o.head.line > n &&
                                          (Na(this, o.head.line, t, !0),
                                          (n = o.head.line),
                                          r == this.doc.sel.primIndex &&
                                            Dr(this));
                                      else {
                                        var i = o.from(),
                                          a = o.to(),
                                          s = Math.max(n, i.line);
                                        n =
                                          Math.min(
                                            this.lastLine(),
                                            a.line - (a.ch ? 0 : 1)
                                          ) + 1;
                                        for (var l = s; l < n; ++l)
                                          Na(this, l, t);
                                        var c = this.doc.sel.ranges;
                                        0 == i.ch &&
                                          e.length == c.length &&
                                          c[r].from().ch > 0 &&
                                          ei(
                                            this.doc,
                                            r,
                                            new Eo(i, c[r].to()),
                                            W
                                          );
                                      }
                                    }
                                  }),
                                  getTokenAt: function (t, e) {
                                    return _e(this, t, e);
                                  },
                                  getLineTokens: function (t, e) {
                                    return _e(this, ne(t), e, !0);
                                  },
                                  getTokenTypeAt: function (t) {
                                    t = ce(this.doc, t);
                                    var e,
                                      n = he(this, Kt(this.doc, t.line)),
                                      r = 0,
                                      o = (n.length - 1) / 2,
                                      i = t.ch;
                                    if (0 == i) e = n[2];
                                    else
                                      for (;;) {
                                        var a = (r + o) >> 1;
                                        if ((a ? n[2 * a - 1] : 0) >= i) o = a;
                                        else {
                                          if (!(n[2 * a + 1] < i)) {
                                            e = n[2 * a + 2];
                                            break;
                                          }
                                          r = a + 1;
                                        }
                                      }
                                    var s = e ? e.indexOf('overlay ') : -1;
                                    return s < 0
                                      ? e
                                      : 0 == s
                                      ? null
                                      : e.slice(0, s - 1);
                                  },
                                  getModeAt: function (e) {
                                    var n = this.doc.mode;
                                    return n.innerMode
                                      ? t.innerMode(n, this.getTokenAt(e).state)
                                          .mode
                                      : n;
                                  },
                                  getHelper: function (t, e) {
                                    return this.getHelpers(t, e)[0];
                                  },
                                  getHelpers: function (t, e) {
                                    var r = [];
                                    if (!n.hasOwnProperty(e)) return r;
                                    var o = n[e],
                                      i = this.getModeAt(t);
                                    if ('string' == typeof i[e])
                                      o[i[e]] && r.push(o[i[e]]);
                                    else if (i[e])
                                      for (var a = 0; a < i[e].length; a++) {
                                        var s = o[i[e][a]];
                                        s && r.push(s);
                                      }
                                    else
                                      i.helperType && o[i.helperType]
                                        ? r.push(o[i.helperType])
                                        : o[i.name] && r.push(o[i.name]);
                                    for (var l = 0; l < o._global.length; l++) {
                                      var c = o._global[l];
                                      c.pred(i, this) &&
                                        -1 == B(r, c.val) &&
                                        r.push(c.val);
                                    }
                                    return r;
                                  },
                                  getStateAfter: function (t, e) {
                                    var n = this.doc;
                                    return ge(
                                      this,
                                      (t = le(
                                        n,
                                        null == t ? n.first + n.size - 1 : t
                                      )) + 1,
                                      e
                                    ).state;
                                  },
                                  cursorCoords: function (t, e) {
                                    var n = this.doc.sel.primary();
                                    return Yn(
                                      this,
                                      null == t
                                        ? n.head
                                        : 'object' == typeof t
                                        ? ce(this.doc, t)
                                        : t
                                        ? n.from()
                                        : n.to(),
                                      e || 'page'
                                    );
                                  },
                                  charCoords: function (t, e) {
                                    return Zn(
                                      this,
                                      ce(this.doc, t),
                                      e || 'page'
                                    );
                                  },
                                  coordsChar: function (t, e) {
                                    return Qn(
                                      this,
                                      (t = Kn(this, t, e || 'page')).left,
                                      t.top
                                    );
                                  },
                                  lineAtHeight: function (t, e) {
                                    return (
                                      (t = Kn(
                                        this,
                                        {
                                          top: t,
                                          left: 0,
                                        },
                                        e || 'page'
                                      ).top),
                                      Qt(this.doc, t + this.display.viewOffset)
                                    );
                                  },
                                  heightAtLine: function (t, e, n) {
                                    var r,
                                      o = !1;
                                    if ('number' == typeof t) {
                                      var i =
                                        this.doc.first + this.doc.size - 1;
                                      t < this.doc.first
                                        ? (t = this.doc.first)
                                        : t > i && ((t = i), (o = !0)),
                                        (r = Kt(this.doc, t));
                                    } else r = t;
                                    return (
                                      qn(
                                        this,
                                        r,
                                        {
                                          top: 0,
                                          left: 0,
                                        },
                                        e || 'page',
                                        n || o
                                      ).top + (o ? this.doc.height - $e(r) : 0)
                                    );
                                  },
                                  defaultTextHeight: function () {
                                    return ar(this.display);
                                  },
                                  defaultCharWidth: function () {
                                    return sr(this.display);
                                  },
                                  getViewport: function () {
                                    return {
                                      from: this.display.viewFrom,
                                      to: this.display.viewTo,
                                    };
                                  },
                                  addWidget: function (t, e, n, r, o) {
                                    var i = this.display,
                                      a = (t = Yn(this, ce(this.doc, t)))
                                        .bottom,
                                      s = t.left;
                                    if (
                                      ((e.style.position = 'absolute'),
                                      e.setAttribute(
                                        'cm-ignore-events',
                                        'true'
                                      ),
                                      this.display.input.setUneditable(e),
                                      i.sizer.appendChild(e),
                                      'over' == r)
                                    )
                                      a = t.top;
                                    else if ('above' == r || 'near' == r) {
                                      var l = Math.max(
                                          i.wrapper.clientHeight,
                                          this.doc.height
                                        ),
                                        c = Math.max(
                                          i.sizer.clientWidth,
                                          i.lineSpace.clientWidth
                                        );
                                      ('above' == r ||
                                        t.bottom + e.offsetHeight > l) &&
                                      t.top > e.offsetHeight
                                        ? (a = t.top - e.offsetHeight)
                                        : t.bottom + e.offsetHeight <= l &&
                                          (a = t.bottom),
                                        s + e.offsetWidth > c &&
                                          (s = c - e.offsetWidth);
                                    }
                                    (e.style.top = a + 'px'),
                                      (e.style.left = e.style.right = ''),
                                      'right' == o
                                        ? ((s =
                                            i.sizer.clientWidth -
                                            e.offsetWidth),
                                          (e.style.right = '0px'))
                                        : ('left' == o
                                            ? (s = 0)
                                            : 'middle' == o &&
                                              (s =
                                                (i.sizer.clientWidth -
                                                  e.offsetWidth) /
                                                2),
                                          (e.style.left = s + 'px')),
                                      n &&
                                        (function (t, e) {
                                          var n = Mr(t, e);
                                          null != n.scrollTop &&
                                            Rr(t, n.scrollTop),
                                            null != n.scrollLeft &&
                                              Vr(t, n.scrollLeft);
                                        })(this, {
                                          left: s,
                                          top: a,
                                          right: s + e.offsetWidth,
                                          bottom: a + e.offsetHeight,
                                        });
                                  },
                                  triggerOnKeyDown: oo(ha),
                                  triggerOnKeyPress: oo(va),
                                  triggerOnKeyUp: ga,
                                  triggerOnMouseDown: oo(wa),
                                  execCommand: function (t) {
                                    if (ia.hasOwnProperty(t))
                                      return ia[t].call(null, this);
                                  },
                                  triggerElectric: oo(function (t) {
                                    Va(this, t);
                                  }),
                                  findPosH: function (t, e, n, r) {
                                    var o = 1;
                                    e < 0 && ((o = -1), (e = -e));
                                    for (
                                      var i = ce(this.doc, t), a = 0;
                                      a < e &&
                                      !(i = Wa(this.doc, i, o, n, r)).hitSide;
                                      ++a
                                    );
                                    return i;
                                  },
                                  moveH: oo(function (t, e) {
                                    var n = this;
                                    this.extendSelectionsBy(function (r) {
                                      return n.display.shift ||
                                        n.doc.extend ||
                                        r.empty()
                                        ? Wa(
                                            n.doc,
                                            r.head,
                                            t,
                                            e,
                                            n.options.rtlMoveVisually
                                          )
                                        : t < 0
                                        ? r.from()
                                        : r.to();
                                    }, G);
                                  }),
                                  deleteH: oo(function (t, e) {
                                    var n = this.doc.sel,
                                      r = this.doc;
                                    n.somethingSelected()
                                      ? r.replaceSelection('', null, '+delete')
                                      : ea(this, function (n) {
                                          var o = Wa(r, n.head, t, e, !1);
                                          return t < 0
                                            ? {
                                                from: o,
                                                to: n.head,
                                              }
                                            : {
                                                from: n.head,
                                                to: o,
                                              };
                                        });
                                  }),
                                  findPosV: function (t, e, n, r) {
                                    var o = 1,
                                      i = r;
                                    e < 0 && ((o = -1), (e = -e));
                                    for (
                                      var a = ce(this.doc, t), s = 0;
                                      s < e;
                                      ++s
                                    ) {
                                      var l = Yn(this, a, 'div');
                                      if (
                                        (null == i
                                          ? (i = l.left)
                                          : (l.left = i),
                                        (a = $a(this, l, o, n)).hitSide)
                                      )
                                        break;
                                    }
                                    return a;
                                  },
                                  moveV: oo(function (t, e) {
                                    var n = this,
                                      r = this.doc,
                                      o = [],
                                      i =
                                        !this.display.shift &&
                                        !r.extend &&
                                        r.sel.somethingSelected();
                                    if (
                                      (r.extendSelectionsBy(function (a) {
                                        if (i) return t < 0 ? a.from() : a.to();
                                        var s = Yn(n, a.head, 'div');
                                        null != a.goalColumn &&
                                          (s.left = a.goalColumn),
                                          o.push(s.left);
                                        var l = $a(n, s, t, e);
                                        return (
                                          'page' == e &&
                                            a == r.sel.primary() &&
                                            Lr(n, Zn(n, l, 'div').top - s.top),
                                          l
                                        );
                                      }, G),
                                      o.length)
                                    )
                                      for (
                                        var a = 0;
                                        a < r.sel.ranges.length;
                                        a++
                                      )
                                        r.sel.ranges[a].goalColumn = o[a];
                                  }),
                                  findWordAt: function (t) {
                                    var e = Kt(this.doc, t.line).text,
                                      n = t.ch,
                                      r = t.ch;
                                    if (e) {
                                      var o = this.getHelper(t, 'wordChars');
                                      ('before' != t.sticky && r != e.length) ||
                                      !n
                                        ? ++r
                                        : --n;
                                      for (
                                        var i = e.charAt(n),
                                          a = nt(i, o)
                                            ? function (t) {
                                                return nt(t, o);
                                              }
                                            : /\s/.test(i)
                                            ? function (t) {
                                                return /\s/.test(t);
                                              }
                                            : function (t) {
                                                return !/\s/.test(t) && !nt(t);
                                              };
                                        n > 0 && a(e.charAt(n - 1));

                                      )
                                        --n;
                                      for (; r < e.length && a(e.charAt(r)); )
                                        ++r;
                                    }
                                    return new Eo(ne(t.line, n), ne(t.line, r));
                                  },
                                  toggleOverwrite: function (t) {
                                    (null != t && t == this.state.overwrite) ||
                                      ((this.state.overwrite =
                                        !this.state.overwrite)
                                        ? D(
                                            this.display.cursorDiv,
                                            'CodeMirror-overwrite'
                                          )
                                        : T(
                                            this.display.cursorDiv,
                                            'CodeMirror-overwrite'
                                          ),
                                      vt(
                                        this,
                                        'overwriteToggle',
                                        this,
                                        this.state.overwrite
                                      ));
                                  },
                                  hasFocus: function () {
                                    return this.display.input.getField() == L();
                                  },
                                  isReadOnly: function () {
                                    return !(
                                      !this.options.readOnly &&
                                      !this.doc.cantEdit
                                    );
                                  },
                                  scrollTo: oo(function (t, e) {
                                    Nr(this, t, e);
                                  }),
                                  getScrollInfo: function () {
                                    var t = this.display.scroller;
                                    return {
                                      left: t.scrollLeft,
                                      top: t.scrollTop,
                                      height:
                                        t.scrollHeight -
                                        En(this) -
                                        this.display.barHeight,
                                      width:
                                        t.scrollWidth -
                                        En(this) -
                                        this.display.barWidth,
                                      clientHeight: An(this),
                                      clientWidth: Pn(this),
                                    };
                                  },
                                  scrollIntoView: oo(function (t, e) {
                                    null == t
                                      ? ((t = {
                                          from: this.doc.sel.primary().head,
                                          to: null,
                                        }),
                                        null == e &&
                                          (e = this.options.cursorScrollMargin))
                                      : 'number' == typeof t
                                      ? (t = {
                                          from: ne(t, 0),
                                          to: null,
                                        })
                                      : null == t.from &&
                                        (t = {
                                          from: t,
                                          to: null,
                                        }),
                                      t.to || (t.to = t.from),
                                      (t.margin = e || 0),
                                      null != t.from.line
                                        ? (function (t, e) {
                                            Ir(t), (t.curOp.scrollToPos = e);
                                          })(this, t)
                                        : Fr(this, t.from, t.to, t.margin);
                                  }),
                                  setSize: oo(function (t, e) {
                                    var n = this,
                                      r = function (t) {
                                        return 'number' == typeof t ||
                                          /^\d+$/.test(String(t))
                                          ? t + 'px'
                                          : t;
                                      };
                                    null != t &&
                                      (this.display.wrapper.style.width = r(t)),
                                      null != e &&
                                        (this.display.wrapper.style.height =
                                          r(e)),
                                      this.options.lineWrapping && Hn(this);
                                    var o = this.display.viewFrom;
                                    this.doc.iter(
                                      o,
                                      this.display.viewTo,
                                      function (t) {
                                        if (t.widgets)
                                          for (
                                            var e = 0;
                                            e < t.widgets.length;
                                            e++
                                          )
                                            if (t.widgets[e].noHScroll) {
                                              gr(n, o, 'widget');
                                              break;
                                            }
                                        ++o;
                                      }
                                    ),
                                      (this.curOp.forceUpdate = !0),
                                      vt(this, 'refresh', this);
                                  }),
                                  operation: function (t) {
                                    return no(this, t);
                                  },
                                  startOperation: function () {
                                    return Zr(this);
                                  },
                                  endOperation: function () {
                                    return Yr(this);
                                  },
                                  refresh: oo(function () {
                                    var t = this.display.cachedTextHeight;
                                    hr(this),
                                      (this.curOp.forceUpdate = !0),
                                      Un(this),
                                      Nr(
                                        this,
                                        this.doc.scrollLeft,
                                        this.doc.scrollTop
                                      ),
                                      ho(this.display),
                                      (null == t ||
                                        Math.abs(t - ar(this.display)) > 0.5 ||
                                        this.options.lineWrapping) &&
                                        pr(this),
                                      vt(this, 'refresh', this);
                                  }),
                                  swapDoc: oo(function (t) {
                                    var e = this.doc;
                                    return (
                                      (e.cm = null),
                                      this.state.selectingText &&
                                        this.state.selectingText(),
                                      Vo(this, t),
                                      Un(this),
                                      this.display.input.reset(),
                                      Nr(this, t.scrollLeft, t.scrollTop),
                                      (this.curOp.forceScroll = !0),
                                      un(this, 'swapDoc', this, e),
                                      e
                                    );
                                  }),
                                  phrase: function (t) {
                                    var e = this.options.phrases;
                                    return e &&
                                      Object.prototype.hasOwnProperty.call(e, t)
                                      ? e[t]
                                      : t;
                                  },
                                  getInputField: function () {
                                    return this.display.input.getField();
                                  },
                                  getWrapperElement: function () {
                                    return this.display.wrapper;
                                  },
                                  getScrollerElement: function () {
                                    return this.display.scroller;
                                  },
                                  getGutterElement: function () {
                                    return this.display.gutters;
                                  },
                                }),
                                  _t(t),
                                  (t.registerHelper = function (e, r, o) {
                                    n.hasOwnProperty(e) ||
                                      (n[e] = t[e] =
                                        {
                                          _global: [],
                                        }),
                                      (n[e][r] = o);
                                  }),
                                  (t.registerGlobalHelper = function (
                                    e,
                                    r,
                                    o,
                                    i
                                  ) {
                                    t.registerHelper(e, r, i),
                                      n[e]._global.push({
                                        pred: o,
                                        val: i,
                                      });
                                  });
                              })(La);
                            var Ja =
                              'iter insert remove copy getEditor constructor'.split(
                                ' '
                              );
                            for (var Qa in Ni.prototype)
                              Ni.prototype.hasOwnProperty(Qa) &&
                                B(Ja, Qa) < 0 &&
                                (La.prototype[Qa] = (function (t) {
                                  return function () {
                                    return t.apply(this.doc, arguments);
                                  };
                                })(Ni.prototype[Qa]));
                            return (
                              _t(Ni),
                              (La.inputStyles = {
                                textarea: Xa,
                                contenteditable: Ga,
                              }),
                              (La.defineMode = function (t) {
                                La.defaults.mode ||
                                  'null' == t ||
                                  (La.defaults.mode = t),
                                  zt.apply(this, arguments);
                              }),
                              (La.defineMIME = function (t, e) {
                                Rt[t] = e;
                              }),
                              La.defineMode('null', function () {
                                return {
                                  token: function (t) {
                                    return t.skipToEnd();
                                  },
                                };
                              }),
                              La.defineMIME('text/plain', 'null'),
                              (La.defineExtension = function (t, e) {
                                La.prototype[t] = e;
                              }),
                              (La.defineDocExtension = function (t, e) {
                                Ni.prototype[t] = e;
                              }),
                              (La.fromTextArea = function (t, e) {
                                if (
                                  (((e = e ? R(e) : {}).value = t.value),
                                  !e.tabindex &&
                                    t.tabIndex &&
                                    (e.tabindex = t.tabIndex),
                                  !e.placeholder &&
                                    t.placeholder &&
                                    (e.placeholder = t.placeholder),
                                  null == e.autofocus)
                                ) {
                                  var n = L();
                                  e.autofocus =
                                    n == t ||
                                    (null != t.getAttribute('autofocus') &&
                                      n == document.body);
                                }

                                function r() {
                                  t.value = s.getValue();
                                }
                                var o;
                                if (
                                  t.form &&
                                  (ft(t.form, 'submit', r),
                                  !e.leaveSubmitMethodAlone)
                                ) {
                                  var i = t.form;
                                  o = i.submit;
                                  try {
                                    var a = (i.submit = function () {
                                      r(),
                                        (i.submit = o),
                                        i.submit(),
                                        (i.submit = a);
                                    });
                                  } catch (t) {}
                                }
                                (e.finishInit = function (n) {
                                  (n.save = r),
                                    (n.getTextArea = function () {
                                      return t;
                                    }),
                                    (n.toTextArea = function () {
                                      (n.toTextArea = isNaN),
                                        r(),
                                        t.parentNode.removeChild(
                                          n.getWrapperElement()
                                        ),
                                        (t.style.display = ''),
                                        t.form &&
                                          (gt(t.form, 'submit', r),
                                          e.leaveSubmitMethodAlone ||
                                            'function' !=
                                              typeof t.form.submit ||
                                            (t.form.submit = o));
                                    });
                                }),
                                  (t.style.display = 'none');
                                var s = La(function (e) {
                                  return t.parentNode.insertBefore(
                                    e,
                                    t.nextSibling
                                  );
                                }, e);
                                return s;
                              }),
                              (function (t) {
                                (t.off = gt),
                                  (t.on = ft),
                                  (t.wheelEventPixels = Oo),
                                  (t.Doc = Ni),
                                  (t.splitLines = Lt),
                                  (t.countColumn = z),
                                  (t.findColumn = q),
                                  (t.isWordChar = et),
                                  (t.Pass = U),
                                  (t.signal = vt),
                                  (t.Line = Ke),
                                  (t.changeEnd = jo),
                                  (t.scrollbarModel = Gr),
                                  (t.Pos = ne),
                                  (t.cmpPos = re),
                                  (t.modes = Ft),
                                  (t.mimeModes = Rt),
                                  (t.resolveMode = Vt),
                                  (t.getMode = Bt),
                                  (t.modeExtensions = Ht),
                                  (t.extendMode = Ut),
                                  (t.copyState = Wt),
                                  (t.startState = Gt),
                                  (t.innerMode = $t),
                                  (t.commands = ia),
                                  (t.keyMap = qi),
                                  (t.keyName = Qi),
                                  (t.isModifierKey = Xi),
                                  (t.lookupKey = Yi),
                                  (t.normalizeKeyMap = Zi),
                                  (t.StringStream = qt),
                                  (t.SharedTextMarker = ji),
                                  (t.TextMarker = Pi),
                                  (t.LineWidget = ki),
                                  (t.e_preventDefault = wt),
                                  (t.e_stopPropagation = xt),
                                  (t.e_stop = St),
                                  (t.addClass = D),
                                  (t.contains = M),
                                  (t.rmClass = T),
                                  (t.keyNames = Ui);
                              })(La),
                              (La.version = '5.65.6'),
                              La
                            );
                          })());
                      },
                      629: (t, e, n) => {
                        1 &&
                          (function (t) {
                            'use strict';

                            function e(t) {
                              for (var e = {}, n = 0; n < t.length; ++n)
                                e[t[n].toLowerCase()] = !0;
                              return e;
                            }
                            t.defineMode('css', function (e, n) {
                              var r = n.inline;
                              n.propertyKeywords ||
                                (n = t.resolveMode('text/css'));
                              var o,
                                i,
                                a = e.indentUnit,
                                s = n.tokenHooks,
                                l = n.documentTypes || {},
                                c = n.mediaTypes || {},
                                u = n.mediaFeatures || {},
                                p = n.mediaValueKeywords || {},
                                d = n.propertyKeywords || {},
                                f = n.nonStandardPropertyKeywords || {},
                                h = n.fontProperties || {},
                                g = n.counterDescriptors || {},
                                v = n.colorKeywords || {},
                                m = n.valueKeywords || {},
                                y = n.allowNested,
                                b = n.lineComment,
                                _ = !0 === n.supportsAtComponent,
                                w =
                                  !1 !== e.highlightNonStandardPropertyKeywords;

                              function x(t, e) {
                                return (o = e), t;
                              }

                              function C(t, e) {
                                var n = t.next();
                                if (s[n]) {
                                  var r = s[n](t, e);
                                  if (!1 !== r) return r;
                                }
                                return '@' == n
                                  ? (t.eatWhile(/[\w\\\-]/),
                                    x('def', t.current()))
                                  : '=' == n ||
                                    (('~' == n || '|' == n) && t.eat('='))
                                  ? x(null, 'compare')
                                  : '"' == n || "'" == n
                                  ? ((e.tokenize = S(n)), e.tokenize(t, e))
                                  : '#' == n
                                  ? (t.eatWhile(/[\w\\\-]/), x('atom', 'hash'))
                                  : '!' == n
                                  ? (t.match(/^\s*\w*/),
                                    x('keyword', 'important'))
                                  : /\d/.test(n) || ('.' == n && t.eat(/\d/))
                                  ? (t.eatWhile(/[\w.%]/), x('number', 'unit'))
                                  : '-' !== n
                                  ? /[,+>*\/]/.test(n)
                                    ? x(null, 'select-op')
                                    : '.' == n &&
                                      t.match(/^-?[_a-z][_a-z0-9-]*/i)
                                    ? x('qualifier', 'qualifier')
                                    : /[:;{}\[\]\(\)]/.test(n)
                                    ? x(null, n)
                                    : t.match(/^[\w-.]+(?=\()/)
                                    ? (/^(url(-prefix)?|domain|regexp)$/i.test(
                                        t.current()
                                      ) && (e.tokenize = O),
                                      x('variable callee', 'variable'))
                                    : /[\w\\\-]/.test(n)
                                    ? (t.eatWhile(/[\w\\\-]/),
                                      x('property', 'word'))
                                    : x(null, null)
                                  : /[\d.]/.test(t.peek())
                                  ? (t.eatWhile(/[\w.%]/), x('number', 'unit'))
                                  : t.match(/^-[\w\\\-]*/)
                                  ? (t.eatWhile(/[\w\\\-]/),
                                    t.match(/^\s*:/, !1)
                                      ? x('variable-2', 'variable-definition')
                                      : x('variable-2', 'variable'))
                                  : t.match(/^\w+-/)
                                  ? x('meta', 'meta')
                                  : void 0;
                              }

                              function S(t) {
                                return function (e, n) {
                                  for (
                                    var r, o = !1;
                                    null != (r = e.next());

                                  ) {
                                    if (r == t && !o) {
                                      ')' == t && e.backUp(1);
                                      break;
                                    }
                                    o = !o && '\\' == r;
                                  }
                                  return (
                                    (r == t || (!o && ')' != t)) &&
                                      (n.tokenize = null),
                                    x('string', 'string')
                                  );
                                };
                              }

                              function O(t, e) {
                                return (
                                  t.next(),
                                  t.match(/^\s*[\"\')]/, !1)
                                    ? (e.tokenize = null)
                                    : (e.tokenize = S(')')),
                                  x(null, '(')
                                );
                              }

                              function k(t, e, n) {
                                (this.type = t),
                                  (this.indent = e),
                                  (this.prev = n);
                              }

                              function T(t, e, n, r) {
                                return (
                                  (t.context = new k(
                                    n,
                                    e.indentation() + (!1 === r ? 0 : a),
                                    t.context
                                  )),
                                  n
                                );
                              }

                              function E(t) {
                                return (
                                  t.context.prev &&
                                    (t.context = t.context.prev),
                                  t.context.type
                                );
                              }

                              function P(t, e, n) {
                                return M[n.context.type](t, e, n);
                              }

                              function A(t, e, n, r) {
                                for (var o = r || 1; o > 0; o--)
                                  n.context = n.context.prev;
                                return P(t, e, n);
                              }

                              function j(t) {
                                var e = t.current().toLowerCase();
                                i = m.hasOwnProperty(e)
                                  ? 'atom'
                                  : v.hasOwnProperty(e)
                                  ? 'keyword'
                                  : 'variable';
                              }
                              var M = {
                                top: function (t, e, n) {
                                  if ('{' == t) return T(n, e, 'block');
                                  if ('}' == t && n.context.prev) return E(n);
                                  if (_ && /@component/i.test(t))
                                    return T(n, e, 'atComponentBlock');
                                  if (/^@(-moz-)?document$/i.test(t))
                                    return T(n, e, 'documentTypes');
                                  if (
                                    /^@(media|supports|(-moz-)?document|import)$/i.test(
                                      t
                                    )
                                  )
                                    return T(n, e, 'atBlock');
                                  if (/^@(font-face|counter-style)/i.test(t))
                                    return (
                                      (n.stateArg = t),
                                      'restricted_atBlock_before'
                                    );
                                  if (
                                    /^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(
                                      t
                                    )
                                  )
                                    return 'keyframes';
                                  if (t && '@' == t.charAt(0))
                                    return T(n, e, 'at');
                                  if ('hash' == t) i = 'builtin';
                                  else if ('word' == t) i = 'tag';
                                  else {
                                    if ('variable-definition' == t)
                                      return 'maybeprop';
                                    if ('interpolation' == t)
                                      return T(n, e, 'interpolation');
                                    if (':' == t) return 'pseudo';
                                    if (y && '(' == t) return T(n, e, 'parens');
                                  }
                                  return n.context.type;
                                },
                                block: function (t, e, n) {
                                  if ('word' == t) {
                                    var r = e.current().toLowerCase();
                                    return d.hasOwnProperty(r)
                                      ? ((i = 'property'), 'maybeprop')
                                      : f.hasOwnProperty(r)
                                      ? ((i = w ? 'string-2' : 'property'),
                                        'maybeprop')
                                      : y
                                      ? ((i = e.match(/^\s*:(?:\s|$)/, !1)
                                          ? 'property'
                                          : 'tag'),
                                        'block')
                                      : ((i += ' error'), 'maybeprop');
                                  }
                                  return 'meta' == t
                                    ? 'block'
                                    : y || ('hash' != t && 'qualifier' != t)
                                    ? M.top(t, e, n)
                                    : ((i = 'error'), 'block');
                                },
                                maybeprop: function (t, e, n) {
                                  return ':' == t
                                    ? T(n, e, 'prop')
                                    : P(t, e, n);
                                },
                                prop: function (t, e, n) {
                                  if (';' == t) return E(n);
                                  if ('{' == t && y)
                                    return T(n, e, 'propBlock');
                                  if ('}' == t || '{' == t) return A(t, e, n);
                                  if ('(' == t) return T(n, e, 'parens');
                                  if (
                                    'hash' != t ||
                                    /^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(
                                      e.current()
                                    )
                                  ) {
                                    if ('word' == t) j(e);
                                    else if ('interpolation' == t)
                                      return T(n, e, 'interpolation');
                                  } else i += ' error';
                                  return 'prop';
                                },
                                propBlock: function (t, e, n) {
                                  return '}' == t
                                    ? E(n)
                                    : 'word' == t
                                    ? ((i = 'property'), 'maybeprop')
                                    : n.context.type;
                                },
                                parens: function (t, e, n) {
                                  return '{' == t || '}' == t
                                    ? A(t, e, n)
                                    : ')' == t
                                    ? E(n)
                                    : '(' == t
                                    ? T(n, e, 'parens')
                                    : 'interpolation' == t
                                    ? T(n, e, 'interpolation')
                                    : ('word' == t && j(e), 'parens');
                                },
                                pseudo: function (t, e, n) {
                                  return 'meta' == t
                                    ? 'pseudo'
                                    : 'word' == t
                                    ? ((i = 'variable-3'), n.context.type)
                                    : P(t, e, n);
                                },
                                documentTypes: function (t, e, n) {
                                  return 'word' == t &&
                                    l.hasOwnProperty(e.current())
                                    ? ((i = 'tag'), n.context.type)
                                    : M.atBlock(t, e, n);
                                },
                                atBlock: function (t, e, n) {
                                  if ('(' == t)
                                    return T(n, e, 'atBlock_parens');
                                  if ('}' == t || ';' == t) return A(t, e, n);
                                  if ('{' == t)
                                    return E(n) && T(n, e, y ? 'block' : 'top');
                                  if ('interpolation' == t)
                                    return T(n, e, 'interpolation');
                                  if ('word' == t) {
                                    var r = e.current().toLowerCase();
                                    i =
                                      'only' == r ||
                                      'not' == r ||
                                      'and' == r ||
                                      'or' == r
                                        ? 'keyword'
                                        : c.hasOwnProperty(r)
                                        ? 'attribute'
                                        : u.hasOwnProperty(r)
                                        ? 'property'
                                        : p.hasOwnProperty(r)
                                        ? 'keyword'
                                        : d.hasOwnProperty(r)
                                        ? 'property'
                                        : f.hasOwnProperty(r)
                                        ? w
                                          ? 'string-2'
                                          : 'property'
                                        : m.hasOwnProperty(r)
                                        ? 'atom'
                                        : v.hasOwnProperty(r)
                                        ? 'keyword'
                                        : 'error';
                                  }
                                  return n.context.type;
                                },
                                atComponentBlock: function (t, e, n) {
                                  return '}' == t
                                    ? A(t, e, n)
                                    : '{' == t
                                    ? E(n) && T(n, e, y ? 'block' : 'top', !1)
                                    : ('word' == t && (i = 'error'),
                                      n.context.type);
                                },
                                atBlock_parens: function (t, e, n) {
                                  return ')' == t
                                    ? E(n)
                                    : '{' == t || '}' == t
                                    ? A(t, e, n, 2)
                                    : M.atBlock(t, e, n);
                                },
                                restricted_atBlock_before: function (t, e, n) {
                                  return '{' == t
                                    ? T(n, e, 'restricted_atBlock')
                                    : 'word' == t &&
                                      '@counter-style' == n.stateArg
                                    ? ((i = 'variable'),
                                      'restricted_atBlock_before')
                                    : P(t, e, n);
                                },
                                restricted_atBlock: function (t, e, n) {
                                  return '}' == t
                                    ? ((n.stateArg = null), E(n))
                                    : 'word' == t
                                    ? ((i =
                                        ('@font-face' == n.stateArg &&
                                          !h.hasOwnProperty(
                                            e.current().toLowerCase()
                                          )) ||
                                        ('@counter-style' == n.stateArg &&
                                          !g.hasOwnProperty(
                                            e.current().toLowerCase()
                                          ))
                                          ? 'error'
                                          : 'property'),
                                      'maybeprop')
                                    : 'restricted_atBlock';
                                },
                                keyframes: function (t, e, n) {
                                  return 'word' == t
                                    ? ((i = 'variable'), 'keyframes')
                                    : '{' == t
                                    ? T(n, e, 'top')
                                    : P(t, e, n);
                                },
                                at: function (t, e, n) {
                                  return ';' == t
                                    ? E(n)
                                    : '{' == t || '}' == t
                                    ? A(t, e, n)
                                    : ('word' == t
                                        ? (i = 'tag')
                                        : 'hash' == t && (i = 'builtin'),
                                      'at');
                                },
                                interpolation: function (t, e, n) {
                                  return '}' == t
                                    ? E(n)
                                    : '{' == t || ';' == t
                                    ? A(t, e, n)
                                    : ('word' == t
                                        ? (i = 'variable')
                                        : 'variable' != t &&
                                          '(' != t &&
                                          ')' != t &&
                                          (i = 'error'),
                                      'interpolation');
                                },
                              };
                              return {
                                startState: function (t) {
                                  return {
                                    tokenize: null,
                                    state: r ? 'block' : 'top',
                                    stateArg: null,
                                    context: new k(
                                      r ? 'block' : 'top',
                                      t || 0,
                                      null
                                    ),
                                  };
                                },
                                token: function (t, e) {
                                  if (!e.tokenize && t.eatSpace()) return null;
                                  var n = (e.tokenize || C)(t, e);
                                  return (
                                    n &&
                                      'object' == typeof n &&
                                      ((o = n[1]), (n = n[0])),
                                    (i = n),
                                    'comment' != o &&
                                      (e.state = M[e.state](o, t, e)),
                                    i
                                  );
                                },
                                indent: function (t, e) {
                                  var n = t.context,
                                    r = e && e.charAt(0),
                                    o = n.indent;
                                  return (
                                    'prop' != n.type ||
                                      ('}' != r && ')' != r) ||
                                      (n = n.prev),
                                    n.prev &&
                                      ('}' != r ||
                                      ('block' != n.type &&
                                        'top' != n.type &&
                                        'interpolation' != n.type &&
                                        'restricted_atBlock' != n.type)
                                        ? ((')' != r ||
                                            ('parens' != n.type &&
                                              'atBlock_parens' != n.type)) &&
                                            ('{' != r ||
                                              ('at' != n.type &&
                                                'atBlock' != n.type))) ||
                                          (o = Math.max(0, n.indent - a))
                                        : (o = (n = n.prev).indent)),
                                    o
                                  );
                                },
                                electricChars: '}',
                                blockCommentStart: '/*',
                                blockCommentEnd: '*/',
                                blockCommentContinue: ' * ',
                                lineComment: b,
                                fold: 'brace',
                              };
                            });
                            var n = ['domain', 'regexp', 'url', 'url-prefix'],
                              r = e(n),
                              o = [
                                'all',
                                'aural',
                                'braille',
                                'handheld',
                                'print',
                                'projection',
                                'screen',
                                'tty',
                                'tv',
                                'embossed',
                              ],
                              i = e(o),
                              a = [
                                'width',
                                'min-width',
                                'max-width',
                                'height',
                                'min-height',
                                'max-height',
                                'device-width',
                                'min-device-width',
                                'max-device-width',
                                'device-height',
                                'min-device-height',
                                'max-device-height',
                                'aspect-ratio',
                                'min-aspect-ratio',
                                'max-aspect-ratio',
                                'device-aspect-ratio',
                                'min-device-aspect-ratio',
                                'max-device-aspect-ratio',
                                'color',
                                'min-color',
                                'max-color',
                                'color-index',
                                'min-color-index',
                                'max-color-index',
                                'monochrome',
                                'min-monochrome',
                                'max-monochrome',
                                'resolution',
                                'min-resolution',
                                'max-resolution',
                                'scan',
                                'grid',
                                'orientation',
                                'device-pixel-ratio',
                                'min-device-pixel-ratio',
                                'max-device-pixel-ratio',
                                'pointer',
                                'any-pointer',
                                'hover',
                                'any-hover',
                                'prefers-color-scheme',
                                'dynamic-range',
                                'video-dynamic-range',
                              ],
                              s = e(a),
                              l = [
                                'landscape',
                                'portrait',
                                'none',
                                'coarse',
                                'fine',
                                'on-demand',
                                'hover',
                                'interlace',
                                'progressive',
                                'dark',
                                'light',
                                'standard',
                                'high',
                              ],
                              c = e(l),
                              u = [
                                'align-content',
                                'align-items',
                                'align-self',
                                'alignment-adjust',
                                'alignment-baseline',
                                'all',
                                'anchor-point',
                                'animation',
                                'animation-delay',
                                'animation-direction',
                                'animation-duration',
                                'animation-fill-mode',
                                'animation-iteration-count',
                                'animation-name',
                                'animation-play-state',
                                'animation-timing-function',
                                'appearance',
                                'azimuth',
                                'backdrop-filter',
                                'backface-visibility',
                                'background',
                                'background-attachment',
                                'background-blend-mode',
                                'background-clip',
                                'background-color',
                                'background-image',
                                'background-origin',
                                'background-position',
                                'background-position-x',
                                'background-position-y',
                                'background-repeat',
                                'background-size',
                                'baseline-shift',
                                'binding',
                                'bleed',
                                'block-size',
                                'bookmark-label',
                                'bookmark-level',
                                'bookmark-state',
                                'bookmark-target',
                                'border',
                                'border-bottom',
                                'border-bottom-color',
                                'border-bottom-left-radius',
                                'border-bottom-right-radius',
                                'border-bottom-style',
                                'border-bottom-width',
                                'border-collapse',
                                'border-color',
                                'border-image',
                                'border-image-outset',
                                'border-image-repeat',
                                'border-image-slice',
                                'border-image-source',
                                'border-image-width',
                                'border-left',
                                'border-left-color',
                                'border-left-style',
                                'border-left-width',
                                'border-radius',
                                'border-right',
                                'border-right-color',
                                'border-right-style',
                                'border-right-width',
                                'border-spacing',
                                'border-style',
                                'border-top',
                                'border-top-color',
                                'border-top-left-radius',
                                'border-top-right-radius',
                                'border-top-style',
                                'border-top-width',
                                'border-width',
                                'bottom',
                                'box-decoration-break',
                                'box-shadow',
                                'box-sizing',
                                'break-after',
                                'break-before',
                                'break-inside',
                                'caption-side',
                                'caret-color',
                                'clear',
                                'clip',
                                'color',
                                'color-profile',
                                'column-count',
                                'column-fill',
                                'column-gap',
                                'column-rule',
                                'column-rule-color',
                                'column-rule-style',
                                'column-rule-width',
                                'column-span',
                                'column-width',
                                'columns',
                                'contain',
                                'content',
                                'counter-increment',
                                'counter-reset',
                                'crop',
                                'cue',
                                'cue-after',
                                'cue-before',
                                'cursor',
                                'direction',
                                'display',
                                'dominant-baseline',
                                'drop-initial-after-adjust',
                                'drop-initial-after-align',
                                'drop-initial-before-adjust',
                                'drop-initial-before-align',
                                'drop-initial-size',
                                'drop-initial-value',
                                'elevation',
                                'empty-cells',
                                'fit',
                                'fit-content',
                                'fit-position',
                                'flex',
                                'flex-basis',
                                'flex-direction',
                                'flex-flow',
                                'flex-grow',
                                'flex-shrink',
                                'flex-wrap',
                                'float',
                                'float-offset',
                                'flow-from',
                                'flow-into',
                                'font',
                                'font-family',
                                'font-feature-settings',
                                'font-kerning',
                                'font-language-override',
                                'font-optical-sizing',
                                'font-size',
                                'font-size-adjust',
                                'font-stretch',
                                'font-style',
                                'font-synthesis',
                                'font-variant',
                                'font-variant-alternates',
                                'font-variant-caps',
                                'font-variant-east-asian',
                                'font-variant-ligatures',
                                'font-variant-numeric',
                                'font-variant-position',
                                'font-variation-settings',
                                'font-weight',
                                'gap',
                                'grid',
                                'grid-area',
                                'grid-auto-columns',
                                'grid-auto-flow',
                                'grid-auto-rows',
                                'grid-column',
                                'grid-column-end',
                                'grid-column-gap',
                                'grid-column-start',
                                'grid-gap',
                                'grid-row',
                                'grid-row-end',
                                'grid-row-gap',
                                'grid-row-start',
                                'grid-template',
                                'grid-template-areas',
                                'grid-template-columns',
                                'grid-template-rows',
                                'hanging-punctuation',
                                'height',
                                'hyphens',
                                'icon',
                                'image-orientation',
                                'image-rendering',
                                'image-resolution',
                                'inline-box-align',
                                'inset',
                                'inset-block',
                                'inset-block-end',
                                'inset-block-start',
                                'inset-inline',
                                'inset-inline-end',
                                'inset-inline-start',
                                'isolation',
                                'justify-content',
                                'justify-items',
                                'justify-self',
                                'left',
                                'letter-spacing',
                                'line-break',
                                'line-height',
                                'line-height-step',
                                'line-stacking',
                                'line-stacking-ruby',
                                'line-stacking-shift',
                                'line-stacking-strategy',
                                'list-style',
                                'list-style-image',
                                'list-style-position',
                                'list-style-type',
                                'margin',
                                'margin-bottom',
                                'margin-left',
                                'margin-right',
                                'margin-top',
                                'marks',
                                'marquee-direction',
                                'marquee-loop',
                                'marquee-play-count',
                                'marquee-speed',
                                'marquee-style',
                                'mask-clip',
                                'mask-composite',
                                'mask-image',
                                'mask-mode',
                                'mask-origin',
                                'mask-position',
                                'mask-repeat',
                                'mask-size',
                                'mask-type',
                                'max-block-size',
                                'max-height',
                                'max-inline-size',
                                'max-width',
                                'min-block-size',
                                'min-height',
                                'min-inline-size',
                                'min-width',
                                'mix-blend-mode',
                                'move-to',
                                'nav-down',
                                'nav-index',
                                'nav-left',
                                'nav-right',
                                'nav-up',
                                'object-fit',
                                'object-position',
                                'offset',
                                'offset-anchor',
                                'offset-distance',
                                'offset-path',
                                'offset-position',
                                'offset-rotate',
                                'opacity',
                                'order',
                                'orphans',
                                'outline',
                                'outline-color',
                                'outline-offset',
                                'outline-style',
                                'outline-width',
                                'overflow',
                                'overflow-style',
                                'overflow-wrap',
                                'overflow-x',
                                'overflow-y',
                                'padding',
                                'padding-bottom',
                                'padding-left',
                                'padding-right',
                                'padding-top',
                                'page',
                                'page-break-after',
                                'page-break-before',
                                'page-break-inside',
                                'page-policy',
                                'pause',
                                'pause-after',
                                'pause-before',
                                'perspective',
                                'perspective-origin',
                                'pitch',
                                'pitch-range',
                                'place-content',
                                'place-items',
                                'place-self',
                                'play-during',
                                'position',
                                'presentation-level',
                                'punctuation-trim',
                                'quotes',
                                'region-break-after',
                                'region-break-before',
                                'region-break-inside',
                                'region-fragment',
                                'rendering-intent',
                                'resize',
                                'rest',
                                'rest-after',
                                'rest-before',
                                'richness',
                                'right',
                                'rotate',
                                'rotation',
                                'rotation-point',
                                'row-gap',
                                'ruby-align',
                                'ruby-overhang',
                                'ruby-position',
                                'ruby-span',
                                'scale',
                                'scroll-behavior',
                                'scroll-margin',
                                'scroll-margin-block',
                                'scroll-margin-block-end',
                                'scroll-margin-block-start',
                                'scroll-margin-bottom',
                                'scroll-margin-inline',
                                'scroll-margin-inline-end',
                                'scroll-margin-inline-start',
                                'scroll-margin-left',
                                'scroll-margin-right',
                                'scroll-margin-top',
                                'scroll-padding',
                                'scroll-padding-block',
                                'scroll-padding-block-end',
                                'scroll-padding-block-start',
                                'scroll-padding-bottom',
                                'scroll-padding-inline',
                                'scroll-padding-inline-end',
                                'scroll-padding-inline-start',
                                'scroll-padding-left',
                                'scroll-padding-right',
                                'scroll-padding-top',
                                'scroll-snap-align',
                                'scroll-snap-type',
                                'shape-image-threshold',
                                'shape-inside',
                                'shape-margin',
                                'shape-outside',
                                'size',
                                'speak',
                                'speak-as',
                                'speak-header',
                                'speak-numeral',
                                'speak-punctuation',
                                'speech-rate',
                                'stress',
                                'string-set',
                                'tab-size',
                                'table-layout',
                                'target',
                                'target-name',
                                'target-new',
                                'target-position',
                                'text-align',
                                'text-align-last',
                                'text-combine-upright',
                                'text-decoration',
                                'text-decoration-color',
                                'text-decoration-line',
                                'text-decoration-skip',
                                'text-decoration-skip-ink',
                                'text-decoration-style',
                                'text-emphasis',
                                'text-emphasis-color',
                                'text-emphasis-position',
                                'text-emphasis-style',
                                'text-height',
                                'text-indent',
                                'text-justify',
                                'text-orientation',
                                'text-outline',
                                'text-overflow',
                                'text-rendering',
                                'text-shadow',
                                'text-size-adjust',
                                'text-space-collapse',
                                'text-transform',
                                'text-underline-position',
                                'text-wrap',
                                'top',
                                'touch-action',
                                'transform',
                                'transform-origin',
                                'transform-style',
                                'transition',
                                'transition-delay',
                                'transition-duration',
                                'transition-property',
                                'transition-timing-function',
                                'translate',
                                'unicode-bidi',
                                'user-select',
                                'vertical-align',
                                'visibility',
                                'voice-balance',
                                'voice-duration',
                                'voice-family',
                                'voice-pitch',
                                'voice-range',
                                'voice-rate',
                                'voice-stress',
                                'voice-volume',
                                'volume',
                                'white-space',
                                'widows',
                                'width',
                                'will-change',
                                'word-break',
                                'word-spacing',
                                'word-wrap',
                                'writing-mode',
                                'z-index',
                                'clip-path',
                                'clip-rule',
                                'mask',
                                'enable-background',
                                'filter',
                                'flood-color',
                                'flood-opacity',
                                'lighting-color',
                                'stop-color',
                                'stop-opacity',
                                'pointer-events',
                                'color-interpolation',
                                'color-interpolation-filters',
                                'color-rendering',
                                'fill',
                                'fill-opacity',
                                'fill-rule',
                                'image-rendering',
                                'marker',
                                'marker-end',
                                'marker-mid',
                                'marker-start',
                                'paint-order',
                                'shape-rendering',
                                'stroke',
                                'stroke-dasharray',
                                'stroke-dashoffset',
                                'stroke-linecap',
                                'stroke-linejoin',
                                'stroke-miterlimit',
                                'stroke-opacity',
                                'stroke-width',
                                'text-rendering',
                                'baseline-shift',
                                'dominant-baseline',
                                'glyph-orientation-horizontal',
                                'glyph-orientation-vertical',
                                'text-anchor',
                                'writing-mode',
                              ],
                              p = e(u),
                              d = [
                                'accent-color',
                                'aspect-ratio',
                                'border-block',
                                'border-block-color',
                                'border-block-end',
                                'border-block-end-color',
                                'border-block-end-style',
                                'border-block-end-width',
                                'border-block-start',
                                'border-block-start-color',
                                'border-block-start-style',
                                'border-block-start-width',
                                'border-block-style',
                                'border-block-width',
                                'border-inline',
                                'border-inline-color',
                                'border-inline-end',
                                'border-inline-end-color',
                                'border-inline-end-style',
                                'border-inline-end-width',
                                'border-inline-start',
                                'border-inline-start-color',
                                'border-inline-start-style',
                                'border-inline-start-width',
                                'border-inline-style',
                                'border-inline-width',
                                'content-visibility',
                                'margin-block',
                                'margin-block-end',
                                'margin-block-start',
                                'margin-inline',
                                'margin-inline-end',
                                'margin-inline-start',
                                'overflow-anchor',
                                'overscroll-behavior',
                                'padding-block',
                                'padding-block-end',
                                'padding-block-start',
                                'padding-inline',
                                'padding-inline-end',
                                'padding-inline-start',
                                'scroll-snap-stop',
                                'scrollbar-3d-light-color',
                                'scrollbar-arrow-color',
                                'scrollbar-base-color',
                                'scrollbar-dark-shadow-color',
                                'scrollbar-face-color',
                                'scrollbar-highlight-color',
                                'scrollbar-shadow-color',
                                'scrollbar-track-color',
                                'searchfield-cancel-button',
                                'searchfield-decoration',
                                'searchfield-results-button',
                                'searchfield-results-decoration',
                                'shape-inside',
                                'zoom',
                              ],
                              f = e(d),
                              h = e([
                                'font-display',
                                'font-family',
                                'src',
                                'unicode-range',
                                'font-variant',
                                'font-feature-settings',
                                'font-stretch',
                                'font-weight',
                                'font-style',
                              ]),
                              g = e([
                                'additive-symbols',
                                'fallback',
                                'negative',
                                'pad',
                                'prefix',
                                'range',
                                'speak-as',
                                'suffix',
                                'symbols',
                                'system',
                              ]),
                              v = [
                                'aliceblue',
                                'antiquewhite',
                                'aqua',
                                'aquamarine',
                                'azure',
                                'beige',
                                'bisque',
                                'black',
                                'blanchedalmond',
                                'blue',
                                'blueviolet',
                                'brown',
                                'burlywood',
                                'cadetblue',
                                'chartreuse',
                                'chocolate',
                                'coral',
                                'cornflowerblue',
                                'cornsilk',
                                'crimson',
                                'cyan',
                                'darkblue',
                                'darkcyan',
                                'darkgoldenrod',
                                'darkgray',
                                'darkgreen',
                                'darkgrey',
                                'darkkhaki',
                                'darkmagenta',
                                'darkolivegreen',
                                'darkorange',
                                'darkorchid',
                                'darkred',
                                'darksalmon',
                                'darkseagreen',
                                'darkslateblue',
                                'darkslategray',
                                'darkslategrey',
                                'darkturquoise',
                                'darkviolet',
                                'deeppink',
                                'deepskyblue',
                                'dimgray',
                                'dimgrey',
                                'dodgerblue',
                                'firebrick',
                                'floralwhite',
                                'forestgreen',
                                'fuchsia',
                                'gainsboro',
                                'ghostwhite',
                                'gold',
                                'goldenrod',
                                'gray',
                                'grey',
                                'green',
                                'greenyellow',
                                'honeydew',
                                'hotpink',
                                'indianred',
                                'indigo',
                                'ivory',
                                'khaki',
                                'lavender',
                                'lavenderblush',
                                'lawngreen',
                                'lemonchiffon',
                                'lightblue',
                                'lightcoral',
                                'lightcyan',
                                'lightgoldenrodyellow',
                                'lightgray',
                                'lightgreen',
                                'lightgrey',
                                'lightpink',
                                'lightsalmon',
                                'lightseagreen',
                                'lightskyblue',
                                'lightslategray',
                                'lightslategrey',
                                'lightsteelblue',
                                'lightyellow',
                                'lime',
                                'limegreen',
                                'linen',
                                'magenta',
                                'maroon',
                                'mediumaquamarine',
                                'mediumblue',
                                'mediumorchid',
                                'mediumpurple',
                                'mediumseagreen',
                                'mediumslateblue',
                                'mediumspringgreen',
                                'mediumturquoise',
                                'mediumvioletred',
                                'midnightblue',
                                'mintcream',
                                'mistyrose',
                                'moccasin',
                                'navajowhite',
                                'navy',
                                'oldlace',
                                'olive',
                                'olivedrab',
                                'orange',
                                'orangered',
                                'orchid',
                                'palegoldenrod',
                                'palegreen',
                                'paleturquoise',
                                'palevioletred',
                                'papayawhip',
                                'peachpuff',
                                'peru',
                                'pink',
                                'plum',
                                'powderblue',
                                'purple',
                                'rebeccapurple',
                                'red',
                                'rosybrown',
                                'royalblue',
                                'saddlebrown',
                                'salmon',
                                'sandybrown',
                                'seagreen',
                                'seashell',
                                'sienna',
                                'silver',
                                'skyblue',
                                'slateblue',
                                'slategray',
                                'slategrey',
                                'snow',
                                'springgreen',
                                'steelblue',
                                'tan',
                                'teal',
                                'thistle',
                                'tomato',
                                'turquoise',
                                'violet',
                                'wheat',
                                'white',
                                'whitesmoke',
                                'yellow',
                                'yellowgreen',
                              ],
                              m = e(v),
                              y = [
                                'above',
                                'absolute',
                                'activeborder',
                                'additive',
                                'activecaption',
                                'afar',
                                'after-white-space',
                                'ahead',
                                'alias',
                                'all',
                                'all-scroll',
                                'alphabetic',
                                'alternate',
                                'always',
                                'amharic',
                                'amharic-abegede',
                                'antialiased',
                                'appworkspace',
                                'arabic-indic',
                                'armenian',
                                'asterisks',
                                'attr',
                                'auto',
                                'auto-flow',
                                'avoid',
                                'avoid-column',
                                'avoid-page',
                                'avoid-region',
                                'axis-pan',
                                'background',
                                'backwards',
                                'baseline',
                                'below',
                                'bidi-override',
                                'binary',
                                'bengali',
                                'blink',
                                'block',
                                'block-axis',
                                'blur',
                                'bold',
                                'bolder',
                                'border',
                                'border-box',
                                'both',
                                'bottom',
                                'break',
                                'break-all',
                                'break-word',
                                'brightness',
                                'bullets',
                                'button',
                                'buttonface',
                                'buttonhighlight',
                                'buttonshadow',
                                'buttontext',
                                'calc',
                                'cambodian',
                                'capitalize',
                                'caps-lock-indicator',
                                'caption',
                                'captiontext',
                                'caret',
                                'cell',
                                'center',
                                'checkbox',
                                'circle',
                                'cjk-decimal',
                                'cjk-earthly-branch',
                                'cjk-heavenly-stem',
                                'cjk-ideographic',
                                'clear',
                                'clip',
                                'close-quote',
                                'col-resize',
                                'collapse',
                                'color',
                                'color-burn',
                                'color-dodge',
                                'column',
                                'column-reverse',
                                'compact',
                                'condensed',
                                'conic-gradient',
                                'contain',
                                'content',
                                'contents',
                                'content-box',
                                'context-menu',
                                'continuous',
                                'contrast',
                                'copy',
                                'counter',
                                'counters',
                                'cover',
                                'crop',
                                'cross',
                                'crosshair',
                                'cubic-bezier',
                                'currentcolor',
                                'cursive',
                                'cyclic',
                                'darken',
                                'dashed',
                                'decimal',
                                'decimal-leading-zero',
                                'default',
                                'default-button',
                                'dense',
                                'destination-atop',
                                'destination-in',
                                'destination-out',
                                'destination-over',
                                'devanagari',
                                'difference',
                                'disc',
                                'discard',
                                'disclosure-closed',
                                'disclosure-open',
                                'document',
                                'dot-dash',
                                'dot-dot-dash',
                                'dotted',
                                'double',
                                'down',
                                'drop-shadow',
                                'e-resize',
                                'ease',
                                'ease-in',
                                'ease-in-out',
                                'ease-out',
                                'element',
                                'ellipse',
                                'ellipsis',
                                'embed',
                                'end',
                                'ethiopic',
                                'ethiopic-abegede',
                                'ethiopic-abegede-am-et',
                                'ethiopic-abegede-gez',
                                'ethiopic-abegede-ti-er',
                                'ethiopic-abegede-ti-et',
                                'ethiopic-halehame-aa-er',
                                'ethiopic-halehame-aa-et',
                                'ethiopic-halehame-am-et',
                                'ethiopic-halehame-gez',
                                'ethiopic-halehame-om-et',
                                'ethiopic-halehame-sid-et',
                                'ethiopic-halehame-so-et',
                                'ethiopic-halehame-ti-er',
                                'ethiopic-halehame-ti-et',
                                'ethiopic-halehame-tig',
                                'ethiopic-numeric',
                                'ew-resize',
                                'exclusion',
                                'expanded',
                                'extends',
                                'extra-condensed',
                                'extra-expanded',
                                'fantasy',
                                'fast',
                                'fill',
                                'fill-box',
                                'fixed',
                                'flat',
                                'flex',
                                'flex-end',
                                'flex-start',
                                'footnotes',
                                'forwards',
                                'from',
                                'geometricPrecision',
                                'georgian',
                                'grayscale',
                                'graytext',
                                'grid',
                                'groove',
                                'gujarati',
                                'gurmukhi',
                                'hand',
                                'hangul',
                                'hangul-consonant',
                                'hard-light',
                                'hebrew',
                                'help',
                                'hidden',
                                'hide',
                                'higher',
                                'highlight',
                                'highlighttext',
                                'hiragana',
                                'hiragana-iroha',
                                'horizontal',
                                'hsl',
                                'hsla',
                                'hue',
                                'hue-rotate',
                                'icon',
                                'ignore',
                                'inactiveborder',
                                'inactivecaption',
                                'inactivecaptiontext',
                                'infinite',
                                'infobackground',
                                'infotext',
                                'inherit',
                                'initial',
                                'inline',
                                'inline-axis',
                                'inline-block',
                                'inline-flex',
                                'inline-grid',
                                'inline-table',
                                'inset',
                                'inside',
                                'intrinsic',
                                'invert',
                                'italic',
                                'japanese-formal',
                                'japanese-informal',
                                'justify',
                                'kannada',
                                'katakana',
                                'katakana-iroha',
                                'keep-all',
                                'khmer',
                                'korean-hangul-formal',
                                'korean-hanja-formal',
                                'korean-hanja-informal',
                                'landscape',
                                'lao',
                                'large',
                                'larger',
                                'left',
                                'level',
                                'lighter',
                                'lighten',
                                'line-through',
                                'linear',
                                'linear-gradient',
                                'lines',
                                'list-item',
                                'listbox',
                                'listitem',
                                'local',
                                'logical',
                                'loud',
                                'lower',
                                'lower-alpha',
                                'lower-armenian',
                                'lower-greek',
                                'lower-hexadecimal',
                                'lower-latin',
                                'lower-norwegian',
                                'lower-roman',
                                'lowercase',
                                'ltr',
                                'luminosity',
                                'malayalam',
                                'manipulation',
                                'match',
                                'matrix',
                                'matrix3d',
                                'media-play-button',
                                'media-slider',
                                'media-sliderthumb',
                                'media-volume-slider',
                                'media-volume-sliderthumb',
                                'medium',
                                'menu',
                                'menulist',
                                'menulist-button',
                                'menutext',
                                'message-box',
                                'middle',
                                'min-intrinsic',
                                'mix',
                                'mongolian',
                                'monospace',
                                'move',
                                'multiple',
                                'multiple_mask_images',
                                'multiply',
                                'myanmar',
                                'n-resize',
                                'narrower',
                                'ne-resize',
                                'nesw-resize',
                                'no-close-quote',
                                'no-drop',
                                'no-open-quote',
                                'no-repeat',
                                'none',
                                'normal',
                                'not-allowed',
                                'nowrap',
                                'ns-resize',
                                'numbers',
                                'numeric',
                                'nw-resize',
                                'nwse-resize',
                                'oblique',
                                'octal',
                                'opacity',
                                'open-quote',
                                'optimizeLegibility',
                                'optimizeSpeed',
                                'oriya',
                                'oromo',
                                'outset',
                                'outside',
                                'outside-shape',
                                'overlay',
                                'overline',
                                'padding',
                                'padding-box',
                                'painted',
                                'page',
                                'paused',
                                'persian',
                                'perspective',
                                'pinch-zoom',
                                'plus-darker',
                                'plus-lighter',
                                'pointer',
                                'polygon',
                                'portrait',
                                'pre',
                                'pre-line',
                                'pre-wrap',
                                'preserve-3d',
                                'progress',
                                'push-button',
                                'radial-gradient',
                                'radio',
                                'read-only',
                                'read-write',
                                'read-write-plaintext-only',
                                'rectangle',
                                'region',
                                'relative',
                                'repeat',
                                'repeating-linear-gradient',
                                'repeating-radial-gradient',
                                'repeating-conic-gradient',
                                'repeat-x',
                                'repeat-y',
                                'reset',
                                'reverse',
                                'rgb',
                                'rgba',
                                'ridge',
                                'right',
                                'rotate',
                                'rotate3d',
                                'rotateX',
                                'rotateY',
                                'rotateZ',
                                'round',
                                'row',
                                'row-resize',
                                'row-reverse',
                                'rtl',
                                'run-in',
                                'running',
                                's-resize',
                                'sans-serif',
                                'saturate',
                                'saturation',
                                'scale',
                                'scale3d',
                                'scaleX',
                                'scaleY',
                                'scaleZ',
                                'screen',
                                'scroll',
                                'scrollbar',
                                'scroll-position',
                                'se-resize',
                                'searchfield',
                                'searchfield-cancel-button',
                                'searchfield-decoration',
                                'searchfield-results-button',
                                'searchfield-results-decoration',
                                'self-start',
                                'self-end',
                                'semi-condensed',
                                'semi-expanded',
                                'separate',
                                'sepia',
                                'serif',
                                'show',
                                'sidama',
                                'simp-chinese-formal',
                                'simp-chinese-informal',
                                'single',
                                'skew',
                                'skewX',
                                'skewY',
                                'skip-white-space',
                                'slide',
                                'slider-horizontal',
                                'slider-vertical',
                                'sliderthumb-horizontal',
                                'sliderthumb-vertical',
                                'slow',
                                'small',
                                'small-caps',
                                'small-caption',
                                'smaller',
                                'soft-light',
                                'solid',
                                'somali',
                                'source-atop',
                                'source-in',
                                'source-out',
                                'source-over',
                                'space',
                                'space-around',
                                'space-between',
                                'space-evenly',
                                'spell-out',
                                'square',
                                'square-button',
                                'start',
                                'static',
                                'status-bar',
                                'stretch',
                                'stroke',
                                'stroke-box',
                                'sub',
                                'subpixel-antialiased',
                                'svg_masks',
                                'super',
                                'sw-resize',
                                'symbolic',
                                'symbols',
                                'system-ui',
                                'table',
                                'table-caption',
                                'table-cell',
                                'table-column',
                                'table-column-group',
                                'table-footer-group',
                                'table-header-group',
                                'table-row',
                                'table-row-group',
                                'tamil',
                                'telugu',
                                'text',
                                'text-bottom',
                                'text-top',
                                'textarea',
                                'textfield',
                                'thai',
                                'thick',
                                'thin',
                                'threeddarkshadow',
                                'threedface',
                                'threedhighlight',
                                'threedlightshadow',
                                'threedshadow',
                                'tibetan',
                                'tigre',
                                'tigrinya-er',
                                'tigrinya-er-abegede',
                                'tigrinya-et',
                                'tigrinya-et-abegede',
                                'to',
                                'top',
                                'trad-chinese-formal',
                                'trad-chinese-informal',
                                'transform',
                                'translate',
                                'translate3d',
                                'translateX',
                                'translateY',
                                'translateZ',
                                'transparent',
                                'ultra-condensed',
                                'ultra-expanded',
                                'underline',
                                'unidirectional-pan',
                                'unset',
                                'up',
                                'upper-alpha',
                                'upper-armenian',
                                'upper-greek',
                                'upper-hexadecimal',
                                'upper-latin',
                                'upper-norwegian',
                                'upper-roman',
                                'uppercase',
                                'urdu',
                                'url',
                                'var',
                                'vertical',
                                'vertical-text',
                                'view-box',
                                'visible',
                                'visibleFill',
                                'visiblePainted',
                                'visibleStroke',
                                'visual',
                                'w-resize',
                                'wait',
                                'wave',
                                'wider',
                                'window',
                                'windowframe',
                                'windowtext',
                                'words',
                                'wrap',
                                'wrap-reverse',
                                'x-large',
                                'x-small',
                                'xor',
                                'xx-large',
                                'xx-small',
                              ],
                              b = e(y),
                              _ = n
                                .concat(o)
                                .concat(a)
                                .concat(l)
                                .concat(u)
                                .concat(d)
                                .concat(v)
                                .concat(y);

                            function w(t, e) {
                              for (var n, r = !1; null != (n = t.next()); ) {
                                if (r && '/' == n) {
                                  e.tokenize = null;
                                  break;
                                }
                                r = '*' == n;
                              }
                              return ['comment', 'comment'];
                            }
                            t.registerHelper('hintWords', 'css', _),
                              t.defineMIME('text/css', {
                                documentTypes: r,
                                mediaTypes: i,
                                mediaFeatures: s,
                                mediaValueKeywords: c,
                                propertyKeywords: p,
                                nonStandardPropertyKeywords: f,
                                fontProperties: h,
                                counterDescriptors: g,
                                colorKeywords: m,
                                valueKeywords: b,
                                tokenHooks: {
                                  '/': function (t, e) {
                                    return (
                                      !!t.eat('*') &&
                                      ((e.tokenize = w), w(t, e))
                                    );
                                  },
                                },
                                name: 'css',
                              }),
                              t.defineMIME('text/x-scss', {
                                mediaTypes: i,
                                mediaFeatures: s,
                                mediaValueKeywords: c,
                                propertyKeywords: p,
                                nonStandardPropertyKeywords: f,
                                colorKeywords: m,
                                valueKeywords: b,
                                fontProperties: h,
                                allowNested: !0,
                                lineComment: '//',
                                tokenHooks: {
                                  '/': function (t, e) {
                                    return t.eat('/')
                                      ? (t.skipToEnd(), ['comment', 'comment'])
                                      : t.eat('*')
                                      ? ((e.tokenize = w), w(t, e))
                                      : ['operator', 'operator'];
                                  },
                                  ':': function (t) {
                                    return (
                                      !!t.match(/^\s*\{/, !1) && [null, null]
                                    );
                                  },
                                  $: function (t) {
                                    return (
                                      t.match(/^[\w-]+/),
                                      t.match(/^\s*:/, !1)
                                        ? ['variable-2', 'variable-definition']
                                        : ['variable-2', 'variable']
                                    );
                                  },
                                  '#': function (t) {
                                    return (
                                      !!t.eat('{') && [null, 'interpolation']
                                    );
                                  },
                                },
                                name: 'css',
                                helperType: 'scss',
                              }),
                              t.defineMIME('text/x-less', {
                                mediaTypes: i,
                                mediaFeatures: s,
                                mediaValueKeywords: c,
                                propertyKeywords: p,
                                nonStandardPropertyKeywords: f,
                                colorKeywords: m,
                                valueKeywords: b,
                                fontProperties: h,
                                allowNested: !0,
                                lineComment: '//',
                                tokenHooks: {
                                  '/': function (t, e) {
                                    return t.eat('/')
                                      ? (t.skipToEnd(), ['comment', 'comment'])
                                      : t.eat('*')
                                      ? ((e.tokenize = w), w(t, e))
                                      : ['operator', 'operator'];
                                  },
                                  '@': function (t) {
                                    return t.eat('{')
                                      ? [null, 'interpolation']
                                      : !t.match(
                                          /^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,
                                          !1
                                        ) &&
                                          (t.eatWhile(/[\w\\\-]/),
                                          t.match(/^\s*:/, !1)
                                            ? [
                                                'variable-2',
                                                'variable-definition',
                                              ]
                                            : ['variable-2', 'variable']);
                                  },
                                  '&': function () {
                                    return ['atom', 'atom'];
                                  },
                                },
                                name: 'css',
                                helperType: 'less',
                              }),
                              t.defineMIME('text/x-gss', {
                                documentTypes: r,
                                mediaTypes: i,
                                mediaFeatures: s,
                                propertyKeywords: p,
                                nonStandardPropertyKeywords: f,
                                fontProperties: h,
                                counterDescriptors: g,
                                colorKeywords: m,
                                valueKeywords: b,
                                supportsAtComponent: !0,
                                tokenHooks: {
                                  '/': function (t, e) {
                                    return (
                                      !!t.eat('*') &&
                                      ((e.tokenize = w), w(t, e))
                                    );
                                  },
                                },
                                name: 'css',
                                helperType: 'gss',
                              });
                          })(n(631));
                      },
                      531: (t, e, n) => {
                        1 &&
                          (function (t) {
                            'use strict';
                            var e = {
                                script: [
                                  ['lang', /(javascript|babel)/i, 'javascript'],
                                  [
                                    'type',
                                    /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,
                                    'javascript',
                                  ],
                                  ['type', /./, 'text/plain'],
                                  [null, null, 'javascript'],
                                ],
                                style: [
                                  ['lang', /^css$/i, 'css'],
                                  [
                                    'type',
                                    /^(text\/)?(x-)?(stylesheet|css)$/i,
                                    'css',
                                  ],
                                  ['type', /./, 'text/plain'],
                                  [null, null, 'css'],
                                ],
                              },
                              n = {};

                            function r(t, e) {
                              var r = t.match(
                                (function (t) {
                                  return (
                                    n[t] ||
                                    (n[t] = new RegExp(
                                      '\\s+' +
                                        t +
                                        '\\s*=\\s*(\'|")?([^\'"]+)(\'|")?\\s*'
                                    ))
                                  );
                                })(e)
                              );
                              return r ? /^\s*(.*?)\s*$/.exec(r[2])[1] : '';
                            }

                            function o(t, e) {
                              return new RegExp(
                                (e ? '^' : '') + '</\\s*' + t + '\\s*>',
                                'i'
                              );
                            }

                            function i(t, e) {
                              for (var n in t)
                                for (
                                  var r = e[n] || (e[n] = []),
                                    o = t[n],
                                    i = o.length - 1;
                                  i >= 0;
                                  i--
                                )
                                  r.unshift(o[i]);
                            }

                            function a(t, e) {
                              for (var n = 0; n < t.length; n++) {
                                var o = t[n];
                                if (!o[0] || o[1].test(r(e, o[0]))) return o[2];
                              }
                            }
                            t.defineMode(
                              'htmlmixed',
                              function (n, r) {
                                var s = t.getMode(n, {
                                    name: 'xml',
                                    htmlMode: !0,
                                    multilineTagIndentFactor:
                                      r.multilineTagIndentFactor,
                                    multilineTagIndentPastTag:
                                      r.multilineTagIndentPastTag,
                                    allowMissingTagName: r.allowMissingTagName,
                                  }),
                                  l = {},
                                  c = r && r.tags,
                                  u = r && r.scriptTypes;
                                if ((i(e, l), c && i(c, l), u))
                                  for (var p = u.length - 1; p >= 0; p--)
                                    l.script.unshift([
                                      'type',
                                      u[p].matches,
                                      u[p].mode,
                                    ]);

                                function d(e, r) {
                                  var i,
                                    c = s.token(e, r.htmlState),
                                    u = /\btag\b/.test(c);
                                  if (
                                    u &&
                                    !/[<>\s\/]/.test(e.current()) &&
                                    (i =
                                      r.htmlState.tagName &&
                                      r.htmlState.tagName.toLowerCase()) &&
                                    l.hasOwnProperty(i)
                                  )
                                    r.inTag = i + ' ';
                                  else if (
                                    r.inTag &&
                                    u &&
                                    />$/.test(e.current())
                                  ) {
                                    var p = /^([\S]+) (.*)/.exec(r.inTag);
                                    r.inTag = null;
                                    var f =
                                        '>' == e.current() && a(l[p[1]], p[2]),
                                      h = t.getMode(n, f),
                                      g = o(p[1], !0),
                                      v = o(p[1], !1);
                                    (r.token = function (t, e) {
                                      return t.match(g, !1)
                                        ? ((e.token = d),
                                          (e.localState = e.localMode = null),
                                          null)
                                        : (function (t, e, n) {
                                            var r = t.current(),
                                              o = r.search(e);
                                            return (
                                              o > -1
                                                ? t.backUp(r.length - o)
                                                : r.match(/<\/?$/) &&
                                                  (t.backUp(r.length),
                                                  t.match(e, !1) || t.match(r)),
                                              n
                                            );
                                          })(
                                            t,
                                            v,
                                            e.localMode.token(t, e.localState)
                                          );
                                    }),
                                      (r.localMode = h),
                                      (r.localState = t.startState(
                                        h,
                                        s.indent(r.htmlState, '', '')
                                      ));
                                  } else
                                    r.inTag &&
                                      ((r.inTag += e.current()),
                                      e.eol() && (r.inTag += ' '));
                                  return c;
                                }
                                return {
                                  startState: function () {
                                    return {
                                      token: d,
                                      inTag: null,
                                      localMode: null,
                                      localState: null,
                                      htmlState: t.startState(s),
                                    };
                                  },
                                  copyState: function (e) {
                                    var n;
                                    return (
                                      e.localState &&
                                        (n = t.copyState(
                                          e.localMode,
                                          e.localState
                                        )),
                                      {
                                        token: e.token,
                                        inTag: e.inTag,
                                        localMode: e.localMode,
                                        localState: n,
                                        htmlState: t.copyState(s, e.htmlState),
                                      }
                                    );
                                  },
                                  token: function (t, e) {
                                    return e.token(t, e);
                                  },
                                  indent: function (e, n, r) {
                                    return !e.localMode || /^\s*<\//.test(n)
                                      ? s.indent(e.htmlState, n, r)
                                      : e.localMode.indent
                                      ? e.localMode.indent(e.localState, n, r)
                                      : t.Pass;
                                  },
                                  innerMode: function (t) {
                                    return {
                                      state: t.localState || t.htmlState,
                                      mode: t.localMode || s,
                                    };
                                  },
                                };
                              },
                              'xml',
                              'javascript',
                              'css'
                            ),
                              t.defineMIME('text/html', 'htmlmixed');
                          })(n(631), n(589), n(876), n(629));
                      },
                      876: (t, e, n) => {
                        1 &&
                          (function (t) {
                            'use strict';
                            t.defineMode('javascript', function (e, n) {
                              var r,
                                o,
                                i = e.indentUnit,
                                a = n.statementIndent,
                                s = n.jsonld,
                                l = n.json || s,
                                c = !1 !== n.trackScope,
                                u = n.typescript,
                                p = n.wordCharacters || /[\w$\xa1-\uffff]/,
                                d = (function () {
                                  function t(t) {
                                    return {
                                      type: t,
                                      style: 'keyword',
                                    };
                                  }
                                  var e = t('keyword a'),
                                    n = t('keyword b'),
                                    r = t('keyword c'),
                                    o = t('keyword d'),
                                    i = t('operator'),
                                    a = {
                                      type: 'atom',
                                      style: 'atom',
                                    };
                                  return {
                                    if: t('if'),
                                    while: e,
                                    with: e,
                                    else: n,
                                    do: n,
                                    try: n,
                                    finally: n,
                                    return: o,
                                    break: o,
                                    continue: o,
                                    new: t('new'),
                                    delete: r,
                                    void: r,
                                    throw: r,
                                    debugger: t('debugger'),
                                    var: t('var'),
                                    const: t('var'),
                                    let: t('var'),
                                    function: t('function'),
                                    catch: t('catch'),
                                    for: t('for'),
                                    switch: t('switch'),
                                    case: t('case'),
                                    default: t('default'),
                                    in: i,
                                    typeof: i,
                                    instanceof: i,
                                    true: a,
                                    false: a,
                                    null: a,
                                    undefined: a,
                                    NaN: a,
                                    Infinity: a,
                                    this: t('this'),
                                    class: t('class'),
                                    super: t('atom'),
                                    yield: r,
                                    export: t('export'),
                                    import: t('import'),
                                    extends: r,
                                    await: r,
                                  };
                                })(),
                                f = /[+\-*&%=<>!?|~^@]/,
                                h =
                                  /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;

                              function g(t, e, n) {
                                return (r = t), (o = n), e;
                              }

                              function v(t, e) {
                                var n = t.next();
                                if ('"' == n || "'" == n)
                                  return (
                                    (e.tokenize = (function (t) {
                                      return function (e, n) {
                                        var r,
                                          o = !1;
                                        if (s && '@' == e.peek() && e.match(h))
                                          return (
                                            (n.tokenize = v),
                                            g('jsonld-keyword', 'meta')
                                          );
                                        for (
                                          ;
                                          null != (r = e.next()) &&
                                          (r != t || o);

                                        )
                                          o = !o && '\\' == r;
                                        return (
                                          o || (n.tokenize = v),
                                          g('string', 'string')
                                        );
                                      };
                                    })(n)),
                                    e.tokenize(t, e)
                                  );
                                if (
                                  '.' == n &&
                                  t.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)
                                )
                                  return g('number', 'number');
                                if ('.' == n && t.match('..'))
                                  return g('spread', 'meta');
                                if (/[\[\]{}\(\),;\:\.]/.test(n)) return g(n);
                                if ('=' == n && t.eat('>'))
                                  return g('=>', 'operator');
                                if (
                                  '0' == n &&
                                  t.match(
                                    /^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/
                                  )
                                )
                                  return g('number', 'number');
                                if (/\d/.test(n))
                                  return (
                                    t.match(
                                      /^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/
                                    ),
                                    g('number', 'number')
                                  );
                                if ('/' == n)
                                  return t.eat('*')
                                    ? ((e.tokenize = m), m(t, e))
                                    : t.eat('/')
                                    ? (t.skipToEnd(), g('comment', 'comment'))
                                    : te(t, e, 1)
                                    ? ((function (t) {
                                        for (
                                          var e, n = !1, r = !1;
                                          null != (e = t.next());

                                        ) {
                                          if (!n) {
                                            if ('/' == e && !r) return;
                                            '[' == e
                                              ? (r = !0)
                                              : r && ']' == e && (r = !1);
                                          }
                                          n = !n && '\\' == e;
                                        }
                                      })(t),
                                      t.match(
                                        /^\b(([gimyus])(?![gimyus]*\2))+\b/
                                      ),
                                      g('regexp', 'string-2'))
                                    : (t.eat('='),
                                      g('operator', 'operator', t.current()));
                                if ('`' == n) return (e.tokenize = y), y(t, e);
                                if ('#' == n && '!' == t.peek())
                                  return t.skipToEnd(), g('meta', 'meta');
                                if ('#' == n && t.eatWhile(p))
                                  return g('variable', 'property');
                                if (
                                  ('<' == n && t.match('!--')) ||
                                  ('-' == n &&
                                    t.match('->') &&
                                    !/\S/.test(t.string.slice(0, t.start)))
                                )
                                  return t.skipToEnd(), g('comment', 'comment');
                                if (f.test(n))
                                  return (
                                    ('>' == n &&
                                      e.lexical &&
                                      '>' == e.lexical.type) ||
                                      (t.eat('=')
                                        ? ('!' != n && '=' != n) || t.eat('=')
                                        : /[<>*+\-|&?]/.test(n) &&
                                          (t.eat(n), '>' == n && t.eat(n))),
                                    '?' == n && t.eat('.')
                                      ? g('.')
                                      : g('operator', 'operator', t.current())
                                  );
                                if (p.test(n)) {
                                  t.eatWhile(p);
                                  var r = t.current();
                                  if ('.' != e.lastType) {
                                    if (d.propertyIsEnumerable(r)) {
                                      var o = d[r];
                                      return g(o.type, o.style, r);
                                    }
                                    if (
                                      'async' == r &&
                                      t.match(
                                        /^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,
                                        !1
                                      )
                                    )
                                      return g('async', 'keyword', r);
                                  }
                                  return g('variable', 'variable', r);
                                }
                              }

                              function m(t, e) {
                                for (var n, r = !1; (n = t.next()); ) {
                                  if ('/' == n && r) {
                                    e.tokenize = v;
                                    break;
                                  }
                                  r = '*' == n;
                                }
                                return g('comment', 'comment');
                              }

                              function y(t, e) {
                                for (var n, r = !1; null != (n = t.next()); ) {
                                  if (
                                    !r &&
                                    ('`' == n || ('$' == n && t.eat('{')))
                                  ) {
                                    e.tokenize = v;
                                    break;
                                  }
                                  r = !r && '\\' == n;
                                }
                                return g('quasi', 'string-2', t.current());
                              }
                              var b = '([{}])';

                              function _(t, e) {
                                e.fatArrowAt && (e.fatArrowAt = null);
                                var n = t.string.indexOf('=>', t.start);
                                if (!(n < 0)) {
                                  if (u) {
                                    var r =
                                      /:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(
                                        t.string.slice(t.start, n)
                                      );
                                    r && (n = r.index);
                                  }
                                  for (
                                    var o = 0, i = !1, a = n - 1;
                                    a >= 0;
                                    --a
                                  ) {
                                    var s = t.string.charAt(a),
                                      l = b.indexOf(s);
                                    if (l >= 0 && l < 3) {
                                      if (!o) {
                                        ++a;
                                        break;
                                      }
                                      if (0 == --o) {
                                        '(' == s && (i = !0);
                                        break;
                                      }
                                    } else if (l >= 3 && l < 6) ++o;
                                    else if (p.test(s)) i = !0;
                                    else if (/["'\/`]/.test(s))
                                      for (; ; --a) {
                                        if (0 == a) return;
                                        if (
                                          t.string.charAt(a - 1) == s &&
                                          '\\' != t.string.charAt(a - 2)
                                        ) {
                                          a--;
                                          break;
                                        }
                                      }
                                    else if (i && !o) {
                                      ++a;
                                      break;
                                    }
                                  }
                                  i && !o && (e.fatArrowAt = a);
                                }
                              }
                              var w = {
                                atom: !0,
                                number: !0,
                                variable: !0,
                                string: !0,
                                regexp: !0,
                                this: !0,
                                import: !0,
                                'jsonld-keyword': !0,
                              };

                              function x(t, e, n, r, o, i) {
                                (this.indented = t),
                                  (this.column = e),
                                  (this.type = n),
                                  (this.prev = o),
                                  (this.info = i),
                                  null != r && (this.align = r);
                              }

                              function C(t, e) {
                                if (!c) return !1;
                                for (var n = t.localVars; n; n = n.next)
                                  if (n.name == e) return !0;
                                for (var r = t.context; r; r = r.prev)
                                  for (n = r.vars; n; n = n.next)
                                    if (n.name == e) return !0;
                              }

                              function S(t, e, n, r, o) {
                                var i = t.cc;
                                for (
                                  O.state = t,
                                    O.stream = o,
                                    O.marked = null,
                                    O.cc = i,
                                    O.style = e,
                                    t.lexical.hasOwnProperty('align') ||
                                      (t.lexical.align = !0);
                                  1;

                                )
                                  if ((i.length ? i.pop() : l ? U : B)(n, r)) {
                                    for (; i.length && i[i.length - 1].lex; )
                                      i.pop()();
                                    return O.marked
                                      ? O.marked
                                      : 'variable' == n && C(t, r)
                                      ? 'variable-2'
                                      : e;
                                  }
                              }
                              var O = {
                                state: null,
                                column: null,
                                marked: null,
                                cc: null,
                              };

                              function k() {
                                for (var t = arguments.length - 1; t >= 0; t--)
                                  O.cc.push(arguments[t]);
                              }

                              function T() {
                                return k.apply(null, arguments), !0;
                              }

                              function E(t, e) {
                                for (var n = e; n; n = n.next)
                                  if (n.name == t) return !0;
                                return !1;
                              }

                              function P(t) {
                                var e = O.state;
                                if (((O.marked = 'def'), c)) {
                                  if (e.context)
                                    if (
                                      'var' == e.lexical.info &&
                                      e.context &&
                                      e.context.block
                                    ) {
                                      var r = A(t, e.context);
                                      if (null != r)
                                        return void (e.context = r);
                                    } else if (!E(t, e.localVars))
                                      return void (e.localVars = new L(
                                        t,
                                        e.localVars
                                      ));
                                  n.globalVars &&
                                    !E(t, e.globalVars) &&
                                    (e.globalVars = new L(t, e.globalVars));
                                }
                              }

                              function A(t, e) {
                                if (e) {
                                  if (e.block) {
                                    var n = A(t, e.prev);
                                    return n
                                      ? n == e.prev
                                        ? e
                                        : new M(n, e.vars, !0)
                                      : null;
                                  }
                                  return E(t, e.vars)
                                    ? e
                                    : new M(e.prev, new L(t, e.vars), !1);
                                }
                                return null;
                              }

                              function j(t) {
                                return (
                                  'public' == t ||
                                  'private' == t ||
                                  'protected' == t ||
                                  'abstract' == t ||
                                  'readonly' == t
                                );
                              }

                              function M(t, e, n) {
                                (this.prev = t),
                                  (this.vars = e),
                                  (this.block = n);
                              }

                              function L(t, e) {
                                (this.name = t), (this.next = e);
                              }
                              var D = new L('this', new L('arguments', null));

                              function N() {
                                (O.state.context = new M(
                                  O.state.context,
                                  O.state.localVars,
                                  !1
                                )),
                                  (O.state.localVars = D);
                              }

                              function I() {
                                (O.state.context = new M(
                                  O.state.context,
                                  O.state.localVars,
                                  !0
                                )),
                                  (O.state.localVars = null);
                              }

                              function F() {
                                (O.state.localVars = O.state.context.vars),
                                  (O.state.context = O.state.context.prev);
                              }

                              function R(t, e) {
                                var n = function () {
                                  var n = O.state,
                                    r = n.indented;
                                  if ('stat' == n.lexical.type)
                                    r = n.lexical.indented;
                                  else
                                    for (
                                      var o = n.lexical;
                                      o && ')' == o.type && o.align;
                                      o = o.prev
                                    )
                                      r = o.indented;
                                  n.lexical = new x(
                                    r,
                                    O.stream.column(),
                                    t,
                                    null,
                                    n.lexical,
                                    e
                                  );
                                };
                                return (n.lex = !0), n;
                              }

                              function z() {
                                var t = O.state;
                                t.lexical.prev &&
                                  (')' == t.lexical.type &&
                                    (t.indented = t.lexical.indented),
                                  (t.lexical = t.lexical.prev));
                              }

                              function V(t) {
                                return function e(n) {
                                  return n == t
                                    ? T()
                                    : ';' == t ||
                                      '}' == n ||
                                      ')' == n ||
                                      ']' == n
                                    ? k()
                                    : T(e);
                                };
                              }

                              function B(t, e) {
                                return 'var' == t
                                  ? T(R('vardef', e), Ot, V(';'), z)
                                  : 'keyword a' == t
                                  ? T(R('form'), $, B, z)
                                  : 'keyword b' == t
                                  ? T(R('form'), B, z)
                                  : 'keyword d' == t
                                  ? O.stream.match(/^\s*$/, !1)
                                    ? T()
                                    : T(R('stat'), q, V(';'), z)
                                  : 'debugger' == t
                                  ? T(V(';'))
                                  : '{' == t
                                  ? T(R('}'), I, ct, z, F)
                                  : ';' == t
                                  ? T()
                                  : 'if' == t
                                  ? ('else' == O.state.lexical.info &&
                                      O.state.cc[O.state.cc.length - 1] == z &&
                                      O.state.cc.pop()(),
                                    T(R('form'), $, B, z, jt))
                                  : 'function' == t
                                  ? T(Nt)
                                  : 'for' == t
                                  ? T(R('form'), I, Mt, B, F, z)
                                  : 'class' == t || (u && 'interface' == e)
                                  ? ((O.marked = 'keyword'),
                                    T(R('form', 'class' == t ? t : e), Vt, z))
                                  : 'variable' == t
                                  ? u && 'declare' == e
                                    ? ((O.marked = 'keyword'), T(B))
                                    : u &&
                                      ('module' == e ||
                                        'enum' == e ||
                                        'type' == e) &&
                                      O.stream.match(/^\s*\w/, !1)
                                    ? ((O.marked = 'keyword'),
                                      'enum' == e
                                        ? T(Jt)
                                        : 'type' == e
                                        ? T(Ft, V('operator'), ht, V(';'))
                                        : T(
                                            R('form'),
                                            kt,
                                            V('{'),
                                            R('}'),
                                            ct,
                                            z,
                                            z
                                          ))
                                    : u && 'namespace' == e
                                    ? ((O.marked = 'keyword'),
                                      T(R('form'), U, B, z))
                                    : u && 'abstract' == e
                                    ? ((O.marked = 'keyword'), T(B))
                                    : T(R('stat'), nt)
                                  : 'switch' == t
                                  ? T(
                                      R('form'),
                                      $,
                                      V('{'),
                                      R('}', 'switch'),
                                      I,
                                      ct,
                                      z,
                                      z,
                                      F
                                    )
                                  : 'case' == t
                                  ? T(U, V(':'))
                                  : 'default' == t
                                  ? T(V(':'))
                                  : 'catch' == t
                                  ? T(R('form'), N, H, B, z, F)
                                  : 'export' == t
                                  ? T(R('stat'), Wt, z)
                                  : 'import' == t
                                  ? T(R('stat'), Gt, z)
                                  : 'async' == t
                                  ? T(B)
                                  : '@' == e
                                  ? T(U, B)
                                  : k(R('stat'), U, V(';'), z);
                              }

                              function H(t) {
                                if ('(' == t) return T(Rt, V(')'));
                              }

                              function U(t, e) {
                                return G(t, e, !1);
                              }

                              function W(t, e) {
                                return G(t, e, !0);
                              }

                              function $(t) {
                                return '(' != t ? k() : T(R(')'), q, V(')'), z);
                              }

                              function G(t, e, n) {
                                if (O.state.fatArrowAt == O.stream.start) {
                                  var r = n ? Q : J;
                                  if ('(' == t)
                                    return T(
                                      N,
                                      R(')'),
                                      st(Rt, ')'),
                                      z,
                                      V('=>'),
                                      r,
                                      F
                                    );
                                  if ('variable' == t)
                                    return k(N, kt, V('=>'), r, F);
                                }
                                var o = n ? Z : K;
                                return w.hasOwnProperty(t)
                                  ? T(o)
                                  : 'function' == t
                                  ? T(Nt, o)
                                  : 'class' == t || (u && 'interface' == e)
                                  ? ((O.marked = 'keyword'),
                                    T(R('form'), zt, z))
                                  : 'keyword c' == t || 'async' == t
                                  ? T(n ? W : U)
                                  : '(' == t
                                  ? T(R(')'), q, V(')'), z, o)
                                  : 'operator' == t || 'spread' == t
                                  ? T(n ? W : U)
                                  : '[' == t
                                  ? T(R(']'), Xt, z, o)
                                  : '{' == t
                                  ? lt(ot, '}', null, o)
                                  : 'quasi' == t
                                  ? k(Y, o)
                                  : 'new' == t
                                  ? T(
                                      (function (t) {
                                        return function (e) {
                                          return '.' == e
                                            ? T(t ? et : tt)
                                            : 'variable' == e && u
                                            ? T(xt, t ? Z : K)
                                            : k(t ? W : U);
                                        };
                                      })(n)
                                    )
                                  : T();
                              }

                              function q(t) {
                                return t.match(/[;\}\)\],]/) ? k() : k(U);
                              }

                              function K(t, e) {
                                return ',' == t ? T(q) : Z(t, e, !1);
                              }

                              function Z(t, e, n) {
                                var r = 0 == n ? K : Z,
                                  o = 0 == n ? U : W;
                                return '=>' == t
                                  ? T(N, n ? Q : J, F)
                                  : 'operator' == t
                                  ? /\+\+|--/.test(e) || (u && '!' == e)
                                    ? T(r)
                                    : u &&
                                      '<' == e &&
                                      O.stream.match(
                                        /^([^<>]|<[^<>]*>)*>\s*\(/,
                                        !1
                                      )
                                    ? T(R('>'), st(ht, '>'), z, r)
                                    : '?' == e
                                    ? T(U, V(':'), o)
                                    : T(o)
                                  : 'quasi' == t
                                  ? k(Y, r)
                                  : ';' != t
                                  ? '(' == t
                                    ? lt(W, ')', 'call', r)
                                    : '.' == t
                                    ? T(rt, r)
                                    : '[' == t
                                    ? T(R(']'), q, V(']'), z, r)
                                    : u && 'as' == e
                                    ? ((O.marked = 'keyword'), T(ht, r))
                                    : 'regexp' == t
                                    ? ((O.state.lastType = O.marked =
                                        'operator'),
                                      O.stream.backUp(
                                        O.stream.pos - O.stream.start - 1
                                      ),
                                      T(o))
                                    : void 0
                                  : void 0;
                              }

                              function Y(t, e) {
                                return 'quasi' != t
                                  ? k()
                                  : '${' != e.slice(e.length - 2)
                                  ? T(Y)
                                  : T(q, X);
                              }

                              function X(t) {
                                if ('}' == t)
                                  return (
                                    (O.marked = 'string-2'),
                                    (O.state.tokenize = y),
                                    T(Y)
                                  );
                              }

                              function J(t) {
                                return (
                                  _(O.stream, O.state), k('{' == t ? B : U)
                                );
                              }

                              function Q(t) {
                                return (
                                  _(O.stream, O.state), k('{' == t ? B : W)
                                );
                              }

                              function tt(t, e) {
                                if ('target' == e)
                                  return (O.marked = 'keyword'), T(K);
                              }

                              function et(t, e) {
                                if ('target' == e)
                                  return (O.marked = 'keyword'), T(Z);
                              }

                              function nt(t) {
                                return ':' == t ? T(z, B) : k(K, V(';'), z);
                              }

                              function rt(t) {
                                if ('variable' == t)
                                  return (O.marked = 'property'), T();
                              }

                              function ot(t, e) {
                                return 'async' == t
                                  ? ((O.marked = 'property'), T(ot))
                                  : 'variable' == t || 'keyword' == O.style
                                  ? ((O.marked = 'property'),
                                    'get' == e || 'set' == e
                                      ? T(it)
                                      : (u &&
                                          O.state.fatArrowAt ==
                                            O.stream.start &&
                                          (n = O.stream.match(
                                            /^\s*:\s*/,
                                            !1
                                          )) &&
                                          (O.state.fatArrowAt =
                                            O.stream.pos + n[0].length),
                                        T(at)))
                                  : 'number' == t || 'string' == t
                                  ? ((O.marked = s
                                      ? 'property'
                                      : O.style + ' property'),
                                    T(at))
                                  : 'jsonld-keyword' == t
                                  ? T(at)
                                  : u && j(e)
                                  ? ((O.marked = 'keyword'), T(ot))
                                  : '[' == t
                                  ? T(U, ut, V(']'), at)
                                  : 'spread' == t
                                  ? T(W, at)
                                  : '*' == e
                                  ? ((O.marked = 'keyword'), T(ot))
                                  : ':' == t
                                  ? k(at)
                                  : void 0;
                                var n;
                              }

                              function it(t) {
                                return 'variable' != t
                                  ? k(at)
                                  : ((O.marked = 'property'), T(Nt));
                              }

                              function at(t) {
                                return ':' == t
                                  ? T(W)
                                  : '(' == t
                                  ? k(Nt)
                                  : void 0;
                              }

                              function st(t, e, n) {
                                function r(o, i) {
                                  if (n ? n.indexOf(o) > -1 : ',' == o) {
                                    var a = O.state.lexical;
                                    return (
                                      'call' == a.info &&
                                        (a.pos = (a.pos || 0) + 1),
                                      T(function (n, r) {
                                        return n == e || r == e ? k() : k(t);
                                      }, r)
                                    );
                                  }
                                  return o == e || i == e
                                    ? T()
                                    : n && n.indexOf(';') > -1
                                    ? k(t)
                                    : T(V(e));
                                }
                                return function (n, o) {
                                  return n == e || o == e ? T() : k(t, r);
                                };
                              }

                              function lt(t, e, n) {
                                for (var r = 3; r < arguments.length; r++)
                                  O.cc.push(arguments[r]);
                                return T(R(e, n), st(t, e), z);
                              }

                              function ct(t) {
                                return '}' == t ? T() : k(B, ct);
                              }

                              function ut(t, e) {
                                if (u) {
                                  if (':' == t) return T(ht);
                                  if ('?' == e) return T(ut);
                                }
                              }

                              function pt(t, e) {
                                if (u && (':' == t || 'in' == e)) return T(ht);
                              }

                              function dt(t) {
                                if (u && ':' == t)
                                  return O.stream.match(/^\s*\w+\s+is\b/, !1)
                                    ? T(U, ft, ht)
                                    : T(ht);
                              }

                              function ft(t, e) {
                                if ('is' == e)
                                  return (O.marked = 'keyword'), T();
                              }

                              function ht(t, e) {
                                return 'keyof' == e ||
                                  'typeof' == e ||
                                  'infer' == e ||
                                  'readonly' == e
                                  ? ((O.marked = 'keyword'),
                                    T('typeof' == e ? W : ht))
                                  : 'variable' == t || 'void' == e
                                  ? ((O.marked = 'type'), T(wt))
                                  : '|' == e || '&' == e
                                  ? T(ht)
                                  : 'string' == t ||
                                    'number' == t ||
                                    'atom' == t
                                  ? T(wt)
                                  : '[' == t
                                  ? T(R(']'), st(ht, ']', ','), z, wt)
                                  : '{' == t
                                  ? T(R('}'), vt, z, wt)
                                  : '(' == t
                                  ? T(st(_t, ')'), gt, wt)
                                  : '<' == t
                                  ? T(st(ht, '>'), ht)
                                  : 'quasi' == t
                                  ? k(yt, wt)
                                  : void 0;
                              }

                              function gt(t) {
                                if ('=>' == t) return T(ht);
                              }

                              function vt(t) {
                                return t.match(/[\}\)\]]/)
                                  ? T()
                                  : ',' == t || ';' == t
                                  ? T(vt)
                                  : k(mt, vt);
                              }

                              function mt(t, e) {
                                return 'variable' == t || 'keyword' == O.style
                                  ? ((O.marked = 'property'), T(mt))
                                  : '?' == e || 'number' == t || 'string' == t
                                  ? T(mt)
                                  : ':' == t
                                  ? T(ht)
                                  : '[' == t
                                  ? T(V('variable'), pt, V(']'), mt)
                                  : '(' == t
                                  ? k(It, mt)
                                  : t.match(/[;\}\)\],]/)
                                  ? void 0
                                  : T();
                              }

                              function yt(t, e) {
                                return 'quasi' != t
                                  ? k()
                                  : '${' != e.slice(e.length - 2)
                                  ? T(yt)
                                  : T(ht, bt);
                              }

                              function bt(t) {
                                if ('}' == t)
                                  return (
                                    (O.marked = 'string-2'),
                                    (O.state.tokenize = y),
                                    T(yt)
                                  );
                              }

                              function _t(t, e) {
                                return ('variable' == t &&
                                  O.stream.match(/^\s*[?:]/, !1)) ||
                                  '?' == e
                                  ? T(_t)
                                  : ':' == t
                                  ? T(ht)
                                  : 'spread' == t
                                  ? T(_t)
                                  : k(ht);
                              }

                              function wt(t, e) {
                                return '<' == e
                                  ? T(R('>'), st(ht, '>'), z, wt)
                                  : '|' == e || '.' == t || '&' == e
                                  ? T(ht)
                                  : '[' == t
                                  ? T(ht, V(']'), wt)
                                  : 'extends' == e || 'implements' == e
                                  ? ((O.marked = 'keyword'), T(ht))
                                  : '?' == e
                                  ? T(ht, V(':'), ht)
                                  : void 0;
                              }

                              function xt(t, e) {
                                if ('<' == e)
                                  return T(R('>'), st(ht, '>'), z, wt);
                              }

                              function Ct() {
                                return k(ht, St);
                              }

                              function St(t, e) {
                                if ('=' == e) return T(ht);
                              }

                              function Ot(t, e) {
                                return 'enum' == e
                                  ? ((O.marked = 'keyword'), T(Jt))
                                  : k(kt, ut, Pt, At);
                              }

                              function kt(t, e) {
                                return u && j(e)
                                  ? ((O.marked = 'keyword'), T(kt))
                                  : 'variable' == t
                                  ? (P(e), T())
                                  : 'spread' == t
                                  ? T(kt)
                                  : '[' == t
                                  ? lt(Et, ']')
                                  : '{' == t
                                  ? lt(Tt, '}')
                                  : void 0;
                              }

                              function Tt(t, e) {
                                return 'variable' != t ||
                                  O.stream.match(/^\s*:/, !1)
                                  ? ('variable' == t && (O.marked = 'property'),
                                    'spread' == t
                                      ? T(kt)
                                      : '}' == t
                                      ? k()
                                      : '[' == t
                                      ? T(U, V(']'), V(':'), Tt)
                                      : T(V(':'), kt, Pt))
                                  : (P(e), T(Pt));
                              }

                              function Et() {
                                return k(kt, Pt);
                              }

                              function Pt(t, e) {
                                if ('=' == e) return T(W);
                              }

                              function At(t) {
                                if (',' == t) return T(Ot);
                              }

                              function jt(t, e) {
                                if ('keyword b' == t && 'else' == e)
                                  return T(R('form', 'else'), B, z);
                              }

                              function Mt(t, e) {
                                return 'await' == e
                                  ? T(Mt)
                                  : '(' == t
                                  ? T(R(')'), Lt, z)
                                  : void 0;
                              }

                              function Lt(t) {
                                return 'var' == t
                                  ? T(Ot, Dt)
                                  : 'variable' == t
                                  ? T(Dt)
                                  : k(Dt);
                              }

                              function Dt(t, e) {
                                return ')' == t
                                  ? T()
                                  : ';' == t
                                  ? T(Dt)
                                  : 'in' == e || 'of' == e
                                  ? ((O.marked = 'keyword'), T(U, Dt))
                                  : k(U, Dt);
                              }

                              function Nt(t, e) {
                                return '*' == e
                                  ? ((O.marked = 'keyword'), T(Nt))
                                  : 'variable' == t
                                  ? (P(e), T(Nt))
                                  : '(' == t
                                  ? T(N, R(')'), st(Rt, ')'), z, dt, B, F)
                                  : u && '<' == e
                                  ? T(R('>'), st(Ct, '>'), z, Nt)
                                  : void 0;
                              }

                              function It(t, e) {
                                return '*' == e
                                  ? ((O.marked = 'keyword'), T(It))
                                  : 'variable' == t
                                  ? (P(e), T(It))
                                  : '(' == t
                                  ? T(N, R(')'), st(Rt, ')'), z, dt, F)
                                  : u && '<' == e
                                  ? T(R('>'), st(Ct, '>'), z, It)
                                  : void 0;
                              }

                              function Ft(t, e) {
                                return 'keyword' == t || 'variable' == t
                                  ? ((O.marked = 'type'), T(Ft))
                                  : '<' == e
                                  ? T(R('>'), st(Ct, '>'), z)
                                  : void 0;
                              }

                              function Rt(t, e) {
                                return (
                                  '@' == e && T(U, Rt),
                                  'spread' == t
                                    ? T(Rt)
                                    : u && j(e)
                                    ? ((O.marked = 'keyword'), T(Rt))
                                    : u && 'this' == t
                                    ? T(ut, Pt)
                                    : k(kt, ut, Pt)
                                );
                              }

                              function zt(t, e) {
                                return 'variable' == t ? Vt(t, e) : Bt(t, e);
                              }

                              function Vt(t, e) {
                                if ('variable' == t) return P(e), T(Bt);
                              }

                              function Bt(t, e) {
                                return '<' == e
                                  ? T(R('>'), st(Ct, '>'), z, Bt)
                                  : 'extends' == e ||
                                    'implements' == e ||
                                    (u && ',' == t)
                                  ? ('implements' == e &&
                                      (O.marked = 'keyword'),
                                    T(u ? ht : U, Bt))
                                  : '{' == t
                                  ? T(R('}'), Ht, z)
                                  : void 0;
                              }

                              function Ht(t, e) {
                                return 'async' == t ||
                                  ('variable' == t &&
                                    ('static' == e ||
                                      'get' == e ||
                                      'set' == e ||
                                      (u && j(e))) &&
                                    O.stream.match(/^\s+[\w$\xa1-\uffff]/, !1))
                                  ? ((O.marked = 'keyword'), T(Ht))
                                  : 'variable' == t || 'keyword' == O.style
                                  ? ((O.marked = 'property'), T(Ut, Ht))
                                  : 'number' == t || 'string' == t
                                  ? T(Ut, Ht)
                                  : '[' == t
                                  ? T(U, ut, V(']'), Ut, Ht)
                                  : '*' == e
                                  ? ((O.marked = 'keyword'), T(Ht))
                                  : u && '(' == t
                                  ? k(It, Ht)
                                  : ';' == t || ',' == t
                                  ? T(Ht)
                                  : '}' == t
                                  ? T()
                                  : '@' == e
                                  ? T(U, Ht)
                                  : void 0;
                              }

                              function Ut(t, e) {
                                if ('!' == e) return T(Ut);
                                if ('?' == e) return T(Ut);
                                if (':' == t) return T(ht, Pt);
                                if ('=' == e) return T(W);
                                var n = O.state.lexical.prev;
                                return k(n && 'interface' == n.info ? It : Nt);
                              }

                              function Wt(t, e) {
                                return '*' == e
                                  ? ((O.marked = 'keyword'), T(Yt, V(';')))
                                  : 'default' == e
                                  ? ((O.marked = 'keyword'), T(U, V(';')))
                                  : '{' == t
                                  ? T(st($t, '}'), Yt, V(';'))
                                  : k(B);
                              }

                              function $t(t, e) {
                                return 'as' == e
                                  ? ((O.marked = 'keyword'), T(V('variable')))
                                  : 'variable' == t
                                  ? k(W, $t)
                                  : void 0;
                              }

                              function Gt(t) {
                                return 'string' == t
                                  ? T()
                                  : '(' == t
                                  ? k(U)
                                  : '.' == t
                                  ? k(K)
                                  : k(qt, Kt, Yt);
                              }

                              function qt(t, e) {
                                return '{' == t
                                  ? lt(qt, '}')
                                  : ('variable' == t && P(e),
                                    '*' == e && (O.marked = 'keyword'),
                                    T(Zt));
                              }

                              function Kt(t) {
                                if (',' == t) return T(qt, Kt);
                              }

                              function Zt(t, e) {
                                if ('as' == e)
                                  return (O.marked = 'keyword'), T(qt);
                              }

                              function Yt(t, e) {
                                if ('from' == e)
                                  return (O.marked = 'keyword'), T(U);
                              }

                              function Xt(t) {
                                return ']' == t ? T() : k(st(W, ']'));
                              }

                              function Jt() {
                                return k(
                                  R('form'),
                                  kt,
                                  V('{'),
                                  R('}'),
                                  st(Qt, '}'),
                                  z,
                                  z
                                );
                              }

                              function Qt() {
                                return k(kt, Pt);
                              }

                              function te(t, e, n) {
                                return (
                                  (e.tokenize == v &&
                                    /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(
                                      e.lastType
                                    )) ||
                                  ('quasi' == e.lastType &&
                                    /\{\s*$/.test(
                                      t.string.slice(0, t.pos - (n || 0))
                                    ))
                                );
                              }
                              return (
                                (N.lex = I.lex = !0),
                                (F.lex = !0),
                                (z.lex = !0),
                                {
                                  startState: function (t) {
                                    var e = {
                                      tokenize: v,
                                      lastType: 'sof',
                                      cc: [],
                                      lexical: new x(
                                        (t || 0) - i,
                                        0,
                                        'block',
                                        !1
                                      ),
                                      localVars: n.localVars,
                                      context:
                                        n.localVars && new M(null, null, !1),
                                      indented: t || 0,
                                    };
                                    return (
                                      n.globalVars &&
                                        'object' == typeof n.globalVars &&
                                        (e.globalVars = n.globalVars),
                                      e
                                    );
                                  },
                                  token: function (t, e) {
                                    if (
                                      (t.sol() &&
                                        (e.lexical.hasOwnProperty('align') ||
                                          (e.lexical.align = !1),
                                        (e.indented = t.indentation()),
                                        _(t, e)),
                                      e.tokenize != m && t.eatSpace())
                                    )
                                      return null;
                                    var n = e.tokenize(t, e);
                                    return 'comment' == r
                                      ? n
                                      : ((e.lastType =
                                          'operator' != r ||
                                          ('++' != o && '--' != o)
                                            ? r
                                            : 'incdec'),
                                        S(e, n, r, o, t));
                                  },
                                  indent: function (e, r) {
                                    if (e.tokenize == m || e.tokenize == y)
                                      return t.Pass;
                                    if (e.tokenize != v) return 0;
                                    var o,
                                      s = r && r.charAt(0),
                                      l = e.lexical;
                                    if (!/^\s*else\b/.test(r))
                                      for (
                                        var c = e.cc.length - 1;
                                        c >= 0;
                                        --c
                                      ) {
                                        var u = e.cc[c];
                                        if (u == z) l = l.prev;
                                        else if (u != jt && u != F) break;
                                      }
                                    for (
                                      ;
                                      ('stat' == l.type || 'form' == l.type) &&
                                      ('}' == s ||
                                        ((o = e.cc[e.cc.length - 1]) &&
                                          (o == K || o == Z) &&
                                          !/^[,\.=+\-*:?[\(]/.test(r)));

                                    )
                                      l = l.prev;
                                    a &&
                                      ')' == l.type &&
                                      'stat' == l.prev.type &&
                                      (l = l.prev);
                                    var p = l.type,
                                      d = s == p;
                                    return 'vardef' == p
                                      ? l.indented +
                                          ('operator' == e.lastType ||
                                          ',' == e.lastType
                                            ? l.info.length + 1
                                            : 0)
                                      : 'form' == p && '{' == s
                                      ? l.indented
                                      : 'form' == p
                                      ? l.indented + i
                                      : 'stat' == p
                                      ? l.indented +
                                        ((function (t, e) {
                                          return (
                                            'operator' == t.lastType ||
                                            ',' == t.lastType ||
                                            f.test(e.charAt(0)) ||
                                            /[,.]/.test(e.charAt(0))
                                          );
                                        })(e, r)
                                          ? a || i
                                          : 0)
                                      : 'switch' != l.info ||
                                        d ||
                                        0 == n.doubleIndentSwitch
                                      ? l.align
                                        ? l.column + (d ? 0 : 1)
                                        : l.indented + (d ? 0 : i)
                                      : l.indented +
                                        (/^(?:case|default)\b/.test(r)
                                          ? i
                                          : 2 * i);
                                  },
                                  electricInput:
                                    /^\s*(?:case .*?:|default:|\{|\})$/,
                                  blockCommentStart: l ? null : '/*',
                                  blockCommentEnd: l ? null : '*/',
                                  blockCommentContinue: l ? null : ' * ',
                                  lineComment: l ? null : '//',
                                  fold: 'brace',
                                  closeBrackets: '()[]{}\'\'""``',
                                  helperType: l ? 'json' : 'javascript',
                                  jsonldMode: s,
                                  jsonMode: l,
                                  expressionAllowed: te,
                                  skipExpression: function (e) {
                                    S(
                                      e,
                                      'atom',
                                      'atom',
                                      'true',
                                      new t.StringStream('', 2, null)
                                    );
                                  },
                                }
                              );
                            }),
                              t.registerHelper(
                                'wordChars',
                                'javascript',
                                /[\w$]/
                              ),
                              t.defineMIME('text/javascript', 'javascript'),
                              t.defineMIME('text/ecmascript', 'javascript'),
                              t.defineMIME(
                                'application/javascript',
                                'javascript'
                              ),
                              t.defineMIME(
                                'application/x-javascript',
                                'javascript'
                              ),
                              t.defineMIME(
                                'application/ecmascript',
                                'javascript'
                              ),
                              t.defineMIME('application/json', {
                                name: 'javascript',
                                json: !0,
                              }),
                              t.defineMIME('application/x-json', {
                                name: 'javascript',
                                json: !0,
                              }),
                              t.defineMIME('application/manifest+json', {
                                name: 'javascript',
                                json: !0,
                              }),
                              t.defineMIME('application/ld+json', {
                                name: 'javascript',
                                jsonld: !0,
                              }),
                              t.defineMIME('text/typescript', {
                                name: 'javascript',
                                typescript: !0,
                              }),
                              t.defineMIME('application/typescript', {
                                name: 'javascript',
                                typescript: !0,
                              });
                          })(n(631));
                      },
                      589: (t, e, n) => {
                        1 &&
                          (function (t) {
                            'use strict';
                            var e = {
                                autoSelfClosers: {
                                  area: !0,
                                  base: !0,
                                  br: !0,
                                  col: !0,
                                  command: !0,
                                  embed: !0,
                                  frame: !0,
                                  hr: !0,
                                  img: !0,
                                  input: !0,
                                  keygen: !0,
                                  link: !0,
                                  meta: !0,
                                  param: !0,
                                  source: !0,
                                  track: !0,
                                  wbr: !0,
                                  menuitem: !0,
                                },
                                implicitlyClosed: {
                                  dd: !0,
                                  li: !0,
                                  optgroup: !0,
                                  option: !0,
                                  p: !0,
                                  rp: !0,
                                  rt: !0,
                                  tbody: !0,
                                  td: !0,
                                  tfoot: !0,
                                  th: !0,
                                  tr: !0,
                                },
                                contextGrabbers: {
                                  dd: {
                                    dd: !0,
                                    dt: !0,
                                  },
                                  dt: {
                                    dd: !0,
                                    dt: !0,
                                  },
                                  li: {
                                    li: !0,
                                  },
                                  option: {
                                    option: !0,
                                    optgroup: !0,
                                  },
                                  optgroup: {
                                    optgroup: !0,
                                  },
                                  p: {
                                    address: !0,
                                    article: !0,
                                    aside: !0,
                                    blockquote: !0,
                                    dir: !0,
                                    div: !0,
                                    dl: !0,
                                    fieldset: !0,
                                    footer: !0,
                                    form: !0,
                                    h1: !0,
                                    h2: !0,
                                    h3: !0,
                                    h4: !0,
                                    h5: !0,
                                    h6: !0,
                                    header: !0,
                                    hgroup: !0,
                                    hr: !0,
                                    menu: !0,
                                    nav: !0,
                                    ol: !0,
                                    p: !0,
                                    pre: !0,
                                    section: !0,
                                    table: !0,
                                    ul: !0,
                                  },
                                  rp: {
                                    rp: !0,
                                    rt: !0,
                                  },
                                  rt: {
                                    rp: !0,
                                    rt: !0,
                                  },
                                  tbody: {
                                    tbody: !0,
                                    tfoot: !0,
                                  },
                                  td: {
                                    td: !0,
                                    th: !0,
                                  },
                                  tfoot: {
                                    tbody: !0,
                                  },
                                  th: {
                                    td: !0,
                                    th: !0,
                                  },
                                  thead: {
                                    tbody: !0,
                                    tfoot: !0,
                                  },
                                  tr: {
                                    tr: !0,
                                  },
                                },
                                doNotIndent: {
                                  pre: !0,
                                },
                                allowUnquoted: !0,
                                allowMissing: !0,
                                caseFold: !0,
                              },
                              n = {
                                autoSelfClosers: {},
                                implicitlyClosed: {},
                                contextGrabbers: {},
                                doNotIndent: {},
                                allowUnquoted: !1,
                                allowMissing: !1,
                                allowMissingTagName: !1,
                                caseFold: !1,
                              };
                            t.defineMode('xml', function (r, o) {
                              var i,
                                a,
                                s = r.indentUnit,
                                l = {},
                                c = o.htmlMode ? e : n;
                              for (var u in c) l[u] = c[u];
                              for (var u in o) l[u] = o[u];

                              function p(t, e) {
                                function n(n) {
                                  return (e.tokenize = n), n(t, e);
                                }
                                var r = t.next();
                                return '<' == r
                                  ? t.eat('!')
                                    ? t.eat('[')
                                      ? t.match('CDATA[')
                                        ? n(f('atom', ']]>'))
                                        : null
                                      : t.match('--')
                                      ? n(f('comment', '--\x3e'))
                                      : t.match('DOCTYPE', !0, !0)
                                      ? (t.eatWhile(/[\w\._\-]/), n(h(1)))
                                      : null
                                    : t.eat('?')
                                    ? (t.eatWhile(/[\w\._\-]/),
                                      (e.tokenize = f('meta', '?>')),
                                      'meta')
                                    : ((i = t.eat('/')
                                        ? 'closeTag'
                                        : 'openTag'),
                                      (e.tokenize = d),
                                      'tag bracket')
                                  : '&' == r
                                  ? (
                                      t.eat('#')
                                        ? t.eat('x')
                                          ? t.eatWhile(/[a-fA-F\d]/) &&
                                            t.eat(';')
                                          : t.eatWhile(/[\d]/) && t.eat(';')
                                        : t.eatWhile(/[\w\.\-:]/) && t.eat(';')
                                    )
                                    ? 'atom'
                                    : 'error'
                                  : (t.eatWhile(/[^&<]/), null);
                              }

                              function d(t, e) {
                                var n = t.next();
                                if ('>' == n || ('/' == n && t.eat('>')))
                                  return (
                                    (e.tokenize = p),
                                    (i = '>' == n ? 'endTag' : 'selfcloseTag'),
                                    'tag bracket'
                                  );
                                if ('=' == n) return (i = 'equals'), null;
                                if ('<' == n) {
                                  (e.tokenize = p),
                                    (e.state = b),
                                    (e.tagName = e.tagStart = null);
                                  var r = e.tokenize(t, e);
                                  return r ? r + ' tag error' : 'tag error';
                                }
                                return /[\'\"]/.test(n)
                                  ? ((e.tokenize = (function (t) {
                                      var e = function (e, n) {
                                        for (; !e.eol(); )
                                          if (e.next() == t) {
                                            n.tokenize = d;
                                            break;
                                          }
                                        return 'string';
                                      };
                                      return (e.isInAttribute = !0), e;
                                    })(n)),
                                    (e.stringStartCol = t.column()),
                                    e.tokenize(t, e))
                                  : (t.match(
                                      /^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/
                                    ),
                                    'word');
                              }

                              function f(t, e) {
                                return function (n, r) {
                                  for (; !n.eol(); ) {
                                    if (n.match(e)) {
                                      r.tokenize = p;
                                      break;
                                    }
                                    n.next();
                                  }
                                  return t;
                                };
                              }

                              function h(t) {
                                return function (e, n) {
                                  for (var r; null != (r = e.next()); ) {
                                    if ('<' == r)
                                      return (
                                        (n.tokenize = h(t + 1)),
                                        n.tokenize(e, n)
                                      );
                                    if ('>' == r) {
                                      if (1 == t) {
                                        n.tokenize = p;
                                        break;
                                      }
                                      return (
                                        (n.tokenize = h(t - 1)),
                                        n.tokenize(e, n)
                                      );
                                    }
                                  }
                                  return 'meta';
                                };
                              }

                              function g(t) {
                                return t && t.toLowerCase();
                              }

                              function v(t, e, n) {
                                (this.prev = t.context),
                                  (this.tagName = e || ''),
                                  (this.indent = t.indented),
                                  (this.startOfLine = n),
                                  (l.doNotIndent.hasOwnProperty(e) ||
                                    (t.context && t.context.noIndent)) &&
                                    (this.noIndent = !0);
                              }

                              function m(t) {
                                t.context && (t.context = t.context.prev);
                              }

                              function y(t, e) {
                                for (var n; 1; ) {
                                  if (!t.context) return;
                                  if (
                                    ((n = t.context.tagName),
                                    !l.contextGrabbers.hasOwnProperty(g(n)) ||
                                      !l.contextGrabbers[g(n)].hasOwnProperty(
                                        g(e)
                                      ))
                                  )
                                    return;
                                  m(t);
                                }
                              }

                              function b(t, e, n) {
                                return 'openTag' == t
                                  ? ((n.tagStart = e.column()), _)
                                  : 'closeTag' == t
                                  ? w
                                  : b;
                              }

                              function _(t, e, n) {
                                return 'word' == t
                                  ? ((n.tagName = e.current()), (a = 'tag'), S)
                                  : l.allowMissingTagName && 'endTag' == t
                                  ? ((a = 'tag bracket'), S(t, 0, n))
                                  : ((a = 'error'), _);
                              }

                              function w(t, e, n) {
                                if ('word' == t) {
                                  var r = e.current();
                                  return (
                                    n.context &&
                                      n.context.tagName != r &&
                                      l.implicitlyClosed.hasOwnProperty(
                                        g(n.context.tagName)
                                      ) &&
                                      m(n),
                                    (n.context && n.context.tagName == r) ||
                                    !1 === l.matchClosing
                                      ? ((a = 'tag'), x)
                                      : ((a = 'tag error'), C)
                                  );
                                }
                                return l.allowMissingTagName && 'endTag' == t
                                  ? ((a = 'tag bracket'), x(t, 0, n))
                                  : ((a = 'error'), C);
                              }

                              function x(t, e, n) {
                                return 'endTag' != t
                                  ? ((a = 'error'), x)
                                  : (m(n), b);
                              }

                              function C(t, e, n) {
                                return (a = 'error'), x(t, 0, n);
                              }

                              function S(t, e, n) {
                                if ('word' == t) return (a = 'attribute'), O;
                                if ('endTag' == t || 'selfcloseTag' == t) {
                                  var r = n.tagName,
                                    o = n.tagStart;
                                  return (
                                    (n.tagName = n.tagStart = null),
                                    'selfcloseTag' == t ||
                                    l.autoSelfClosers.hasOwnProperty(g(r))
                                      ? y(n, r)
                                      : (y(n, r),
                                        (n.context = new v(
                                          n,
                                          r,
                                          o == n.indented
                                        ))),
                                    b
                                  );
                                }
                                return (a = 'error'), S;
                              }

                              function O(t, e, n) {
                                return 'equals' == t
                                  ? k
                                  : (l.allowMissing || (a = 'error'),
                                    S(t, 0, n));
                              }

                              function k(t, e, n) {
                                return 'string' == t
                                  ? T
                                  : 'word' == t && l.allowUnquoted
                                  ? ((a = 'string'), S)
                                  : ((a = 'error'), S(t, 0, n));
                              }

                              function T(t, e, n) {
                                return 'string' == t ? T : S(t, 0, n);
                              }
                              return (
                                (p.isInText = !0),
                                {
                                  startState: function (t) {
                                    var e = {
                                      tokenize: p,
                                      state: b,
                                      indented: t || 0,
                                      tagName: null,
                                      tagStart: null,
                                      context: null,
                                    };
                                    return null != t && (e.baseIndent = t), e;
                                  },
                                  token: function (t, e) {
                                    if (
                                      (!e.tagName &&
                                        t.sol() &&
                                        (e.indented = t.indentation()),
                                      t.eatSpace())
                                    )
                                      return null;
                                    i = null;
                                    var n = e.tokenize(t, e);
                                    return (
                                      (n || i) &&
                                        'comment' != n &&
                                        ((a = null),
                                        (e.state = e.state(i || n, t, e)),
                                        a &&
                                          (n =
                                            'error' == a ? n + ' error' : a)),
                                      n
                                    );
                                  },
                                  indent: function (e, n, r) {
                                    var o = e.context;
                                    if (e.tokenize.isInAttribute)
                                      return e.tagStart == e.indented
                                        ? e.stringStartCol + 1
                                        : e.indented + s;
                                    if (o && o.noIndent) return t.Pass;
                                    if (e.tokenize != d && e.tokenize != p)
                                      return r
                                        ? r.match(/^(\s*)/)[0].length
                                        : 0;
                                    if (e.tagName)
                                      return !1 !== l.multilineTagIndentPastTag
                                        ? e.tagStart + e.tagName.length + 2
                                        : e.tagStart +
                                            s *
                                              (l.multilineTagIndentFactor || 1);
                                    if (l.alignCDATA && /<!\[CDATA\[/.test(n))
                                      return 0;
                                    var i = n && /^<(\/)?([\w_:\.-]*)/.exec(n);
                                    if (i && i[1])
                                      for (; o; ) {
                                        if (o.tagName == i[2]) {
                                          o = o.prev;
                                          break;
                                        }
                                        if (
                                          !l.implicitlyClosed.hasOwnProperty(
                                            g(o.tagName)
                                          )
                                        )
                                          break;
                                        o = o.prev;
                                      }
                                    else if (i)
                                      for (; o; ) {
                                        var a = l.contextGrabbers[g(o.tagName)];
                                        if (!a || !a.hasOwnProperty(g(i[2])))
                                          break;
                                        o = o.prev;
                                      }
                                    for (; o && o.prev && !o.startOfLine; )
                                      o = o.prev;
                                    return o ? o.indent + s : e.baseIndent || 0;
                                  },
                                  electricInput: /<\/[\s\w:]+>$/,
                                  blockCommentStart: '\x3c!--',
                                  blockCommentEnd: '--\x3e',
                                  configuration: l.htmlMode ? 'html' : 'xml',
                                  helperType: l.htmlMode ? 'html' : 'xml',
                                  skipAttribute: function (t) {
                                    t.state == k && (t.state = S);
                                  },
                                  xmlCurrentTag: function (t) {
                                    return t.tagName
                                      ? {
                                          name: t.tagName,
                                          close: 'closeTag' == t.type,
                                        }
                                      : null;
                                  },
                                  xmlCurrentContext: function (t) {
                                    for (
                                      var e = [], n = t.context;
                                      n;
                                      n = n.prev
                                    )
                                      e.push(n.tagName);
                                    return e.reverse();
                                  },
                                }
                              );
                            }),
                              t.defineMIME('text/xml', 'xml'),
                              t.defineMIME('application/xml', 'xml'),
                              t.mimeModes.hasOwnProperty('text/html') ||
                                t.defineMIME('text/html', {
                                  name: 'xml',
                                  htmlMode: !0,
                                });
                          })(n(631));
                      },
                      858: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => r,
                          });
                        const r = {
                          run: function (t) {
                            t.DomComponents.clear(), t.CssComposer.clear();
                          },
                        };
                      },
                      884: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => a,
                          });
                        var r = n(50),
                          o = n(163),
                          i = n(668);
                        const a = {
                          run: function (t) {
                            (0, r.bindAll)(
                              this,
                              'onKeyUp',
                              'enableDragger',
                              'disableDragger'
                            ),
                              (this.editor = t),
                              (this.canvasModel =
                                this.canvas.getCanvasView().model),
                              this.toggleMove(1);
                          },
                          stop: function (t) {
                            this.toggleMove(), this.disableDragger();
                          },
                          onKeyUp: function (t) {
                            ' ' === (0, o.getKeyChar)(t) &&
                              this.editor.stopCommand(this.id);
                          },
                          enableDragger: function (t) {
                            this.toggleDragger(1, t);
                          },
                          disableDragger: function (t) {
                            this.toggleDragger(0, t);
                          },
                          toggleDragger: function (t, e) {
                            var n = this.canvasModel,
                              r = this.em,
                              o = this.dragger,
                              a = t ? 'add' : 'remove';
                            this.getCanvas().classList[a](
                              ''.concat(this.ppfx, 'is__grabbing')
                            ),
                              o ||
                                ((o = new i.Z({
                                  getPosition: function () {
                                    return {
                                      x: n.get('x'),
                                      y: n.get('y'),
                                    };
                                  },
                                  setPosition: function (t) {
                                    var e = t.x,
                                      r = t.y;
                                    n.set({
                                      x: e,
                                      y: r,
                                    });
                                  },
                                  onStart: function (t, e) {
                                    r.trigger('canvas:move:start', e);
                                  },
                                  onDrag: function (t, e) {
                                    r.trigger('canvas:move', e);
                                  },
                                  onEnd: function (t, e) {
                                    r.trigger('canvas:move:end', e);
                                  },
                                })),
                                (this.dragger = o)),
                              t ? o.start(e) : o.stop();
                          },
                          toggleMove: function (t) {
                            var e = this.ppfx,
                              n = t ? 'add' : 'remove',
                              r = t ? 'on' : 'off',
                              i = {
                                on: o.on,
                                off: o.off,
                              },
                              a = this.getCanvas(),
                              s = [''.concat(e, 'is__grab')];
                            !t && s.push(''.concat(e, 'is__grabbing')),
                              s.forEach(function (t) {
                                return a.classList[n](t);
                              }),
                              i[r](document, 'keyup', this.onKeyUp),
                              i[r](a, 'mousedown', this.enableDragger),
                              i[r](document, 'mouseup', this.disableDragger);
                          },
                        };
                      },
                      790: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => s,
                            defineCommand: () => a,
                          });
                        var r,
                          o = n(346),
                          i =
                            (void 0 && (void 0).__extends) ||
                            ((r = function (t, e) {
                              return (
                                (r =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                r(t, e)
                              );
                            }),
                            function (t, e) {
                              if ('function' != typeof e && null !== e)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(e) +
                                    ' is not a constructor or null'
                                );

                              function n() {
                                this.constructor = t;
                              }
                              r(t, e),
                                (t.prototype =
                                  null === e
                                    ? Object.create(e)
                                    : ((n.prototype = e.prototype), new n()));
                            });

                        function a(t) {
                          return t;
                        }
                        const s = (function (t) {
                          function e(e) {
                            var n = t.call(this, 0) || this;
                            (n.config = e || {}), (n.em = n.config.em || {});
                            var r = n.config.stylePrefix;
                            return (
                              (n.pfx = r),
                              (n.ppfx = n.config.pStylePrefix),
                              (n.hoverClass = ''.concat(r, 'hover')),
                              (n.badgeClass = ''.concat(r, 'badge')),
                              (n.plhClass = ''.concat(r, 'placeholder')),
                              (n.freezClass = ''.concat(n.ppfx, 'freezed')),
                              (n.canvas = n.em.Canvas),
                              n.init(n.config),
                              n
                            );
                          }
                          return (
                            i(e, t),
                            (e.prototype.onFrameScroll = function (t) {}),
                            (e.prototype.getCanvas = function () {
                              return this.canvas.getElement();
                            }),
                            (e.prototype.getCanvasBody = function () {
                              return this.canvas.getBody();
                            }),
                            (e.prototype.getCanvasTools = function () {
                              return this.canvas.getToolsEl();
                            }),
                            (e.prototype.offset = function (t) {
                              var e = t.getBoundingClientRect();
                              return {
                                top: e.top + t.ownerDocument.body.scrollTop,
                                left: e.left + t.ownerDocument.body.scrollLeft,
                              };
                            }),
                            (e.prototype.init = function (t) {}),
                            (e.prototype.callRun = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.id;
                              if (
                                (t.trigger('run:'.concat(n, ':before'), e),
                                !e || !e.abort)
                              ) {
                                var r = e.sender || t,
                                  o = this.run(t, r, e);
                                return (
                                  t.trigger('run:'.concat(n), o, e),
                                  t.trigger('run', n, o, e),
                                  o
                                );
                              }
                              t.trigger('abort:'.concat(n), e);
                            }),
                            (e.prototype.callStop = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.id,
                                r = e.sender || t;
                              t.trigger('stop:'.concat(n, ':before'), e);
                              var o = this.stop(t, r, e);
                              return (
                                t.trigger('stop:'.concat(n), o, e),
                                t.trigger('stop', n, o, e),
                                o
                              );
                            }),
                            (e.prototype.stopCommand = function (t) {
                              this.em.Commands.stop(this.id, t);
                            }),
                            (e.prototype.run = function (t, e, n) {}),
                            (e.prototype.stop = function (t, e, n) {}),
                            e
                          );
                        })(o.Hn);
                      },
                      180: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => i,
                          });
                        var r = n(50),
                          o =
                            (void 0 && (void 0).__spreadArray) ||
                            function (t, e, n) {
                              if (n || 2 === arguments.length)
                                for (var r, o = 0, i = e.length; o < i; o++)
                                  (!r && o in e) ||
                                    (r ||
                                      (r = Array.prototype.slice.call(e, 0, o)),
                                    (r[o] = e[o]));
                              return t.concat(
                                r || Array.prototype.slice.call(e)
                              );
                            };
                        const i = {
                          run: function (t, e, n) {
                            var i = this;
                            void 0 === n && (n = {});
                            var a = [],
                              s = n.component || t.getSelectedAll();
                            return (
                              (s = (0, r.isArray)(s) ? o([], s, !0) : [s])
                                .filter(Boolean)
                                .forEach(function (t) {
                                  if (!t.get('removable'))
                                    return (
                                      a.push(t),
                                      i.em.logWarning(
                                        'The element is not removable',
                                        {
                                          component: t,
                                        }
                                      )
                                    );
                                  t.remove();
                                }),
                              t.select(a),
                              s
                            );
                          },
                        };
                      },
                      544: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => s,
                          });
                        var r = n(50),
                          o = n(668),
                          i =
                            (void 0 && (void 0).__assign) ||
                            function () {
                              return (
                                (i =
                                  Object.assign ||
                                  function (t) {
                                    for (
                                      var e, n = 1, r = arguments.length;
                                      n < r;
                                      n++
                                    )
                                      for (var o in (e = arguments[n]))
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          o
                                        ) && (t[o] = e[o]);
                                    return t;
                                  }),
                                i.apply(this, arguments)
                              );
                            },
                          a = 'dmode';
                        const s = {
                          run: function (t, e, n) {
                            var s = this;
                            void 0 === n && (n = {}),
                              (0, r.bindAll)(
                                this,
                                'setPosition',
                                'onStart',
                                'onDrag',
                                'onEnd',
                                'getPosition',
                                'getGuidesStatic',
                                'renderGuide',
                                'getGuidesTarget'
                              );
                            var l = n.target,
                              c = n.event,
                              u = n.mode,
                              p = n.dragger,
                              d = void 0 === p ? {} : p,
                              f = l.getEl(),
                              h = i(
                                {
                                  doc: f.ownerDocument,
                                  onStart: this.onStart,
                                  onEnd: this.onEnd,
                                  onDrag: this.onDrag,
                                  getPosition: this.getPosition,
                                  setPosition: this.setPosition,
                                  guidesStatic: function () {
                                    return s.guidesStatic;
                                  },
                                  guidesTarget: function () {
                                    return s.guidesTarget;
                                  },
                                },
                                d
                              );
                            this.setupGuides(),
                              (this.opts = n),
                              (this.editor = t),
                              (this.em = t.getModel()),
                              (this.target = l),
                              (this.isTran = 'translate' == u),
                              (this.guidesContainer =
                                this.getGuidesContainer()),
                              (this.guidesTarget = this.getGuidesTarget()),
                              (this.guidesStatic = this.getGuidesStatic());
                            var g = this.dragger;
                            return (
                              g
                                ? g.setOptions(h)
                                : ((g = new o.Z(h)), (this.dragger = g)),
                              c && g.start(c),
                              this.toggleDrag(1),
                              this.em.trigger(
                                ''.concat(a, ':start'),
                                this.getEventOpts()
                              ),
                              g
                            );
                          },
                          getEventOpts: function () {
                            return {
                              mode: this.opts.mode,
                              target: this.target,
                              guidesTarget: this.guidesTarget,
                              guidesStatic: this.guidesStatic,
                            };
                          },
                          stop: function () {
                            this.toggleDrag();
                          },
                          setupGuides: function () {
                            (this.guides || []).forEach(function (t) {
                              var e = t.guide;
                              e && e.parentNode.removeChild(e);
                            }),
                              (this.guides = []);
                          },
                          getGuidesContainer: function () {
                            var t = this,
                              e = this.guidesEl;
                            if (!e) {
                              var n = this,
                                o = n.editor,
                                i = n.em,
                                a = n.opts,
                                s = o.getConfig().stylePrefix,
                                l = document.createElement('div'),
                                c = document.createElement('div'),
                                u = '<div class="'
                                  .concat(s, 'guide-info__line ')
                                  .concat(
                                    s,
                                    'danger-bg">\n        <div class="'
                                  )
                                  .concat(s, 'guide-info__content ')
                                  .concat(
                                    s,
                                    'danger-color"></div>\n      </div>'
                                  );
                              ((e = document.createElement('div')).className =
                                ''.concat(s, 'guides')),
                                (l.className = ''
                                  .concat(s, 'guide-info ')
                                  .concat(s, 'guide-info__x')),
                                (c.className = ''
                                  .concat(s, 'guide-info ')
                                  .concat(s, 'guide-info__y')),
                                (l.innerHTML = u),
                                (c.innerHTML = u),
                                e.appendChild(l),
                                e.appendChild(c),
                                o.Canvas.getGlobalToolsEl().appendChild(e),
                                (this.guidesEl = e),
                                (this.elGuideInfoX = l),
                                (this.elGuideInfoY = c),
                                (this.elGuideInfoContentX = l.querySelector(
                                  '.'.concat(s, 'guide-info__content')
                                )),
                                (this.elGuideInfoContentY = c.querySelector(
                                  '.'.concat(s, 'guide-info__content')
                                )),
                                i.on(
                                  'canvas:update frame:scroll',
                                  (0, r.debounce)(function () {
                                    var e;
                                    t.updateGuides(),
                                      a.debug &&
                                        (null === (e = t.guides) ||
                                          void 0 === e ||
                                          e.forEach(function (e) {
                                            return t.renderGuide(e);
                                          }));
                                  }, 200)
                                );
                            }
                            return e;
                          },
                          getGuidesStatic: function () {
                            var t = this,
                              e = [],
                              n = this.target.getEl(),
                              o = n.parentNode,
                              i = void 0 === o ? {} : o;
                            return (
                              (0, r.each)(i.children, function (r) {
                                return (e = e.concat(
                                  n !== r ? t.getElementGuides(r) : []
                                ));
                              }),
                              e.concat(this.getElementGuides(i))
                            );
                          },
                          getGuidesTarget: function () {
                            return this.getElementGuides(this.target.getEl());
                          },
                          updateGuides: function (t) {
                            var e,
                              n,
                              o = this;
                            (t || this.guides).forEach(function (t) {
                              var i = t.origin,
                                a = e === i ? n : o.getElementPos(i);
                              (e = i),
                                (n = a),
                                (0, r.each)(
                                  o.getGuidePosUpdate(t, a),
                                  function (e, n) {
                                    return (t[n] = e);
                                  }
                                ),
                                (t.originRect = a);
                            });
                          },
                          getGuidePosUpdate: function (t, e) {
                            var n = {},
                              r = e.top,
                              o = e.height,
                              i = e.left,
                              a = e.width;
                            switch (t.type) {
                              case 't':
                                n.y = r;
                                break;
                              case 'b':
                                n.y = r + o;
                                break;
                              case 'l':
                                n.x = i;
                                break;
                              case 'r':
                                n.x = i + a;
                                break;
                              case 'x':
                                n.x = i + a / 2;
                                break;
                              case 'y':
                                n.y = r + o / 2;
                            }
                            return n;
                          },
                          renderGuide: function (t) {
                            void 0 === t && (t = {});
                            var e = t.guide || document.createElement('div'),
                              n = 'px',
                              r = t.active ? 2 : 1,
                              o = e.children[0];
                            return (
                              (e.style =
                                'position: absolute; background-color: '.concat(
                                  t.active ? 'green' : 'red',
                                  ';'
                                )),
                              e.children.length ||
                                (((o = document.createElement('div')).style =
                                  'position: absolute; color: red; padding: 5px; top: 0; left: 0;'),
                                e.appendChild(o)),
                              t.y
                                ? ((e.style.width = '100%'),
                                  (e.style.height = ''.concat(r).concat(n)),
                                  (e.style.top = ''.concat(t.y).concat(n)),
                                  (e.style.left = 0))
                                : ((e.style.width = ''.concat(r).concat(n)),
                                  (e.style.height = '100%'),
                                  (e.style.left = ''.concat(t.x).concat(n)),
                                  (e.style.top = '0'.concat(n))),
                              !t.guide && this.guidesContainer.appendChild(e),
                              e
                            );
                          },
                          getElementPos: function (t) {
                            return this.editor.Canvas.getElementPos(t, {
                              noScroll: 1,
                            });
                          },
                          getElementGuides: function (t) {
                            var e = this,
                              n = this.opts,
                              r = this.getElementPos(t),
                              o = r.top,
                              a = r.height,
                              s = r.left,
                              l = r.width,
                              c = [
                                {
                                  type: 't',
                                  y: o,
                                },
                                {
                                  type: 'b',
                                  y: o + a,
                                },
                                {
                                  type: 'l',
                                  x: s,
                                },
                                {
                                  type: 'r',
                                  x: s + l,
                                },
                                {
                                  type: 'x',
                                  x: s + l / 2,
                                },
                                {
                                  type: 'y',
                                  y: o + a / 2,
                                },
                              ].map(function (o) {
                                return i(i({}, o), {
                                  origin: t,
                                  originRect: r,
                                  guide: n.debug && e.renderGuide(o),
                                });
                              });
                            return (
                              c.forEach(function (t) {
                                var n;
                                return null === (n = e.guides) || void 0 === n
                                  ? void 0
                                  : n.push(t);
                              }),
                              c
                            );
                          },
                          getTranslate: function (t, e) {
                            void 0 === e && (e = 'x');
                            var n = 0;
                            return (
                              (t || '').split(' ').forEach(function (t) {
                                var r = t.trim(),
                                  o = 'translate'.concat(e.toUpperCase(), '(');
                                0 === r.indexOf(o) &&
                                  (n = parseFloat(r.replace(o, '')));
                              }),
                              n
                            );
                          },
                          setTranslate: function (t, e, n) {
                            var r = 'translate'.concat(e.toUpperCase(), '('),
                              o = ''.concat(r).concat(n, ')'),
                              i = (t || '')
                                .split(' ')
                                .map(function (t) {
                                  return (
                                    0 === t.trim().indexOf(r) && (t = o), t
                                  );
                                })
                                .join(' ');
                            return i.indexOf(r) < 0 && (i += ' '.concat(o)), i;
                          },
                          getPosition: function () {
                            var t = this.target,
                              e = this.isTran,
                              n = t.getStyle(),
                              r = n.left,
                              o = n.top,
                              i = n.transform,
                              a = 0,
                              s = 0;
                            return (
                              e
                                ? ((a = this.getTranslate(i)),
                                  (s = this.getTranslate(i, 'y')))
                                : ((a = parseFloat(r || 0)),
                                  (s = parseFloat(o || 0))),
                              {
                                x: a,
                                y: s,
                              }
                            );
                          },
                          setPosition: function (t) {
                            var e = t.x,
                              n = t.y,
                              o = t.end,
                              i = t.position,
                              a = t.width,
                              s = t.height,
                              l = this,
                              c = l.target,
                              u = l.isTran,
                              p = l.em,
                              d = 'px',
                              f = o ? '' : 1,
                              h = ''.concat(e).concat(d),
                              g = ''.concat(n).concat(d),
                              v = {};
                            if (u) {
                              var m = c.getStyle()['transform'] || '';
                              (m = this.setTranslate(m, 'x', h)),
                                (v = {
                                  transform: (m = this.setTranslate(m, 'y', g)),
                                  en: f,
                                }),
                                c.addStyle(v, {
                                  avoidStore: !o,
                                });
                            } else {
                              var y = {
                                  position: i,
                                  width: a,
                                  height: s,
                                },
                                b = {
                                  left: h,
                                  top: g,
                                  en: f,
                                };
                              (0, r.keys)(y).forEach(function (t) {
                                var e = y[t];
                                e && (b[t] = e);
                              }),
                                (v = b),
                                c.addStyle(v, {
                                  avoidStore: !o,
                                });
                            }
                            p.getSelected() &&
                              (0, r.keys)(v).forEach(function (t) {
                                return p.trigger(
                                  'update:component:style:'.concat(t)
                                );
                              });
                          },
                          _getDragData: function () {
                            var t = this.target;
                            return {
                              target: t,
                              parent: t.parent(),
                              index: t.index(),
                            };
                          },
                          onStart: function (t) {
                            var e = this,
                              n = e.target,
                              r = e.editor,
                              o = e.isTran,
                              i = e.opts,
                              a = i.center,
                              s = i.onStart,
                              l = r.Canvas,
                              c = n.getStyle(),
                              u = 'absolute',
                              p = [u, 'relative'];
                            if (
                              (s && s(this._getDragData()),
                              !o && c.position !== u)
                            ) {
                              var d = l.offset(n.getEl()),
                                f = d.left,
                                h = d.top,
                                g = d.width,
                                v = d.height,
                                m = n.parent(),
                                y = void 0;
                              do {
                                var b = m.getStyle();
                                (y = p.indexOf(b.position) >= 0 ? m : null),
                                  (m = m.parent());
                              } while (m && !y);
                              if (a) {
                                var _ = l.getMouseRelativeCanvas(t);
                                (f = _.x), (h = _.y);
                              } else if (y) {
                                var w = l.offset(y.getEl());
                                (f -= w.left), (h -= w.top);
                              }
                              this.setPosition({
                                x: f,
                                y: h,
                                width: ''.concat(g, 'px'),
                                height: ''.concat(v, 'px'),
                                position: u,
                              });
                            }
                          },
                          onDrag: function () {
                            for (
                              var t = this, e = [], n = 0;
                              n < arguments.length;
                              n++
                            )
                              e[n] = arguments[n];
                            var r = this.guidesTarget,
                              o = this.opts,
                              i = o.onDrag;
                            this.updateGuides(r),
                              o.debug &&
                                r.forEach(function (e) {
                                  return t.renderGuide(e);
                                }),
                              o.guidesInfo &&
                                this.renderGuideInfo(
                                  r.filter(function (t) {
                                    return t.active;
                                  })
                                ),
                              i && i(this._getDragData());
                          },
                          onEnd: function (t, e, n) {
                            void 0 === n && (n = {});
                            var r = this,
                              o = r.editor,
                              s = r.opts,
                              l = r.id,
                              c = s.onEnd;
                            c &&
                              c(
                                t,
                                n,
                                i(
                                  i(
                                    {
                                      event: t,
                                    },
                                    n
                                  ),
                                  this._getDragData()
                                )
                              ),
                              o.stopCommand(l),
                              this.hideGuidesInfo(),
                              this.em.trigger(
                                ''.concat(a, ':end'),
                                this.getEventOpts()
                              );
                          },
                          hideGuidesInfo: function () {
                            var t = this;
                            ['X', 'Y'].forEach(function (e) {
                              var n = t['elGuideInfo'.concat(e)];
                              n && (n.style.display = 'none');
                            });
                          },
                          renderGuideInfo: function (t) {
                            var e = this;
                            void 0 === t && (t = []);
                            var n = this.guidesStatic;
                            this.hideGuidesInfo(),
                              t.forEach(function (t) {
                                var o = t.origin,
                                  s = t.x,
                                  l = e.getElementPos(o),
                                  c = (0, r.isUndefined)(s) ? 'y' : 'x',
                                  u = 'y' === c,
                                  p = l[u ? 'left' : 'top'],
                                  d = l.rect[u ? 'left' : 'top'],
                                  f = u ? p + l.width : p + l.height,
                                  h = u ? d + l.rect.width : d + l.rect.height,
                                  g = e['elGuideInfo'.concat(c.toUpperCase())],
                                  v =
                                    e[
                                      'elGuideInfoContent'.concat(
                                        c.toUpperCase()
                                      )
                                    ],
                                  m = g.style,
                                  y =
                                    null == n
                                      ? void 0
                                      : n
                                          .filter(function (e) {
                                            return e.type === t.type;
                                          })
                                          .map(function (t) {
                                            var e = t.originRect,
                                              n = e.left,
                                              r = e.width,
                                              o = e.top,
                                              i = e.height,
                                              a = u ? n + r : o + i;
                                            return {
                                              gap:
                                                a < p ? p - a : (u ? n : o) - f,
                                              guide: t,
                                            };
                                          })
                                          .filter(function (t) {
                                            return t.gap > 0;
                                          })
                                          .sort(function (t, e) {
                                            return t.gap - e.gap;
                                          })
                                          .map(function (t) {
                                            return t.guide;
                                          })[0];
                                if (y) {
                                  var b = y.originRect,
                                    _ = b.left,
                                    w = b.width,
                                    x = b.top,
                                    C = b.height,
                                    S = b.rect,
                                    O = u ? _ < l.left : x < l.top,
                                    k = u ? _ : x,
                                    T = u ? S.left : S.top,
                                    E = u ? _ + w : x + C,
                                    P = u ? S.left + S.width : S.top + S.height,
                                    A = u ? t.y : t.x,
                                    j = O ? E : f,
                                    M = ''.concat(A, 'px'),
                                    L = O ? p - E : k - f,
                                    D = O ? d - P : T - h;
                                  (m.display = ''),
                                    (m[u ? 'top' : 'left'] = M),
                                    (m[u ? 'left' : 'top'] = ''.concat(
                                      j,
                                      'px'
                                    )),
                                    (m[u ? 'width' : 'height'] = ''.concat(
                                      L,
                                      'px'
                                    )),
                                    (v.innerHTML = ''.concat(
                                      Math.round(D),
                                      'px'
                                    )),
                                    e.em.trigger(
                                      ''.concat(a, ':active'),
                                      i(i({}, e.getEventOpts()), {
                                        guide: t,
                                        guidesStatic: n,
                                        matched: y,
                                        posFirst: A,
                                        posSecond: j,
                                        size: L,
                                        sizeRaw: D,
                                        elGuideInfo: g,
                                        elGuideInfoCnt: v,
                                      })
                                    );
                                }
                              });
                          },
                          toggleDrag: function (t) {
                            var e = this.ppfx,
                              n = this.editor,
                              r = t ? 'add' : 'remove',
                              o = [''.concat(e, 'is__grabbing')],
                              i = n.Canvas,
                              a = i.getBody();
                            o.forEach(function (t) {
                              return a.classList[r](t);
                            }),
                              i[t ? 'startAutoscroll' : 'stopAutoscroll']();
                          },
                        };
                      },
                      236: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => r,
                          });
                        const r = {
                          run: function (t) {
                            if (t.Canvas.hasFocus()) {
                              var e = [];
                              t.getSelectedAll().forEach(function (t) {
                                var n = t.components(),
                                  r =
                                    n &&
                                    n.filter(function (t) {
                                      return t.get('selectable');
                                    })[0];
                                r && e.push(r);
                              }),
                                e.length && t.select(e);
                            }
                          },
                        };
                      },
                      368: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => r,
                          });
                        const r = {
                          run: function (t, e, n) {
                            if (
                              (void 0 === n && (n = {}),
                              t.Canvas.hasFocus() || n.force)
                            ) {
                              var r = [];
                              t.getSelectedAll().forEach(function (t) {
                                for (
                                  var e = t.parent();
                                  e && !e.get('selectable');

                                )
                                  e = e.parent();
                                e && r.push(e);
                              }),
                                r.length && t.select(r);
                            }
                          },
                        };
                      },
                      243: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => r,
                          });
                        const r = {
                          run: function (t) {
                            if (t.Canvas.hasFocus()) {
                              var e = [];
                              t.getSelectedAll().forEach(function (t) {
                                var n = t.parent();
                                if (n) {
                                  var r,
                                    o = n.components().length,
                                    i = 0,
                                    a = 0;
                                  do {
                                    i++,
                                      (r =
                                        (a = t.index() + i) <= o
                                          ? n.getChildAt(a)
                                          : null);
                                  } while (r && !r.get('selectable'));
                                  e.push(r || t);
                                }
                              }),
                                e.length && t.select(e);
                            }
                          },
                        };
                      },
                      400: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => r,
                          });
                        const r = {
                          run: function (t) {
                            if (t.Canvas.hasFocus()) {
                              var e = [];
                              t.getSelectedAll().forEach(function (t) {
                                var n = t.parent();
                                if (n) {
                                  var r,
                                    o = 0,
                                    i = 0;
                                  do {
                                    o++,
                                      (r =
                                        (i = t.index() - o) >= 0
                                          ? n.getChildAt(i)
                                          : null);
                                  } while (r && !r.get('selectable'));
                                  e.push(r || t);
                                }
                              }),
                                e.length && t.select(e);
                            }
                          },
                        };
                      },
                      910: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r = n(50);
                        const o = {
                          run: function (t, e, n) {
                            void 0 === n && (n = {});
                            var o = n.target,
                              i = [];
                            if (!o.get('styles')) return i;
                            var a = o.get('type'),
                              s = t.Pages.getAllWrappers();
                            if (
                              !(0, r.flatten)(
                                s.map(function (t) {
                                  return t.findType(a);
                                })
                              ).length
                            ) {
                              var l = t.CssComposer.getAll();
                              (i = l.filter(function (t) {
                                return t.get('group') === 'cmp:'.concat(a);
                              })),
                                l.remove(i);
                            }
                            return i;
                          },
                        };
                      },
                      744: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          };
                        const o = {
                          run: function (t) {
                            var e = t.getModel(),
                              n = r([], t.getSelectedAll(), !0);
                            n.length && e.set('clipboard', n);
                          },
                        };
                      },
                      517: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => a,
                          });
                        var r = n(50),
                          o = n(895),
                          i = n(407);
                        const a = (0, r.extend)({}, i['default'], {
                          init: function () {
                            (0, r.bindAll)(
                              this,
                              'startDelete',
                              'stopDelete',
                              'onDelete'
                            ),
                              (this.hoverClass = this.pfx + 'hover-delete'),
                              (this.badgeClass = this.pfx + 'badge-red');
                          },
                          enable: function () {
                            this.$el
                              .find('*')
                              .mouseover(this.startDelete)
                              .mouseout(this.stopDelete)
                              .click(this.onDelete);
                          },
                          startDelete: function (t) {
                            t.stopPropagation();
                            var e = (0, o['default'])(t.target);
                            e.data('model').get('removable') &&
                              (e.addClass(this.hoverClass),
                              this.attachBadge(e.get(0)));
                          },
                          stopDelete: function (t) {
                            t.stopPropagation(),
                              (0, o['default'])(t.target).removeClass(
                                this.hoverClass
                              ),
                              this.badge &&
                                this.badge.css({
                                  left: -1e3,
                                  top: -1e3,
                                });
                          },
                          onDelete: function (t) {
                            t.stopPropagation();
                            var e = (0, o['default'])(t.target);
                            e.data('model').get('removable') &&
                              (e.data('model').destroy(),
                              this.removeBadge(),
                              this.clean());
                          },
                          updateBadgeLabel: function (t) {
                            this.badge.html('Remove ' + t.getName());
                          },
                        });
                      },
                      457: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r = n(895);
                        const o = {
                          run: function (t, e) {
                            var n = this;
                            e && e.set && e.set('active', 0);
                            var o = t.getConfig(),
                              i = t.Modal,
                              a = o.stylePrefix;
                            if (
                              ((this.cm = t.CodeManager || null),
                              !this.$editors)
                            ) {
                              var s = this.buildEditor(
                                  'htmlmixed',
                                  'hopscotch',
                                  'HTML'
                                ),
                                l = this.buildEditor('css', 'hopscotch', 'CSS');
                              (this.htmlEditor = s.el), (this.cssEditor = l.el);
                              var c = (0, r['default'])(
                                '<div class="'.concat(a, 'export-dl"></div>')
                              );
                              c.append(s.$el).append(l.$el),
                                (this.$editors = c);
                            }
                            i
                              .open({
                                title: o.textViewCode,
                                content: this.$editors,
                              })
                              .getModel()
                              .once('change:open', function () {
                                return t.stopCommand(''.concat(n.id));
                              }),
                              this.htmlEditor.setContent(t.getHtml()),
                              this.cssEditor.setContent(t.getCss());
                          },
                          stop: function (t) {
                            var e = t.Modal;
                            e && e.close();
                          },
                          buildEditor: function (t, e, n) {
                            var r = document.createElement('textarea');
                            !this.codeMirror &&
                              (this.codeMirror =
                                this.cm.getViewer('CodeMirror'));
                            var o = this.codeMirror.clone().set({
                                label: n,
                                codeName: t,
                                theme: e,
                                input: r,
                              }),
                              i = new this.cm.EditorView({
                                model: o,
                                config: this.cm.getConfig(),
                              }).render().$el;
                            return (
                              o.init(r),
                              {
                                el: o,
                                $el: i,
                              }
                            );
                          },
                        };
                      },
                      975: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r = n(50);
                        const o = {
                          isEnabled: function () {
                            var t = document;
                            return !!(
                              t.fullscreenElement ||
                              t.webkitFullscreenElement ||
                              t.mozFullScreenElement
                            );
                          },
                          enable: function (t) {
                            var e = '';
                            return (
                              t.requestFullscreen
                                ? t.requestFullscreen()
                                : t.webkitRequestFullscreen
                                ? ((e = 'webkit'), t.webkitRequestFullscreen())
                                : t.mozRequestFullScreen
                                ? ((e = 'moz'), t.mozRequestFullScreen())
                                : t.msRequestFullscreen &&
                                  t.msRequestFullscreen(),
                              e
                            );
                          },
                          disable: function () {
                            var t = document;
                            this.isEnabled() &&
                              (t.exitFullscreen
                                ? t.exitFullscreen()
                                : t.webkitExitFullscreen
                                ? t.webkitExitFullscreen()
                                : t.mozCancelFullScreen
                                ? t.mozCancelFullScreen()
                                : t.msExitFullscreen && t.msExitFullscreen());
                          },
                          fsChanged: function (t) {
                            this.isEnabled() ||
                              (this.stopCommand({
                                sender: this.sender,
                              }),
                              document.removeEventListener(
                                ''.concat(t || '', 'fullscreenchange'),
                                this.fsChanged
                              ));
                          },
                          run: function (t, e, n) {
                            void 0 === n && (n = {}), (this.sender = e);
                            var o = n.target,
                              i = (0, r.isElement)(o)
                                ? o
                                : document.querySelector(o),
                              a = this.enable(i || t.getContainer());
                            (this.fsChanged = this.fsChanged.bind(this, a)),
                              document.addEventListener(
                                a + 'fullscreenchange',
                                this.fsChanged
                              ),
                              t.trigger('change:canvasOffset');
                          },
                          stop: function (t, e) {
                            e && e.set && e.set('active', !1),
                              this.disable(),
                              t && t.trigger('change:canvasOffset');
                          },
                        };
                      },
                      191: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => l,
                          });
                        var r = n(50),
                          o = n(895),
                          i = n(163),
                          a = n(407),
                          s = n(189);
                        const l = (0, r.extend)(
                          {},
                          s['default'],
                          a['default'],
                          {
                            init: function (t) {
                              a['default'].init.apply(this, arguments),
                                (0, r.bindAll)(
                                  this,
                                  'initSorter',
                                  'rollback',
                                  'onEndMove'
                                ),
                                (this.opt = t),
                                (this.hoverClass =
                                  this.ppfx + 'highlighter-warning'),
                                (this.badgeClass = this.ppfx + 'badge-warning'),
                                (this.noSelClass = this.ppfx + 'no-select');
                            },
                            enable: function () {
                              for (var t = [], e = 0; e < arguments.length; e++)
                                t[e] = arguments[e];
                              a['default'].enable.apply(this, t),
                                this.getBadgeEl().addClass(this.badgeClass),
                                this.getHighlighterEl().addClass(
                                  this.hoverClass
                                );
                              var n = this.$wrapper;
                              n.css('cursor', 'move'),
                                n.on('mousedown', this.initSorter),
                                n.addClass(this.noSelClass);
                            },
                            toggleClipboard: function () {},
                            initSorter: function (t) {
                              var e = (0, o['default'])(t.target)
                                .data('model')
                                .get('draggable');
                              e &&
                                ((this.cacheEl = null),
                                this.startSelectPosition(
                                  t.target,
                                  this.frameEl.contentDocument
                                ),
                                (this.sorter.draggable = e),
                                (this.sorter.onEndMove =
                                  this.onEndMove.bind(this)),
                                this.stopSelectComponent(),
                                this.$wrapper.off('mousedown', this.initSorter),
                                (0, i.on)(
                                  this.getContentWindow(),
                                  'keydown',
                                  this.rollback
                                ));
                            },
                            initSorterFromModel: function (t) {
                              var e = t.get('draggable');
                              if (e) {
                                this.cacheEl = null;
                                var n = t.view.el;
                                this.startSelectPosition(
                                  n,
                                  this.frameEl.contentDocument
                                ),
                                  (this.sorter.draggable = e),
                                  (this.sorter.onEndMove =
                                    this.onEndMoveFromModel.bind(this)),
                                  this.stopSelectComponent(),
                                  (0, i.on)(
                                    this.getContentWindow(),
                                    'keydown',
                                    this.rollback
                                  );
                              }
                            },
                            initSorterFromModels: function (t) {
                              this.cacheEl = null;
                              var e = t[t.length - 1],
                                n = (this.em.get('currentFrame') || {}).model,
                                r = e.getEl(n),
                                o = r.ownerDocument;
                              this.startSelectPosition(r, o, {
                                onStart: this.onStart,
                              }),
                                (this.sorter.draggable = e.get('draggable')),
                                (this.sorter.toMove = t),
                                (this.sorter.onMoveClb = this.onDrag),
                                (this.sorter.onEndMove =
                                  this.onEndMoveFromModel.bind(this)),
                                this.stopSelectComponent(),
                                (0, i.on)(
                                  this.getContentWindow(),
                                  'keydown',
                                  this.rollback
                                );
                            },
                            onEndMoveFromModel: function () {
                              (0, i.off)(
                                this.getContentWindow(),
                                'keydown',
                                this.rollback
                              );
                            },
                            onEndMove: function () {
                              this.enable(),
                                (0, i.off)(
                                  this.getContentWindow(),
                                  'keydown',
                                  this.rollback
                                );
                            },
                            onSelect: function (t, e) {},
                            rollback: function (t, e) {
                              (27 == (t.which || t.keyCode) || e) &&
                                ((this.sorter.moved = !1),
                                this.sorter.endMove());
                            },
                            getBadgeEl: function () {
                              return (
                                this.$badge ||
                                  (this.$badge = (0, o['default'])(
                                    this.getBadge()
                                  )),
                                this.$badge
                              );
                            },
                            getHighlighterEl: function () {
                              return (
                                this.$hl ||
                                  (this.$hl = (0, o['default'])(
                                    this.canvas.getHighlighter()
                                  )),
                                this.$hl
                              );
                            },
                            stop: function () {
                              for (var t = [], e = 0; e < arguments.length; e++)
                                t[e] = arguments[e];
                              a['default'].stop.apply(this, t),
                                this.getBadgeEl().removeClass(this.badgeClass),
                                this.getHighlighterEl().removeClass(
                                  this.hoverClass
                                ),
                                this.$wrapper
                                  .css('cursor', '')
                                  .unbind()
                                  .removeClass(this.noSelClass);
                            },
                          }
                        );
                      },
                      912: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => i,
                          });
                        var r = n(50),
                          o = n(491);
                        const i = {
                          open: function (t) {
                            var e = this,
                              n = this,
                              o = n.editor,
                              i = n.title,
                              a = n.config,
                              s = n.am,
                              l = a.custom;
                            if ((0, r.isFunction)(l.open))
                              return l.open(s.__customData());
                            o.Modal.open({
                              title: i,
                              content: t,
                            }).onceClose(function () {
                              return o.stopCommand(e.id);
                            });
                          },
                          close: function () {
                            var t = this.config.custom;
                            if ((0, r.isFunction)(t.close))
                              return t.close(this.am.__customData());
                            var e = this.editor.Modal;
                            e && e.close();
                          },
                          run: function (t, e, n) {
                            void 0 === n && (n = {});
                            var r = t.AssetManager,
                              i = r.getConfig(),
                              a = n.types,
                              s = void 0 === a ? [] : a,
                              l = n.accept,
                              c = n.select;
                            if (
                              ((this.title =
                                n.modalTitle ||
                                t.t('assetManager.modalTitle') ||
                                ''),
                              (this.editor = t),
                              (this.config = i),
                              (this.am = r),
                              r.setTarget(n.target),
                              r.onClick(n.onClick),
                              r.onDblClick(n.onDblClick),
                              r.onSelect(n.onSelect),
                              r.__behaviour({
                                select: c,
                                types: s,
                                options: n,
                              }),
                              i.custom)
                            )
                              (this.rendered =
                                this.rendered || (0, o.ut)('div')),
                                (this.rendered.className = ''.concat(
                                  i.stylePrefix,
                                  'custom-wrp'
                                )),
                                r.__behaviour({
                                  container: this.rendered,
                                }),
                                r.__trgCustom();
                            else {
                              if (!this.rendered || s) {
                                var u = r.getAll().filter(function (t) {
                                  return t;
                                });
                                s &&
                                  s.length &&
                                  (u = u.filter(function (t) {
                                    return -1 !== s.indexOf(t.get('type'));
                                  })),
                                  r.render(u),
                                  (this.rendered = r.getContainer());
                              }
                              if (l) {
                                var p = this.rendered.querySelector(
                                  'input#'.concat(i.stylePrefix, 'uploadFile')
                                );
                                p && p.setAttribute('accept', l);
                              }
                            }
                            return this.open(this.rendered), this;
                          },
                          stop: function (t) {
                            (this.editor = t), this.close(this.rendered);
                          },
                        };
                      },
                      117: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => i,
                          });
                        var r = n(50),
                          o = n(491);
                        const i = {
                          open: function () {
                            var t = this,
                              e = t.container,
                              n = t.editor,
                              o = t.bm,
                              i = t.config,
                              a = i.custom,
                              s = i.appendTo;
                            if ((0, r.isFunction)(a.open))
                              return a.open(o.__customData());
                            if (this.firstRender && !s) {
                              var l = 'views-container',
                                c = n.Panels;
                              (
                                c.getPanel(l) ||
                                c.addPanel({
                                  id: l,
                                })
                              )
                                .set('appendContent', e)
                                .trigger('change:appendContent'),
                                a || e.appendChild(o.render());
                            }
                            e && (e.style.display = 'block');
                          },
                          close: function () {
                            var t = this.container,
                              e = this.config.custom;
                            if ((0, r.isFunction)(e.close))
                              return e.close(this.bm.__customData());
                            t && (t.style.display = 'none');
                          },
                          run: function (t) {
                            var e = t.Blocks;
                            (this.config = e.getConfig()),
                              (this.firstRender = !this.container),
                              (this.container =
                                this.container || (0, o.ut)('div')),
                              (this.editor = t),
                              (this.bm = e);
                            var n = this.container;
                            e.__behaviour({
                              container: n,
                            }),
                              this.config.custom && e.__trgCustom(),
                              this.open();
                          },
                          stop: function () {
                            this.close();
                          },
                        };
                      },
                      614: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => r,
                          });
                        const r = {
                          run: function (t) {
                            var e = t.LayerManager,
                              n = t.Panels,
                              r = e.getConfig();
                            if (!r.appendTo) {
                              if (!this.layers) {
                                var o = 'views-container',
                                  i = document.createElement('div'),
                                  a =
                                    n.getPanel(o) ||
                                    n.addPanel({
                                      id: o,
                                    });
                                r.custom
                                  ? e.__trgCustom({
                                      container: i,
                                    })
                                  : i.appendChild(e.render()),
                                  a
                                    .set('appendContent', i)
                                    .trigger('change:appendContent'),
                                  (this.layers = i);
                              }
                              this.layers.style.display = 'block';
                            }
                          },
                          stop: function () {
                            var t = this.layers;
                            t && (t.style.display = 'none');
                          },
                        };
                      },
                      801: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r = n(895);
                        const o = {
                          run: function (t, e) {
                            if (((this.sender = e), !this.$cn)) {
                              var n = t.getConfig(),
                                o = t.Panels,
                                i = 'change:appendContent';
                              (this.$cn = (0, r['default'])('<div></div>')),
                                (this.$cn2 = (0, r['default'])('<div></div>')),
                                this.$cn.append(this.$cn2);
                              var a = t.DeviceManager;
                              if (a && n.showDevices) {
                                var s = o.addPanel({
                                    id: 'devices-c',
                                  }),
                                  l = a.render();
                                s.set('appendContent', l).trigger(i);
                              }
                              var c = t.SelectorManager;
                              this.slm = c;
                              var u = c.getConfig();
                              u.custom
                                ? c.__trgCustom({
                                    container: this.$cn2.get(0),
                                  })
                                : u.appendTo || this.$cn2.append(c.render([]));
                              var p = t.StyleManager;
                              this.sm = p;
                              var d = p.getConfig(),
                                f = d.stylePrefix;
                              (this.$header = (0, r['default'])(
                                '<div class="'
                                  .concat(f, 'header">')
                                  .concat(t.t('styleManager.empty'), '</div>')
                              )),
                                this.$cn.append(this.$header),
                                d.custom
                                  ? p.__trgCustom({
                                      container: this.$cn2.get(0),
                                    })
                                  : d.appendTo || this.$cn2.append(p.render());
                              var h = 'views-container';
                              (this.panel = o.getPanel(h)),
                                this.panel ||
                                  (this.panel = o.addPanel({
                                    id: h,
                                  })),
                                this.panel
                                  .set('appendContent', this.$cn)
                                  .trigger(i),
                                (this.em = t.getModel()),
                                this.listenTo(
                                  this.em,
                                  p.events.target,
                                  this.toggleSm
                                );
                            }
                            this.toggleSm();
                          },
                          toggleSm: function () {
                            var t,
                              e,
                              n,
                              r,
                              o = this.sender,
                              i = this.sm;
                            (o && o.get && !o.get('active')) ||
                              !i ||
                              (i.getSelected()
                                ? (null === (t = this.$cn2) ||
                                    void 0 === t ||
                                    t.show(),
                                  null === (e = this.$header) ||
                                    void 0 === e ||
                                    e.hide())
                                : (null === (n = this.$cn2) ||
                                    void 0 === n ||
                                    n.hide(),
                                  null === (r = this.$header) ||
                                    void 0 === r ||
                                    r.show()));
                          },
                          stop: function () {
                            var t, e;
                            null === (t = this.$cn2) ||
                              void 0 === t ||
                              t.hide(),
                              null === (e = this.$header) ||
                                void 0 === e ||
                                e.hide();
                          },
                        };
                      },
                      395: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r = n(895);
                        const o = {
                          run: function (t, e) {
                            this.sender = e;
                            var n,
                              o = t.getModel(),
                              i = t.Config.stylePrefix,
                              a = t.TraitManager,
                              s = a.getConfig();
                            if (!s.appendTo) {
                              if (!this.$cn) {
                                (this.$cn = (0, r['default'])('<div></div>')),
                                  (this.$cn2 = (0, r['default'])(
                                    '<div></div>'
                                  )),
                                  this.$cn.append(this.$cn2),
                                  (this.$header = (0, r['default'])(
                                    '<div>'
                                  ).append(
                                    '<div class="'
                                      .concat(s.stylePrefix, 'header">')
                                      .concat(
                                        o.t('traitManager.empty'),
                                        '</div>'
                                      )
                                  )),
                                  this.$cn.append(this.$header),
                                  this.$cn2.append(
                                    '<div class="'
                                      .concat(i, 'traits-label">')
                                      .concat(
                                        o.t('traitManager.label'),
                                        '</div>'
                                      )
                                  ),
                                  this.$cn2.append(a.render());
                                var l = t.Panels;
                                null ==
                                  (n = l.getPanel('views-container')
                                    ? l.getPanel('views-container')
                                    : l.addPanel({
                                        id: 'views-container',
                                      })) ||
                                  n
                                    .set('appendContent', this.$cn.get(0))
                                    .trigger('change:appendContent'),
                                  (this.target = t.getModel()),
                                  this.listenTo(
                                    this.target,
                                    'component:toggled',
                                    this.toggleTm
                                  );
                              }
                              this.toggleTm();
                            }
                          },
                          toggleTm: function () {
                            var t = this.sender;
                            (t && t.get && !t.get('active')) ||
                              (1 === this.target.getSelectedAll().length
                                ? (this.$cn2.show(), this.$header.hide())
                                : (this.$cn2.hide(), this.$header.show()));
                          },
                          stop: function () {
                            this.$cn2 && this.$cn2.hide(),
                              this.$header && this.$header.hide();
                          },
                        };
                      },
                      98: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r = n(50);
                        const o = {
                          run: function (t, e, n) {
                            void 0 === n && (n = {});
                            var o = t.getModel().get('clipboard'),
                              i = t.getSelected();
                            o &&
                              i &&
                              (t.getSelectedAll().forEach(function (e) {
                                var i = e.collection;
                                if (i) {
                                  var a,
                                    s = {
                                      at: e.index() + 1,
                                      action: n.action || 'paste-component',
                                    };
                                  if (
                                    (0, r.contains)(o, e) &&
                                    e.get('copyable')
                                  )
                                    a = i.add(e.clone(), s);
                                  else {
                                    var l = o
                                      .filter(function (t) {
                                        return t.get('copyable');
                                      })
                                      .filter(function (n) {
                                        return t.Components.canMove(
                                          e.parent(),
                                          n
                                        ).result;
                                      });
                                    a = i.add(
                                      l.map(function (t) {
                                        return t.clone();
                                      }),
                                      s
                                    );
                                  }
                                  (a = (0, r.isArray)(a) ? a : [a]).forEach(
                                    function (e) {
                                      return t.trigger('component:paste', e);
                                    }
                                  );
                                }
                              }),
                              i.emitUpdate());
                          },
                        };
                      },
                      129: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => a,
                          });
                        var r = n(50),
                          o =
                            (void 0 && (void 0).__spreadArray) ||
                            function (t, e, n) {
                              if (n || 2 === arguments.length)
                                for (var r, o = 0, i = e.length; o < i; o++)
                                  (!r && o in e) ||
                                    (r ||
                                      (r = Array.prototype.slice.call(e, 0, o)),
                                    (r[o] = e[o]));
                              return t.concat(
                                r || Array.prototype.slice.call(e)
                              );
                            },
                          i = 'core:component-outline';
                        const a = {
                          getPanels: function (t) {
                            return (
                              this.panels ||
                                (this.panels = t.Panels.getPanels()),
                              this.panels
                            );
                          },
                          preventDrag: function (t) {
                            t.abort = 1;
                          },
                          tglEffects: function (t) {
                            var e = this.em,
                              n = t ? 'on' : 'off';
                            if (e) {
                              var o = e.Canvas,
                                i = o.getBody(),
                                a = o.getToolbarEl();
                              a && (a.style.display = t ? 'none' : '');
                              var s = i.querySelectorAll(
                                '.'.concat(this.ppfx, 'no-pointer')
                              );
                              (0, r.each)(s, function (e) {
                                return (e.style.pointerEvents = t ? 'all' : '');
                              }),
                                e[n]('run:tlb-move:before', this.preventDrag);
                            }
                          },
                          run: function (t, e) {
                            var n = this;
                            (this.sender = e),
                              (this.selected = o([], t.getSelectedAll(), !0)),
                              t.select(),
                              this.shouldRunSwVisibility ||
                                (this.shouldRunSwVisibility =
                                  t.Commands.isActive(i)),
                              this.shouldRunSwVisibility && t.stopCommand(i),
                              t.getModel().stopDefault();
                            var r = this.getPanels(t),
                              a = t.Canvas.getElement(),
                              s = t.getEl(),
                              l = t.Config.stylePrefix;
                            if (!this.helper) {
                              var c = document.createElement('span');
                              (c.className = ''.concat(
                                l,
                                'off-prv fa fa-eye-slash'
                              )),
                                s.appendChild(c),
                                (c.onclick = function () {
                                  return n.stopCommand();
                                }),
                                (this.helper = c);
                            }
                            (this.helper.style.display = 'inline-block'),
                              r.forEach(function (t) {
                                return t.set('visible', !1);
                              });
                            var u = a.style;
                            (u.width = '100%'),
                              (u.height = '100%'),
                              (u.top = '0'),
                              (u.left = '0'),
                              (u.padding = '0'),
                              (u.margin = '0'),
                              t.refresh(),
                              this.tglEffects(1);
                          },
                          stop: function (t) {
                            var e = this.sender,
                              n = void 0 === e ? {} : e,
                              r = this.selected;
                            n.set && n.set('active', 0);
                            var o = this.getPanels(t);
                            this.shouldRunSwVisibility &&
                              (t.runCommand(i),
                              (this.shouldRunSwVisibility = !1)),
                              t.getModel().runDefault(),
                              o.forEach(function (t) {
                                return t.set('visible', !0);
                              }),
                              t.Canvas.getElement().setAttribute('style', ''),
                              r && t.select(r),
                              delete this.selected,
                              this.helper &&
                                (this.helper.style.display = 'none'),
                              t.refresh(),
                              this.tglEffects();
                          },
                        };
                      },
                      116: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (r =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              r.apply(this, arguments)
                            );
                          };
                        const o = {
                          run: function (t, e, n) {
                            var o = n || {},
                              i = t.Canvas,
                              a = i.getCanvasView(),
                              s = r(
                                {
                                  appendTo: i.getResizerEl(),
                                  prefix: t.getConfig().stylePrefix,
                                  posFetcher: a.getElementPos.bind(a),
                                  mousePosFetcher: i.getMouseRelativePos,
                                },
                                o.options || {}
                              ),
                              l = this.canvasResizer;
                            return (
                              (l && !o.forceNew) ||
                                ((this.canvasResizer = new t.Utils.Resizer(s)),
                                (l = this.canvasResizer)),
                              l.setOptions(s, !0),
                              l.blur(),
                              l.focus(o.el),
                              l
                            );
                          },
                          stop: function () {
                            var t;
                            null === (t = this.canvasResizer) ||
                              void 0 === t ||
                              t.blur();
                          },
                        };
                      },
                      407: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => C,
                          });
                        var r,
                          o = n(50),
                          i = n(895),
                          a = n(346),
                          s =
                            (void 0 && (void 0).__extends) ||
                            ((r = function (t, e) {
                              return (
                                (r =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                r(t, e)
                              );
                            }),
                            function (t, e) {
                              if ('function' != typeof e && null !== e)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(e) +
                                    ' is not a constructor or null'
                                );

                              function n() {
                                this.constructor = t;
                              }
                              r(t, e),
                                (t.prototype =
                                  null === e
                                    ? Object.create(e)
                                    : ((n.prototype = e.prototype), new n()));
                            });
                        const l = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            s(e, t),
                            (e.prototype.defaults = function () {
                              return {
                                command: '',
                                attributes: {},
                              };
                            }),
                            e
                          );
                        })(a.Hn);
                        var c =
                            (void 0 && (void 0).__extends) ||
                            (function () {
                              var t = function (e, n) {
                                return (
                                  (t =
                                    Object.setPrototypeOf ||
                                    ({
                                      __proto__: [],
                                    } instanceof Array &&
                                      function (t, e) {
                                        t.__proto__ = e;
                                      }) ||
                                    function (t, e) {
                                      for (var n in e)
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          n
                                        ) && (t[n] = e[n]);
                                    }),
                                  t(e, n)
                                );
                              };
                              return function (e, n) {
                                if ('function' != typeof n && null !== n)
                                  throw new TypeError(
                                    'Class extends value ' +
                                      String(n) +
                                      ' is not a constructor or null'
                                  );

                                function r() {
                                  this.constructor = e;
                                }
                                t(e, n),
                                  (e.prototype =
                                    null === n
                                      ? Object.create(n)
                                      : ((r.prototype = n.prototype), new r()));
                              };
                            })(),
                          u = (function (t) {
                            function e() {
                              return (
                                (null !== t && t.apply(this, arguments)) || this
                              );
                            }
                            return c(e, t), e;
                          })(a.FE);
                        const p = u;
                        u.prototype.model = l;
                        var d = n(330),
                          f =
                            (void 0 && (void 0).__extends) ||
                            (function () {
                              var t = function (e, n) {
                                return (
                                  (t =
                                    Object.setPrototypeOf ||
                                    ({
                                      __proto__: [],
                                    } instanceof Array &&
                                      function (t, e) {
                                        t.__proto__ = e;
                                      }) ||
                                    function (t, e) {
                                      for (var n in e)
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          n
                                        ) && (t[n] = e[n]);
                                    }),
                                  t(e, n)
                                );
                              };
                              return function (e, n) {
                                if ('function' != typeof n && null !== n)
                                  throw new TypeError(
                                    'Class extends value ' +
                                      String(n) +
                                      ' is not a constructor or null'
                                  );

                                function r() {
                                  this.constructor = e;
                                }
                                t(e, n),
                                  (e.prototype =
                                    null === n
                                      ? Object.create(n)
                                      : ((r.prototype = n.prototype), new r()));
                              };
                            })(),
                          h =
                            (void 0 && (void 0).__assign) ||
                            function () {
                              return (
                                (h =
                                  Object.assign ||
                                  function (t) {
                                    for (
                                      var e, n = 1, r = arguments.length;
                                      n < r;
                                      n++
                                    )
                                      for (var o in (e = arguments[n]))
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          o
                                        ) && (t[o] = e[o]);
                                    return t;
                                  }),
                                h.apply(this, arguments)
                              );
                            };
                        const g = (function (t) {
                          function e(e) {
                            var n = t.call(this, e) || this;
                            return (n.em = e.config.em), n;
                          }
                          return (
                            f(e, t),
                            (e.prototype.events = function () {
                              return (
                                this.model.get('events') || {
                                  mousedown: 'handleClick',
                                }
                              );
                            }),
                            (e.prototype.attributes = function () {
                              return this.model.get('attributes');
                            }),
                            (e.prototype.handleClick = function (t) {
                              t.preventDefault(), t.stopPropagation();
                              var e = this.em,
                                n =
                                  e.Canvas.getFrameEl().getBoundingClientRect(),
                                r = n.left,
                                o = n.top,
                                i = h(h({}, t), {
                                  clientX: t.clientX - r,
                                  clientY: t.clientY - o,
                                });
                              e.trigger('toolbar:run:before', {
                                event: i,
                              }),
                                this.execCommand(i);
                            }),
                            (e.prototype.execCommand = function (t) {
                              var e = this.em,
                                n = {
                                  event: t,
                                },
                                r = this.model.get('command'),
                                i = e.Editor;
                              (0, o.isFunction)(r) && r(i, null, n),
                                (0, o.isString)(r) && i.runCommand(r, n);
                            }),
                            (e.prototype.render = function () {
                              var t = this,
                                e = t.em,
                                n = t.$el,
                                r = t.model,
                                o = r.get('id'),
                                i = r.get('label'),
                                a = e.getConfig().stylePrefix;
                              return (
                                n.addClass(''.concat(a, 'toolbar-item')),
                                o &&
                                  n.addClass(
                                    ''.concat(a, 'toolbar-item__').concat(o)
                                  ),
                                i && n.append(i),
                                this
                              );
                            }),
                            e
                          );
                        })(a.G7);
                        var v =
                            (void 0 && (void 0).__extends) ||
                            (function () {
                              var t = function (e, n) {
                                return (
                                  (t =
                                    Object.setPrototypeOf ||
                                    ({
                                      __proto__: [],
                                    } instanceof Array &&
                                      function (t, e) {
                                        t.__proto__ = e;
                                      }) ||
                                    function (t, e) {
                                      for (var n in e)
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          n
                                        ) && (t[n] = e[n]);
                                    }),
                                  t(e, n)
                                );
                              };
                              return function (e, n) {
                                if ('function' != typeof n && null !== n)
                                  throw new TypeError(
                                    'Class extends value ' +
                                      String(n) +
                                      ' is not a constructor or null'
                                  );

                                function r() {
                                  this.constructor = e;
                                }
                                t(e, n),
                                  (e.prototype =
                                    null === n
                                      ? Object.create(n)
                                      : ((r.prototype = n.prototype), new r()));
                              };
                            })(),
                          m = (function (t) {
                            function e(e) {
                              var n = t.call(this, e) || this,
                                r = e.em;
                              return (
                                (n.em = r),
                                (n.config = {
                                  em: r,
                                }),
                                n.listenTo(n.collection, 'reset', n.render),
                                n
                              );
                            }
                            return (
                              v(e, t),
                              (e.prototype.onRender = function () {
                                var t = this.em.config.stylePrefix;
                                this.el.className = ''.concat(
                                  t,
                                  'toolbar-items'
                                );
                              }),
                              e
                            );
                          })(d.Z);
                        const y = m;
                        m.prototype.itemView = g;
                        var b,
                          _ = n(491),
                          w = n(163),
                          x =
                            (void 0 && (void 0).__assign) ||
                            function () {
                              return (
                                (x =
                                  Object.assign ||
                                  function (t) {
                                    for (
                                      var e, n = 1, r = arguments.length;
                                      n < r;
                                      n++
                                    )
                                      for (var o in (e = arguments[n]))
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          o
                                        ) && (t[o] = e[o]);
                                    return t;
                                  }),
                                x.apply(this, arguments)
                              );
                            };
                        const C = {
                          init: function (t) {
                            (0, o.bindAll)(
                              this,
                              'onHover',
                              'onOut',
                              'onClick',
                              'onFrameScroll',
                              'onFrameUpdated',
                              'onContainerChange'
                            );
                          },
                          enable: function () {
                            (this.frameOff =
                              this.canvasOff =
                              this.adjScroll =
                                null),
                              this.startSelectComponent(),
                              (b = !0);
                          },
                          startSelectComponent: function () {
                            this.toggleSelectComponent(1),
                              this.em.getSelected() && this.onSelect();
                          },
                          stopSelectComponent: function () {
                            this.toggleSelectComponent();
                          },
                          toggleSelectComponent: function (t) {
                            var e = this,
                              n = this.em,
                              r = n.getConfig().listenToEl,
                              o = n.getContainer().parentNode,
                              i = t ? 'on' : 'off',
                              a = {
                                on: w.on,
                                off: w.off,
                              };
                            !r.length && o && r.push(o),
                              a[i](window, 'resize', this.onFrameUpdated),
                              a[i](r, 'scroll', this.onContainerChange),
                              n[i](
                                'component:toggled component:update undo redo',
                                this.onSelect,
                                this
                              ),
                              n[i](
                                'change:componentHovered',
                                this.onHovered,
                                this
                              ),
                              n[i](
                                'component:resize styleable:change component:input',
                                this.updateGlobalPos,
                                this
                              ),
                              n[i](
                                'component:update:toolbar',
                                this._upToolbar,
                                this
                              ),
                              n[i](
                                'change:canvasOffset',
                                this.updateAttached,
                                this
                              ),
                              n[i]('frame:updated', this.onFrameUpdated, this),
                              n[i](
                                'canvas:updateTools',
                                this.onFrameUpdated,
                                this
                              ),
                              n.Canvas.getFrames().forEach(function (t) {
                                var n = t.view,
                                  r = null == n ? void 0 : n.getWindow();
                                r &&
                                  (function (t, n) {
                                    a[i](n, 'mouseover', e.onHover),
                                      a[i](n, 'mouseleave', e.onOut),
                                      a[i](n, 'click', e.onClick),
                                      a[i](t, 'scroll', e.onFrameScroll, !0);
                                  })(r, null == n ? void 0 : n.getBody());
                              });
                          },
                          onHover: function (t) {
                            t.stopPropagation();
                            var e = this.em,
                              n = t.target,
                              r = (0, w.getViewEl)(n),
                              o = r && r._getFrame(),
                              a = (0, i['default'])(n),
                              s = a.data('model');
                            if (!s)
                              for (
                                var l = a.parent();
                                !s && l.length && !(0, _.Mx)(l[0]);

                              )
                                (s = l.data('model')), (l = l.parent());
                            (this.currentDoc = n.ownerDocument),
                              e.setHovered(s, {
                                useValid: !0,
                              }),
                              o && e.set('currentFrame', o);
                          },
                          onFrameUpdated: function () {
                            this.updateLocalPos(), this.updateGlobalPos();
                          },
                          onHovered: function (t, e) {
                            var n,
                              r = this,
                              o = {};
                            e
                              ? null === (n = e.views) ||
                                void 0 === n ||
                                n.forEach(function (t) {
                                  var n = t.el,
                                    i = r.getElementPos(n);
                                  (o = {
                                    el: n,
                                    pos: i,
                                    component: e,
                                    view: (0, w.getViewEl)(n),
                                  }),
                                    r.updateToolsLocal(o),
                                    n.ownerDocument === r.currentDoc &&
                                      (r.elHovered = o);
                                })
                              : ((this.currentDoc = null),
                                (this.elHovered = 0),
                                this.updateToolsLocal(),
                                this.canvas.getFrames().forEach(function (t) {
                                  var e = t.view,
                                    n = e && e.getToolsEl();
                                  n &&
                                    r.toggleToolsEl(0, 0, {
                                      el: n,
                                    });
                                }));
                          },
                          onSelect: (0, o.debounce)(function () {
                            var t = this.em,
                              e = t.getSelected(),
                              n = t.get('currentFrame') || {},
                              r = e && e.getView(n.model),
                              o = r && r.el,
                              i = {};
                            o &&
                              (0, _.pn)(o) &&
                              (i = {
                                el: o,
                                pos: this.getElementPos(o),
                                component: e,
                                view: (0, w.getViewEl)(o),
                              }),
                              (this.elSelected = i),
                              this.updateToolsGlobal(),
                              this.updateLocalPos(i),
                              this.initResize(e);
                          }, 0),
                          updateGlobalPos: function () {
                            var t = this.getElSelected();
                            t.el &&
                              ((t.pos = this.getElementPos(t.el)),
                              this.updateToolsGlobal());
                          },
                          updateLocalPos: function (t) {
                            var e = this.getElHovered();
                            e.el &&
                              ((e.pos = this.getElementPos(e.el)),
                              this.updateToolsLocal(t));
                          },
                          getElHovered: function () {
                            return this.elHovered || {};
                          },
                          getElSelected: function () {
                            return this.elSelected || {};
                          },
                          onOut: function () {
                            this.em.setHovered(0);
                          },
                          toggleToolsEl: function (t, e, n) {
                            void 0 === n && (n = {});
                            var r = n.el || this.canvas.getToolsEl(e);
                            return (
                              r && (r.style.display = t ? '' : 'none'), r || {}
                            );
                          },
                          showElementOffset: function (t, e, n) {
                            void 0 === n && (n = {}),
                              b &&
                                this.editor.runCommand('show-offset', {
                                  el: t,
                                  elPos: e,
                                  view: n.view,
                                  force: 1,
                                  top: 0,
                                  left: 0,
                                });
                          },
                          hideElementOffset: function (t) {
                            this.editor.stopCommand('show-offset', {
                              view: t,
                            });
                          },
                          showFixedElementOffset: function (t, e) {
                            this.editor.runCommand('show-offset', {
                              el: t,
                              elPos: e,
                              state: 'Fixed',
                            });
                          },
                          hideFixedElementOffset: function () {
                            this.editor &&
                              this.editor.stopCommand('show-offset', {
                                state: 'Fixed',
                              });
                          },
                          hideHighlighter: function (t) {
                            this.canvas.getHighlighter(t).style.opacity = 0;
                          },
                          onClick: function (t) {
                            t.stopPropagation(), t.preventDefault();
                            var e = this.em;
                            if (e.get('_cmpDrag')) return e.set('_cmpDrag');
                            var n = (0, i['default'])(t.target),
                              r = n.data('model');
                            if (!r)
                              for (
                                var o = n.parent();
                                !r && o.length && !(0, _.Mx)(o[0]);

                              )
                                (r = o.data('model')), (o = o.parent());
                            if (r) {
                              if (
                                e.isEditing() &&
                                !r.get('textable') &&
                                r.isChildOf('text')
                              )
                                return;
                              this.select(r, t);
                            }
                          },
                          select: function (t, e) {
                            void 0 === e && (e = {}),
                              t &&
                                (this.editor.select(t, {
                                  event: e,
                                  useValid: !0,
                                }),
                                this.initResize(t));
                          },
                          updateBadge: function (t, e, n) {
                            void 0 === n && (n = {});
                            var r = this.canvas,
                              o = (0, i['default'])(t).data('model');
                            if (o && o.get('badgable')) {
                              var a = this.getBadge(n);
                              if (!n.posOnly) {
                                var s = this.canvas.getConfig(),
                                  l = o.getIcon(),
                                  c = s.pStylePrefix || '',
                                  u = ''.concat(c, 'badge'),
                                  p = s.customBadgeLabel,
                                  d = ''
                                    .concat(
                                      l
                                        ? '<div class="'
                                            .concat(u, '__icon">')
                                            .concat(l, '</div>')
                                        : '',
                                      '\n        <div class="'
                                    )
                                    .concat(u, '__name">')
                                    .concat(o.getName(), '</div>');
                                a.innerHTML = p ? p(o) : d;
                              }
                              var f = 'px',
                                h = a.style;
                              h.display = 'block';
                              var g = r.getTargetToElementFixed(t, a, {
                                  pos: e,
                                }).top,
                                v = n.leftOff < 0 ? -n.leftOff : 0;
                              (h.top = g + f), (h.left = v + f);
                            }
                          },
                          showHighlighter: function (t) {
                            this.canvas.getHighlighter(t).style.opacity = '';
                          },
                          initResize: function (t) {
                            var e,
                              n = this.em,
                              r = this.canvas,
                              i = null == n ? void 0 : n.Editor,
                              a =
                                (null == n ? void 0 : n.config).stylePrefix ||
                                '',
                              s = ''.concat(a, 'resizing'),
                              l =
                                !(0, o.isElement)(t) && (0, w.isTaggableNode)(t)
                                  ? t
                                  : n.getSelected(),
                              c = l && l.get('resizable'),
                              u = {},
                              p = function (t, e, n) {
                                var r = n.docs;
                                r &&
                                  r.forEach(function (e) {
                                    var n = e.body,
                                      r = n.className || '';
                                    n.className = (
                                      'add' == t
                                        ? ''.concat(r, ' ').concat(s)
                                        : r.replace(s, '')
                                    ).trim();
                                  });
                              };
                            if (i && c) {
                              var d = (0, o.isElement)(t) ? t : l.getEl();
                              (u = {
                                onStart: function (t, o) {
                                  void 0 === o && (o = {});
                                  var i = o.el,
                                    a = o.config,
                                    s = o.resizer,
                                    c = a.keyHeight,
                                    u = a.keyWidth,
                                    d = a.currentUnit,
                                    f = a.keepAutoHeight,
                                    h = a.keepAutoWidth;
                                  p('add', 0, o),
                                    (e = n.Styles.getModelToStyle(l)),
                                    r.toggleFramesEvents(!1);
                                  var g = getComputedStyle(i),
                                    v = e.getStyle(),
                                    m = v[u];
                                  (a.autoWidth = h && 'auto' === m),
                                    isNaN(parseFloat(m)) && (m = g[u]);
                                  var y = v[c];
                                  (a.autoHeight = f && 'auto' === y),
                                    isNaN(parseFloat(y)) && (y = g[c]),
                                    (s.startDim.w = parseFloat(m)),
                                    (s.startDim.h = parseFloat(y)),
                                    (b = !1),
                                    d &&
                                      ((a.unitHeight = (0, w.getUnitFromValue)(
                                        y
                                      )),
                                      (a.unitWidth = (0, w.getUnitFromValue)(
                                        m
                                      )));
                                },
                                onMove: function () {
                                  i.trigger('component:resize');
                                },
                                onEnd: function (t, e) {
                                  p('remove', 0, e),
                                    i.trigger('component:resize'),
                                    r.toggleFramesEvents(!0),
                                    (b = !0);
                                },
                                updateTarget: function (t, o, i) {
                                  if ((void 0 === i && (i = {}), e)) {
                                    var a = i.store,
                                      s = i.selectedHandler,
                                      l = i.config,
                                      c = l.keyHeight,
                                      u = l.keyWidth,
                                      p = l.autoHeight,
                                      d = l.autoWidth,
                                      f = l.unitWidth,
                                      h = l.unitHeight,
                                      g = ['tc', 'bc'].indexOf(s) >= 0,
                                      v = ['cl', 'cr'].indexOf(s) >= 0,
                                      m = {},
                                      y = a ? '' : 1;
                                    if (!g) {
                                      var b = r.getBody().offsetWidth,
                                        _ = o.w < b ? o.w : b;
                                      m[u] = d
                                        ? 'auto'
                                        : ''.concat(_).concat(f);
                                    }
                                    v ||
                                      (m[c] = p
                                        ? 'auto'
                                        : ''.concat(o.h).concat(h)),
                                      e.addStyle(
                                        x(x({}, m), {
                                          en: y,
                                        }),
                                        {
                                          avoidStore: !a,
                                        }
                                      );
                                    var w = 'update:component:style',
                                      C = ''
                                        .concat(w, ':')
                                        .concat(c, ' ')
                                        .concat(w, ':')
                                        .concat(u);
                                    n &&
                                      n.trigger(C, null, null, {
                                        noEmit: 1,
                                      });
                                  }
                                },
                              }),
                                'object' == typeof c &&
                                  (u = x(x(x({}, u), c), {
                                    parent: u,
                                  })),
                                (this.resizer = i.runCommand('resize', {
                                  el: d,
                                  options: u,
                                  force: 1,
                                }));
                            } else
                              i.stopCommand('resize'), (this.resizer = null);
                          },
                          updateToolbar: function (t) {
                            var e = this.config.em,
                              n = t == e ? e.getSelected() : t,
                              r = this.canvas.getToolbarEl(),
                              o = r.style,
                              i = n.get('toolbar'),
                              a = e.config.showToolbar;
                            if (n && a && i && i.length) {
                              if (((o.display = ''), !this.toolbar)) {
                                (r.innerHTML = ''), (this.toolbar = new p(i));
                                var s = new y({
                                  collection: this.toolbar,
                                  em: e,
                                });
                                r.appendChild(s.render().el);
                              }
                              this.toolbar.reset(i),
                                (o.top = '-100px'),
                                (o.left = '0');
                            } else o.display = 'none';
                          },
                          updateToolbarPos: function (t) {
                            var e = 'px',
                              n = this.canvas.getToolbarEl().style;
                            (n.top = ''.concat(t.top).concat(e)),
                              (n.left = ''.concat(t.left).concat(e)),
                              (n.opacity = '');
                          },
                          getCanvasPosition: function () {
                            return this.canvas.getCanvasView().getPosition();
                          },
                          getBadge: function (t) {
                            return (
                              void 0 === t && (t = {}),
                              this.canvas.getBadgeEl(t.view)
                            );
                          },
                          onFrameScroll: function () {
                            this.updateTools();
                          },
                          updateTools: function () {
                            this.updateLocalPos(), this.updateGlobalPos();
                          },
                          isCompSelected: function (t) {
                            return t && 'selected' === t.get('status');
                          },
                          updateToolsLocal: function (t) {
                            var e = t || this.getElHovered(),
                              n = e.el,
                              r = e.pos,
                              o = e.view,
                              i = e.component;
                            if (n) {
                              var a = i.get('hoverable'),
                                s = this.lastHovered !== n,
                                l = s
                                  ? {}
                                  : {
                                      posOnly: 1,
                                    };
                              s &&
                                a &&
                                ((this.lastHovered = n),
                                this.showHighlighter(o),
                                this.showElementOffset(n, r, {
                                  view: o,
                                })),
                                this.isCompSelected(i) &&
                                  (this.hideHighlighter(o),
                                  this.hideElementOffset(o));
                              var c = 'px',
                                u = this.toggleToolsEl(1, o),
                                p = u.style,
                                d = this.canvas.canvasRectOffset(n, r),
                                f = d.top,
                                h = d.left;
                              this.updateBadge(
                                n,
                                r,
                                x(x({}, l), {
                                  view: o,
                                  topOff: f,
                                  leftOff: h,
                                })
                              ),
                                (p.top = f + c),
                                (p.left = h + c),
                                (p.width = r.width + c),
                                (p.height = r.height + c),
                                this._trgToolUp('local', {
                                  component: i,
                                  el: u,
                                  top: f,
                                  left: h,
                                  width: r.width,
                                  height: r.height,
                                });
                            } else this.lastHovered = 0;
                          },
                          _upToolbar: (0, o.debounce)(function () {
                            this.updateToolsGlobal({
                              force: 1,
                            });
                          }, 0),
                          _trgToolUp: function (t, e) {
                            void 0 === e && (e = {}),
                              this.em.trigger(
                                'canvas:tools:update',
                                x(
                                  {
                                    type: t,
                                  },
                                  e
                                )
                              );
                          },
                          updateToolsGlobal: function (t) {
                            void 0 === t && (t = {});
                            var e = this.getElSelected(),
                              n = e.el,
                              r = e.pos,
                              o = e.component;
                            if (!n)
                              return (
                                this.toggleToolsEl(),
                                void (this.lastSelected = 0)
                              );
                            var i = this.canvas;
                            (this.lastSelected !== n || t.force) &&
                              ((this.lastSelected = n), this.updateToolbar(o));
                            var a = 'px',
                              s = this.toggleToolsEl(1),
                              l = s.style,
                              c = i.getTargetToElementFixed(
                                n,
                                i.getToolbarEl(),
                                {
                                  pos: r,
                                }
                              ),
                              u = c.canvasOffsetTop,
                              p = c.canvasOffsetLeft;
                            (l.top = u + a),
                              (l.left = p + a),
                              (l.width = r.width + a),
                              (l.height = r.height + a),
                              this.updateToolbarPos({
                                top: c.top,
                                left: c.left,
                              }),
                              this._trgToolUp('global', {
                                component: o,
                                el: s,
                                top: u,
                                left: p,
                                width: r.width,
                                height: r.height,
                              });
                          },
                          updateAttached: (0, o.debounce)(function () {
                            this.updateGlobalPos();
                          }, 0),
                          onContainerChange: (0, o.debounce)(function () {
                            this.em.refreshCanvas();
                          }, 150),
                          getElementPos: function (t) {
                            return this.canvas.getCanvasView().getElementPos(t);
                          },
                          hideBadge: function () {
                            this.getBadge().style.display = 'none';
                          },
                          cleanPrevious: function (t) {
                            t &&
                              t.set({
                                status: '',
                                state: '',
                              });
                          },
                          getContentWindow: function () {
                            return this.canvas.getWindow();
                          },
                          run: function (t) {
                            (0, w.hasWin)() &&
                              ((this.editor = t && t.get('Editor')),
                              this.enable());
                          },
                          stop: function (t, e, n) {
                            if ((void 0 === n && (n = {}), (0, w.hasWin)())) {
                              var r = this.em,
                                o = this.editor;
                              this.onHovered(),
                                this.stopSelectComponent(),
                                !n.preserveSelected && r.setSelected(),
                                this.toggleToolsEl(),
                                o && o.stopCommand('resize');
                            }
                          },
                        };
                      },
                      189: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r = n(895);
                        const o = {
                          startSelectPosition: function (t, e, n) {
                            var r = this;
                            void 0 === n && (n = {}), (this.isPointed = !1);
                            var o = this.em.Utils,
                              i = t.ownerDocument.body;
                            o &&
                              !this.sorter &&
                              (this.sorter = new o.Sorter({
                                container: i,
                                placer: this.canvas.getPlacerEl(),
                                containerSel: '*',
                                itemSel: '*',
                                pfx: this.ppfx,
                                direction: 'a',
                                document: e,
                                wmargin: 1,
                                nested: 1,
                                em: this.em,
                                canvasRelative: 1,
                                scale: function () {
                                  return r.em.getZoomDecimal();
                                },
                              })),
                              n.onStart && (this.sorter.onStart = n.onStart),
                              t &&
                                this.sorter.startSort(t, {
                                  container: i,
                                });
                          },
                          getOffsetDim: function () {
                            var t = this.offset(this.canvas.getFrameEl()),
                              e = this.offset(this.canvas.getElement());
                            return {
                              top: t.top - e.top,
                              left: t.left - e.left,
                            };
                          },
                          stopSelectPosition: function () {
                            (this.posTargetCollection = null),
                              (this.posIndex =
                                'after' == this.posMethod &&
                                0 !== this.cDim.length
                                  ? this.posIndex + 1
                                  : this.posIndex),
                              this.sorter &&
                                ((this.sorter.moved = 0),
                                this.sorter.endMove()),
                              this.cDim &&
                                ((this.posIsLastEl =
                                  0 !== this.cDim.length &&
                                  'after' == this.posMethod &&
                                  this.posIndex == this.cDim.length),
                                (this.posTargetEl =
                                  0 === this.cDim.length
                                    ? (0, r['default'])(this.outsideElem)
                                    : !this.posIsLastEl &&
                                      this.cDim[this.posIndex]
                                    ? (0, r['default'])(
                                        this.cDim[this.posIndex][5]
                                      ).parent()
                                    : (0, r['default'])(this.outsideElem)),
                                (this.posTargetModel =
                                  this.posTargetEl.data('model')),
                                (this.posTargetCollection =
                                  this.posTargetEl.data('model-comp')));
                          },
                          enable: function () {
                            this.startSelectPosition();
                          },
                          nearFloat: function (t, e, n) {
                            var r = t || 0,
                              o = e || 'before',
                              i = n.length,
                              a = 0 !== i && 'after' == o && r == i;
                            return 0 !== i &&
                              ((!a && !n[r][4]) ||
                                (n[r - 1] && !n[r - 1][4]) ||
                                (a && !n[r - 1][4]))
                              ? 1
                              : 0;
                          },
                          run: function () {
                            this.enable();
                          },
                          stop: function () {
                            this.stopSelectPosition(),
                              this.$wrapper.css('cursor', ''),
                              this.$wrapper.unbind();
                          },
                        };
                      },
                      804: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => s,
                          });
                        var r = n(50),
                          o = n(895),
                          i = n(163),
                          a =
                            (void 0 && (void 0).__assign) ||
                            function () {
                              return (
                                (a =
                                  Object.assign ||
                                  function (t) {
                                    for (
                                      var e, n = 1, r = arguments.length;
                                      n < r;
                                      n++
                                    )
                                      for (var o in (e = arguments[n]))
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          o
                                        ) && (t[o] = e[o]);
                                    return t;
                                  }),
                                a.apply(this, arguments)
                              );
                            };
                        const s = {
                          getOffsetMethod: function (t) {
                            return 'get' + (t || '') + 'OffsetViewerEl';
                          },
                          run: function (t, e, n) {
                            var s = n || {},
                              l = s.state || '',
                              c = t.getConfig(),
                              u = this.em.getZoomDecimal(),
                              p = s.el || '';
                            if (
                              !c.showOffsets ||
                              (0, i.isTextNode)(p) ||
                              (!c.showOffsetsSelected && 'Fixed' == l)
                            )
                              t.stopCommand(''.concat(this.id), n);
                            else {
                              var d = t.Canvas,
                                f = a({}, s.elPos || d.getElementPos(p));
                              (0, r.isUndefined)(s.top) || (f.top = s.top),
                                (0, r.isUndefined)(s.left) || (f.left = s.left);
                              var h = window.getComputedStyle(p),
                                g = this.ppfx,
                                v = l + 'State',
                                m = d[this.getOffsetMethod(l)](n.view);
                              m.style.opacity = '';
                              var y = this['marginT' + l],
                                b = this['marginB' + l],
                                _ = this['marginL' + l],
                                w = this['marginR' + l],
                                x = this['padT' + l],
                                C = this['padB' + l],
                                S = this['padL' + l],
                                O = this['padR' + l];
                              if (
                                (m.childNodes.length &&
                                  ((this[v] = '1'),
                                  (y = m.querySelector('[data-offset-m-t]')),
                                  (b = m.querySelector('[data-offset-m-b]')),
                                  (_ = m.querySelector('[data-offset-m-l]')),
                                  (w = m.querySelector('[data-offset-m-r]')),
                                  (x = m.querySelector('[data-offset-p-t]')),
                                  (C = m.querySelector('[data-offset-p-b]')),
                                  (S = m.querySelector('[data-offset-p-l]')),
                                  (O = m.querySelector('[data-offset-p-r]'))),
                                !this[v])
                              ) {
                                var k = l.toLowerCase(),
                                  T = k + 'margin-v',
                                  E = k + 'padding-v',
                                  P = (0, o['default'])(
                                    '<div class="'.concat(g, 'marginName">')
                                  ).get(0),
                                  A = (0, o['default'])(
                                    '<div class="'.concat(g, 'paddingName">')
                                  ).get(0),
                                  j = g + E + '-el',
                                  M = ''
                                    .concat(g + T + '-el', ' ')
                                    .concat(g + T),
                                  L = ''.concat(j, ' ').concat(g + E);
                                (y = (0, o['default'])(
                                  '<div class="'.concat(M, '-top"></div>')
                                ).get(0)),
                                  (b = (0, o['default'])(
                                    '<div class="'.concat(M, '-bottom"></div>')
                                  ).get(0)),
                                  (_ = (0, o['default'])(
                                    '<div class="'.concat(M, '-left"></div>')
                                  ).get(0)),
                                  (w = (0, o['default'])(
                                    '<div class="'.concat(M, '-right"></div>')
                                  ).get(0)),
                                  (x = (0, o['default'])(
                                    '<div class="'.concat(L, '-top"></div>')
                                  ).get(0)),
                                  (C = (0, o['default'])(
                                    '<div class="'.concat(L, '-bottom"></div>')
                                  ).get(0)),
                                  (S = (0, o['default'])(
                                    '<div class="'.concat(L, '-left"></div>')
                                  ).get(0)),
                                  (O = (0, o['default'])(
                                    '<div class="'.concat(L, '-right"></div>')
                                  ).get(0)),
                                  (this['marginT' + l] = y),
                                  (this['marginB' + l] = b),
                                  (this['marginL' + l] = _),
                                  (this['marginR' + l] = w),
                                  (this['padT' + l] = x),
                                  (this['padB' + l] = C),
                                  (this['padL' + l] = S),
                                  (this['padR' + l] = O),
                                  P.appendChild(y),
                                  P.appendChild(b),
                                  P.appendChild(_),
                                  P.appendChild(w),
                                  A.appendChild(x),
                                  A.appendChild(C),
                                  A.appendChild(S),
                                  A.appendChild(O),
                                  m.appendChild(P),
                                  m.appendChild(A),
                                  (this[v] = '1');
                              }
                              var D = 'px',
                                N = parseFloat(h.marginLeft.replace(D, '')) * u,
                                I =
                                  parseFloat(h.marginRight.replace(D, '')) * u,
                                F = parseFloat(h.marginTop.replace(D, '')) * u,
                                R =
                                  parseFloat(h.marginBottom.replace(D, '')) * u,
                                z = y.style,
                                V = b.style,
                                B = _.style,
                                H = w.style,
                                U = x.style,
                                W = C.style,
                                $ = S.style,
                                G = O.style,
                                q = parseFloat(f.left),
                                K = parseFloat(h.width) * u + D;
                              (z.height = F + D),
                                (z.width = K),
                                (z.top = f.top - F + D),
                                (z.left = q + D),
                                (V.height = R + D),
                                (V.width = K),
                                (V.top = f.top + f.height + D),
                                (V.left = q + D);
                              var Z = f.height + F + R + D,
                                Y = f.top - F + D;
                              (B.height = Z),
                                (B.width = N + D),
                                (B.top = Y),
                                (B.left = q - N + D),
                                (H.height = Z),
                                (H.width = I + D),
                                (H.top = Y),
                                (H.left = q + f.width + D);
                              var X = parseFloat(h.paddingTop) * u;
                              U.height = X + D;
                              var J = parseFloat(h.paddingBottom) * u;
                              W.height = J + D;
                              var Q = f.height - J - X + D,
                                tt = f.top + X + D;
                              ($.height = Q),
                                ($.width = parseFloat(h.paddingLeft) * u + D),
                                ($.top = tt);
                              var et = parseFloat(h.paddingRight) * u;
                              (G.height = Q), (G.width = et + D), (G.top = tt);
                            }
                          },
                          stop: function (t, e, n) {
                            void 0 === n && (n = {});
                            var r = (n || {}).state || '',
                              o = this.getOffsetMethod(r);
                            t.Canvas[o](n.view).style.opacity = 0;
                          },
                        };
                      },
                      434: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => o,
                          });
                        var r = n(50);
                        const o = {
                          init: function () {
                            (0, r.bindAll)(this, '_onFramesChange');
                          },
                          run: function (t) {
                            this.toggleVis(t);
                          },
                          stop: function (t) {
                            this.toggleVis(t, 0);
                          },
                          toggleVis: function (t, e) {
                            var n = this;
                            if (
                              (void 0 === e && (e = 1),
                              !t.Commands.isActive('preview'))
                            ) {
                              var r = t.Canvas,
                                o = e ? 'on' : 'off';
                              r.getFrames().forEach(function (t) {
                                return n._upFrame(t, e);
                              }),
                                r
                                  .getModel()
                                  [o]('change:frames', this._onFramesChange);
                            }
                          },
                          _onFramesChange: function (t, e) {
                            var n = this;
                            e.forEach(function (t) {
                              return t.once('loaded', function () {
                                return n._upFrame(t, !0);
                              });
                            });
                          },
                          _upFrame: function (t, e) {
                            var n,
                              r = e ? 'add' : 'remove';
                            null === (n = t.view) ||
                              void 0 === n ||
                              n
                                .getBody()
                                .classList[r](''.concat(this.ppfx, 'dashed'));
                          },
                        };
                      },
                      346: (t, e, n) => {
                        'use strict';
                        n.d(e, {
                          FE: () => l,
                          G7: () => c,
                          Hn: () => s,
                        });
                        var r,
                          o = n(316),
                          i = n.n(o),
                          a =
                            (void 0 && (void 0).__extends) ||
                            ((r = function (t, e) {
                              return (
                                (r =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                r(t, e)
                              );
                            }),
                            function (t, e) {
                              if ('function' != typeof e && null !== e)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(e) +
                                    ' is not a constructor or null'
                                );

                              function n() {
                                this.constructor = t;
                              }
                              r(t, e),
                                (t.prototype =
                                  null === e
                                    ? Object.create(e)
                                    : ((n.prototype = e.prototype), new n()));
                            }),
                          s = (function (t) {
                            function e() {
                              return (
                                (null !== t && t.apply(this, arguments)) || this
                              );
                            }
                            return a(e, t), e;
                          })(i().Model),
                          l = (function (t) {
                            function e() {
                              return (
                                (null !== t && t.apply(this, arguments)) || this
                              );
                            }
                            return a(e, t), e;
                          })(i().Collection),
                          c = (function (t) {
                            function e() {
                              return (
                                (null !== t && t.apply(this, arguments)) || this
                              );
                            }
                            return a(e, t), e;
                          })(i().View);
                      },
                      330: (t, e, n) => {
                        'use strict';
                        n.d(e, {
                          Z: () => l,
                        });
                        var r,
                          o = n(50),
                          i = n(346),
                          a =
                            (void 0 && (void 0).__extends) ||
                            ((r = function (t, e) {
                              return (
                                (r =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                r(t, e)
                              );
                            }),
                            function (t, e) {
                              if ('function' != typeof e && null !== e)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(e) +
                                    ' is not a constructor or null'
                                );

                              function n() {
                                this.constructor = t;
                              }
                              r(t, e),
                                (t.prototype =
                                  null === e
                                    ? Object.create(e)
                                    : ((n.prototype = e.prototype), new n()));
                            }),
                          s = (function (t) {
                            function e(e, n, r) {
                              void 0 === e && (e = {}),
                                void 0 === r && (r = !1);
                              var o = t.call(this, e) || this;
                              return (
                                (o.itemsView = ''),
                                (o.itemType = 'type'),
                                (o.reuseView = !1),
                                (o.config = n || e.config || {}),
                                r && o.listenTo(o.collection, 'add', o.addTo),
                                (o.items = []),
                                o
                              );
                            }
                            return (
                              a(e, t),
                              (e.prototype.addTo = function (t) {
                                this.add(t);
                              }),
                              (e.prototype.itemViewNotFound = function (t) {
                                var e = this.config,
                                  n = this.ns,
                                  r = e.em,
                                  o = ''
                                    .concat(n ? '['.concat(n, ']: ') : '', "'")
                                    .concat(t, "' type not found");
                                r && r.logWarning(o);
                              }),
                              (e.prototype.add = function (t, e) {
                                var n,
                                  r = this,
                                  i = r.config,
                                  a = r.reuseView,
                                  s = r.items,
                                  l = this.itemsView || {},
                                  c = e || null,
                                  u = this.itemView,
                                  p = t.get(this.itemType);
                                l[p]
                                  ? (u = l[p])
                                  : !p ||
                                    l[p] ||
                                    (0, o.includes)(
                                      [
                                        'button',
                                        'checkbox',
                                        'color',
                                        'date',
                                        'datetime-local',
                                        'email',
                                        'file',
                                        'hidden',
                                        'image',
                                        'month',
                                        'number',
                                        'password',
                                        'radio',
                                        'range',
                                        'reset',
                                        'search',
                                        'submit',
                                        'tel',
                                        'text',
                                        'time',
                                        'url',
                                        'week',
                                      ],
                                      p
                                    ) ||
                                    this.itemViewNotFound(p),
                                  (n =
                                    t.view && a
                                      ? t.view
                                      : new u(
                                          {
                                            model: t,
                                            config: i,
                                          },
                                          i
                                        )),
                                  s && s.push(n);
                                var d = n.render().el;
                                c ? c.appendChild(d) : this.$el.append(d);
                              }),
                              (e.prototype.render = function () {
                                var t = document.createDocumentFragment();
                                return (
                                  this.clearItems(),
                                  this.$el.empty(),
                                  this.collection.length &&
                                    this.collection.each(function (e) {
                                      this.add(e, t);
                                    }, this),
                                  this.$el.append(t),
                                  this.onRender(),
                                  this
                                );
                              }),
                              (e.prototype.onRender = function () {}),
                              (e.prototype.onRemoveBefore = function (t, e) {}),
                              (e.prototype.onRemove = function (t, e) {}),
                              (e.prototype.remove = function (e) {
                                void 0 === e && (e = {});
                                var n = this.items;
                                return (
                                  this.onRemoveBefore(n, e),
                                  this.clearItems(),
                                  t.prototype.remove.call(this),
                                  this.onRemove(n, e),
                                  this
                                );
                              }),
                              (e.prototype.clearItems = function () {
                                this.items;
                              }),
                              e
                            );
                          })(i.G7);
                        const l = s;
                        s.prototype.itemView = '';
                      },
                      668: (t, e, n) => {
                        'use strict';
                        n.d(e, {
                          Z: () => s,
                        });
                        var r = n(50),
                          o = n(163),
                          i =
                            (void 0 && (void 0).__assign) ||
                            function () {
                              return (
                                (i =
                                  Object.assign ||
                                  function (t) {
                                    for (
                                      var e, n = 1, r = arguments.length;
                                      n < r;
                                      n++
                                    )
                                      for (var o in (e = arguments[n]))
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          o
                                        ) && (t[o] = e[o]);
                                    return t;
                                  }),
                                i.apply(this, arguments)
                              );
                            },
                          a = ['x', 'y'];
                        const s = (function () {
                          function t(t) {
                            return (
                              void 0 === t && (t = {}),
                              (this.opts = {
                                snapOffset: 5,
                                scale: 1,
                              }),
                              (0, r.bindAll)(
                                this,
                                'drag',
                                'stop',
                                'keyHandle',
                                'handleScroll'
                              ),
                              this.setOptions(t),
                              (this.delta = {
                                x: 0,
                                y: 0,
                              }),
                              (this.lastScroll = {
                                x: 0,
                                y: 0,
                              }),
                              (this.lastScrollDiff = {
                                x: 0,
                                y: 0,
                              }),
                              (this.startPointer = {
                                x: 0,
                                y: 0,
                              }),
                              (this.startPosition = {
                                x: 0,
                                y: 0,
                              }),
                              (this.globScrollDiff = {
                                x: 0,
                                y: 0,
                              }),
                              (this.currentPointer = {
                                x: 0,
                                y: 0,
                              }),
                              (this.position = {
                                x: 0,
                                y: 0,
                              }),
                              (this.guidesStatic = []),
                              (this.guidesTarget = []),
                              (this.docs = []),
                              this
                            );
                          }
                          return (
                            (t.prototype.setOptions = function (t) {
                              void 0 === t && (t = {}),
                                (this.opts = i(i({}, this.opts), t));
                            }),
                            (t.prototype.toggleDrag = function (t) {
                              var e = this.getDocumentEl(),
                                n = this.getContainerEl(),
                                r = this.getWindowEl(),
                                i = t ? 'on' : 'off',
                                a = {
                                  on: o.on,
                                  off: o.off,
                                };
                              a[i](n, 'mousemove dragover', this.drag),
                                a[i](e, 'mouseup dragend touchend', this.stop),
                                a[i](e, 'keydown', this.keyHandle),
                                a[i](r, 'scroll', this.handleScroll);
                            }),
                            (t.prototype.handleScroll = function () {
                              var t = this.lastScroll,
                                e = this.delta,
                                n = this.getScrollInfo(),
                                r = {
                                  x: n.x - t.x,
                                  y: n.y - t.y,
                                };
                              this.move(e.x + r.x, e.y + r.y),
                                (this.lastScrollDiff = r);
                            }),
                            (t.prototype.start = function (t) {
                              var e = this.opts,
                                n = e.onStart;
                              this.toggleDrag(!0),
                                (this.startPointer = this.getPointerPos(t)),
                                (this.guidesStatic =
                                  (0, r.result)(e, 'guidesStatic') || []),
                                (this.guidesTarget =
                                  (0, r.result)(e, 'guidesTarget') || []),
                                (0, r.isFunction)(n) && n(t, this),
                                (this.startPosition = this.getStartPosition()),
                                (this.lastScrollDiff = {
                                  x: 0,
                                  y: 0,
                                }),
                                (this.globScrollDiff = {
                                  x: 0,
                                  y: 0,
                                }),
                                this.drag(t);
                            }),
                            (t.prototype.drag = function (t) {
                              var e = this,
                                n = this,
                                o = n.opts,
                                s = n.lastScrollDiff,
                                l = n.globScrollDiff,
                                c = o.onDrag,
                                u = this.startPointer,
                                p = this.getPointerPos(t),
                                d = {
                                  x: l.x + s.x,
                                  y: l.y + s.y,
                                };
                              this.globScrollDiff = d;
                              var f = {
                                x: p.x - u.x + d.x,
                                y: p.y - u.y + d.y,
                              };
                              this.lastScrollDiff = {
                                x: 0,
                                y: 0,
                              };
                              var h = this.lockedAxis;
                              'x' ===
                              (h = t.shiftKey
                                ? !h && this.detectAxisLock(f.x, f.y)
                                : null)
                                ? (f.x = u.x)
                                : 'y' === h && (f.y = u.y);
                              var g = function (n) {
                                  a.forEach(function (t) {
                                    return (n[t] =
                                      n[t] * (0, r.result)(o, 'scale'));
                                  }),
                                    (e.delta = n),
                                    e.move(n.x, n.y),
                                    (0, r.isFunction)(c) && c(t, e);
                                },
                                v = i({}, f);
                              if (
                                ((this.currentPointer = p),
                                (this.lockedAxis = h),
                                (this.lastScroll = this.getScrollInfo()),
                                g(f),
                                this.guidesTarget.length)
                              ) {
                                var m = this.snapGuides(v),
                                  y = m.newDelta,
                                  b = m.trgX,
                                  _ = m.trgY;
                                (b || _) && g(y);
                              }
                              0 === t.which && this.stop(t);
                            }),
                            (t.prototype.snapGuides = function (t) {
                              var e = this,
                                n = t,
                                o = this.trgX,
                                i = this.trgY;
                              return (
                                this.guidesTarget.forEach(function (n) {
                                  (n.x && e.trgX) ||
                                    (n.y && e.trgY) ||
                                    ((n.active = !1),
                                    e.guidesStatic.forEach(function (a) {
                                      if (!((n.y && a.x) || (n.x && a.y))) {
                                        var s = n.y && a.y,
                                          l = s ? 'y' : 'x',
                                          c = n[l],
                                          u = a[l],
                                          p = t[l],
                                          d = s ? i : o;
                                        if (
                                          e.isPointIn(c, u) &&
                                          (0, r.isUndefined)(d)
                                        ) {
                                          var f = p - (c - u);
                                          e.setGuideLock(n, f);
                                        }
                                      }
                                    }));
                                }),
                                (o = this.trgX),
                                (i = this.trgY),
                                a.forEach(function (o) {
                                  var i = o.toUpperCase(),
                                    a = e['trg'.concat(i)];
                                  a &&
                                    !e.isPointIn(t[o], a.lock) &&
                                    (e.setGuideLock(a, null), (a = null)),
                                    a &&
                                      !(0, r.isUndefined)(a.lock) &&
                                      (n[o] = a.lock);
                                }),
                                {
                                  newDelta: n,
                                  trgX: this.trgX,
                                  trgY: this.trgY,
                                }
                              );
                            }),
                            (t.prototype.isPointIn = function (t, e, n) {
                              var r =
                                (void 0 === n ? {} : n).offset ||
                                this.opts.snapOffset ||
                                0;
                              return (
                                (t >= e && t <= e + r) || (t <= e && t >= e - r)
                              );
                            }),
                            (t.prototype.setGuideLock = function (t, e) {
                              var n = (0, r.isUndefined)(t.x) ? 'Y' : 'X',
                                o = 'trg'.concat(n);
                              return (
                                null !== e
                                  ? ((t.active = !0),
                                    (t.lock = e),
                                    (this[o] = t))
                                  : (delete t.active,
                                    delete t.lock,
                                    delete this[o]),
                                t
                              );
                            }),
                            (t.prototype.stop = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.delta,
                                o = !!e.cancel,
                                i = o ? 0 : n.x,
                                a = o ? 0 : n.y;
                              this.toggleDrag(),
                                (this.lockedAxis = null),
                                this.move(i, a, !0);
                              var s = this.opts.onEnd;
                              (0, r.isFunction)(s) &&
                                s(t, this, {
                                  cancelled: o,
                                });
                            }),
                            (t.prototype.keyHandle = function (t) {
                              (0, o.isEscKey)(t) &&
                                this.stop(t, {
                                  cancel: !0,
                                });
                            }),
                            (t.prototype.move = function (t, e, n) {
                              var o = this.el,
                                i = this.opts,
                                a = this.startPosition;
                              if (a) {
                                var s = i.setPosition,
                                  l = a.x + t,
                                  c = a.y + e;
                                (this.position = {
                                  x: l,
                                  y: c,
                                  end: n,
                                }),
                                  (0, r.isFunction)(s) && s(this.position),
                                  o &&
                                    ((o.style.left = ''.concat(l, 'px')),
                                    (o.style.top = ''.concat(c, 'px')));
                              }
                            }),
                            (t.prototype.getContainerEl = function () {
                              var t = this.opts.container;
                              return t ? [t] : this.getDocumentEl();
                            }),
                            (t.prototype.getWindowEl = function () {
                              return this.getContainerEl().map(function (t) {
                                var e = t.ownerDocument || t;
                                return e.defaultView || e.parentWindow;
                              });
                            }),
                            (t.prototype.getDocumentEl = function (t) {
                              var e = this.opts.doc;
                              if (((t = t || this.el), !this.docs.length)) {
                                var n = [document];
                                t && n.push(t.ownerDocument),
                                  e && n.push(e),
                                  (this.docs = n);
                              }
                              return this.docs;
                            }),
                            (t.prototype.getPointerPos = function (t) {
                              var e = this.opts.getPointerPosition,
                                n = (0, o.getPointerEvent)(t);
                              return e
                                ? e(t)
                                : {
                                    x: n.clientX,
                                    y: n.clientY,
                                  };
                            }),
                            (t.prototype.getStartPosition = function () {
                              var t = this.el,
                                e = this.opts.getPosition,
                                n = {
                                  x: 0,
                                  y: 0,
                                };
                              return (
                                (0, r.isFunction)(e)
                                  ? (n = e())
                                  : t &&
                                    (n = {
                                      x: parseFloat(t.style.left),
                                      y: parseFloat(t.style.top),
                                    }),
                                n
                              );
                            }),
                            (t.prototype.getScrollInfo = function () {
                              var t = this.opts.doc,
                                e = t && t.body;
                              return {
                                y: e ? e.scrollTop : 0,
                                x: e ? e.scrollLeft : 0,
                              };
                            }),
                            (t.prototype.detectAxisLock = function (t, e) {
                              var n = t,
                                r = e,
                                o = Math.abs(n),
                                i = Math.abs(r);
                              return r >= o || r <= -o
                                ? 'x'
                                : n > i || n < -i
                                ? 'y'
                                : void 0;
                            }),
                            t
                          );
                        })();
                      },
                      895: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            default: () => vt,
                          });
                        var r =
                            'undefined' != typeof document ? document : null,
                          o = 'undefined' != typeof window ? window : null,
                          i = Array.prototype,
                          a = i.filter,
                          s = i.indexOf,
                          l = i.map,
                          c = i.push,
                          u = i.reverse,
                          p = i.slice,
                          d = i.splice,
                          f = /^#[\w-]*$/,
                          h = /^\.[\w-]*$/,
                          g = /<.+>/,
                          v = /^\w+$/;

                        function m(t, e) {
                          return (
                            void 0 === e && (e = r),
                            h.test(t)
                              ? e.getElementsByClassName(t.slice(1))
                              : v.test(t)
                              ? e.getElementsByTagName(t)
                              : e.querySelectorAll(t)
                          );
                        }

                        function y(t, e) {
                          if ((void 0 === e && (e = r), t)) {
                            if (t.__cash) return t;
                            var n = t;
                            if (E(t)) {
                              if (
                                (e.__cash && (e = e[0]),
                                !(n = f.test(t)
                                  ? e.getElementById(t.slice(1))
                                  : g.test(t)
                                  ? ft(t)
                                  : m(t, e)))
                              )
                                return;
                            } else if (T(t)) return this.ready(t);
                            (n.nodeType || n === o) && (n = [n]),
                              (this.length = n.length);
                            for (var i = 0, a = this.length; i < a; i++)
                              this[i] = n[i];
                          }
                        }

                        function b(t, e) {
                          return new y(t, e);
                        }
                        var _ =
                          (b.fn =
                          b.prototype =
                          y.prototype =
                            {
                              constructor: b,
                              __cash: !0,
                              length: 0,
                              splice: d,
                            });
                        (_.get = function (t) {
                          return void 0 === t
                            ? p.call(this)
                            : this[t < 0 ? t + this.length : t];
                        }),
                          (_.eq = function (t) {
                            return b(this.get(t));
                          }),
                          (_.first = function () {
                            return this.eq(0);
                          }),
                          (_.last = function () {
                            return this.eq(-1);
                          }),
                          (_.map = function (t) {
                            return b(
                              l.call(this, function (e, n) {
                                return t.call(e, n, e);
                              })
                            );
                          }),
                          (_.slice = function () {
                            return b(p.apply(this, arguments));
                          });
                        var w = /(?:^\w|[A-Z]|\b\w)/g,
                          x = /[\s-_]+/g;

                        function C(t) {
                          return t
                            .replace(w, function (t, e) {
                              return t[e ? 'toUpperCase' : 'toLowerCase']();
                            })
                            .replace(x, '');
                        }

                        function S(t, e) {
                          for (
                            var n = 0, r = t.length;
                            n < r && !1 !== e.call(t[n], t[n], n, t);
                            n++
                          );
                        }
                        (b.camelCase = C),
                          (b.each = S),
                          (_.each = function (t) {
                            return (
                              S(this, function (e, n) {
                                return t.call(e, n, e);
                              }),
                              this
                            );
                          }),
                          (_.removeProp = function (t) {
                            return this.each(function (e, n) {
                              delete n[t];
                            });
                          }),
                          (b.extend = _.extend =
                            function (t) {
                              void 0 === t && (t = this);
                              for (
                                var e = arguments,
                                  n = e.length,
                                  r = n < 2 ? 0 : 1;
                                r < n;
                                r++
                              )
                                for (var o in e[r]) t[o] = e[r][o];
                              return t;
                            });
                        var O = 1;

                        function k(t, e) {
                          var n =
                            t &&
                            (t.matches ||
                              t.webkitMatchesSelector ||
                              t.mozMatchesSelector ||
                              t.msMatchesSelector ||
                              t.oMatchesSelector);
                          return !!n && n.call(t, e);
                        }

                        function T(t) {
                          return 'function' == typeof t;
                        }

                        function E(t) {
                          return 'string' == typeof t;
                        }

                        function P(t) {
                          return !isNaN(parseFloat(t)) && isFinite(t);
                        }
                        (b.guid = O),
                          (b.matches = k),
                          (b.isFunction = T),
                          (b.isString = E),
                          (b.isNumeric = P);
                        var A = Array.isArray;

                        function j(t) {
                          return E(t)
                            ? function (e, n) {
                                return k(n, t);
                              }
                            : t.__cash
                            ? function (e, n) {
                                return t.is(n);
                              }
                            : function (t, e, n) {
                                return e === n;
                              };
                        }
                        (b.isArray = A),
                          (_.prop = function (t, e) {
                            if (t) {
                              if (E(t))
                                return arguments.length < 2
                                  ? this[0] && this[0][t]
                                  : this.each(function (n, r) {
                                      r[t] = e;
                                    });
                              for (var n in t) this.prop(n, t[n]);
                              return this;
                            }
                          }),
                          (_.filter = function (t) {
                            if (!t) return b();
                            var e = T(t) ? t : j(t);
                            return b(
                              a.call(this, function (n, r) {
                                return e.call(n, r, n, t);
                              })
                            );
                          });
                        var M = /\S+/g;

                        function L(t) {
                          return (E(t) && t.match(M)) || [];
                        }

                        function D(t) {
                          return t.filter(function (t, e, n) {
                            return n.indexOf(t) === e;
                          });
                        }

                        function N(t, e, n) {
                          if (1 === t.nodeType) {
                            var r = o.getComputedStyle(t, null);
                            return e ? (n ? r.getPropertyValue(e) : r[e]) : r;
                          }
                        }

                        function I(t, e) {
                          return parseInt(N(t, e), 10) || 0;
                        }
                        (_.hasClass = function (t) {
                          var e = L(t),
                            n = !1;
                          return (
                            e.length &&
                              this.each(function (t, r) {
                                return !(n = r.classList.contains(e[0]));
                              }),
                            n
                          );
                        }),
                          (_.removeAttr = function (t) {
                            var e = L(t);
                            return e.length
                              ? this.each(function (t, n) {
                                  S(e, function (t) {
                                    n.removeAttribute(t);
                                  });
                                })
                              : this;
                          }),
                          (_.attr = function (t, e) {
                            if (t) {
                              if (E(t)) {
                                if (arguments.length < 2) {
                                  if (!this[0]) return;
                                  var n = this[0].getAttribute(t);
                                  return null === n ? void 0 : n;
                                }
                                return null === e
                                  ? this.removeAttr(t)
                                  : this.each(function (n, r) {
                                      r.setAttribute(t, e);
                                    });
                              }
                              for (var r in t) this.attr(r, t[r]);
                              return this;
                            }
                          }),
                          (_.toggleClass = function (t, e) {
                            var n = L(t),
                              r = void 0 !== e;
                            return n.length
                              ? this.each(function (t, o) {
                                  S(n, function (t) {
                                    r
                                      ? e
                                        ? o.classList.add(t)
                                        : o.classList.remove(t)
                                      : o.classList.toggle(t);
                                  });
                                })
                              : this;
                          }),
                          (_.addClass = function (t) {
                            return this.toggleClass(t, !0);
                          }),
                          (_.removeClass = function (t) {
                            return arguments.length
                              ? this.toggleClass(t, !1)
                              : this.attr('class', '');
                          }),
                          (b.unique = D),
                          (_.add = function (t, e) {
                            return b(D(this.get().concat(b(t, e).get())));
                          });
                        var F = /^--/;

                        function R(t) {
                          return F.test(t);
                        }
                        var z = {},
                          V = r && r.createElement('div'),
                          B = V ? V.style : {},
                          H = ['webkit', 'moz', 'ms', 'o'];

                        function U(t, e) {
                          if ((void 0 === e && (e = R(t)), e)) return t;
                          if (!z[t]) {
                            var n = C(t),
                              r = '' + n.charAt(0).toUpperCase() + n.slice(1);
                            S(
                              (n + ' ' + H.join(r + ' ') + r).split(' '),
                              function (e) {
                                if (e in B) return (z[t] = e), !1;
                              }
                            );
                          }
                          return z[t];
                        }
                        b.prefixedProp = U;
                        var W = {
                          animationIterationCount: !0,
                          columnCount: !0,
                          flexGrow: !0,
                          flexShrink: !0,
                          fontWeight: !0,
                          lineHeight: !0,
                          opacity: !0,
                          order: !0,
                          orphans: !0,
                          widows: !0,
                          zIndex: !0,
                        };

                        function $(t, e, n) {
                          return (
                            void 0 === n && (n = R(t)),
                            n || W[t] || !P(e) ? e : e + 'px'
                          );
                        }
                        _.css = function (t, e) {
                          if (E(t)) {
                            var n = R(t);
                            return (
                              (t = U(t, n)),
                              arguments.length < 2
                                ? this[0] && N(this[0], t, n)
                                : t
                                ? ((e = $(t, e, n)),
                                  this.each(function (r, o) {
                                    1 === o.nodeType &&
                                      (n
                                        ? o.style.setProperty(t, e)
                                        : (o.style[t] = e));
                                  }))
                                : this
                            );
                          }
                          for (var r in t) this.css(r, t[r]);
                          return this;
                        };
                        var G = '__cashData',
                          q = /^data-(.*)/;

                        function K(t) {
                          return (t[G] = t[G] || {});
                        }

                        function Z(t, e) {
                          var n = K(t);
                          if (e) {
                            if (!(e in n)) {
                              var r = t.dataset
                                ? t.dataset[e] || t.dataset[C(e)]
                                : b(t).attr('data-' + e);
                              if (void 0 !== r) {
                                try {
                                  r = JSON.parse(r);
                                } catch (t) {}
                                n[e] = r;
                              }
                            }
                            return n[e];
                          }
                          return n;
                        }

                        function Y(t, e) {
                          return (
                            I(t, 'border' + (e ? 'Left' : 'Top') + 'Width') +
                            I(t, 'padding' + (e ? 'Left' : 'Top')) +
                            I(t, 'padding' + (e ? 'Right' : 'Bottom')) +
                            I(t, 'border' + (e ? 'Right' : 'Bottom') + 'Width')
                          );
                        }

                        function X(t, e) {
                          for (var n = 0, r = e.length; n < r; n++)
                            if (t.indexOf(e[n]) < 0) return !1;
                          return !0;
                        }

                        function J(t, e, n) {
                          S(t[n], function (t) {
                            t[0];
                            var r = t[1];
                            e.removeEventListener(n, r);
                          }),
                            delete t[n];
                        }
                        (b.hasData = function (t) {
                          return G in t;
                        }),
                          (_.data = function (t, e) {
                            var n = this;
                            if (!t) {
                              if (!this[0]) return;
                              return (
                                S(this[0].attributes, function (t) {
                                  var e = t.name.match(q);
                                  e && n.data(e[1]);
                                }),
                                Z(this[0])
                              );
                            }
                            if (E(t))
                              return void 0 === e
                                ? this[0] && Z(this[0], t)
                                : this.each(function (n, r) {
                                    return (function (t, e, n) {
                                      K(t)[e] = n;
                                    })(r, t, e);
                                  });
                            for (var r in t) this.data(r, t[r]);
                            return this;
                          }),
                          (_.removeData = function (t) {
                            return this.each(function (e, n) {
                              return (function (t, e) {
                                void 0 === e ? delete t[G] : delete K(t)[e];
                              })(n, t);
                            });
                          }),
                          S(['Width', 'Height'], function (t) {
                            _['inner' + t] = function () {
                              if (this[0])
                                return this[0] === o
                                  ? o['inner' + t]
                                  : this[0]['client' + t];
                            };
                          }),
                          S(['width', 'height'], function (t, e) {
                            _[t] = function (n) {
                              return this[0]
                                ? arguments.length
                                  ? ((n = parseInt(n, 10)),
                                    this.each(function (r, o) {
                                      if (1 === o.nodeType) {
                                        var i = N(o, 'boxSizing');
                                        o.style[t] = $(
                                          t,
                                          n +
                                            ('border-box' === i ? Y(o, !e) : 0)
                                        );
                                      }
                                    }))
                                  : this[0] === o
                                  ? this[0][C('outer-' + t)]
                                  : this[0].getBoundingClientRect()[t] -
                                    Y(this[0], !e)
                                : void 0 === n
                                ? void 0
                                : this;
                            };
                          }),
                          S(['Width', 'Height'], function (t, e) {
                            _['outer' + t] = function (n) {
                              if (this[0])
                                return this[0] === o
                                  ? o['outer' + t]
                                  : this[0]['offset' + t] +
                                      (n
                                        ? I(
                                            this[0],
                                            'margin' + (e ? 'Top' : 'Left')
                                          ) +
                                          I(
                                            this[0],
                                            'margin' + (e ? 'Bottom' : 'Right')
                                          )
                                        : 0);
                            };
                          });
                        var Q = '__cashEvents',
                          tt = '.';

                        function et(t) {
                          return (t[Q] = t[Q] || {});
                        }

                        function nt(t) {
                          var e = t.split(tt);
                          return [e[0], e.slice(1).sort()];
                        }

                        function rt(t, e, n, r) {
                          var o = et(t);
                          if (e) {
                            var i = o[e];
                            if (!i) return;
                            r && (r.guid = r.guid || O++),
                              (o[e] = i.filter(function (o) {
                                var i = o[0],
                                  a = o[1];
                                if ((r && a.guid !== r.guid) || !X(i, n))
                                  return !0;
                                t.removeEventListener(e, a);
                              }));
                          } else if (n && n.length) for (e in o) rt(t, e, n, r);
                          else for (e in o) J(o, t, e);
                        }
                        (_.off = function (t, e) {
                          var n = this;
                          return (
                            void 0 === t
                              ? this.each(function (t, e) {
                                  return rt(e);
                                })
                              : S(L(t), function (t) {
                                  var r = nt(t),
                                    o = r[0],
                                    i = r[1];
                                  n.each(function (t, n) {
                                    return rt(n, o, i, e);
                                  });
                                }),
                            this
                          );
                        }),
                          (_.on = function (t, e, n, r) {
                            var o = this;
                            if (!E(t)) {
                              for (var i in t) this.on(i, e, t[i]);
                              return this;
                            }
                            return (
                              T(e) && ((n = e), (e = !1)),
                              S(L(t), function (t) {
                                var i = nt(t),
                                  a = i[0],
                                  s = i[1];
                                o.each(function (t, o) {
                                  var i = function t(i) {
                                    if (
                                      !i.namespace ||
                                      X(s, i.namespace.split(tt))
                                    ) {
                                      var l = o;
                                      if (e) {
                                        for (var c = i.target; !k(c, e); ) {
                                          if (c === o) return;
                                          if (!(c = c.parentNode)) return;
                                        }
                                        l = c;
                                      }
                                      i.namespace = i.namespace || '';
                                      var u = n.call(l, i, i.data);
                                      r && rt(o, a, s, t),
                                        !1 === u &&
                                          (i.preventDefault(),
                                          i.stopPropagation());
                                    }
                                  };
                                  (i.guid = n.guid = n.guid || O++),
                                    (function (t, e, n, r) {
                                      r.guid = r.guid || O++;
                                      var o = et(t);
                                      (o[e] = o[e] || []),
                                        o[e].push([n, r]),
                                        t.addEventListener(e, r);
                                    })(o, a, s, i);
                                });
                              }),
                              this
                            );
                          }),
                          (_.one = function (t, e, n) {
                            return this.on(t, e, n, !0);
                          }),
                          (_.ready = function (t) {
                            var e = function () {
                              return t(b);
                            };
                            return (
                              'loading' !== r.readyState
                                ? setTimeout(e)
                                : r.addEventListener('DOMContentLoaded', e),
                              this
                            );
                          }),
                          (_.trigger = function (t, e) {
                            var n = t;
                            if (E(t)) {
                              var o = nt(t),
                                i = o[0],
                                a = o[1];
                              (n = r.createEvent('HTMLEvents')).initEvent(
                                i,
                                !0,
                                !0
                              ),
                                (n.namespace = a.join(tt));
                            }
                            return (
                              (n.data = e),
                              this.each(function (t, e) {
                                e.dispatchEvent(n);
                              })
                            );
                          });
                        var ot = /select-one/i,
                          it = /select-multiple/i;

                        function at(t) {
                          var e = t.type;
                          return ot.test(e)
                            ? (function (t) {
                                return t.selectedIndex < 0
                                  ? null
                                  : t.options[t.selectedIndex].value;
                              })(t)
                            : it.test(e)
                            ? (function (t) {
                                var e = [];
                                return (
                                  S(t.options, function (t) {
                                    !t.selected ||
                                      t.disabled ||
                                      t.parentNode.disabled ||
                                      e.push(t.value);
                                  }),
                                  e
                                );
                              })(t)
                            : t.value;
                        }
                        var st = /%20/g,
                          lt = /file|reset|submit|button|image/i,
                          ct = /radio|checkbox/i;
                        (_.serialize = function () {
                          var t = '';
                          return (
                            this.each(function (e, n) {
                              S(n.elements || [n], function (e) {
                                if (
                                  !e.disabled &&
                                  e.name &&
                                  'FIELDSET' !== e.tagName &&
                                  !lt.test(e.type) &&
                                  (!ct.test(e.type) || e.checked)
                                ) {
                                  var n = at(e);
                                  void 0 !== n &&
                                    S(A(n) ? n : [n], function (n) {
                                      t += (function (t, e) {
                                        return (
                                          '&' +
                                          encodeURIComponent(t) +
                                          '=' +
                                          encodeURIComponent(e).replace(st, '+')
                                        );
                                      })(e.name, n);
                                    });
                                }
                              });
                            }),
                            t.substr(1)
                          );
                        }),
                          (_.val = function (t) {
                            return void 0 === t
                              ? this[0] && at(this[0])
                              : this.each(function (e, n) {
                                  var r = it.test(n.type),
                                    o = null === t ? (r ? [] : '') : t;
                                  r && A(o)
                                    ? S(n.options, function (t) {
                                        t.selected = o.indexOf(t.value) >= 0;
                                      })
                                    : (n.value = o);
                                });
                          }),
                          (_.clone = function () {
                            return this.map(function (t, e) {
                              return e.cloneNode(!0);
                            });
                          }),
                          (_.detach = function () {
                            return this.each(function (t, e) {
                              e.parentNode && e.parentNode.removeChild(e);
                            });
                          });
                        var ut,
                          pt = /^\s*<(\w+)[^>]*>/,
                          dt = /^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;

                        function ft(t) {
                          if (
                            ((function () {
                              if (!ut) {
                                var t = r.createElement('table'),
                                  e = r.createElement('tr');
                                ut = {
                                  '*': r.createElement('div'),
                                  tr: r.createElement('tbody'),
                                  td: e,
                                  th: e,
                                  thead: t,
                                  tbody: t,
                                  tfoot: t,
                                };
                              }
                            })(),
                            !E(t))
                          )
                            return [];
                          if (dt.test(t)) return [r.createElement(RegExp.$1)];
                          var e = pt.test(t) && RegExp.$1,
                            n = ut[e] || ut['*'];
                          return (
                            (n.innerHTML = t), b(n.childNodes).detach().get()
                          );
                        }

                        function ht(t, e, n) {
                          if (void 0 !== e) {
                            var r = E(e);
                            !r && e.length
                              ? S(e, function (e) {
                                  return ht(t, e, n);
                                })
                              : S(
                                  t,
                                  r
                                    ? function (t) {
                                        t.insertAdjacentHTML(
                                          n ? 'afterbegin' : 'beforeend',
                                          e
                                        );
                                      }
                                    : function (t, r) {
                                        return (function (t, e, n) {
                                          n
                                            ? t.insertBefore(e, t.childNodes[0])
                                            : t.appendChild(e);
                                        })(t, r ? e.cloneNode(!0) : e, n);
                                      }
                                );
                          }
                        }
                        (b.parseHTML = ft),
                          (_.empty = function () {
                            var t = this[0];
                            if (t)
                              for (; t.firstChild; )
                                t.removeChild(t.firstChild);
                            return this;
                          }),
                          (_.append = function () {
                            var t = this;
                            return (
                              S(arguments, function (e) {
                                ht(t, e);
                              }),
                              this
                            );
                          }),
                          (_.appendTo = function (t) {
                            return ht(b(t), this), this;
                          }),
                          (_.html = function (t) {
                            if (void 0 === t)
                              return this[0] && this[0].innerHTML;
                            var e = t.nodeType ? t[0].outerHTML : t;
                            return this.each(function (t, n) {
                              n.innerHTML = e;
                            });
                          }),
                          (_.insertAfter = function (t) {
                            var e = this;
                            return (
                              b(t).each(function (t, n) {
                                var r = n.parentNode;
                                e.each(function (e, o) {
                                  r.insertBefore(
                                    t ? o.cloneNode(!0) : o,
                                    n.nextSibling
                                  );
                                });
                              }),
                              this
                            );
                          }),
                          (_.after = function () {
                            var t = this;
                            return (
                              S(u.apply(arguments), function (e) {
                                u.apply(b(e).slice()).insertAfter(t);
                              }),
                              this
                            );
                          }),
                          (_.insertBefore = function (t) {
                            var e = this;
                            return (
                              b(t).each(function (t, n) {
                                var r = n.parentNode;
                                e.each(function (e, o) {
                                  r.insertBefore(t ? o.cloneNode(!0) : o, n);
                                });
                              }),
                              this
                            );
                          }),
                          (_.before = function () {
                            var t = this;
                            return (
                              S(arguments, function (e) {
                                b(e).insertBefore(t);
                              }),
                              this
                            );
                          }),
                          (_.prepend = function () {
                            var t = this;
                            return (
                              S(arguments, function (e) {
                                ht(t, e, !0);
                              }),
                              this
                            );
                          }),
                          (_.prependTo = function (t) {
                            return ht(b(t), u.apply(this.slice()), !0), this;
                          }),
                          (_.remove = function () {
                            return this.detach().off();
                          }),
                          (_.replaceWith = function (t) {
                            var e = this;
                            return this.each(function (n, r) {
                              var o = r.parentNode;
                              if (o) {
                                var i = n ? b(t).clone() : b(t);
                                if (!i[0]) return e.remove(), !1;
                                o.replaceChild(i[0], r),
                                  b(i[0]).after(i.slice(1));
                              }
                            });
                          }),
                          (_.replaceAll = function (t) {
                            return b(t).replaceWith(this), this;
                          }),
                          (_.text = function (t) {
                            return void 0 === t
                              ? this[0]
                                ? this[0].textContent
                                : ''
                              : this.each(function (e, n) {
                                  n.textContent = t;
                                });
                          });
                        var gt = r && r.documentElement;
                        (_.offset = function () {
                          var t = this[0];
                          if (t) {
                            var e = t.getBoundingClientRect();
                            return {
                              top: e.top + o.pageYOffset - gt.clientTop,
                              left: e.left + o.pageXOffset - gt.clientLeft,
                            };
                          }
                        }),
                          (_.offsetParent = function () {
                            return b(this[0] && this[0].offsetParent);
                          }),
                          (_.position = function () {
                            var t = this[0];
                            if (t)
                              return {
                                left: t.offsetLeft,
                                top: t.offsetTop,
                              };
                          }),
                          (_.children = function (t) {
                            var e = [];
                            return (
                              this.each(function (t, n) {
                                c.apply(e, n.children);
                              }),
                              (e = b(D(e))),
                              t
                                ? e.filter(function (e, n) {
                                    return k(n, t);
                                  })
                                : e
                            );
                          }),
                          (_.contents = function () {
                            var t = [];
                            return (
                              this.each(function (e, n) {
                                c.apply(
                                  t,
                                  'IFRAME' === n.tagName
                                    ? [n.contentDocument]
                                    : n.childNodes
                                );
                              }),
                              b(t.length && D(t))
                            );
                          }),
                          (_.find = function (t) {
                            for (
                              var e = [], n = 0, r = this.length;
                              n < r;
                              n++
                            ) {
                              var o = m(t, this[n]);
                              o.length && c.apply(e, o);
                            }
                            return b(e.length && D(e));
                          }),
                          (_.has = function (t) {
                            var e = E(t)
                              ? function (e, n) {
                                  return !!m(t, n).length;
                                }
                              : function (e, n) {
                                  return n.contains(t);
                                };
                            return this.filter(e);
                          }),
                          (_.is = function (t) {
                            if (!t || !this[0]) return !1;
                            var e = j(t),
                              n = !1;
                            return (
                              this.each(function (r, o) {
                                return !(n = e(r, o, t));
                              }),
                              n
                            );
                          }),
                          (_.next = function () {
                            return b(this[0] && this[0].nextElementSibling);
                          }),
                          (_.not = function (t) {
                            if (!t || !this[0]) return this;
                            var e = j(t);
                            return this.filter(function (n, r) {
                              return !e(n, r, t);
                            });
                          }),
                          (_.parent = function () {
                            var t = [];
                            return (
                              this.each(function (e, n) {
                                n && n.parentNode && t.push(n.parentNode);
                              }),
                              b(D(t))
                            );
                          }),
                          (_.index = function (t) {
                            var e = t ? b(t)[0] : this[0],
                              n = t ? this : b(e).parent().children();
                            return s.call(n, e);
                          }),
                          (_.closest = function (t) {
                            return t && this[0]
                              ? this.is(t)
                                ? this.filter(t)
                                : this.parent().closest(t)
                              : b();
                          }),
                          (_.parents = function (t) {
                            var e,
                              n = [];
                            return (
                              this.each(function (o, i) {
                                for (
                                  e = i;
                                  e && e.parentNode && e !== r.body.parentNode;

                                )
                                  (e = e.parentNode),
                                    (!t || (t && k(e, t))) && n.push(e);
                              }),
                              b(D(n))
                            );
                          }),
                          (_.prev = function () {
                            return b(this[0] && this[0].previousElementSibling);
                          }),
                          (_.siblings = function () {
                            var t = this[0];
                            return this.parent()
                              .children()
                              .filter(function (e, n) {
                                return n !== t;
                              });
                          });
                        const vt = b;
                      },
                      491: (t, e, n) => {
                        'use strict';
                        n.d(e, {
                          $Q: () => f,
                          FW: () => u,
                          G1: () => a,
                          L_: () => l,
                          Mx: () => s,
                          R3: () => h,
                          SJ: () => y,
                          dL: () => d,
                          pn: () => p,
                          rw: () => v,
                          sE: () => c,
                          t3: () => m,
                          ut: () => g,
                        });
                        var r = n(50),
                          o = 'tag',
                          i = 'attributes',
                          a =
                            'transitionend oTransitionEnd transitionend webkitTransitionEnd',
                          s = function (t) {
                            return t && 9 === t.nodeType;
                          },
                          l = function (t) {
                            var e = t && t.parentNode;
                            e && e.removeChild(t);
                          },
                          c = function (t, e) {
                            return t.querySelectorAll(e);
                          },
                          u = function (t, e) {
                            return (
                              void 0 === e && (e = {}),
                              t &&
                                t.setAttribute &&
                                (0, r.each)(e, function (e, n) {
                                  return t.setAttribute(n, e);
                                })
                            );
                          },
                          p = function (t) {
                            return (
                              t &&
                              !!(
                                t.offsetWidth ||
                                t.offsetHeight ||
                                t.getClientRects().length
                              )
                            );
                          },
                          d = function (t, e) {
                            var n;
                            null === (n = t.parentNode) ||
                              void 0 === n ||
                              n.replaceChild(e, t);
                          },
                          f = function (t, e, n) {
                            var o = t.childNodes,
                              i = o.length,
                              a = (0, r.isUndefined)(n) ? i : n;
                            (0, r.isString)(e) &&
                              (t.insertAdjacentHTML('beforeEnd', e),
                              (e = t.lastChild),
                              t.removeChild(e)),
                              a >= i
                                ? t.appendChild(e)
                                : t.insertBefore(e, o[a]);
                          },
                          h = function (t, e) {
                            return f(t, e);
                          },
                          g = function (t, e, n) {
                            void 0 === e && (e = {});
                            var o = document.createElement(t);
                            return (
                              e &&
                                (0, r.each)(e, function (t, e) {
                                  return o.setAttribute(e, t);
                                }),
                              n &&
                                ((0, r.isString)(n)
                                  ? (o.innerHTML = n)
                                  : o.appendChild(n)),
                              o
                            );
                          },
                          v = function (t) {
                            return document.createTextNode(t);
                          },
                          m = function (t, e) {
                            var n,
                              r = t.type;
                            try {
                              n = new window[e](r, t);
                            } catch (t) {
                              (n = document.createEvent(e)).initEvent(
                                r,
                                !0,
                                !0
                              );
                            }
                            return (
                              (n._parentEvent = t),
                              0 === r.indexOf('key') &&
                                ((n.keyCodeVal = t.keyCode),
                                ['keyCode', 'which'].forEach(function (t) {
                                  Object.defineProperty(n, t, {
                                    get: function () {
                                      return this.keyCodeVal;
                                    },
                                  });
                                })),
                              n
                            );
                          },
                          y = function (t, e) {
                            void 0 === e && (e = []),
                              (Array.isArray(e) ? e : [e]).forEach(function (
                                e
                              ) {
                                var n = e[o] || 'div',
                                  a = e[i] || {},
                                  s = document.createElement(n);
                                (0, r.each)(a, function (t, e) {
                                  s.setAttribute(e, t);
                                }),
                                  t.appendChild(s);
                              });
                          };
                      },
                      163: (t, e, n) => {
                        'use strict';
                        n.r(e),
                          n.d(e, {
                            appendStyles: () => f,
                            buildBase64UrlFromSvg: () => $,
                            camelCase: () => b,
                            capitalize: () => z,
                            createId: () => W,
                            deepMerge: () => P,
                            escape: () => T,
                            escapeNodeContent: () => E,
                            find: () => k,
                            getElRect: () => j,
                            getElement: () => x,
                            getGlobal: () => l,
                            getKeyChar: () => D,
                            getKeyCode: () => L,
                            getModel: () => A,
                            getPointerEvent: () => M,
                            getUiClass: () => d,
                            getUnitFromValue: () => m,
                            getViewEl: () => H,
                            hasDnd: () => w,
                            hasWin: () => s,
                            isCommentNode: () => S,
                            isComponent: () => V,
                            isDef: () => a,
                            isEmptyObj: () => R,
                            isEnterKey: () => I,
                            isEscKey: () => N,
                            isObject: () => F,
                            isRule: () => B,
                            isTaggableNode: () => O,
                            isTextNode: () => C,
                            matches: () => p,
                            normalizeFloat: () => _,
                            off: () => v,
                            on: () => g,
                            setViewEl: () => U,
                            shallowDiff: () => h,
                            toLowerCase: () => c,
                            upFirst: () => y,
                          });
                        var r = n(50),
                          o =
                            (void 0 && (void 0).__assign) ||
                            function () {
                              return (
                                (o =
                                  Object.assign ||
                                  function (t) {
                                    for (
                                      var e, n = 1, r = arguments.length;
                                      n < r;
                                      n++
                                    )
                                      for (var o in (e = arguments[n]))
                                        Object.prototype.hasOwnProperty.call(
                                          e,
                                          o
                                        ) && (t[o] = e[o]);
                                    return t;
                                  }),
                                o.apply(this, arguments)
                              );
                            },
                          i =
                            (void 0 && (void 0).__spreadArray) ||
                            function (t, e, n) {
                              if (n || 2 === arguments.length)
                                for (var r, o = 0, i = e.length; o < i; o++)
                                  (!r && o in e) ||
                                    (r ||
                                      (r = Array.prototype.slice.call(e, 0, o)),
                                    (r[o] = e[o]));
                              return t.concat(
                                r || Array.prototype.slice.call(e)
                              );
                            },
                          a = function (t) {
                            return void 0 !== t;
                          },
                          s = function () {
                            return 'undefined' != typeof window;
                          },
                          l = function () {
                            return 'undefined' != typeof globalThis
                              ? globalThis
                              : 'undefined' != typeof window
                              ? window
                              : n.g;
                          },
                          c = function (t) {
                            return (t || '').toLowerCase();
                          },
                          u = s() ? window.Element.prototype : {},
                          p =
                            u.matches ||
                            u.webkitMatchesSelector ||
                            u.mozMatchesSelector ||
                            u.msMatchesSelector,
                          d = function (t, e) {
                            var n = t.getConfig(),
                              r = n.stylePrefix;
                            return [n.customUI && ''.concat(r, 'cui'), e]
                              .filter(function (t) {
                                return t;
                              })
                              .join(' ');
                          },
                          f = function (t, e) {
                            void 0 === e && (e = {});
                            var n = (0, r.isArray)(t) ? i([], t, !0) : [t];
                            if (n.length) {
                              var o = n.shift();
                              if (
                                o &&
                                (!e.unique ||
                                  !document.querySelector(
                                    'link[href="'.concat(o, '"]')
                                  ))
                              ) {
                                var a = document.head,
                                  s = document.createElement('link');
                                (s.href = o),
                                  (s.rel = 'stylesheet'),
                                  e.prepand
                                    ? a.insertBefore(s, a.firstChild)
                                    : a.appendChild(s);
                              }
                              f(n);
                            }
                          },
                          h = function (t, e) {
                            var n = {},
                              o = (0, r.keys)(e);
                            for (var i in t)
                              if (t.hasOwnProperty(i)) {
                                var a = t[i],
                                  s = e[i];
                                o.indexOf(i) >= 0
                                  ? a !== s && (n[i] = s)
                                  : (n[i] = null);
                              }
                            for (var i in e)
                              e.hasOwnProperty(i) &&
                                (0, r.isUndefined)(t[i]) &&
                                (n[i] = e[i]);
                            return n;
                          },
                          g = function (t, e, n, r) {
                            var o = e.split(/\s+/);
                            t = t instanceof Array ? t : [t];
                            for (
                              var i = function (e) {
                                  t.forEach(function (t) {
                                    return t && t.addEventListener(o[e], n, r);
                                  });
                                },
                                a = 0;
                              a < o.length;
                              ++a
                            )
                              i(a);
                          },
                          v = function (t, e, n, r) {
                            var o = e.split(/\s+/);
                            t = t instanceof Array ? t : [t];
                            for (
                              var i = function (e) {
                                  t.forEach(function (t) {
                                    return (
                                      t && t.removeEventListener(o[e], n, r)
                                    );
                                  });
                                },
                                a = 0;
                              a < o.length;
                              ++a
                            )
                              i(a);
                          },
                          m = function (t) {
                            return t.replace(parseFloat(t), '');
                          },
                          y = function (t) {
                            return (
                              t[0].toUpperCase() + t.toLowerCase().slice(1)
                            );
                          },
                          b = function (t) {
                            return t.replace(/-./g, function (t) {
                              return t[1].toUpperCase();
                            });
                          },
                          _ = function (t, e, n) {
                            void 0 === e && (e = 1), void 0 === n && (n = 0);
                            var r = 0;
                            if (isNaN(t)) return n;
                            if (((t = parseFloat(t)), Math.floor(t) !== t)) {
                              var o = e.toString().split('.')[1];
                              r = o ? o.length : 0;
                            }
                            return r ? parseFloat(t.toFixed(r)) : t;
                          },
                          w = function (t) {
                            return (
                              'draggable' in document.createElement('i') &&
                              (!t || t.config.nativeDnD)
                            );
                          },
                          x = function (t) {
                            return (0, r.isElement)(t) || C(t)
                              ? t
                              : t && t.getEl
                              ? t.getEl()
                              : void 0;
                          },
                          C = function (t) {
                            return t && 3 === t.nodeType;
                          },
                          S = function (t) {
                            return t && 8 === t.nodeType;
                          },
                          O = function (t) {
                            return t && !C(t) && !S(t);
                          },
                          k = function (t, e) {
                            var n = null;
                            return (
                              t.some(function (r, o) {
                                return e(r, o, t) ? ((n = r), 1) : 0;
                              }),
                              n
                            );
                          },
                          T = function (t) {
                            return (
                              void 0 === t && (t = ''),
                              ''
                                .concat(t)
                                .replace(/&/g, '&amp;')
                                .replace(/</g, '&lt;')
                                .replace(/>/g, '&gt;')
                                .replace(/"/g, '&quot;')
                                .replace(/'/g, '&#039;')
                                .replace(/`/g, '&#96;')
                            );
                          },
                          E = function (t) {
                            return (
                              void 0 === t && (t = ''),
                              ''
                                .concat(t)
                                .replace(/&/g, '&amp;')
                                .replace(/</g, '&lt;')
                                .replace(/>/g, '&gt;')
                            );
                          },
                          P = function () {
                            for (var t = [], e = 0; e < arguments.length; e++)
                              t[e] = arguments[e];
                            for (
                              var n = o({}, t[0]), r = 1;
                              r < t.length;
                              r++
                            ) {
                              var i = o({}, t[r]);
                              for (var a in i) {
                                var s = n[a],
                                  l = i[a];
                                F(s) && F(l) ? (n[a] = P(s, l)) : (n[a] = l);
                              }
                            }
                            return n;
                          },
                          A = function (t, e) {
                            var n = t;
                            return (
                              !e && t && t.__cashData
                                ? (n = t.__cashData.model)
                                : (0, r.isElement)(t) &&
                                  (n = e(t).data('model')),
                              n
                            );
                          },
                          j = function (t) {
                            var e,
                              n = {
                                top: 0,
                                left: 0,
                                width: 0,
                                height: 0,
                              };
                            if (!t) return n;
                            if (C(t)) {
                              var r = document.createRange();
                              r.selectNode(t),
                                (e = r.getBoundingClientRect()),
                                r.detach();
                            }
                            return (
                              e ||
                              (t.getBoundingClientRect
                                ? t.getBoundingClientRect()
                                : n)
                            );
                          },
                          M = function (t) {
                            return t.touches && t.touches[0] ? t.touches[0] : t;
                          },
                          L = function (t) {
                            return t.which || t.keyCode;
                          },
                          D = function (t) {
                            return String.fromCharCode(L(t));
                          },
                          N = function (t) {
                            return 27 === L(t);
                          },
                          I = function (t) {
                            return 13 === L(t);
                          },
                          F = function (t) {
                            return (
                              null !== t &&
                              !Array.isArray(t) &&
                              'object' == typeof t
                            );
                          },
                          R = function (t) {
                            return Object.keys(t).length <= 0;
                          },
                          z = function (t) {
                            return (
                              void 0 === t && (t = ''),
                              t && t.charAt(0).toUpperCase() + t.substring(1)
                            );
                          },
                          V = function (t) {
                            return t && t.toHTML;
                          },
                          B = function (t) {
                            return t && t.toCSS;
                          },
                          H = function (t) {
                            return t.__gjsv;
                          },
                          U = function (t, e) {
                            t.__gjsv = e;
                          },
                          W = function (t) {
                            void 0 === t && (t = 16);
                            for (
                              var e = '',
                                n =
                                  'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',
                                r = n.length,
                                o = 0;
                              o < t;
                              o++
                            )
                              e += n.charAt(Math.floor(Math.random() * r));
                            return e;
                          },
                          $ = function (t) {
                            if (t && '<svg' === t.substr(0, 4)) {
                              var e = '';
                              return (
                                s()
                                  ? (e = window.btoa(t))
                                  : 'undefined' != typeof Buffer &&
                                    (e = Buffer.from(t, 'utf8').toString(
                                      'base64'
                                    )),
                                e ? 'data:image/svg+xml;base64,'.concat(e) : t
                              );
                            }
                            return t;
                          };
                      },
                      828: (t, e, n) => {
                        var r = {
                          './CanvasClear': 858,
                          './CanvasClear.ts': 858,
                          './CanvasMove': 884,
                          './CanvasMove.ts': 884,
                          './CommandAbstract': 790,
                          './CommandAbstract.ts': 790,
                          './ComponentDelete': 180,
                          './ComponentDelete.ts': 180,
                          './ComponentDrag': 544,
                          './ComponentDrag.ts': 544,
                          './ComponentEnter': 236,
                          './ComponentEnter.ts': 236,
                          './ComponentExit': 368,
                          './ComponentExit.ts': 368,
                          './ComponentNext': 243,
                          './ComponentNext.ts': 243,
                          './ComponentPrev': 400,
                          './ComponentPrev.ts': 400,
                          './ComponentStyleClear': 910,
                          './ComponentStyleClear.ts': 910,
                          './CopyComponent': 744,
                          './CopyComponent.ts': 744,
                          './DeleteComponent': 517,
                          './DeleteComponent.ts': 517,
                          './ExportTemplate': 457,
                          './ExportTemplate.ts': 457,
                          './Fullscreen': 975,
                          './Fullscreen.ts': 975,
                          './MoveComponent': 191,
                          './MoveComponent.ts': 191,
                          './OpenAssets': 912,
                          './OpenAssets.ts': 912,
                          './OpenBlocks': 117,
                          './OpenBlocks.ts': 117,
                          './OpenLayers': 614,
                          './OpenLayers.ts': 614,
                          './OpenStyleManager': 801,
                          './OpenStyleManager.ts': 801,
                          './OpenTraitManager': 395,
                          './OpenTraitManager.ts': 395,
                          './PasteComponent': 98,
                          './PasteComponent.ts': 98,
                          './Preview': 129,
                          './Preview.ts': 129,
                          './Resize': 116,
                          './Resize.ts': 116,
                          './SelectComponent': 407,
                          './SelectComponent.ts': 407,
                          './SelectPosition': 189,
                          './SelectPosition.ts': 189,
                          './ShowOffset': 804,
                          './ShowOffset.ts': 804,
                          './SwitchVisibility': 434,
                          './SwitchVisibility.ts': 434,
                        };

                        function o(t) {
                          var e = i(t);
                          return n(e);
                        }

                        function i(t) {
                          if (!n.o(r, t)) {
                            var e = new Error("Cannot find module '" + t + "'");
                            throw ((e.code = 'MODULE_NOT_FOUND'), e);
                          }
                          return r[t];
                        }
                        (o.keys = function () {
                          return Object.keys(r);
                        }),
                          (o.resolve = i),
                          (t.exports = o),
                          (o.id = 828);
                      },
                      50: (t, e, r) => {
                        'use strict';
                        r.r(e),
                          r.d(e, {
                            VERSION: () => i,
                            after: () => Ie,
                            all: () => nn,
                            allKeys: () => mt,
                            any: () => rn,
                            assign: () => It,
                            before: () => Fe,
                            bind: () => Se,
                            bindAll: () => Te,
                            chain: () => _e,
                            chunk: () => Vn,
                            clone: () => Vt,
                            collect: () => Ye,
                            compact: () => Pn,
                            compose: () => Ne,
                            constant: () => Q,
                            contains: () => on,
                            countBy: () => bn,
                            create: () => zt,
                            debounce: () => Me,
                            default: () => $n,
                            defaults: () => Ft,
                            defer: () => Ae,
                            delay: () => Pe,
                            detect: () => qe,
                            difference: () => jn,
                            drop: () => Tn,
                            each: () => Ze,
                            escape: () => le,
                            every: () => nn,
                            extend: () => Nt,
                            extendOwn: () => It,
                            filter: () => tn,
                            find: () => qe,
                            findIndex: () => Be,
                            findKey: () => ze,
                            findLastIndex: () => He,
                            findWhere: () => Ke,
                            first: () => kn,
                            flatten: () => An,
                            foldl: () => Je,
                            foldr: () => Qe,
                            forEach: () => Ze,
                            functions: () => Lt,
                            get: () => $t,
                            groupBy: () => mn,
                            has: () => Gt,
                            head: () => kn,
                            identity: () => qt,
                            include: () => on,
                            includes: () => on,
                            indexBy: () => yn,
                            indexOf: () => $e,
                            initial: () => On,
                            inject: () => Je,
                            intersection: () => Nn,
                            invert: () => Mt,
                            invoke: () => an,
                            isArguments: () => Y,
                            isArray: () => q,
                            isArrayBuffer: () => R,
                            isBoolean: () => P,
                            isDataView: () => G,
                            isDate: () => D,
                            isElement: () => A,
                            isEmpty: () => ct,
                            isEqual: () => vt,
                            isError: () => I,
                            isFinite: () => X,
                            isFunction: () => B,
                            isMap: () => kt,
                            isMatch: () => ut,
                            isNaN: () => J,
                            isNull: () => T,
                            isNumber: () => L,
                            isObject: () => k,
                            isRegExp: () => N,
                            isSet: () => Et,
                            isString: () => M,
                            isSymbol: () => F,
                            isTypedArray: () => it,
                            isUndefined: () => E,
                            isWeakMap: () => Tt,
                            isWeakSet: () => Pt,
                            iteratee: () => Jt,
                            keys: () => lt,
                            last: () => En,
                            lastIndexOf: () => Ge,
                            map: () => Ye,
                            mapObject: () => te,
                            matcher: () => Kt,
                            matches: () => Kt,
                            max: () => cn,
                            memoize: () => Ee,
                            methods: () => Lt,
                            min: () => un,
                            mixin: () => Hn,
                            negate: () => De,
                            noop: () => ee,
                            now: () => ie,
                            object: () => Rn,
                            omit: () => Sn,
                            once: () => Re,
                            pairs: () => jt,
                            partial: () => Ce,
                            partition: () => _n,
                            pick: () => Cn,
                            pluck: () => sn,
                            property: () => Zt,
                            propertyOf: () => ne,
                            random: () => oe,
                            range: () => zn,
                            reduce: () => Je,
                            reduceRight: () => Qe,
                            reject: () => en,
                            rest: () => Tn,
                            restArguments: () => O,
                            result: () => me,
                            sample: () => fn,
                            select: () => tn,
                            shuffle: () => hn,
                            size: () => wn,
                            some: () => rn,
                            sortBy: () => gn,
                            sortedIndex: () => Ue,
                            tail: () => Tn,
                            take: () => kn,
                            tap: () => Bt,
                            template: () => ve,
                            templateSettings: () => ue,
                            throttle: () => je,
                            times: () => re,
                            toArray: () => dn,
                            toPath: () => Ht,
                            transpose: () => In,
                            unescape: () => ce,
                            union: () => Dn,
                            uniq: () => Ln,
                            unique: () => Ln,
                            uniqueId: () => be,
                            unzip: () => In,
                            values: () => At,
                            where: () => ln,
                            without: () => Mn,
                            wrap: () => Le,
                            zip: () => Fn,
                          });
                        var o = {};
                        r.r(o),
                          r.d(o, {
                            VERSION: () => i,
                            after: () => Ie,
                            all: () => nn,
                            allKeys: () => mt,
                            any: () => rn,
                            assign: () => It,
                            before: () => Fe,
                            bind: () => Se,
                            bindAll: () => Te,
                            chain: () => _e,
                            chunk: () => Vn,
                            clone: () => Vt,
                            collect: () => Ye,
                            compact: () => Pn,
                            compose: () => Ne,
                            constant: () => Q,
                            contains: () => on,
                            countBy: () => bn,
                            create: () => zt,
                            debounce: () => Me,
                            default: () => Un,
                            defaults: () => Ft,
                            defer: () => Ae,
                            delay: () => Pe,
                            detect: () => qe,
                            difference: () => jn,
                            drop: () => Tn,
                            each: () => Ze,
                            escape: () => le,
                            every: () => nn,
                            extend: () => Nt,
                            extendOwn: () => It,
                            filter: () => tn,
                            find: () => qe,
                            findIndex: () => Be,
                            findKey: () => ze,
                            findLastIndex: () => He,
                            findWhere: () => Ke,
                            first: () => kn,
                            flatten: () => An,
                            foldl: () => Je,
                            foldr: () => Qe,
                            forEach: () => Ze,
                            functions: () => Lt,
                            get: () => $t,
                            groupBy: () => mn,
                            has: () => Gt,
                            head: () => kn,
                            identity: () => qt,
                            include: () => on,
                            includes: () => on,
                            indexBy: () => yn,
                            indexOf: () => $e,
                            initial: () => On,
                            inject: () => Je,
                            intersection: () => Nn,
                            invert: () => Mt,
                            invoke: () => an,
                            isArguments: () => Y,
                            isArray: () => q,
                            isArrayBuffer: () => R,
                            isBoolean: () => P,
                            isDataView: () => G,
                            isDate: () => D,
                            isElement: () => A,
                            isEmpty: () => ct,
                            isEqual: () => vt,
                            isError: () => I,
                            isFinite: () => X,
                            isFunction: () => B,
                            isMap: () => kt,
                            isMatch: () => ut,
                            isNaN: () => J,
                            isNull: () => T,
                            isNumber: () => L,
                            isObject: () => k,
                            isRegExp: () => N,
                            isSet: () => Et,
                            isString: () => M,
                            isSymbol: () => F,
                            isTypedArray: () => it,
                            isUndefined: () => E,
                            isWeakMap: () => Tt,
                            isWeakSet: () => Pt,
                            iteratee: () => Jt,
                            keys: () => lt,
                            last: () => En,
                            lastIndexOf: () => Ge,
                            map: () => Ye,
                            mapObject: () => te,
                            matcher: () => Kt,
                            matches: () => Kt,
                            max: () => cn,
                            memoize: () => Ee,
                            methods: () => Lt,
                            min: () => un,
                            mixin: () => Hn,
                            negate: () => De,
                            noop: () => ee,
                            now: () => ie,
                            object: () => Rn,
                            omit: () => Sn,
                            once: () => Re,
                            pairs: () => jt,
                            partial: () => Ce,
                            partition: () => _n,
                            pick: () => Cn,
                            pluck: () => sn,
                            property: () => Zt,
                            propertyOf: () => ne,
                            random: () => oe,
                            range: () => zn,
                            reduce: () => Je,
                            reduceRight: () => Qe,
                            reject: () => en,
                            rest: () => Tn,
                            restArguments: () => O,
                            result: () => me,
                            sample: () => fn,
                            select: () => tn,
                            shuffle: () => hn,
                            size: () => wn,
                            some: () => rn,
                            sortBy: () => gn,
                            sortedIndex: () => Ue,
                            tail: () => Tn,
                            take: () => kn,
                            tap: () => Bt,
                            template: () => ve,
                            templateSettings: () => ue,
                            throttle: () => je,
                            times: () => re,
                            toArray: () => dn,
                            toPath: () => Ht,
                            transpose: () => In,
                            unescape: () => ce,
                            union: () => Dn,
                            uniq: () => Ln,
                            unique: () => Ln,
                            uniqueId: () => be,
                            unzip: () => In,
                            values: () => At,
                            where: () => ln,
                            without: () => Mn,
                            wrap: () => Le,
                            zip: () => Fn,
                          });
                        var i = '1.13.4',
                          a =
                            ('object' == typeof self &&
                              self.self === self &&
                              self) ||
                            ('object' == typeof n.g &&
                              n.g.global === n.g &&
                              n.g) ||
                            Function('return this')() ||
                            {},
                          s = Array.prototype,
                          l = Object.prototype,
                          c =
                            'undefined' != typeof Symbol
                              ? Symbol.prototype
                              : null,
                          u = s.push,
                          p = s.slice,
                          d = l.toString,
                          f = l.hasOwnProperty,
                          h = 'undefined' != typeof ArrayBuffer,
                          g = 'undefined' != typeof DataView,
                          v = Array.isArray,
                          m = Object.keys,
                          y = Object.create,
                          b = h && ArrayBuffer.isView,
                          _ = isNaN,
                          w = isFinite,
                          x = !{
                            toString: null,
                          }.propertyIsEnumerable('toString'),
                          C = [
                            'valueOf',
                            'isPrototypeOf',
                            'toString',
                            'propertyIsEnumerable',
                            'hasOwnProperty',
                            'toLocaleString',
                          ],
                          S = Math.pow(2, 53) - 1;

                        function O(t, e) {
                          return (
                            (e = null == e ? t.length - 1 : +e),
                            function () {
                              for (
                                var n = Math.max(arguments.length - e, 0),
                                  r = Array(n),
                                  o = 0;
                                o < n;
                                o++
                              )
                                r[o] = arguments[o + e];
                              switch (e) {
                                case 0:
                                  return t.call(this, r);
                                case 1:
                                  return t.call(this, arguments[0], r);
                                case 2:
                                  return t.call(
                                    this,
                                    arguments[0],
                                    arguments[1],
                                    r
                                  );
                              }
                              var i = Array(e + 1);
                              for (o = 0; o < e; o++) i[o] = arguments[o];
                              return (i[e] = r), t.apply(this, i);
                            }
                          );
                        }

                        function k(t) {
                          var e = typeof t;
                          return 'function' === e || ('object' === e && !!t);
                        }

                        function T(t) {
                          return null === t;
                        }

                        function E(t) {
                          return void 0 === t;
                        }

                        function P(t) {
                          return (
                            !0 === t ||
                            !1 === t ||
                            '[object Boolean]' === d.call(t)
                          );
                        }

                        function A(t) {
                          return !(!t || 1 !== t.nodeType);
                        }

                        function j(t) {
                          var e = '[object ' + t + ']';
                          return function (t) {
                            return d.call(t) === e;
                          };
                        }
                        const M = j('String'),
                          L = j('Number'),
                          D = j('Date'),
                          N = j('RegExp'),
                          I = j('Error'),
                          F = j('Symbol'),
                          R = j('ArrayBuffer');
                        var z = j('Function'),
                          V = a.document && a.document.childNodes;
                        1 &&
                          'object' != typeof Int8Array &&
                          'function' != typeof V &&
                          (z = function (t) {
                            return 'function' == typeof t || !1;
                          });
                        const B = z,
                          H = j('Object');
                        var U = g && H(new DataView(new ArrayBuffer(8))),
                          W = 'undefined' != typeof Map && H(new Map()),
                          $ = j('DataView');
                        const G = U
                            ? function (t) {
                                return null != t && B(t.getInt8) && R(t.buffer);
                              }
                            : $,
                          q = v || j('Array');

                        function K(t, e) {
                          return null != t && f.call(t, e);
                        }
                        var Z = j('Arguments');
                        !(function () {
                          Z(arguments) ||
                            (Z = function (t) {
                              return K(t, 'callee');
                            });
                        })();
                        const Y = Z;

                        function X(t) {
                          return !F(t) && w(t) && !isNaN(parseFloat(t));
                        }

                        function J(t) {
                          return L(t) && _(t);
                        }

                        function Q(t) {
                          return function () {
                            return t;
                          };
                        }

                        function tt(t) {
                          return function (e) {
                            var n = t(e);
                            return 'number' == typeof n && n >= 0 && n <= S;
                          };
                        }

                        function et(t) {
                          return function (e) {
                            return null == e ? void 0 : e[t];
                          };
                        }
                        const nt = et('byteLength'),
                          rt = tt(nt);
                        var ot =
                          /\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;
                        const it = h
                            ? function (t) {
                                return b
                                  ? b(t) && !G(t)
                                  : rt(t) && ot.test(d.call(t));
                              }
                            : Q(!1),
                          at = et('length');

                        function st(t, e) {
                          e = (function (t) {
                            for (var e = {}, n = t.length, r = 0; r < n; ++r)
                              e[t[r]] = !0;
                            return {
                              contains: function (t) {
                                return !0 === e[t];
                              },
                              push: function (n) {
                                return (e[n] = !0), t.push(n);
                              },
                            };
                          })(e);
                          var n = C.length,
                            r = t.constructor,
                            o = (B(r) && r.prototype) || l,
                            i = 'constructor';
                          for (K(t, i) && !e.contains(i) && e.push(i); n--; )
                            (i = C[n]) in t &&
                              t[i] !== o[i] &&
                              !e.contains(i) &&
                              e.push(i);
                        }

                        function lt(t) {
                          if (!k(t)) return [];
                          if (m) return m(t);
                          var e = [];
                          for (var n in t) K(t, n) && e.push(n);
                          return x && st(t, e), e;
                        }

                        function ct(t) {
                          if (null == t) return !0;
                          var e = at(t);
                          return 'number' == typeof e && (q(t) || M(t) || Y(t))
                            ? 0 === e
                            : 0 === at(lt(t));
                        }

                        function ut(t, e) {
                          var n = lt(e),
                            r = n.length;
                          if (null == t) return !r;
                          for (var o = Object(t), i = 0; i < r; i++) {
                            var a = n[i];
                            if (e[a] !== o[a] || !(a in o)) return !1;
                          }
                          return !0;
                        }

                        function pt(t) {
                          return t instanceof pt
                            ? t
                            : this instanceof pt
                            ? void (this._wrapped = t)
                            : new pt(t);
                        }

                        function dt(t) {
                          return new Uint8Array(
                            t.buffer || t,
                            t.byteOffset || 0,
                            nt(t)
                          );
                        }
                        (pt.VERSION = i),
                          (pt.prototype.value = function () {
                            return this._wrapped;
                          }),
                          (pt.prototype.valueOf = pt.prototype.toJSON =
                            pt.prototype.value),
                          (pt.prototype.toString = function () {
                            return String(this._wrapped);
                          });
                        var ft = '[object DataView]';

                        function ht(t, e, n, r) {
                          if (t === e) return 0 !== t || 1 / t == 1 / e;
                          if (null == t || null == e) return !1;
                          if (t != t) return e != e;
                          var o = typeof t;
                          return (
                            ('function' === o ||
                              'object' === o ||
                              'object' == typeof e) &&
                            gt(t, e, n, r)
                          );
                        }

                        function gt(t, e, n, r) {
                          t instanceof pt && (t = t._wrapped),
                            e instanceof pt && (e = e._wrapped);
                          var o = d.call(t);
                          if (o !== d.call(e)) return !1;
                          if (U && '[object Object]' == o && G(t)) {
                            if (!G(e)) return !1;
                            o = ft;
                          }
                          switch (o) {
                            case '[object RegExp]':
                            case '[object String]':
                              return '' + t == '' + e;
                            case '[object Number]':
                              return +t != +t
                                ? +e != +e
                                : 0 == +t
                                ? 1 / +t == 1 / e
                                : +t == +e;
                            case '[object Date]':
                            case '[object Boolean]':
                              return +t == +e;
                            case '[object Symbol]':
                              return c.valueOf.call(t) === c.valueOf.call(e);
                            case '[object ArrayBuffer]':
                            case ft:
                              return gt(dt(t), dt(e), n, r);
                          }
                          var i = '[object Array]' === o;
                          if (!i && it(t)) {
                            if (nt(t) !== nt(e)) return !1;
                            if (
                              t.buffer === e.buffer &&
                              t.byteOffset === e.byteOffset
                            )
                              return !0;
                            i = !0;
                          }
                          if (!i) {
                            if ('object' != typeof t || 'object' != typeof e)
                              return !1;
                            var a = t.constructor,
                              s = e.constructor;
                            if (
                              a !== s &&
                              !(
                                B(a) &&
                                a instanceof a &&
                                B(s) &&
                                s instanceof s
                              ) &&
                              'constructor' in t &&
                              'constructor' in e
                            )
                              return !1;
                          }
                          r = r || [];
                          for (var l = (n = n || []).length; l--; )
                            if (n[l] === t) return r[l] === e;
                          if ((n.push(t), r.push(e), i)) {
                            if ((l = t.length) !== e.length) return !1;
                            for (; l--; ) if (!ht(t[l], e[l], n, r)) return !1;
                          } else {
                            var u,
                              p = lt(t);
                            if (((l = p.length), lt(e).length !== l)) return !1;
                            for (; l--; )
                              if (!K(e, (u = p[l])) || !ht(t[u], e[u], n, r))
                                return !1;
                          }
                          return n.pop(), r.pop(), !0;
                        }

                        function vt(t, e) {
                          return ht(t, e);
                        }

                        function mt(t) {
                          if (!k(t)) return [];
                          var e = [];
                          for (var n in t) e.push(n);
                          return x && st(t, e), e;
                        }

                        function yt(t) {
                          var e = at(t);
                          return function (n) {
                            if (null == n) return !1;
                            var r = mt(n);
                            if (at(r)) return !1;
                            for (var o = 0; o < e; o++)
                              if (!B(n[t[o]])) return !1;
                            return t !== St || !B(n[bt]);
                          };
                        }
                        var bt = 'forEach',
                          _t = 'has',
                          wt = ['clear', 'delete'],
                          xt = ['get', _t, 'set'],
                          Ct = wt.concat(bt, xt),
                          St = wt.concat(xt),
                          Ot = ['add'].concat(wt, bt, _t);
                        const kt = W ? yt(Ct) : j('Map'),
                          Tt = W ? yt(St) : j('WeakMap'),
                          Et = W ? yt(Ot) : j('Set'),
                          Pt = j('WeakSet');

                        function At(t) {
                          for (
                            var e = lt(t), n = e.length, r = Array(n), o = 0;
                            o < n;
                            o++
                          )
                            r[o] = t[e[o]];
                          return r;
                        }

                        function jt(t) {
                          for (
                            var e = lt(t), n = e.length, r = Array(n), o = 0;
                            o < n;
                            o++
                          )
                            r[o] = [e[o], t[e[o]]];
                          return r;
                        }

                        function Mt(t) {
                          for (
                            var e = {}, n = lt(t), r = 0, o = n.length;
                            r < o;
                            r++
                          )
                            e[t[n[r]]] = n[r];
                          return e;
                        }

                        function Lt(t) {
                          var e = [];
                          for (var n in t) B(t[n]) && e.push(n);
                          return e.sort();
                        }

                        function Dt(t, e) {
                          return function (n) {
                            var r = arguments.length;
                            if ((e && (n = Object(n)), r < 2 || null == n))
                              return n;
                            for (var o = 1; o < r; o++)
                              for (
                                var i = arguments[o],
                                  a = t(i),
                                  s = a.length,
                                  l = 0;
                                l < s;
                                l++
                              ) {
                                var c = a[l];
                                (e && void 0 !== n[c]) || (n[c] = i[c]);
                              }
                            return n;
                          };
                        }
                        const Nt = Dt(mt),
                          It = Dt(lt),
                          Ft = Dt(mt, !0);

                        function Rt(t) {
                          if (!k(t)) return {};
                          if (y) return y(t);
                          var e = function () {};
                          e.prototype = t;
                          var n = new e();
                          return (e.prototype = null), n;
                        }

                        function zt(t, e) {
                          var n = Rt(t);
                          return e && It(n, e), n;
                        }

                        function Vt(t) {
                          return k(t) ? (q(t) ? t.slice() : Nt({}, t)) : t;
                        }

                        function Bt(t, e) {
                          return e(t), t;
                        }

                        function Ht(t) {
                          return q(t) ? t : [t];
                        }

                        function Ut(t) {
                          return pt.toPath(t);
                        }

                        function Wt(t, e) {
                          for (var n = e.length, r = 0; r < n; r++) {
                            if (null == t) return;
                            t = t[e[r]];
                          }
                          return n ? t : void 0;
                        }

                        function $t(t, e, n) {
                          var r = Wt(t, Ut(e));
                          return E(r) ? n : r;
                        }

                        function Gt(t, e) {
                          for (var n = (e = Ut(e)).length, r = 0; r < n; r++) {
                            var o = e[r];
                            if (!K(t, o)) return !1;
                            t = t[o];
                          }
                          return !!n;
                        }

                        function qt(t) {
                          return t;
                        }

                        function Kt(t) {
                          return (
                            (t = It({}, t)),
                            function (e) {
                              return ut(e, t);
                            }
                          );
                        }

                        function Zt(t) {
                          return (
                            (t = Ut(t)),
                            function (e) {
                              return Wt(e, t);
                            }
                          );
                        }

                        function Yt(t, e, n) {
                          if (void 0 === e) return t;
                          switch (null == n ? 3 : n) {
                            case 1:
                              return function (n) {
                                return t.call(e, n);
                              };
                            case 3:
                              return function (n, r, o) {
                                return t.call(e, n, r, o);
                              };
                            case 4:
                              return function (n, r, o, i) {
                                return t.call(e, n, r, o, i);
                              };
                          }
                          return function () {
                            return t.apply(e, arguments);
                          };
                        }

                        function Xt(t, e, n) {
                          return null == t
                            ? qt
                            : B(t)
                            ? Yt(t, e, n)
                            : k(t) && !q(t)
                            ? Kt(t)
                            : Zt(t);
                        }

                        function Jt(t, e) {
                          return Xt(t, e, 1 / 0);
                        }

                        function Qt(t, e, n) {
                          return pt.iteratee !== Jt
                            ? pt.iteratee(t, e)
                            : Xt(t, e, n);
                        }

                        function te(t, e, n) {
                          e = Qt(e, n);
                          for (
                            var r = lt(t), o = r.length, i = {}, a = 0;
                            a < o;
                            a++
                          ) {
                            var s = r[a];
                            i[s] = e(t[s], s, t);
                          }
                          return i;
                        }

                        function ee() {}

                        function ne(t) {
                          return null == t
                            ? ee
                            : function (e) {
                                return $t(t, e);
                              };
                        }

                        function re(t, e, n) {
                          var r = Array(Math.max(0, t));
                          e = Yt(e, n, 1);
                          for (var o = 0; o < t; o++) r[o] = e(o);
                          return r;
                        }

                        function oe(t, e) {
                          return (
                            null == e && ((e = t), (t = 0)),
                            t + Math.floor(Math.random() * (e - t + 1))
                          );
                        }
                        (pt.toPath = Ht), (pt.iteratee = Jt);
                        const ie =
                          Date.now ||
                          function () {
                            return new Date().getTime();
                          };

                        function ae(t) {
                          var e = function (e) {
                              return t[e];
                            },
                            n = '(?:' + lt(t).join('|') + ')',
                            r = RegExp(n),
                            o = RegExp(n, 'g');
                          return function (t) {
                            return (
                              (t = null == t ? '' : '' + t),
                              r.test(t) ? t.replace(o, e) : t
                            );
                          };
                        }
                        const se = {
                            '&': '&amp;',
                            '<': '&lt;',
                            '>': '&gt;',
                            '"': '&quot;',
                            "'": '&#x27;',
                            '`': '&#x60;',
                          },
                          le = ae(se),
                          ce = ae(Mt(se)),
                          ue = (pt.templateSettings = {
                            evaluate: /<%([\s\S]+?)%>/g,
                            interpolate: /<%=([\s\S]+?)%>/g,
                            escape: /<%-([\s\S]+?)%>/g,
                          });
                        var pe = /(.)^/,
                          de = {
                            "'": "'",
                            '\\': '\\',
                            '\r': 'r',
                            '\n': 'n',
                            '\u2028': 'u2028',
                            '\u2029': 'u2029',
                          },
                          fe = /\\|'|\r|\n|\u2028|\u2029/g;

                        function he(t) {
                          return '\\' + de[t];
                        }
                        var ge = /^\s*(\w|\$)+\s*$/;

                        function ve(t, e, n) {
                          !e && n && (e = n),
                            (e = Ft({}, e, pt.templateSettings));
                          var r = RegExp(
                              [
                                (e.escape || pe).source,
                                (e.interpolate || pe).source,
                                (e.evaluate || pe).source,
                              ].join('|') + '|$',
                              'g'
                            ),
                            o = 0,
                            i = "__p+='";
                          t.replace(r, function (e, n, r, a, s) {
                            return (
                              (i += t.slice(o, s).replace(fe, he)),
                              (o = s + e.length),
                              n
                                ? (i +=
                                    "'+\n((__t=(" +
                                    n +
                                    "))==null?'':_.escape(__t))+\n'")
                                : r
                                ? (i +=
                                    "'+\n((__t=(" + r + "))==null?'':__t)+\n'")
                                : a && (i += "';\n" + a + "\n__p+='"),
                              e
                            );
                          }),
                            (i += "';\n");
                          var a,
                            s = e.variable;
                          if (s) {
                            if (!ge.test(s))
                              throw new Error(
                                'variable is not a bare identifier: ' + s
                              );
                          } else
                            (i = 'with(obj||{}){\n' + i + '}\n'), (s = 'obj');
                          i =
                            "var __t,__p='',__j=Array.prototype.join," +
                            "print=function(){__p+=__j.call(arguments,'');};\n" +
                            i +
                            'return __p;\n';
                          try {
                            a = new Function(s, '_', i);
                          } catch (t) {
                            throw ((t.source = i), t);
                          }
                          var l = function (t) {
                            return a.call(this, t, pt);
                          };
                          return (
                            (l.source = 'function(' + s + '){\n' + i + '}'), l
                          );
                        }

                        function me(t, e, n) {
                          var r = (e = Ut(e)).length;
                          if (!r) return B(n) ? n.call(t) : n;
                          for (var o = 0; o < r; o++) {
                            var i = null == t ? void 0 : t[e[o]];
                            void 0 === i && ((i = n), (o = r)),
                              (t = B(i) ? i.call(t) : i);
                          }
                          return t;
                        }
                        var ye = 0;

                        function be(t) {
                          var e = ++ye + '';
                          return t ? t + e : e;
                        }

                        function _e(t) {
                          var e = pt(t);
                          return (e._chain = !0), e;
                        }

                        function we(t, e, n, r, o) {
                          if (!(r instanceof e)) return t.apply(n, o);
                          var i = Rt(t.prototype),
                            a = t.apply(i, o);
                          return k(a) ? a : i;
                        }
                        var xe = O(function (t, e) {
                          var n = xe.placeholder,
                            r = function () {
                              for (
                                var o = 0, i = e.length, a = Array(i), s = 0;
                                s < i;
                                s++
                              )
                                a[s] = e[s] === n ? arguments[o++] : e[s];
                              for (; o < arguments.length; )
                                a.push(arguments[o++]);
                              return we(t, r, this, this, a);
                            };
                          return r;
                        });
                        xe.placeholder = pt;
                        const Ce = xe,
                          Se = O(function (t, e, n) {
                            if (!B(t))
                              throw new TypeError(
                                'Bind must be called on a function'
                              );
                            var r = O(function (o) {
                              return we(t, r, e, this, n.concat(o));
                            });
                            return r;
                          }),
                          Oe = tt(at);

                        function ke(t, e, n, r) {
                          if (((r = r || []), e || 0 === e)) {
                            if (e <= 0) return r.concat(t);
                          } else e = 1 / 0;
                          for (var o = r.length, i = 0, a = at(t); i < a; i++) {
                            var s = t[i];
                            if (Oe(s) && (q(s) || Y(s)))
                              if (e > 1) ke(s, e - 1, n, r), (o = r.length);
                              else
                                for (var l = 0, c = s.length; l < c; )
                                  r[o++] = s[l++];
                            else n || (r[o++] = s);
                          }
                          return r;
                        }
                        const Te = O(function (t, e) {
                          var n = (e = ke(e, !1, !1)).length;
                          if (n < 1)
                            throw new Error(
                              'bindAll must be passed function names'
                            );
                          for (; n--; ) {
                            var r = e[n];
                            t[r] = Se(t[r], t);
                          }
                          return t;
                        });

                        function Ee(t, e) {
                          var n = function (r) {
                            var o = n.cache,
                              i = '' + (e ? e.apply(this, arguments) : r);
                            return (
                              K(o, i) || (o[i] = t.apply(this, arguments)), o[i]
                            );
                          };
                          return (n.cache = {}), n;
                        }
                        const Pe = O(function (t, e, n) {
                            return setTimeout(function () {
                              return t.apply(null, n);
                            }, e);
                          }),
                          Ae = Ce(Pe, pt, 1);

                        function je(t, e, n) {
                          var r,
                            o,
                            i,
                            a,
                            s = 0;
                          n || (n = {});
                          var l = function () {
                              (s = !1 === n.leading ? 0 : ie()),
                                (r = null),
                                (a = t.apply(o, i)),
                                r || (o = i = null);
                            },
                            c = function () {
                              var c = ie();
                              s || !1 !== n.leading || (s = c);
                              var u = e - (c - s);
                              return (
                                (o = this),
                                (i = arguments),
                                u <= 0 || u > e
                                  ? (r && (clearTimeout(r), (r = null)),
                                    (s = c),
                                    (a = t.apply(o, i)),
                                    r || (o = i = null))
                                  : r ||
                                    !1 === n.trailing ||
                                    (r = setTimeout(l, u)),
                                a
                              );
                            };
                          return (
                            (c.cancel = function () {
                              clearTimeout(r), (s = 0), (r = o = i = null);
                            }),
                            c
                          );
                        }

                        function Me(t, e, n) {
                          var r,
                            o,
                            i,
                            a,
                            s,
                            l = function () {
                              var c = ie() - o;
                              e > c
                                ? (r = setTimeout(l, e - c))
                                : ((r = null),
                                  n || (a = t.apply(s, i)),
                                  r || (i = s = null));
                            },
                            c = O(function (c) {
                              return (
                                (s = this),
                                (i = c),
                                (o = ie()),
                                r ||
                                  ((r = setTimeout(l, e)),
                                  n && (a = t.apply(s, i))),
                                a
                              );
                            });
                          return (
                            (c.cancel = function () {
                              clearTimeout(r), (r = i = s = null);
                            }),
                            c
                          );
                        }

                        function Le(t, e) {
                          return Ce(e, t);
                        }

                        function De(t) {
                          return function () {
                            return !t.apply(this, arguments);
                          };
                        }

                        function Ne() {
                          var t = arguments,
                            e = t.length - 1;
                          return function () {
                            for (
                              var n = e, r = t[e].apply(this, arguments);
                              n--;

                            )
                              r = t[n].call(this, r);
                            return r;
                          };
                        }

                        function Ie(t, e) {
                          return function () {
                            if (--t < 1) return e.apply(this, arguments);
                          };
                        }

                        function Fe(t, e) {
                          var n;
                          return function () {
                            return (
                              --t > 0 && (n = e.apply(this, arguments)),
                              t <= 1 && (e = null),
                              n
                            );
                          };
                        }
                        const Re = Ce(Fe, 2);

                        function ze(t, e, n) {
                          e = Qt(e, n);
                          for (
                            var r, o = lt(t), i = 0, a = o.length;
                            i < a;
                            i++
                          )
                            if (e(t[(r = o[i])], r, t)) return r;
                        }

                        function Ve(t) {
                          return function (e, n, r) {
                            n = Qt(n, r);
                            for (
                              var o = at(e), i = t > 0 ? 0 : o - 1;
                              i >= 0 && i < o;
                              i += t
                            )
                              if (n(e[i], i, e)) return i;
                            return -1;
                          };
                        }
                        const Be = Ve(1),
                          He = Ve(-1);

                        function Ue(t, e, n, r) {
                          for (
                            var o = (n = Qt(n, r, 1))(e), i = 0, a = at(t);
                            i < a;

                          ) {
                            var s = Math.floor((i + a) / 2);
                            n(t[s]) < o ? (i = s + 1) : (a = s);
                          }
                          return i;
                        }

                        function We(t, e, n) {
                          return function (r, o, i) {
                            var a = 0,
                              s = at(r);
                            if ('number' == typeof i)
                              t > 0
                                ? (a = i >= 0 ? i : Math.max(i + s, a))
                                : (s = i >= 0 ? Math.min(i + 1, s) : i + s + 1);
                            else if (n && i && s)
                              return r[(i = n(r, o))] === o ? i : -1;
                            if (o != o)
                              return (i = e(p.call(r, a, s), J)) >= 0
                                ? i + a
                                : -1;
                            for (i = t > 0 ? a : s - 1; i >= 0 && i < s; i += t)
                              if (r[i] === o) return i;
                            return -1;
                          };
                        }
                        const $e = We(1, Be, Ue),
                          Ge = We(-1, He);

                        function qe(t, e, n) {
                          var r = (Oe(t) ? Be : ze)(t, e, n);
                          if (void 0 !== r && -1 !== r) return t[r];
                        }

                        function Ke(t, e) {
                          return qe(t, Kt(e));
                        }

                        function Ze(t, e, n) {
                          var r, o;
                          if (((e = Yt(e, n)), Oe(t)))
                            for (r = 0, o = t.length; r < o; r++) e(t[r], r, t);
                          else {
                            var i = lt(t);
                            for (r = 0, o = i.length; r < o; r++)
                              e(t[i[r]], i[r], t);
                          }
                          return t;
                        }

                        function Ye(t, e, n) {
                          e = Qt(e, n);
                          for (
                            var r = !Oe(t) && lt(t),
                              o = (r || t).length,
                              i = Array(o),
                              a = 0;
                            a < o;
                            a++
                          ) {
                            var s = r ? r[a] : a;
                            i[a] = e(t[s], s, t);
                          }
                          return i;
                        }

                        function Xe(t) {
                          var e = function (e, n, r, o) {
                            var i = !Oe(e) && lt(e),
                              a = (i || e).length,
                              s = t > 0 ? 0 : a - 1;
                            for (
                              o || ((r = e[i ? i[s] : s]), (s += t));
                              s >= 0 && s < a;
                              s += t
                            ) {
                              var l = i ? i[s] : s;
                              r = n(r, e[l], l, e);
                            }
                            return r;
                          };
                          return function (t, n, r, o) {
                            var i = arguments.length >= 3;
                            return e(t, Yt(n, o, 4), r, i);
                          };
                        }
                        const Je = Xe(1),
                          Qe = Xe(-1);

                        function tn(t, e, n) {
                          var r = [];
                          return (
                            (e = Qt(e, n)),
                            Ze(t, function (t, n, o) {
                              e(t, n, o) && r.push(t);
                            }),
                            r
                          );
                        }

                        function en(t, e, n) {
                          return tn(t, De(Qt(e)), n);
                        }

                        function nn(t, e, n) {
                          e = Qt(e, n);
                          for (
                            var r = !Oe(t) && lt(t), o = (r || t).length, i = 0;
                            i < o;
                            i++
                          ) {
                            var a = r ? r[i] : i;
                            if (!e(t[a], a, t)) return !1;
                          }
                          return !0;
                        }

                        function rn(t, e, n) {
                          e = Qt(e, n);
                          for (
                            var r = !Oe(t) && lt(t), o = (r || t).length, i = 0;
                            i < o;
                            i++
                          ) {
                            var a = r ? r[i] : i;
                            if (e(t[a], a, t)) return !0;
                          }
                          return !1;
                        }

                        function on(t, e, n, r) {
                          return (
                            Oe(t) || (t = At(t)),
                            ('number' != typeof n || r) && (n = 0),
                            $e(t, e, n) >= 0
                          );
                        }
                        const an = O(function (t, e, n) {
                          var r, o;
                          return (
                            B(e)
                              ? (o = e)
                              : ((e = Ut(e)),
                                (r = e.slice(0, -1)),
                                (e = e[e.length - 1])),
                            Ye(t, function (t) {
                              var i = o;
                              if (!i) {
                                if (
                                  (r && r.length && (t = Wt(t, r)), null == t)
                                )
                                  return;
                                i = t[e];
                              }
                              return null == i ? i : i.apply(t, n);
                            })
                          );
                        });

                        function sn(t, e) {
                          return Ye(t, Zt(e));
                        }

                        function ln(t, e) {
                          return tn(t, Kt(e));
                        }

                        function cn(t, e, n) {
                          var r,
                            o,
                            i = -1 / 0,
                            a = -1 / 0;
                          if (
                            null == e ||
                            ('number' == typeof e &&
                              'object' != typeof t[0] &&
                              null != t)
                          )
                            for (
                              var s = 0, l = (t = Oe(t) ? t : At(t)).length;
                              s < l;
                              s++
                            )
                              null != (r = t[s]) && r > i && (i = r);
                          else
                            (e = Qt(e, n)),
                              Ze(t, function (t, n, r) {
                                ((o = e(t, n, r)) > a ||
                                  (o === -1 / 0 && i === -1 / 0)) &&
                                  ((i = t), (a = o));
                              });
                          return i;
                        }

                        function un(t, e, n) {
                          var r,
                            o,
                            i = 1 / 0,
                            a = 1 / 0;
                          if (
                            null == e ||
                            ('number' == typeof e &&
                              'object' != typeof t[0] &&
                              null != t)
                          )
                            for (
                              var s = 0, l = (t = Oe(t) ? t : At(t)).length;
                              s < l;
                              s++
                            )
                              null != (r = t[s]) && r < i && (i = r);
                          else
                            (e = Qt(e, n)),
                              Ze(t, function (t, n, r) {
                                ((o = e(t, n, r)) < a ||
                                  (o === 1 / 0 && i === 1 / 0)) &&
                                  ((i = t), (a = o));
                              });
                          return i;
                        }
                        var pn =
                          /[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;

                        function dn(t) {
                          return t
                            ? q(t)
                              ? p.call(t)
                              : M(t)
                              ? t.match(pn)
                              : Oe(t)
                              ? Ye(t, qt)
                              : At(t)
                            : [];
                        }

                        function fn(t, e, n) {
                          if (null == e || n)
                            return Oe(t) || (t = At(t)), t[oe(t.length - 1)];
                          var r = dn(t),
                            o = at(r);
                          e = Math.max(Math.min(e, o), 0);
                          for (var i = o - 1, a = 0; a < e; a++) {
                            var s = oe(a, i),
                              l = r[a];
                            (r[a] = r[s]), (r[s] = l);
                          }
                          return r.slice(0, e);
                        }

                        function hn(t) {
                          return fn(t, 1 / 0);
                        }

                        function gn(t, e, n) {
                          var r = 0;
                          return (
                            (e = Qt(e, n)),
                            sn(
                              Ye(t, function (t, n, o) {
                                return {
                                  value: t,
                                  index: r++,
                                  criteria: e(t, n, o),
                                };
                              }).sort(function (t, e) {
                                var n = t.criteria,
                                  r = e.criteria;
                                if (n !== r) {
                                  if (n > r || void 0 === n) return 1;
                                  if (n < r || void 0 === r) return -1;
                                }
                                return t.index - e.index;
                              }),
                              'value'
                            )
                          );
                        }

                        function vn(t, e) {
                          return function (n, r, o) {
                            var i = e ? [[], []] : {};
                            return (
                              (r = Qt(r, o)),
                              Ze(n, function (e, o) {
                                var a = r(e, o, n);
                                t(i, e, a);
                              }),
                              i
                            );
                          };
                        }
                        const mn = vn(function (t, e, n) {
                            K(t, n) ? t[n].push(e) : (t[n] = [e]);
                          }),
                          yn = vn(function (t, e, n) {
                            t[n] = e;
                          }),
                          bn = vn(function (t, e, n) {
                            K(t, n) ? t[n]++ : (t[n] = 1);
                          }),
                          _n = vn(function (t, e, n) {
                            t[n ? 0 : 1].push(e);
                          }, !0);

                        function wn(t) {
                          return null == t
                            ? 0
                            : Oe(t)
                            ? t.length
                            : lt(t).length;
                        }

                        function xn(t, e, n) {
                          return e in n;
                        }
                        const Cn = O(function (t, e) {
                            var n = {},
                              r = e[0];
                            if (null == t) return n;
                            B(r)
                              ? (e.length > 1 && (r = Yt(r, e[1])), (e = mt(t)))
                              : ((r = xn),
                                (e = ke(e, !1, !1)),
                                (t = Object(t)));
                            for (var o = 0, i = e.length; o < i; o++) {
                              var a = e[o],
                                s = t[a];
                              r(s, a, t) && (n[a] = s);
                            }
                            return n;
                          }),
                          Sn = O(function (t, e) {
                            var n,
                              r = e[0];
                            return (
                              B(r)
                                ? ((r = De(r)), e.length > 1 && (n = e[1]))
                                : ((e = Ye(ke(e, !1, !1), String)),
                                  (r = function (t, n) {
                                    return !on(e, n);
                                  })),
                              Cn(t, r, n)
                            );
                          });

                        function On(t, e, n) {
                          return p.call(
                            t,
                            0,
                            Math.max(0, t.length - (null == e || n ? 1 : e))
                          );
                        }

                        function kn(t, e, n) {
                          return null == t || t.length < 1
                            ? null == e || n
                              ? void 0
                              : []
                            : null == e || n
                            ? t[0]
                            : On(t, t.length - e);
                        }

                        function Tn(t, e, n) {
                          return p.call(t, null == e || n ? 1 : e);
                        }

                        function En(t, e, n) {
                          return null == t || t.length < 1
                            ? null == e || n
                              ? void 0
                              : []
                            : null == e || n
                            ? t[t.length - 1]
                            : Tn(t, Math.max(0, t.length - e));
                        }

                        function Pn(t) {
                          return tn(t, Boolean);
                        }

                        function An(t, e) {
                          return ke(t, e, !1);
                        }
                        const jn = O(function (t, e) {
                            return (
                              (e = ke(e, !0, !0)),
                              tn(t, function (t) {
                                return !on(e, t);
                              })
                            );
                          }),
                          Mn = O(function (t, e) {
                            return jn(t, e);
                          });

                        function Ln(t, e, n, r) {
                          P(e) || ((r = n), (n = e), (e = !1)),
                            null != n && (n = Qt(n, r));
                          for (
                            var o = [], i = [], a = 0, s = at(t);
                            a < s;
                            a++
                          ) {
                            var l = t[a],
                              c = n ? n(l, a, t) : l;
                            e && !n
                              ? ((a && i === c) || o.push(l), (i = c))
                              : n
                              ? on(i, c) || (i.push(c), o.push(l))
                              : on(o, l) || o.push(l);
                          }
                          return o;
                        }
                        const Dn = O(function (t) {
                          return Ln(ke(t, !0, !0));
                        });

                        function Nn(t) {
                          for (
                            var e = [], n = arguments.length, r = 0, o = at(t);
                            r < o;
                            r++
                          ) {
                            var i = t[r];
                            if (!on(e, i)) {
                              var a;
                              for (a = 1; a < n && on(arguments[a], i); a++);
                              a === n && e.push(i);
                            }
                          }
                          return e;
                        }

                        function In(t) {
                          for (
                            var e = (t && cn(t, at).length) || 0,
                              n = Array(e),
                              r = 0;
                            r < e;
                            r++
                          )
                            n[r] = sn(t, r);
                          return n;
                        }
                        const Fn = O(In);

                        function Rn(t, e) {
                          for (var n = {}, r = 0, o = at(t); r < o; r++)
                            e ? (n[t[r]] = e[r]) : (n[t[r][0]] = t[r][1]);
                          return n;
                        }

                        function zn(t, e, n) {
                          null == e && ((e = t || 0), (t = 0)),
                            n || (n = e < t ? -1 : 1);
                          for (
                            var r = Math.max(Math.ceil((e - t) / n), 0),
                              o = Array(r),
                              i = 0;
                            i < r;
                            i++, t += n
                          )
                            o[i] = t;
                          return o;
                        }

                        function Vn(t, e) {
                          if (null == e || e < 1) return [];
                          for (var n = [], r = 0, o = t.length; r < o; )
                            n.push(p.call(t, r, (r += e)));
                          return n;
                        }

                        function Bn(t, e) {
                          return t._chain ? pt(e).chain() : e;
                        }

                        function Hn(t) {
                          return (
                            Ze(Lt(t), function (e) {
                              var n = (pt[e] = t[e]);
                              pt.prototype[e] = function () {
                                var t = [this._wrapped];
                                return (
                                  u.apply(t, arguments),
                                  Bn(this, n.apply(pt, t))
                                );
                              };
                            }),
                            pt
                          );
                        }
                        Ze(
                          [
                            'pop',
                            'push',
                            'reverse',
                            'shift',
                            'sort',
                            'splice',
                            'unshift',
                          ],
                          function (t) {
                            var e = s[t];
                            pt.prototype[t] = function () {
                              var n = this._wrapped;
                              return (
                                null != n &&
                                  (e.apply(n, arguments),
                                  ('shift' !== t && 'splice' !== t) ||
                                    0 !== n.length ||
                                    delete n[0]),
                                Bn(this, n)
                              );
                            };
                          }
                        ),
                          Ze(['concat', 'join', 'slice'], function (t) {
                            var e = s[t];
                            pt.prototype[t] = function () {
                              var t = this._wrapped;
                              return (
                                null != t && (t = e.apply(t, arguments)),
                                Bn(this, t)
                              );
                            };
                          });
                        const Un = pt;
                        var Wn = Hn(o);
                        Wn._ = Wn;
                        const $n = Wn;
                      },
                    },
                    e = {};

                  function r(n) {
                    var o = e[n];
                    if (void 0 !== o) return o.exports;
                    var i = (e[n] = {
                      exports: {},
                    });
                    return t[n].call(i.exports, i, i.exports, r), i.exports;
                  }
                  (r.n = (t) => {
                    var e = t && t.__esModule ? () => t['default'] : () => t;
                    return (
                      r.d(e, {
                        a: e,
                      }),
                      e
                    );
                  }),
                    (r.d = (t, e) => {
                      for (var n in e)
                        r.o(e, n) &&
                          !r.o(t, n) &&
                          Object.defineProperty(t, n, {
                            enumerable: !0,
                            get: e[n],
                          });
                    }),
                    (r.g = (function () {
                      if ('object' == typeof globalThis) return globalThis;
                      try {
                        return this || new Function('return this')();
                      } catch (t) {
                        if ('object' == typeof window) return window;
                      }
                    })()),
                    (r.o = (t, e) =>
                      Object.prototype.hasOwnProperty.call(t, e)),
                    (r.r = (t) => {
                      'undefined' != typeof Symbol &&
                        Symbol.toStringTag &&
                        Object.defineProperty(t, Symbol.toStringTag, {
                          value: 'Module',
                        }),
                        Object.defineProperty(t, '__esModule', {
                          value: !0,
                        });
                    });
                  var o = {};
                  return (
                    (() => {
                      'use strict';
                      r.d(o, {
                        default: () => wh,
                      });
                      var t = r(50),
                        e = r(895),
                        n = r(163);

                      function i(t) {
                        for (var e = [], r = 1; r < arguments.length; r++)
                          e[r - 1] = arguments[r];
                        var o = t.raw;
                        return o.reduce(function (t, r, i) {
                          var a = e[i - 1],
                            s = o[i - 1];
                          return (
                            Array.isArray(a)
                              ? (a = a.join(''))
                              : s && '$' === s.slice(-1)
                              ? (t = t.slice(0, -1))
                              : (a = (0, n.escape)(a)),
                            t + a + r
                          );
                        });
                      }
                      const a = {
                        stylePrefix: 'gjs-',
                        components: '',
                        style: '',
                        fromElement: !1,
                        projectData: void 0,
                        noticeOnUnload: !0,
                        showOffsets: !1,
                        showOffsetsSelected: !1,
                        forceClass: !0,
                        height: '900px',
                        width: '100%',
                        log: ['warning', 'error'],
                        baseCss: '',
                        protectedCss:
                          '* { box-sizing: border-box; } body {margin: 0;}',
                        canvasCss: '',
                        defaultCommand: 'select-comp',
                        showToolbar: !0,
                        showDevices: !0,
                        devicePreviewMode: !1,
                        mediaCondition: 'max-width',
                        tagVarStart: '{[ ',
                        tagVarEnd: ' ]}',
                        keepEmptyTextNodes: !1,
                        jsInHtml: !0,
                        nativeDnD: !0,
                        multipleSelection: !0,
                        optsHtml: {},
                        optsCss: {},
                        avoidInlineStyle: !0,
                        avoidDefaults: !0,
                        clearStyles: !1,
                        listenToEl: [],
                        cssIcons:
                          'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css',
                        icons: {
                          close:
                            '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',
                          move: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',
                          plus: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',
                          caret:
                            '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',
                          delete:
                            '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',
                          copy: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',
                          arrowUp:
                            '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',
                          chevron:
                            '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',
                          eye: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',
                          eyeOff:
                            '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>',
                        },
                        i18n: {},
                        undoManager: {},
                        assetManager: {},
                        canvas: {},
                        layerManager: {},
                        storageManager: {},
                        richTextEditor: {},
                        domComponents: {},
                        modal: {},
                        codeManager: {},
                        panels: {},
                        commands: {},
                        cssComposer: {},
                        selectorManager: {},
                        deviceManager: {},
                        styleManager: {},
                        blockManager: {},
                        traitManager: {},
                        textViewCode: 'Code',
                        keepUnusedStyles: !1,
                        multiFrames: !1,
                        customUI: !1,
                      };
                      var s,
                        l = r(316),
                        c = r.n(l),
                        u = r(346),
                        p =
                          (void 0 && (void 0).__extends) ||
                          ((s = function (t, e) {
                            return (
                              (s =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              s(t, e)
                            );
                          }),
                          function (t, e) {
                            if ('function' != typeof e && null !== e)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(e) +
                                  ' is not a constructor or null'
                              );

                            function n() {
                              this.constructor = t;
                            }
                            s(t, e),
                              (t.prototype =
                                null === e
                                  ? Object.create(e)
                                  : ((n.prototype = e.prototype), new n()));
                          }),
                        d = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return p(e, t), e;
                        })(u.Hn);
                      const f = (function (e) {
                        function n() {
                          return (
                            (null !== e && e.apply(this, arguments)) || this
                          );
                        }
                        return (
                          p(n, e),
                          (n.prototype.getByComponent = function (t) {
                            var e = this;
                            return this.filter(function (n) {
                              return e.getComponent(n) === t;
                            })[0];
                          }),
                          (n.prototype.addComponent = function (e, n) {
                            var r = this,
                              o = ((0, t.isArray)(e) ? e : [e])
                                .filter(function (t) {
                                  return !r.hasComponent(t);
                                })
                                .map(function (t) {
                                  return new d({
                                    component: t,
                                  });
                                })[0];
                            return this.push(o, n);
                          }),
                          (n.prototype.getComponent = function (t) {
                            return t.get('component');
                          }),
                          (n.prototype.hasComponent = function (t) {
                            var e = this.getByComponent(t);
                            return e && this.contains(e);
                          }),
                          (n.prototype.lastComponent = function () {
                            var t = this.last();
                            return t ? this.getComponent(t) : void 0;
                          }),
                          (n.prototype.allComponents = function () {
                            var t = this;
                            return this.map(function (e) {
                              return t.getComponent(e);
                            }).filter(function (t) {
                              return t;
                            });
                          }),
                          (n.prototype.removeComponent = function (e, n) {
                            var r = this,
                              o = ((0, t.isArray)(e) ? e : [e]).map(function (
                                t
                              ) {
                                return r.getByComponent(t);
                              });
                            return this.remove(o, n);
                          }),
                          n
                        );
                      })(u.FE);
                      var h =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        g =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (g =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              g.apply(this, arguments)
                            );
                          },
                        v =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        m = (function () {
                          function e(e, r, o) {
                            (this.cls = []),
                              (this.isPrivate = !1),
                              (this._em = e),
                              (this._name = r);
                            var i =
                                this.name.charAt(0).toLowerCase() +
                                this.name.slice(1),
                              a = (0, t.isUndefined)(e.config[i])
                                ? e.config[this.name]
                                : e.config[i],
                              s = !0 === a ? {} : a || {};
                            (s.pStylePrefix = e.config.pStylePrefix || ''),
                              (0, t.isUndefined)(a) || a || (s._disable = 1),
                              (s.em = e),
                              (this._config = (0, n.deepMerge)(o || {}, s));
                          }
                          return (
                            Object.defineProperty(e.prototype, 'em', {
                              get: function () {
                                return this._em;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(e.prototype, 'config', {
                              get: function () {
                                return this._config;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (e.prototype.init = function (t) {}),
                            (e.prototype.render = function (t) {}),
                            (e.prototype.postLoad = function (t) {}),
                            Object.defineProperty(e.prototype, 'name', {
                              get: function () {
                                return this._name;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (e.prototype.getConfig = function (t) {
                              return t ? this.config[t] : this.config;
                            }),
                            (e.prototype.__logWarn = function (t, e) {
                              void 0 === e && (e = {}),
                                this.em.logWarning(
                                  '['.concat(this.name, ']: ').concat(t),
                                  e
                                );
                            }),
                            (e.prototype.__appendTo = function () {
                              var e = this.getConfig().appendTo;
                              if (e) {
                                var n = (0, t.isElement)(e)
                                  ? e
                                  : document.querySelector(e);
                                if (!n)
                                  return this.__logWarn(
                                    '"appendTo" element not found'
                                  );
                                n.appendChild(this.render());
                              }
                            }),
                            e
                          );
                        })();
                      const y = m;
                      var b = (function (e) {
                        function r(t, n, r, o, i, a) {
                          void 0 === a && (a = {});
                          var s = e.call(this, t, n, i) || this;
                          return (
                            (s.cls = []),
                            (s.private = !1),
                            (s.all = r),
                            (s.events = o),
                            !a.skipListen && s.__initListen(),
                            s
                          );
                        }
                        return (
                          h(r, e),
                          (r.prototype.postLoad = function (t) {}),
                          (r.prototype.render = function (t) {}),
                          (r.prototype.getProjectData = function (t) {
                            var e = {},
                              n = this.storageKey;
                            return n && (e[n] = t || this.getAll()), e;
                          }),
                          (r.prototype.loadProjectData = function (t, e) {
                            void 0 === t && (t = {}), void 0 === e && (e = {});
                            var r = e.all,
                              o = e.onResult,
                              i = e.reset,
                              a = this.storageKey,
                              s = {
                                action: 'load',
                              },
                              l = r || this.all,
                              c = t[a];
                            if ('string' == typeof c)
                              try {
                                c = JSON.parse(c);
                              } catch (t) {
                                this.__logWarn('Data parsing failed', {
                                  input: c,
                                });
                              }
                            return (
                              i && c && l.reset(void 0, s),
                              o
                                ? c && o(c, s)
                                : c && (0, n.isDef)(c.length) && l.reset(c, s),
                              c
                            );
                          }),
                          (r.prototype.clear = function (t) {
                            void 0 === t && (t = {});
                            var e = this.all;
                            return e && e.reset(void 0, t), this;
                          }),
                          (r.prototype.getAll = function () {
                            return v([], this.all.models, !0);
                          }),
                          (r.prototype.getAllMap = function () {
                            return this.getAll().reduce(function (t, e) {
                              return (t[e.get(e.idAttribute)] = e), t;
                            }, {});
                          }),
                          (r.prototype.__initListen = function (t) {
                            void 0 === t && (t = {});
                            var e = this,
                              n = e.all,
                              r = e.em,
                              o = e.events;
                            n &&
                              r &&
                              n
                                .on('add', function (t, e, n) {
                                  return r.trigger(o.add, t, n);
                                })
                                .on('remove', function (t, e, n) {
                                  return r.trigger(o.remove, t, n);
                                })
                                .on('change', function (t, e) {
                                  return r.trigger(
                                    o.update,
                                    t,
                                    t.changedAttributes(),
                                    e
                                  );
                                })
                                .on('all', this.__catchAllEvent, this),
                              (this.cls = [n].concat(t.collections || [])),
                              (t.propagate || []).forEach(function (t) {
                                var e = t.entity,
                                  o = t.event;
                                e.on('all', function (t, e, i, a) {
                                  var s = g(
                                    {
                                      event: t,
                                    },
                                    a || i
                                  );
                                  [r, n].map(function (t) {
                                    return t.trigger(o, e, s);
                                  });
                                });
                              });
                          }),
                          (r.prototype.__remove = function (e, n) {
                            var r = this;
                            void 0 === n && (n = {});
                            var o = this.em,
                              i = (0, t.isString)(e) ? this.get(e) : e,
                              a = function () {
                                return i && r.all.remove(i, n), i;
                              };
                            return (
                              !n.silent &&
                                (null == o ||
                                  o.trigger(this.events.removeBefore, i, a, n)),
                              !n.abort && a()
                            );
                          }),
                          (r.prototype.__catchAllEvent = function (t, e, n, r) {
                            var o = this.em,
                              i = this.events,
                              a = r || n;
                            o &&
                              i.all &&
                              o.trigger(i.all, {
                                event: t,
                                model: e,
                                options: a,
                              }),
                              this.__onAllEvent();
                          }),
                          (r.prototype.__appendTo = function (e) {
                            var n = this.config.appendTo;
                            if (n) {
                              var r = (0, t.isElement)(n)
                                ? n
                                : document.querySelector(n);
                              if (!r)
                                return this.__logWarn(
                                  '"appendTo" element not found'
                                );
                              r.appendChild(this.render(e));
                            }
                          }),
                          (r.prototype.__onAllEvent = function () {}),
                          (r.prototype._createId = function (t) {
                            void 0 === t && (t = 16);
                            var e,
                              r = this.getAll().length + t,
                              o = this.getAllMap();
                            do {
                              e = (0, n.createId)(r);
                            } while (o[e]);
                            return e;
                          }),
                          (r.prototype.__listenAdd = function (t, e) {
                            var n = this;
                            t.on('add', function (t, r, o) {
                              return n.em.trigger(e, t, o);
                            });
                          }),
                          (r.prototype.__listenRemove = function (t, e) {
                            var n = this;
                            t.on('remove', function (t, r, o) {
                              return n.em.trigger(e, t, o);
                            });
                          }),
                          (r.prototype.__listenUpdate = function (t, e) {
                            var n = this;
                            t.on('change', function (t, r) {
                              return n.em.trigger(
                                e,
                                t,
                                t.changedAttributes(),
                                r
                              );
                            });
                          }),
                          (r.prototype.__destroy = function () {
                            var t;
                            this.cls.forEach(function (t) {
                              t.stopListening(), t.reset();
                            }),
                              null === (t = this.view) ||
                                void 0 === t ||
                                t.remove(),
                              (this.view = void 0);
                          }),
                          r
                        );
                      })(m);
                      const _ = {
                        stylePrefix: 'cv-',
                        scripts: [],
                        styles: [],
                        customBadgeLabel: void 0,
                        autoscrollLimit: 50,
                        extHl: !1,
                        frameContent: '<!DOCTYPE html>',
                        frameStyle:
                          '\n    body { background-color: #fff }\n    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }\n    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }\n    * ::-webkit-scrollbar { width: 10px }\n  ',
                        notTextable: [
                          'button',
                          'a',
                          'input[type=checkbox]',
                          'input[type=radio]',
                        ],
                      };
                      var w =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const x = (function (t) {
                        function e(e, n, r) {
                          var o = t.call(this, n, r) || this;
                          return (o._module = e), o;
                        }
                        return (
                          w(e, t),
                          Object.defineProperty(e.prototype, 'module', {
                            get: function () {
                              return this._module;
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'config', {
                            get: function () {
                              return this._module.config;
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'em', {
                            get: function () {
                              return this._module.em;
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          e
                        );
                      })(u.Hn);
                      var C =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const S = (function (e) {
                        function n(t, n, r) {
                          return (
                            e.call(this, n, {
                              module: t,
                              modelConstructor: r,
                            }) || this
                          );
                        }
                        return (
                          C(n, e),
                          (n.prototype.add = function (n, r) {
                            var o,
                              i = this,
                              a = (0, t.isArray)(n)
                                ? n
                                : (0, t.isUndefined)(n)
                                ? void 0
                                : [n];
                            return (
                              (a =
                                null !==
                                  (o =
                                    null == a
                                      ? void 0
                                      : a.map(function (t) {
                                          return t instanceof i.newModel
                                            ? t
                                            : new i.newModel(i.module, t);
                                        })) && void 0 !== o
                                  ? o
                                  : [void 0]),
                              e.prototype.add.call(
                                this,
                                (0, t.isArray)(n) ? a : a[0],
                                r
                              )
                            );
                          }),
                          (n.prototype.preinitialize = function (t, e) {
                            (this.newModel = e.modelConstructor),
                              (this.module = e.module);
                          }),
                          n
                        );
                      })(u.FE);
                      var O =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        k =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (k =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              k.apply(this, arguments)
                            );
                          },
                        T =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        E = '__aw',
                        P = '__ah',
                        A = (function (e) {
                          function r(r, o) {
                            var i = e.call(this, r, o) || this,
                              a = i.em,
                              s = i.attributes,
                              l = s.styles,
                              c = s.component,
                              u = a.Components,
                              p = u.getConfig(),
                              d = a.Css.getAll(),
                              f = {},
                              h = {
                                em: a,
                                config: p,
                                frame: i,
                                idMap: f,
                              };
                            if (!(0, n.isComponent)(c)) {
                              var g = (0, n.isObject)(c)
                                ? c
                                : {
                                    components: c,
                                  };
                              !g.type && (g.type = 'wrapper');
                              var v = u.getType('wrapper').model;
                              i.set('component', new v(g, h));
                            }
                            return (
                              l
                                ? (0, n.isObject)(l) ||
                                  (Object.keys(f).length &&
                                    Array.isArray(l) &&
                                    l.forEach(function (e) {
                                      var n = e.selectors;
                                      if (n && 1 == n.length) {
                                        var r = n[0],
                                          o = r.name && 2 === r.type && r;
                                        if (o && f[o.name]) o.name = f[o.name];
                                        else if (
                                          (0, t.isString)(r) &&
                                          '#' === r[0]
                                        ) {
                                          var i = r.substring(1);
                                          i &&
                                            f[i] &&
                                            (n[0] = '#'.concat(f[i]));
                                        }
                                      }
                                    }),
                                  d.add(l),
                                  i.set('styles', d))
                                : i.set('styles', d),
                              !o.width && i.set(E, 1),
                              !o.height && i.set(P, 1),
                              i
                            );
                          }
                          return (
                            O(r, e),
                            (r.prototype.defaults = function () {
                              return {
                                x: 0,
                                y: 0,
                                changesCount: 0,
                                attributes: {},
                                width: null,
                                height: null,
                                head: [],
                                component: '',
                                styles: '',
                                _undo: !0,
                                _undoexc: ['changesCount'],
                              };
                            }),
                            Object.defineProperty(r.prototype, 'head', {
                              get: function () {
                                return this.get('head');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (r.prototype.onRemove = function () {
                              this.getComponent().remove({
                                root: 1,
                              });
                            }),
                            (r.prototype.changesUp = function (t) {
                              void 0 === t && (t = {}),
                                t.temporary ||
                                  t.noCount ||
                                  t.avoidStore ||
                                  this.set(
                                    'changesCount',
                                    this.get('changesCount') + 1
                                  );
                            }),
                            (r.prototype.getComponent = function () {
                              return this.get('component');
                            }),
                            (r.prototype.getStyles = function () {
                              return this.get('styles');
                            }),
                            (r.prototype.disable = function () {
                              this.trigger('disable');
                            }),
                            (r.prototype.remove = function () {
                              this.view = void 0;
                              var t = this.collection;
                              return t && t.remove(this);
                            }),
                            (r.prototype.getHead = function () {
                              return T([], this.head, !0);
                            }),
                            (r.prototype.setHead = function (t) {
                              return this.set('head', T([], t, !0));
                            }),
                            (r.prototype.addHeadItem = function (t) {
                              this.head.push(t);
                            }),
                            (r.prototype.getHeadByAttr = function (t, e, n) {
                              return this.head.filter(function (r) {
                                return (
                                  r.attributes &&
                                  r.attributes[t] == e &&
                                  (!n || n === r.tag)
                                );
                              })[0];
                            }),
                            (r.prototype.removeHeadByAttr = function (t, e, n) {
                              var r = this.getHeadByAttr(t, e, n),
                                o = this.head.indexOf(r);
                              o >= 0 && this.head.splice(o, 1);
                            }),
                            (r.prototype.addLink = function (t) {
                              var e = 'link';
                              !this.getHeadByAttr('href', t, e) &&
                                this.addHeadItem({
                                  tag: e,
                                  attributes: {
                                    href: t,
                                    rel: 'stylesheet',
                                  },
                                });
                            }),
                            (r.prototype.removeLink = function (t) {
                              this.removeHeadByAttr('href', t, 'link');
                            }),
                            (r.prototype.addScript = function (t) {
                              var e = 'script';
                              !this.getHeadByAttr('src', t, e) &&
                                this.addHeadItem({
                                  tag: e,
                                  attributes: {
                                    src: t,
                                  },
                                });
                            }),
                            (r.prototype.removeScript = function (t) {
                              this.removeHeadByAttr('src', t, 'script');
                            }),
                            (r.prototype.getPage = function () {
                              var t;
                              return null === (t = this.collection) ||
                                void 0 === t
                                ? void 0
                                : t.page;
                            }),
                            (r.prototype._emitUpdated = function (t) {
                              void 0 === t && (t = {}),
                                this.em.trigger(
                                  'frame:updated',
                                  k(
                                    {
                                      frame: this,
                                    },
                                    t
                                  )
                                );
                            }),
                            (r.prototype.toJSON = function (e) {
                              void 0 === e && (e = {});
                              var n = x.prototype.toJSON.call(this, e),
                                r = (0, t.result)(this, 'defaults');
                              return (
                                e.fromUndo && delete n.component,
                                delete n.styles,
                                delete n.changesCount,
                                n[E] && delete n.width,
                                n[P] && delete n.height,
                                (0, t.forEach)(n, function (t, e) {
                                  0 === e.indexOf('_') && delete n[e];
                                }),
                                (0, t.forEach)(r, function (t, e) {
                                  n[e] === t && delete n[e];
                                }),
                                (0, t.forEach)(
                                  ['attributes', 'head'],
                                  function (e) {
                                    (0, t.isEmpty)(n[e]) && delete n[e];
                                  }
                                ),
                                n
                              );
                            }),
                            r
                          );
                        })(x);
                      const j = A;
                      var M =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const L = (function (e) {
                        function n(n, r) {
                          void 0 === r && (r = []);
                          var o = e.call(this, n, r, j) || this;
                          return (
                            (o.loadedItems = 0),
                            (o.itemsToLoad = 0),
                            (0, t.bindAll)(o, 'itemLoaded'),
                            o.on('reset', o.onReset),
                            o.on('remove', o.onRemove),
                            o
                          );
                        }
                        return (
                          M(n, e),
                          (n.prototype.onReset = function (t, e) {
                            var n = this;
                            ((null == e ? void 0 : e.previousModels) || []).map(
                              function (t) {
                                return n.onRemove(t);
                              }
                            );
                          }),
                          (n.prototype.onRemove = function (t) {
                            null == t || t.onRemove();
                          }),
                          (n.prototype.itemLoaded = function () {
                            this.loadedItems++,
                              this.loadedItems >= this.itemsToLoad &&
                                (this.trigger('loaded:all'),
                                this.listenToLoadItems(!1));
                          }),
                          (n.prototype.listenToLoad = function () {
                            (this.loadedItems = 0),
                              (this.itemsToLoad = this.length),
                              this.listenToLoadItems(!0);
                          }),
                          (n.prototype.listenToLoadItems = function (t) {
                            var e = this;
                            this.forEach(function (n) {
                              return n[t ? 'on' : 'off'](
                                'loaded',
                                e.itemLoaded
                              );
                            });
                          }),
                          n
                        );
                      })(S);
                      var D =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const N = (function (e) {
                        function n(t, n) {
                          void 0 === n && (n = {});
                          var r = e.call(this, t, n) || this,
                            o = n.em,
                            i = {};
                          (r.em = o),
                            t.frames ||
                              ((i.component = t.component),
                              (i.styles = t.styles),
                              ['component', 'styles'].map(function (t) {
                                return r.unset(t);
                              }));
                          var a = t.frames || [i],
                            s = new L(o.Canvas, a);
                          (s.page = r),
                            r.set('frames', s),
                            !r.getId() &&
                              r.set(
                                'id',
                                null == o
                                  ? void 0
                                  : o.get('PageManager')._createId()
                              );
                          var l = null == o ? void 0 : o.get('UndoManager');
                          return null == l || l.add(s), r;
                        }
                        return (
                          D(n, e),
                          (n.prototype.defaults = function () {
                            return {
                              frames: [],
                              _undo: !0,
                            };
                          }),
                          (n.prototype.onRemove = function () {
                            this.getFrames().reset();
                          }),
                          (n.prototype.getFrames = function () {
                            return this.get('frames');
                          }),
                          (n.prototype.getId = function () {
                            return this.id;
                          }),
                          (n.prototype.getName = function () {
                            return this.get('name');
                          }),
                          (n.prototype.setName = function (t) {
                            return this.set({
                              name: t,
                            });
                          }),
                          (n.prototype.getAllFrames = function () {
                            return this.getFrames().models || [];
                          }),
                          (n.prototype.getMainFrame = function () {
                            return this.getFrames().at(0);
                          }),
                          (n.prototype.getMainComponent = function () {
                            var t = this.getMainFrame();
                            return null == t ? void 0 : t.getComponent();
                          }),
                          (n.prototype.toJSON = function (e) {
                            void 0 === e && (e = {});
                            var n = u.Hn.prototype.toJSON.call(this, e),
                              r = (0, t.result)(this, 'defaults');
                            return (
                              (0, t.forEach)(n, function (t, e) {
                                0 === e.indexOf('_') && delete n[e];
                              }),
                              (0, t.forEach)(r, function (t, e) {
                                n[e] === t && delete n[e];
                              }),
                              n
                            );
                          }),
                          n
                        );
                      })(u.Hn);
                      var I =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        F =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (F =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              F.apply(this, arguments)
                            );
                          };
                      const R = (function (t) {
                        function e(e, n) {
                          var r = t.call(this, e) || this;
                          return (
                            r.on('reset', r.onReset),
                            r.on('remove', r.onRemove),
                            (r.model = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                new N(
                                  t,
                                  F(F({}, e), {
                                    em: n,
                                  })
                                )
                              );
                            }),
                            r
                          );
                        }
                        return (
                          I(e, t),
                          (e.prototype.onReset = function (t, e) {
                            var n,
                              r = this;
                            null ===
                              (n = null == e ? void 0 : e.previousModels) ||
                              void 0 === n ||
                              n.map(function (t) {
                                return r.onRemove(t);
                              });
                          }),
                          (e.prototype.onRemove = function (t) {
                            null == t || t.onRemove();
                          }),
                          e
                        );
                      })(u.FE);
                      var z =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        V =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        B = 'page',
                        H = ''.concat(B, ':'),
                        U = ''.concat(H, 'select'),
                        W = ''.concat(U, ':before'),
                        $ = ''.concat(H, 'update'),
                        G = ''.concat(H, 'add'),
                        q = ''.concat(G, ':before'),
                        K = ''.concat(H, 'remove'),
                        Z = ''.concat(K, ':before'),
                        Y = 'change:selected',
                        X = 'main',
                        J = {
                          all: B,
                          select: U,
                          selectBefore: W,
                          update: $,
                          add: G,
                          addBefore: q,
                          remove: K,
                          removeBefore: Z,
                        },
                        Q = (function (e) {
                          function r(n) {
                            var r =
                              e.call(this, n, 'PageManager', new R([], n), J) ||
                              this;
                            (r.storageKey = 'pages'),
                              (0, t.bindAll)(r, '_onPageChange');
                            var o = new x({
                              _undo: !0,
                            });
                            return (
                              (r.model = o),
                              r.pages.on('reset', function (t) {
                                return t.at(0) && r.select(t.at(0));
                              }),
                              r.pages.on('all', r.__onChange, r),
                              o.on(Y, r._onPageChange),
                              r
                            );
                          }
                          return (
                            z(r, e),
                            Object.defineProperty(r.prototype, 'pages', {
                              get: function () {
                                return this.all;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (r.prototype.getAll = function () {
                              return V([], this.all.models, !0);
                            }),
                            (r.prototype.__onChange = function (t, e, n, r) {
                              var o = r || n;
                              this.em.trigger(B, {
                                event: t,
                                page: e,
                                options: o,
                              });
                            }),
                            (r.prototype.onLoad = function () {
                              var t,
                                e = this,
                                n = this.pages,
                                r = {
                                  silent: !0,
                                };
                              n.add(
                                (null === (t = this.config.pages) ||
                                void 0 === t
                                  ? void 0
                                  : t.map(function (t) {
                                      return new N(t, {
                                        em: e.em,
                                        config: e.config,
                                      });
                                    })) || [],
                                r
                              );
                              var o = n.length
                                ? this.getMain()
                                : this.add(
                                    {
                                      type: X,
                                    },
                                    r
                                  );
                              o && this.select(o, r);
                            }),
                            (r.prototype._onPageChange = function (t, e, n) {
                              var r = this.em,
                                o = r.Layers,
                                i = e.getMainComponent();
                              o && i && o.setRoot(i),
                                r.trigger(U, e, t.previous('selected')),
                                this.__onChange(Y, e, n);
                            }),
                            (r.prototype.postLoad = function () {
                              var t = this,
                                e = t.em,
                                n = t.model,
                                r = t.pages,
                                o = e.UndoManager;
                              o.add(n),
                                o.add(r),
                                r.on(
                                  'add remove reset change',
                                  function (t, n, r) {
                                    return e.changesUp(r || n);
                                  }
                                );
                            }),
                            (r.prototype.add = function (t, e) {
                              var n = this;
                              void 0 === e && (e = {});
                              var r = this.em;
                              t.id = t.id || this._createId();
                              var o = function () {
                                var r = n.pages.add(
                                  new N(t, {
                                    em: n.em,
                                    config: n.config,
                                  }),
                                  e
                                );
                                return e.select && n.select(r), r;
                              };
                              return (
                                !e.silent && r.trigger(q, t, o, e),
                                !e.abort && o()
                              );
                            }),
                            (r.prototype.remove = function (e, n) {
                              var r = this;
                              void 0 === n && (n = {});
                              var o = this.em,
                                i = (0, t.isString)(e) ? this.get(e) : e,
                                a = function () {
                                  return i && r.pages.remove(i, n), i;
                                };
                              return (
                                !n.silent && o.trigger(Z, i, a, n),
                                !n.abort && a()
                              );
                            }),
                            (r.prototype.get = function (t) {
                              return this.pages.filter(function (e) {
                                return e.get(e.idAttribute) === t;
                              })[0];
                            }),
                            (r.prototype.getMain = function () {
                              var t = this.pages;
                              return (
                                t.filter(function (t) {
                                  return t.get('type') === X;
                                })[0] || t.at(0)
                              );
                            }),
                            (r.prototype.getAllWrappers = function () {
                              var e = this.getAll();
                              return (0, t.unique)(
                                (0, t.flatten)(
                                  e.map(function (t) {
                                    return t.getAllFrames().map(function (t) {
                                      return t.getComponent();
                                    });
                                  })
                                )
                              );
                            }),
                            (r.prototype.select = function (e, n) {
                              void 0 === n && (n = {});
                              var r = (0, t.isString)(e) ? this.get(e) : e;
                              return (
                                r &&
                                  (this.em.trigger(W, r, n),
                                  this.model.set('selected', r, n)),
                                this
                              );
                            }),
                            (r.prototype.getSelected = function () {
                              return this.model.get('selected');
                            }),
                            (r.prototype.destroy = function () {
                              var t = this;
                              this.pages.off().reset(),
                                this.model.stopListening(),
                                this.model.clear({
                                  silent: !0,
                                }),
                                ['selected', 'model'].map(function (e) {
                                  return (t[e] = 0);
                                });
                            }),
                            (r.prototype.store = function () {
                              return this.getProjectData();
                            }),
                            (r.prototype.load = function (t) {
                              return this.loadProjectData(t, {
                                all: this.pages,
                                reset: !0,
                              });
                            }),
                            (r.prototype._createId = function () {
                              var t,
                                e = this.getAll().length + 16,
                                r = this.getAllMap();
                              do {
                                t = (0, n.createId)(e);
                              } while (r[t]);
                              return t;
                            }),
                            r
                          );
                        })(b);
                      const tt = Q,
                        et = {
                          default: '',
                          devices: [
                            {
                              id: 'desktop',
                              name: 'Desktop',
                              width: '',
                            },
                            {
                              id: 'tablet',
                              name: 'Tablet',
                              width: '770px',
                              widthMedia: '992px',
                            },
                            {
                              id: 'mobileLandscape',
                              name: 'Mobile landscape',
                              width: '568px',
                              widthMedia: '768px',
                            },
                            {
                              id: 'mobilePortrait',
                              name: 'Mobile portrait',
                              width: '320px',
                              widthMedia: '480px',
                            },
                          ],
                        };
                      var nt =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const rt = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          nt(e, t),
                          (e.prototype.defaults = function () {
                            return {
                              name: '',
                              width: null,
                              height: '',
                              widthMedia: null,
                              priority: null,
                            };
                          }),
                          (e.prototype.initialize = function () {
                            var t = this;
                            null === this.get('widthMedia') &&
                              this.set('widthMedia', this.get('width')),
                              null === this.get('width') &&
                                this.set('width', this.get('widthMedia')),
                              !this.get('priority') &&
                                this.set(
                                  'priority',
                                  parseFloat(this.get('widthMedia')) || 0
                                ),
                              ['width', 'height', 'widthMedia'].forEach(
                                function (e) {
                                  return t.checkUnit(e);
                                }
                              );
                          }),
                          (e.prototype.checkUnit = function (t) {
                            var e = this.get(t) || '';
                            (parseFloat(e) || 0).toString() === e.toString() &&
                              this.set(t, ''.concat(e, 'px'));
                          }),
                          (e.prototype.getName = function () {
                            return this.get('name') || this.get('id');
                          }),
                          (e.prototype.getWidthMedia = function () {
                            return this.get('widthMedia') || '';
                          }),
                          e
                        );
                      })(u.Hn);
                      var ot =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        it = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return ot(e, t), e;
                        })(u.FE);
                      const at = it;
                      it.prototype.model = rt;
                      var st =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        lt =
                          (void 0 && (void 0).__makeTemplateObject) ||
                          function (t, e) {
                            return (
                              Object.defineProperty
                                ? Object.defineProperty(t, 'raw', {
                                    value: e,
                                  })
                                : (t.raw = e),
                              t
                            );
                          };
                      const ct = (function (t) {
                        function e(e) {
                          var n = t.call(this, e) || this;
                          return (
                            (n.config = e.config || {}),
                            (n.em = n.config.em),
                            (n.ppfx = n.config.pStylePrefix || ''),
                            n.listenTo(n.em, 'change:device', n.updateSelect),
                            n
                          );
                        }
                        return (
                          st(e, t),
                          (e.prototype.template = function (t) {
                            var e = t.ppfx,
                              n = t.label;
                            return i(
                              ut ||
                                (ut = lt(
                                  [
                                    '\n      <div class="',
                                    'device-label">',
                                    '</div>\n      <div class="',
                                    'field ',
                                    'select">\n        <span id="',
                                    'input-holder">\n          <select class="',
                                    'devices"></select>\n        </span>\n        <div class="',
                                    'sel-arrow">\n          <div class="',
                                    'd-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="',
                                    'add-trasp" data-add-trasp>+</button>\n    ',
                                  ],
                                  [
                                    '\n      <div class="',
                                    'device-label">',
                                    '</div>\n      <div class="',
                                    'field ',
                                    'select">\n        <span id="',
                                    'input-holder">\n          <select class="',
                                    'devices"></select>\n        </span>\n        <div class="',
                                    'sel-arrow">\n          <div class="',
                                    'd-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="',
                                    'add-trasp" data-add-trasp>+</button>\n    ',
                                  ]
                                )),
                              e,
                              n,
                              e,
                              e,
                              e,
                              e,
                              e,
                              e,
                              e
                            );
                          }),
                          (e.prototype.events = function () {
                            return {
                              change: 'updateDevice',
                              'click [data-add-trasp]': 'startAdd',
                            };
                          }),
                          (e.prototype.startAdd = function () {}),
                          (e.prototype.updateDevice = function () {
                            var t = this.em;
                            if (t) {
                              var e = this.devicesEl;
                              t.set('device', e ? e.val() : '');
                            }
                          }),
                          (e.prototype.updateSelect = function () {
                            var t = this.em,
                              e = this.devicesEl;
                            if (t && t.getDeviceModel && e) {
                              var n = t.getDeviceModel();
                              e.val(n ? n.get('id') : '');
                            }
                          }),
                          (e.prototype.getOptions = function () {
                            var t = this.collection,
                              e = this.em,
                              n = '';
                            return (
                              t.forEach(function (t) {
                                var r = t.attributes,
                                  o = r.name,
                                  i = r.id,
                                  a =
                                    (e &&
                                      e.t &&
                                      e.t(
                                        'deviceManager.devices.'.concat(i)
                                      )) ||
                                    o;
                                n += '<option value="'
                                  .concat(i || o, '">')
                                  .concat(a, '</option>');
                              }),
                              n
                            );
                          }),
                          (e.prototype.render = function () {
                            var t = this,
                              e = t.em,
                              n = t.ppfx,
                              r = t.$el,
                              o = t.el,
                              i = e && e.t && e.t('deviceManager.device');
                            return (
                              r.html(
                                this.template({
                                  ppfx: n,
                                  label: i,
                                })
                              ),
                              (this.devicesEl = r.find(
                                '.'.concat(n, 'devices')
                              )),
                              this.devicesEl.append(this.getOptions()),
                              this.devicesEl.val(e.get('device')),
                              (o.className = ''.concat(n, 'devices-c')),
                              this
                            );
                          }),
                          e
                        );
                      })(u.G7);
                      var ut,
                        pt =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        dt =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (dt =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              dt.apply(this, arguments)
                            );
                          },
                        ft = 'device',
                        ht = ''.concat(ft, ':'),
                        gt = ''.concat(ht, 'select'),
                        vt =
                          (''.concat(gt, ':before'), ''.concat(ht, 'update')),
                        mt = ''.concat(ht, 'add'),
                        yt =
                          (''.concat(mt, ':before'), ''.concat(ht, 'remove')),
                        bt = ''.concat(yt, ':before'),
                        _t = 'change:device',
                        wt = {
                          all: ft,
                          select: gt,
                          update: vt,
                          add: mt,
                          remove: yt,
                          removeBefore: bt,
                        },
                        xt = (function (e) {
                          function n(t) {
                            var n,
                              r = this;
                            return (
                              ((r =
                                e.call(
                                  this,
                                  t,
                                  'DeviceManager',
                                  new at(),
                                  wt,
                                  et
                                ) || this).Device = rt),
                              (r.Devices = at),
                              (r.storageKey = ''),
                              (r.devices = r.all),
                              null === (n = r.config.devices) ||
                                void 0 === n ||
                                n.forEach(function (t) {
                                  return r.add(t, {
                                    silent: !0,
                                  });
                                }),
                              r.select(r.config.default || r.devices.at(0)),
                              t.on(_t, r._onSelect, r),
                              r
                            );
                          }
                          return (
                            pt(n, e),
                            (n.prototype._onSelect = function (t, e, n) {
                              var r = this.em,
                                o = this.events,
                                i = t.previous('device'),
                                a = this.get(e),
                                s = o.select;
                              r.trigger(s, a, this.get(i)),
                                this.__catchAllEvent(s, a, n);
                            }),
                            (n.prototype.add = function (e, n) {
                              var r;
                              void 0 === n && (n = {});
                              var o = n;
                              if ((0, t.isString)(e)) {
                                var i = n;
                                r = dt(dt({}, (o = arguments[2] || {})), {
                                  id: e,
                                  name: o.name || e,
                                  width: i,
                                });
                              } else r = e;
                              return (
                                r.id || (r.id = r.name || this._createId()),
                                this.devices.add(r, o)
                              );
                            }),
                            (n.prototype.get = function (t) {
                              return (
                                this.getAll().filter(function (e) {
                                  return e.get('name') === t;
                                })[0] ||
                                this.devices.get(t) ||
                                null
                              );
                            }),
                            (n.prototype.remove = function (t, e) {
                              return (
                                void 0 === e && (e = {}), this.__remove(t, e)
                              );
                            }),
                            (n.prototype.getDevices = function () {
                              return this.devices.models;
                            }),
                            (n.prototype.select = function (e, n) {
                              void 0 === n && (n = {});
                              var r = (0, t.isString)(e) ? this.get(e) : e;
                              return (
                                r && this.em.set('device', r.get('id'), n), this
                              );
                            }),
                            (n.prototype.getSelected = function () {
                              return this.get(this.em.get('device'));
                            }),
                            (n.prototype.getAll = function () {
                              return this.devices;
                            }),
                            (n.prototype.render = function () {
                              var t,
                                e = this.em;
                              return (
                                null === (t = this.view) ||
                                  void 0 === t ||
                                  t.remove(),
                                (this.view = new ct({
                                  collection: this.devices,
                                  config: dt(
                                    {
                                      em: e,
                                    },
                                    this.config
                                  ),
                                })),
                                this.view.render().el
                              );
                            }),
                            (n.prototype.destroy = function () {
                              this.__destroy();
                            }),
                            n
                          );
                        })(b);
                      const Ct = xt;
                      var St =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ot = (function (t) {
                          function e(e) {
                            var n = this,
                              r = e.em,
                              o = e.config,
                              i = o.scripts,
                              a = o.styles;
                            return (
                              (n =
                                t.call(this, e, {
                                  scripts: i,
                                  styles: a,
                                }) || this).set('frames', new L(e)),
                              n.listenTo(n, 'change:zoom', n.onZoomChange),
                              n.listenTo(
                                r,
                                'change:device '.concat(vt),
                                n.updateDevice
                              ),
                              n.listenTo(r, U, n._pageUpdated),
                              n
                            );
                          }
                          return (
                            St(e, t),
                            (e.prototype.defaults = function () {
                              return {
                                frame: '',
                                frames: [],
                                rulers: !1,
                                zoom: 100,
                                x: 0,
                                y: 0,
                                scripts: [],
                                styles: [],
                              };
                            }),
                            Object.defineProperty(e.prototype, 'frames', {
                              get: function () {
                                return this.get('frames');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (e.prototype.init = function () {
                              var t = this.em.Pages.getMain();
                              this.set('frames', t.getFrames()),
                                this.updateDevice({
                                  frame: t.getMainFrame(),
                                });
                            }),
                            (e.prototype._pageUpdated = function (t, e) {
                              var n = this.em;
                              n.setSelected(),
                                n.get('readyCanvas') && n.stopDefault(),
                                null == e ||
                                  e.getFrames().map(function (t) {
                                    return t.disable();
                                  }),
                                this.set('frames', t.getFrames()),
                                this.updateDevice({
                                  frame: t.getMainFrame(),
                                });
                            }),
                            (e.prototype.updateDevice = function (t) {
                              void 0 === t && (t = {});
                              var e = this.em,
                                n = e.getDeviceModel(),
                                r = t.frame || e.getCurrentFrameModel();
                              if (r && n) {
                                var o = n.attributes,
                                  i = o.width,
                                  a = o.height;
                                r.set(
                                  {
                                    width: i,
                                    height: a,
                                  },
                                  {
                                    noUndo: 1,
                                  }
                                );
                              }
                            }),
                            (e.prototype.onZoomChange = function () {
                              this.get('zoom') < 1 && this.set('zoom', 1);
                            }),
                            e
                          );
                        })(x);
                      const kt = Ot;
                      var Tt =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Et = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Tt(e, t),
                          Object.defineProperty(e.prototype, 'pfx', {
                            get: function () {
                              return this.ppfx + this.config.stylePrefix || '';
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'ppfx', {
                            get: function () {
                              return this.em.config.stylePrefix || '';
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'module', {
                            get: function () {
                              var t, e;
                              return null !==
                                (e =
                                  null === (t = this.model) || void 0 === t
                                    ? void 0
                                    : t.module) && void 0 !== e
                                ? e
                                : this.collection.module;
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'em', {
                            get: function () {
                              return this.module.em;
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'config', {
                            get: function () {
                              return this.module.config;
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.prototype.preinitialize = function (t) {
                            this.className = '';
                          }),
                          e
                        );
                      })(u.G7);
                      var Pt = r(491),
                        At =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })();
                      const jt = (function (t) {
                        function e(e, n) {
                          void 0 === e && (e = {}), void 0 === n && (n = !1);
                          var r = t.call(this, e) || this;
                          return (
                            (r.itemsView = ''),
                            (r.itemType = 'type'),
                            (r.reuseView = !1),
                            (r.viewCollection = []),
                            n && r.listenTo(r.collection, 'add', r.addTo),
                            r
                          );
                        }
                        return (
                          At(e, t),
                          (e.prototype.addTo = function (t) {
                            this.add(t);
                          }),
                          (e.prototype.itemViewNotFound = function (t) {}),
                          (e.prototype.add = function (t, e) {
                            var n,
                              r = this,
                              o = r.reuseView,
                              i = r.viewCollection,
                              a = (r.itemsView, e || null),
                              s = t.get(this.itemType);
                            (n = t.view && o ? t.view : this.renderView(t, s)),
                              i.push(n);
                            var l = n.render().el;
                            a ? a.appendChild(l) : this.$el.append(l);
                          }),
                          (e.prototype.render = function () {
                            var t = this,
                              e = document.createDocumentFragment();
                            return (
                              this.clearItems(),
                              this.$el.empty(),
                              this.collection.length &&
                                this.collection.each(function (n) {
                                  return t.add(n, e);
                                }),
                              this.$el.append(e),
                              this.onRender(),
                              this
                            );
                          }),
                          (e.prototype.onRender = function () {}),
                          (e.prototype.onRemoveBefore = function (t, e) {}),
                          (e.prototype.onRemove = function (t, e) {}),
                          (e.prototype.remove = function (t) {
                            void 0 === t && (t = {});
                            var e = this.viewCollection;
                            return (
                              this.onRemoveBefore(e, t),
                              this.clearItems(),
                              u.G7.prototype.remove.apply(this, t),
                              this.onRemove(e, t),
                              this
                            );
                          }),
                          (e.prototype.clearItems = function () {
                            this.viewCollection;
                          }),
                          e
                        );
                      })(Et);
                      var Mt =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Lt = (function (t) {
                        function e(e) {
                          void 0 === e && (e = {});
                          var n = t.call(this, e) || this;
                          n.config = e.config || {};
                          var r = n.model;
                          return (
                            n.listenTo(r, 'change', n.render),
                            n.listenTo(r, 'destroy remove', n.remove),
                            n.listenTo(r.get('selectors'), 'change', n.render),
                            n
                          );
                        }
                        return (
                          Mt(e, t),
                          (e.prototype.tagName = function () {
                            return 'style';
                          }),
                          (e.prototype.render = function () {
                            var t = this.model,
                              e = this.el,
                              n = t.get('important');
                            return (
                              (e.innerHTML = t.toCSS({
                                important: n,
                              })),
                              this
                            );
                          }),
                          e
                        );
                      })(u.G7);
                      var Dt =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Nt = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Dt(e, t),
                          (e.prototype._createElement = function () {
                            return document.createTextNode('');
                          }),
                          (e.prototype.render = function () {
                            var t = this.model,
                              e = t.get('important');
                            return (
                              (this.el.textContent = t.getDeclaration({
                                important: e,
                              })),
                              this
                            );
                          }),
                          e
                        );
                      })(Lt);
                      var It =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ft = function (t, e) {
                          return ''
                            .concat(t)
                            .concat(e ? '-'.concat(parseFloat(e)) : '');
                        },
                        Rt = (function (e) {
                          function n(n) {
                            var r = e.call(this, n) || this;
                            (0, t.bindAll)(r, 'sortRules');
                            var o = n.config || {};
                            (r.atRules = {}),
                              (r.config = o),
                              (r.em = o.em),
                              (r.pfx = o.stylePrefix || ''),
                              (r.className = r.pfx + 'rules');
                            var i = r.collection;
                            return (
                              r.listenTo(i, 'add', r.addTo),
                              r.listenTo(i, 'reset', r.render),
                              r
                            );
                          }
                          return (
                            It(n, e),
                            (n.prototype.addTo = function (t) {
                              this.addToCollection(t);
                            }),
                            (n.prototype.addToCollection = function (t, e) {
                              if (this.renderStarted) {
                                var n,
                                  r,
                                  o = e || null,
                                  i = {
                                    model: t,
                                    config: this.config,
                                  };
                                if ('keyframes' === t.get('atRuleType')) {
                                  var a = t.getAtRule(),
                                    s = this.atRules[a];
                                  if (!s) {
                                    var l = document.createElement('style');
                                    (s = document.createTextNode('')),
                                      l.appendChild(
                                        document.createTextNode(
                                          ''.concat(a, '{')
                                        )
                                      ),
                                      l.appendChild(s),
                                      l.appendChild(
                                        document.createTextNode('}')
                                      ),
                                      (this.atRules[a] = s),
                                      (n = l);
                                  }
                                  (r = new Nt(i)),
                                    s.appendData(r.render().el.textContent);
                                } else n = (r = new Lt(i)).render().el;
                                var c = this.className,
                                  u = t.get('mediaText'),
                                  p = Ft(c),
                                  d = p;
                                if (
                                  (u && (d = Ft(c, this.getMediaWidth(u))), n)
                                ) {
                                  var f = o || this.el,
                                    h = void 0;
                                  try {
                                    h = f.querySelector('#'.concat(d));
                                  } catch (t) {}
                                  h || (h = f.querySelector('#'.concat(p))),
                                    null == h || h.appendChild(n);
                                }
                                return n;
                              }
                            }),
                            (n.prototype.getMediaWidth = function (t) {
                              return (
                                t &&
                                t
                                  .replace(
                                    '('.concat(
                                      this.em.getConfig().mediaCondition,
                                      ': '
                                    ),
                                    ''
                                  )
                                  .replace(')', '')
                              );
                            }),
                            (n.prototype.sortRules = function (t, e) {
                              var n =
                                -1 !==
                                (
                                  this.em.getConfig().mediaCondition || ''
                                ).indexOf('min-width');
                              return n ? (n ? t : e) - (n ? e : t) : 0;
                            }),
                            (n.prototype.render = function () {
                              var t = this;
                              (this.renderStarted = !0), (this.atRules = {});
                              var e = this,
                                n = e.em,
                                r = e.$el,
                                o = e.collection,
                                i = this.className,
                                a = document.createDocumentFragment();
                              r.empty();
                              var s = n.Devices.getAll()
                                .pluck('priority')
                                .sort(this.sortRules);
                              return (
                                s.every(function (t) {
                                  return t;
                                }) && s.unshift(0),
                                s.forEach(function (t) {
                                  return a.appendChild(
                                    (0, Pt.ut)('div', {
                                      id: Ft(i, t),
                                    })
                                  );
                                }),
                                o.each(function (e) {
                                  return t.addToCollection(e, a);
                                }),
                                r.append(a),
                                r.attr('class', i),
                                this
                              );
                            }),
                            n
                          );
                        })(u.G7);
                      const zt = Rt;
                      var Vt =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Vt =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Vt.apply(this, arguments)
                            );
                          },
                        Bt = (function () {
                          function e(e, n) {
                            var r = this;
                            (this.em = e), (this.canvas = e.Canvas);
                            var o =
                                n ||
                                this.canvas.getFrames().map(function (t) {
                                  return t.getComponent().getEl();
                                }),
                              i = Array.isArray(o) ? o : [o];
                            (this.el = i[0]),
                              (this.counter = 0),
                              (0, t.bindAll)(
                                this,
                                'handleDragEnter',
                                'handleDragOver',
                                'handleDrop',
                                'handleDragLeave'
                              ),
                              i.forEach(function (t) {
                                return r.toggleEffects(t, !0);
                              });
                          }
                          return (
                            (e.prototype.toggleEffects = function (t, e) {
                              var r = {
                                  on: n.on,
                                  off: n.off,
                                },
                                o = e ? 'on' : 'off';
                              r[o](t, 'dragenter', this.handleDragEnter),
                                r[o](t, 'dragover', this.handleDragOver),
                                r[o](t, 'drop', this.handleDrop),
                                r[o](t, 'dragleave', this.handleDragLeave);
                            }),
                            (e.prototype.__customTglEff = function (t) {
                              var e,
                                r = t ? n.on : n.off,
                                o = this.el.ownerDocument,
                                i =
                                  null === (e = o.defaultView) || void 0 === e
                                    ? void 0
                                    : e.frameElement;
                              (this.sortOpts = t
                                ? {
                                    onStart: function (t) {
                                      var e = t.sorter;
                                      (0, n.on)(i, 'pointermove', e.onMove);
                                    },
                                    onEnd: function (t) {
                                      var e = t.sorter;
                                      (0, n.off)(i, 'pointermove', e.onMove);
                                    },
                                    customTarget: function (t) {
                                      var e = t.event;
                                      return o.elementFromPoint(
                                        e.clientX,
                                        e.clientY
                                      );
                                    },
                                  }
                                : null),
                                r(i, 'pointerenter', this.handleDragEnter),
                                r(i, 'pointermove', this.handleDragOver),
                                r(document, 'pointerup', this.handleDrop),
                                r(i, 'pointerout', this.handleDragLeave);
                            }),
                            (e.prototype.startCustom = function () {
                              this.__customTglEff(!0);
                            }),
                            (e.prototype.endCustom = function (t) {
                              this.over
                                ? this.endDrop(t)
                                : this.__customTglEff(!1);
                            }),
                            (e.prototype.endDrop = function (t, e) {
                              var n = this.em,
                                r = this.dragStop;
                              (this.counter = 0),
                                r && r(t),
                                this.__customTglEff(!1),
                                n.trigger('canvas:dragend', e);
                            }),
                            (e.prototype.handleDragLeave = function (t) {
                              this.updateCounter(-1, t);
                            }),
                            (e.prototype.updateCounter = function (t, e) {
                              (this.counter += t),
                                0 === this.counter && this.endDrop(!0, e);
                            }),
                            (e.prototype.handleDragEnter = function (t) {
                              var e = this,
                                n = this.em,
                                r = this.canvas,
                                o = t.dataTransfer;
                              if ((this.updateCounter(1, t), !this.over)) {
                                this.over = !0;
                                var i,
                                  a,
                                  s = n.Utils,
                                  l = n.get('dragContent') || '<br>';
                                if ((n.stopDefault(), n.inAbsoluteMode())) {
                                  var c = n.Components.getWrapper(),
                                    u = c.append({})[0],
                                    p = n.Commands.run('core:component-drag', {
                                      event: t,
                                      guidesInfo: 1,
                                      center: 1,
                                      target: u,
                                      onEnd: function (t, n, i) {
                                        var a;
                                        if (!i.cancelled) {
                                          a = c.append(l)[0];
                                          var s = r.getOffset(),
                                            p = u.getStyle(),
                                            d = p.top,
                                            f = p.left,
                                            h = p.position;
                                          a.addStyle({
                                            left: parseFloat(f) - s.left + 'px',
                                            top: parseFloat(d) - s.top + 'px',
                                            position: h,
                                          });
                                        }
                                        e.handleDragEnd(a, o), u.remove();
                                      },
                                    });
                                  (i = function (e) {
                                    return p.stop(t, {
                                      cancel: e,
                                    });
                                  }),
                                    (a = function (t) {
                                      return (l = t);
                                    });
                                } else {
                                  var d = new s.Sorter(
                                    Vt(
                                      {
                                        em: n,
                                        wmargin: 1,
                                        nested: 1,
                                        canvasRelative: 1,
                                        direction: 'a',
                                        container: this.el,
                                        placer: r.getPlacerEl(),
                                        containerSel: '*',
                                        itemSel: '*',
                                        pfx: 'gjs-',
                                        onEndMove: function (t) {
                                          return e.handleDragEnd(t, o);
                                        },
                                        document: this.el.ownerDocument,
                                      },
                                      this.sortOpts || {}
                                    )
                                  );
                                  d.setDropContent(l),
                                    d.startSort(),
                                    (this.sorter = d),
                                    (i = function (t) {
                                      t && (d.moved = !1), d.endMove();
                                    }),
                                    (a = function (t) {
                                      return d.setDropContent(t);
                                    });
                                }
                                (this.dragStop = i),
                                  (this.dragContent = a),
                                  n.trigger('canvas:dragenter', o, l);
                              }
                            }),
                            (e.prototype.handleDragEnd = function (t, e) {
                              var n = this.em;
                              (this.over = !1),
                                t &&
                                  (n.set('dragResult', t),
                                  n.trigger('canvas:drop', e, t)),
                                n.runDefault({
                                  preserveSelected: 1,
                                });
                            }),
                            (e.prototype.handleDragOver = function (t) {
                              t.preventDefault(),
                                this.em.trigger('canvas:dragover', t);
                            }),
                            (e.prototype.handleDrop = function (t) {
                              t.preventDefault();
                              var e = this.dragContent,
                                n = t.dataTransfer,
                                r = this.getContentByData(n).content;
                              (t.target.style.border = ''),
                                r && e && e(r),
                                this.endDrop(!r, t);
                            }),
                            (e.prototype.getContentByData = function (e) {
                              var n = this.em,
                                r = e && e.types,
                                o = (e && e.files) || [],
                                i = n.get('dragContent'),
                                a = e && e.getData('text');
                              if (o.length) {
                                a = [];
                                for (var s = 0; s < o.length; s++) {
                                  var l = o[s],
                                    c = l.type.split('/')[0];
                                  'image' == c &&
                                    a.push({
                                      type: c,
                                      file: l,
                                      attributes: {
                                        alt: l.name,
                                      },
                                    });
                                }
                              } else if (i) a = i;
                              else if ((0, t.indexOf)(r, 'text/html') >= 0)
                                a =
                                  e &&
                                  e
                                    .getData('text/html')
                                    .replace(/<\/?meta[^>]*>/g, '');
                              else if ((0, t.indexOf)(r, 'text/uri-list') >= 0)
                                a = {
                                  type: 'link',
                                  attributes: {
                                    href: a,
                                  },
                                  content: a,
                                };
                              else if ((0, t.indexOf)(r, 'text/json') >= 0) {
                                var u = e && e.getData('text/json');
                                u && (a = JSON.parse(u));
                              } else
                                1 === r.length &&
                                  'text/plain' === r[0] &&
                                  (a = '<div>'.concat(a, '</div>'));
                              var p = {
                                content: a,
                              };
                              return n.trigger('canvas:dragdata', e, p), p;
                            }),
                            e
                          );
                        })();
                      const Ht = Bt;
                      var Ut =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Wt =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Wt =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Wt.apply(this, arguments)
                            );
                          },
                        $t =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        Gt = (function (e) {
                          function r(r, o) {
                            var i =
                              e.call(this, {
                                model: r,
                              }) || this;
                            (i.dragging = !1),
                              (i.lastMaxHeight = 0),
                              (i.tools = {}),
                              (0, t.bindAll)(
                                i,
                                'updateClientY',
                                'stopAutoscroll',
                                'autoscroll',
                                '_emitUpdate'
                              );
                            var a = i,
                              s = a.el;
                            a.em,
                              (i.module._config = Wt(Wt({}, i.config || {}), {
                                frameView: i,
                              })),
                              (i.frameWrapView = o),
                              (i.showGlobalTools = (0, t.debounce)(
                                i.showGlobalTools.bind(i),
                                50
                              ));
                            var l = i.getCanvasModel();
                            return (
                              i.listenTo(r, 'change:head', i.updateHead),
                              i.listenTo(l, 'change:styles', i.renderStyles),
                              (r.view = i),
                              (0, n.setViewEl)(s, i),
                              i
                            );
                          }
                          return (
                            Ut(r, e),
                            Object.defineProperty(r.prototype, 'tagName', {
                              get: function () {
                                return 'iframe';
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(r.prototype, 'attributes', {
                              get: function () {
                                return {
                                  allowfullscreen: 'allowfullscreen',
                                };
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (r.prototype.updateHead = function () {
                              var t = this.model,
                                e = this.getHead(),
                                n = [],
                                r = [],
                                o = t.head,
                                i = t.previous('head'),
                                a = function (t) {
                                  return (
                                    void 0 === t && (t = {}),
                                    Object.keys(t)
                                      .sort()
                                      .map(function (e) {
                                        return '['
                                          .concat(e, '="')
                                          .concat(t[e], '"]');
                                      })
                                      .join('')
                                  );
                                },
                                s = function (t, e, n) {
                                  t.forEach(function (t) {
                                    var r = t.tag,
                                      o = t.attributes;
                                    !e.some(function (t) {
                                      return (
                                        t.tag === r && a(t.attributes) === a(o)
                                      );
                                    }) && n.push(t);
                                  });
                                };
                              s(o, i, r),
                                s(i, o, n),
                                n.forEach(function (t) {
                                  var n,
                                    r = e.querySelector(
                                      ''.concat(t.tag).concat(a(t.attributes))
                                    );
                                  null ===
                                    (n = null == r ? void 0 : r.parentNode) ||
                                    void 0 === n ||
                                    n.removeChild(r);
                                }),
                                (0, Pt.SJ)(e, r);
                            }),
                            (r.prototype.getEl = function () {
                              return this.el;
                            }),
                            (r.prototype.getCanvasModel = function () {
                              return this.em.Canvas.getModel();
                            }),
                            (r.prototype.getWindow = function () {
                              return this.getEl().contentWindow;
                            }),
                            (r.prototype.getDoc = function () {
                              return this.getEl().contentDocument;
                            }),
                            (r.prototype.getHead = function () {
                              return this.getDoc().querySelector('head');
                            }),
                            (r.prototype.getBody = function () {
                              return this.getDoc().querySelector('body');
                            }),
                            (r.prototype.getWrapper = function () {
                              return this.getBody().querySelector(
                                '[data-gjs-type=wrapper]'
                              );
                            }),
                            (r.prototype.getJsContainer = function () {
                              return (
                                this.jsContainer ||
                                  (this.jsContainer = (0, Pt.ut)('div', {
                                    class: ''.concat(this.ppfx, 'js-cont'),
                                  })),
                                this.jsContainer
                              );
                            }),
                            (r.prototype.getToolsEl = function () {
                              var t;
                              return null === (t = this.frameWrapView) ||
                                void 0 === t
                                ? void 0
                                : t.elTools;
                            }),
                            (r.prototype.getGlobalToolsEl = function () {
                              return this.em.Canvas.getGlobalToolsEl();
                            }),
                            (r.prototype.getHighlighter = function () {
                              return this._getTool('[data-hl]');
                            }),
                            (r.prototype.getBadgeEl = function () {
                              return this._getTool('[data-badge]');
                            }),
                            (r.prototype.getOffsetViewerEl = function () {
                              return this._getTool('[data-offset]');
                            }),
                            (r.prototype.getRect = function () {
                              return (
                                this.rect ||
                                  (this.rect = this.el.getBoundingClientRect()),
                                this.rect
                              );
                            }),
                            (r.prototype.getOffsetRect = function () {
                              var t = this.el,
                                e = this.getBody(),
                                n = e.scrollTop,
                                r = e.scrollLeft,
                                o = t.offsetHeight,
                                i = t.offsetWidth;
                              return {
                                top: t.offsetTop,
                                left: t.offsetLeft,
                                height: o,
                                width: i,
                                scrollTop: n,
                                scrollLeft: r,
                                scrollBottom: n + o,
                                scrollRight: r + i,
                              };
                            }),
                            (r.prototype._getTool = function (t) {
                              var e = this.tools,
                                n = this.getToolsEl();
                              return e[t] || (e[t] = n.querySelector(t)), e[t];
                            }),
                            (r.prototype.remove = function () {
                              for (var t = [], e = 0; e < arguments.length; e++)
                                t[e] = arguments[e];
                              var n = this.wrapper;
                              return (
                                this._toggleEffects(!1),
                                (this.tools = {}),
                                n && n.remove(),
                                Et.prototype.remove.apply(this, t),
                                this
                              );
                            }),
                            (r.prototype.startAutoscroll = function () {
                              var t = this;
                              (this.lastMaxHeight =
                                this.getWrapper().offsetHeight -
                                this.el.offsetHeight),
                                setTimeout(function () {
                                  t._toggleAutoscrollFx(!0),
                                    requestAnimationFrame(t.autoscroll);
                                }, 0);
                            }),
                            (r.prototype.autoscroll = function () {
                              if (this.dragging) {
                                var e = this.lastClientY,
                                  n = this.em.Canvas,
                                  r = this.getWindow(),
                                  o = r.pageYOffset,
                                  i = e || 0,
                                  a = n.getConfig().autoscrollLimit,
                                  s = this.getRect().height - a,
                                  l = o;
                                i < a && (l -= a - i),
                                  i > s && (l += i - s),
                                  !(0, t.isUndefined)(e) &&
                                    l !== o &&
                                    l > 0 &&
                                    l < this.lastMaxHeight &&
                                    ((this.getGlobalToolsEl().style.opacity =
                                      '0'),
                                    this.showGlobalTools(),
                                    r.scrollTo(0, l)),
                                  requestAnimationFrame(this.autoscroll);
                              }
                            }),
                            (r.prototype.updateClientY = function (t) {
                              t.preventDefault(),
                                (this.lastClientY =
                                  (0, n.getPointerEvent)(t).clientY *
                                  this.em.getZoomDecimal());
                            }),
                            (r.prototype.showGlobalTools = function () {
                              this.getGlobalToolsEl().style.opacity = '';
                            }),
                            (r.prototype.stopAutoscroll = function () {
                              this.dragging && this._toggleAutoscrollFx(!1);
                            }),
                            (r.prototype._toggleAutoscrollFx = function (t) {
                              this.dragging = t;
                              var e = this.getWindow(),
                                r = t ? 'on' : 'off',
                                o = {
                                  on: n.on,
                                  off: n.off,
                                };
                              o[r](e, 'mousemove dragover', this.updateClientY),
                                o[r](e, 'mouseup', this.stopAutoscroll);
                            }),
                            (r.prototype.render = function () {
                              var t = this.$el,
                                e = this.ppfx;
                              return (
                                t.attr({
                                  class: ''.concat(e, 'frame'),
                                }),
                                this.renderScripts(),
                                this
                              );
                            }),
                            (r.prototype.renderScripts = function () {
                              var e = this,
                                n = this,
                                r = n.el,
                                o = n.model,
                                i = n.em,
                                a = 'frame:load',
                                s = {
                                  el: r,
                                  model: o,
                                  view: this,
                                },
                                l = this.getCanvasModel(),
                                c = function (n) {
                                  var o;
                                  if (n.length > 0) {
                                    var l = n.shift(),
                                      u = (0, Pt.ut)(
                                        'script',
                                        Wt(
                                          {
                                            type: 'text/javascript',
                                          },
                                          (0, t.isString)(l)
                                            ? {
                                                src: l,
                                              }
                                            : l
                                        )
                                      );
                                    (u.onerror = u.onload = c.bind(null, n)),
                                      null === (o = r.contentDocument) ||
                                        void 0 === o ||
                                        o.head.appendChild(u);
                                  } else e.renderBody(), i && i.trigger(a, s);
                                };
                              r.onload = function () {
                                var t = e.config.frameContent;
                                if (t) {
                                  var n = e.getDoc();
                                  n.open(), n.write(t), n.close();
                                }
                                i && i.trigger(''.concat(a, ':before'), s),
                                  c($t([], l.get('scripts'), !0));
                              };
                            }),
                            (r.prototype.renderStyles = function (e) {
                              void 0 === e && (e = {});
                              var n = this.getHead(),
                                r = this.getCanvasModel(),
                                o = function (e) {
                                  return e.map(function (e) {
                                    return {
                                      tag: 'link',
                                      attributes: Wt(
                                        {
                                          rel: 'stylesheet',
                                        },
                                        (0, t.isString)(e)
                                          ? {
                                              href: e,
                                            }
                                          : e
                                      ),
                                    };
                                  });
                                },
                                i = o(e.prev || r.previous('styles')),
                                a = o(r.get('styles')),
                                s = [],
                                l = [],
                                c = function (t, e, n) {
                                  t.forEach(function (t) {
                                    var r = t.attributes.href;
                                    !e.some(function (t) {
                                      return t.attributes.href === r;
                                    }) && n.push(t);
                                  });
                                };
                              c(a, i, l),
                                c(i, a, s),
                                s.forEach(function (t) {
                                  var e,
                                    r = n.querySelector(
                                      'link[href="'.concat(
                                        t.attributes.href,
                                        '"]'
                                      )
                                    );
                                  null ===
                                    (e = null == r ? void 0 : r.parentNode) ||
                                    void 0 === e ||
                                    e.removeChild(r);
                                }),
                                (0, Pt.SJ)(n, l);
                            }),
                            (r.prototype.renderBody = function () {
                              var t,
                                e,
                                r = this,
                                o = this,
                                i = o.config,
                                a = o.em,
                                s = o.model,
                                l = o.ppfx,
                                c = this.getDoc(),
                                u = this.getBody(),
                                p = this.getWindow(),
                                d = a.config;
                              (p._isEditor = !0),
                                this.renderStyles({
                                  prev: [],
                                }),
                                (0, Pt.R3)(
                                  u,
                                  '<style>\n      '
                                    .concat(
                                      d.baseCss || i.frameStyle || '',
                                      '\n\n      [data-gjs-type="wrapper"] {\n        min-height: 100vh;\n        padding-top: 0.001em;\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'dashed *[data-gjs-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'selected {\n        outline: 2px solid #3b97e3 !important;\n        outline-offset: -2px;\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'selected-parent {\n        outline: 2px solid '
                                    )
                                    .concat(
                                      '#ffca6f',
                                      ' !important\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'no-pointer {\n        pointer-events: none;\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .'
                                    )
                                    .concat(
                                      l,
                                      'is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .'
                                    )
                                    .concat(l, 'is__grabbing,\n      .')
                                    .concat(
                                      l,
                                      'is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      '
                                    )
                                    .concat(d.canvasCss || '', '\n      ')
                                    .concat(
                                      d.protectedCss || '',
                                      '\n    </style>'
                                    )
                                );
                              var f = s.getComponent(),
                                h = a.Components.getType('wrapper').view;
                              (this.wrapper = new h({
                                model: f,
                                config: Wt(Wt({}, f.config), {
                                  em: a,
                                  frameView: this,
                                }),
                              }).render()),
                                (0, Pt.R3)(
                                  u,
                                  null === (t = this.wrapper) || void 0 === t
                                    ? void 0
                                    : t.el
                                ),
                                (0, Pt.R3)(
                                  u,
                                  new zt({
                                    collection: s.getStyles(),
                                    config: Wt(Wt({}, a.Css.getConfig()), {
                                      frameView: this,
                                    }),
                                  }).render().el
                                ),
                                (0, Pt.R3)(u, this.getJsContainer()),
                                (0, n.on)(u, 'click', function (t) {
                                  var e;
                                  return (
                                    t &&
                                    'A' ==
                                      (null === (e = t.target) || void 0 === e
                                        ? void 0
                                        : e.tagName) &&
                                    t.preventDefault()
                                  );
                                }),
                                (0, n.on)(u, 'submit', function (t) {
                                  return t && t.preventDefault();
                                }),
                                [
                                  {
                                    event: 'keydown keyup keypress',
                                    class: 'KeyboardEvent',
                                  },
                                  {
                                    event: 'mousedown mousemove mouseup',
                                    class: 'MouseEvent',
                                  },
                                  {
                                    event: 'pointerdown pointermove pointerup',
                                    class: 'PointerEvent',
                                  },
                                  {
                                    event: 'wheel',
                                    class: 'WheelEvent',
                                  },
                                ].forEach(function (t) {
                                  return t.event
                                    .split(' ')
                                    .forEach(function (e) {
                                      c.addEventListener(e, function (e) {
                                        return r.el.dispatchEvent(
                                          (0, Pt.t3)(e, t.class)
                                        );
                                      });
                                    });
                                }),
                                this._toggleEffects(!0),
                                (0, n.hasDnd)(a) &&
                                  (this.droppable = new Ht(
                                    a,
                                    null === (e = this.wrapper) || void 0 === e
                                      ? void 0
                                      : e.el
                                  )),
                                s.trigger('loaded');
                            }),
                            (r.prototype._toggleEffects = function (t) {
                              var e = t ? n.on : n.off,
                                r = this.getWindow();
                              r &&
                                e(
                                  r,
                                  ''.concat(Pt.G1, ' resize'),
                                  this._emitUpdate
                                );
                            }),
                            (r.prototype._emitUpdate = function () {
                              this.model._emitUpdated();
                            }),
                            r
                          );
                        })(Et);
                      const qt = Gt;
                      var Kt = r(668),
                        Zt =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Yt =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Yt =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Yt.apply(this, arguments)
                            );
                          };
                      const Xt = (function (e) {
                        function n(n, r) {
                          var o =
                            e.call(this, {
                              model: n,
                            }) || this;
                          return (
                            (0, t.bindAll)(
                              o,
                              'onScroll',
                              'frameLoaded',
                              'updateOffset',
                              'remove',
                              'startDrag'
                            ),
                            Yt(Yt({}, n.config), {
                              frameWrapView: o,
                            }),
                            (o.cv = r),
                            (o.frame = new qt(n, o)),
                            (o.classAnim = ''.concat(
                              o.ppfx,
                              'frame-wrapper--anim'
                            )),
                            (o.updateOffset = (0, t.debounce)(
                              o.updateOffset.bind(o),
                              0
                            )),
                            (o.updateSize = (0, t.debounce)(
                              o.updateSize.bind(o),
                              0
                            )),
                            o.listenTo(n, 'loaded', o.frameLoaded),
                            o.listenTo(n, 'change:x change:y', o.updatePos),
                            o.listenTo(
                              n,
                              'change:width change:height',
                              o.updateSize
                            ),
                            o.listenTo(n, 'destroy remove', o.remove),
                            o.updatePos(),
                            o.setupDragger(),
                            o
                          );
                        }
                        return (
                          Zt(n, e),
                          (n.prototype.events = function () {
                            return {
                              'click [data-action-remove]': 'remove',
                              'mousedown [data-action-move]': 'startDrag',
                            };
                          }),
                          (n.prototype.setupDragger = function () {
                            var t,
                              e,
                              n,
                              r = this,
                              o = this.module,
                              i = this.model,
                              a = function (t) {
                                o.toggleFramesEvents(t);
                              };
                            this.dragger = new Kt.Z({
                              onStart: function () {
                                var o = i.attributes,
                                  s = o.x,
                                  l = o.y;
                                (n = r.em.getZoomMultiplier()),
                                  (t = s),
                                  (e = l),
                                  a(!1);
                              },
                              onEnd: function () {
                                return a(!0);
                              },
                              setPosition: function (r) {
                                i.set({
                                  x: t + r.x * n,
                                  y: e + r.y * n,
                                });
                              },
                            });
                          }),
                          (n.prototype.startDrag = function (t) {
                            var e;
                            t &&
                              (null === (e = this.dragger) ||
                                void 0 === e ||
                                e.start(t));
                          }),
                          (n.prototype.__clear = function (t) {
                            var e = this.frame;
                            e && e.remove(t), (0, Pt.L_)(this.elTools);
                          }),
                          (n.prototype.remove = function (t) {
                            var e = this;
                            return (
                              this.__clear(t),
                              Et.prototype.remove.apply(this, t),
                              ['frame', 'dragger', 'cv', 'elTools'].forEach(
                                function (t) {
                                  return (e[t] = 0);
                                }
                              ),
                              this
                            );
                          }),
                          (n.prototype.updateOffset = function () {
                            var t,
                              e = this,
                              n = e.em,
                              r = e.$el,
                              o = e.frame;
                            n &&
                              (n.runDefault({
                                preserveSelected: 1,
                              }),
                              r.removeClass(this.classAnim),
                              null === (t = null == o ? void 0 : o.model) ||
                                void 0 === t ||
                                t._emitUpdated());
                          }),
                          (n.prototype.updatePos = function (t) {
                            var e = this.model,
                              n = this.el,
                              r = e.attributes,
                              o = r.x,
                              i = r.y,
                              a = n.style;
                            (this.frame.rect = void 0),
                              (a.left = isNaN(o) ? o : ''.concat(o, 'px')),
                              (a.top = isNaN(i) ? i : ''.concat(i, 'px')),
                              t && this.updateOffset();
                          }),
                          (n.prototype.updateSize = function () {
                            this.updateDim();
                          }),
                          (n.prototype.updateDim = function () {
                            var e = this,
                              n = e.em,
                              r = e.el,
                              o = e.$el,
                              i = e.model,
                              a = e.classAnim,
                              s = e.frame;
                            if (s) {
                              (s.rect = void 0), o.addClass(a);
                              var l = this.__handleSize(),
                                c = l.noChanges,
                                u = l.width,
                                p = l.height;
                              ((0, t.isNull)(u) || (0, t.isNull)(p)) &&
                                i.set(
                                  Yt(
                                    Yt(
                                      {},
                                      u
                                        ? {}
                                        : {
                                            width: r.offsetWidth,
                                          }
                                    ),
                                    p
                                      ? {}
                                      : {
                                          height: r.offsetHeight,
                                        }
                                  ),
                                  {
                                    silent: 1,
                                  }
                                ),
                                n.stopDefault({
                                  preserveSelected: 1,
                                }),
                                c
                                  ? this.updateOffset()
                                  : setTimeout(this.updateOffset, 350);
                            }
                          }),
                          (n.prototype.onScroll = function () {
                            var t = this.frame;
                            this.em.trigger('frame:scroll', {
                              frame: t,
                              body: t.getBody(),
                              target: t.getWindow(),
                            });
                          }),
                          (n.prototype.frameLoaded = function () {
                            (this.frame.getWindow().onscroll = this.onScroll),
                              this.updateDim();
                          }),
                          (n.prototype.__handleSize = function () {
                            var e = 'px',
                              n = this.model,
                              r = this.el.style,
                              o = n.attributes,
                              i = o.width,
                              a = o.height,
                              s = r.width || '',
                              l = r.height || '',
                              c = i || '',
                              u = a || '',
                              p = s == c && l == u;
                            return (
                              (r.width = (0, t.isNumber)(c)
                                ? ''.concat(c).concat(e)
                                : c),
                              (r.height = (0, t.isNumber)(u)
                                ? ''.concat(u).concat(e)
                                : u),
                              {
                                noChanges: p,
                                width: i,
                                height: a,
                                newW: c,
                                newH: u,
                              }
                            );
                          }),
                          (n.prototype.render = function () {
                            var t = this,
                              e = t.frame,
                              n = t.$el,
                              r = t.ppfx,
                              o = t.cv,
                              i = t.model,
                              a = t.el,
                              s = i.attributes.onRender;
                            this.__clear(),
                              this.__handleSize(),
                              e.render(),
                              n
                                .empty()
                                .attr({
                                  class: ''.concat(r, 'frame-wrapper'),
                                })
                                .append(
                                  '\n      <div class="'
                                    .concat(
                                      r,
                                      'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="'
                                    )
                                    .concat(
                                      r,
                                      'frame-wrapper__name" data-action-move>\n          '
                                    )
                                    .concat(
                                      i.get('name') || '',
                                      '\n        </div>\n        <div class="'
                                    )
                                    .concat(
                                      r,
                                      'frame-wrapper__top-r">\n          <div class="'
                                    )
                                    .concat(
                                      r,
                                      'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="'
                                    )
                                    .concat(
                                      r,
                                      'frame-wrapper__right" data-frame-right></div>\n      <div class="'
                                    )
                                    .concat(
                                      r,
                                      'frame-wrapper__left" data-frame-left></div>\n      <div class="'
                                    )
                                    .concat(
                                      r,
                                      'frame-wrapper__bottom" data-frame-bottom></div>\n      '
                                    )
                                )
                                .append(e.el);
                            var l = (0, Pt.ut)(
                              'div',
                              {
                                class: ''.concat(r, 'tools'),
                                style: 'pointer-events:none; display: none',
                              },
                              '\n      <div class="'
                                .concat(
                                  r,
                                  'highlighter" data-hl></div>\n      <div class="'
                                )
                                .concat(
                                  r,
                                  'badge" data-badge></div>\n      <div class="'
                                )
                                .concat(
                                  r,
                                  'placeholder">\n        <div class="'
                                )
                                .concat(
                                  r,
                                  'placeholder-int"></div>\n      </div>\n      <div class="'
                                )
                                .concat(r, 'ghost"></div>\n      <div class="')
                                .concat(
                                  r,
                                  'toolbar" style="pointer-events:all"></div>\n      <div class="'
                                )
                                .concat(
                                  r,
                                  'resizer"></div>\n      <div class="'
                                )
                                .concat(
                                  r,
                                  'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="'
                                )
                                .concat(r, 'offset-fixed-v"></div>\n    ')
                            );
                            this.elTools = l;
                            var c = null == o ? void 0 : o.toolsWrapper;
                            return (
                              c && c.appendChild(l),
                              s &&
                                s({
                                  el: a,
                                  elTop: a.querySelector('[data-frame-top]'),
                                  elRight:
                                    a.querySelector('[data-frame-right]'),
                                  elBottom: a.querySelector(
                                    '[data-frame-bottom]'
                                  ),
                                  elLeft: a.querySelector('[data-frame-left]'),
                                  frame: i,
                                  frameWrapperView: this,
                                  remove: this.remove,
                                  startDrag: this.startDrag,
                                }),
                              this
                            );
                          }),
                          n
                        );
                      })(Et);
                      var Jt =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Qt = (function (t) {
                          function e(e, n) {
                            void 0 === e && (e = {});
                            var r = t.call(this, e, !0) || this;
                            return (
                              r.listenTo(r.collection, 'reset', r.render),
                              (r.canvasView = n.canvasView),
                              (r._module = n.module),
                              r
                            );
                          }
                          return (
                            Jt(e, t),
                            (e.prototype.onRemoveBefore = function (t, e) {
                              void 0 === e && (e = {}),
                                t.forEach(function (t) {
                                  return t.remove(e);
                                });
                            }),
                            (e.prototype.onRender = function () {
                              var t = this.$el,
                                e = this.ppfx;
                              t.attr({
                                class: ''.concat(e, 'frames'),
                              });
                            }),
                            (e.prototype.renderView = function (t, e) {
                              return new Xt(t, this.canvasView);
                            }),
                            e
                          );
                        })(jt);
                      const te = Qt;
                      var ee =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ne =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (ne =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              ne.apply(this, arguments)
                            );
                          },
                        re = (function (e) {
                          function r(n) {
                            var r =
                              e.call(this, {
                                model: n,
                              }) || this;
                            (r.ready = !1),
                              (0, t.bindAll)(
                                r,
                                'clearOff',
                                'onKeyPress',
                                'onCanvasMove'
                              ),
                              (r.className = r.pfx + 'canvas');
                            var o = r.em;
                            return (
                              r._initFrames(),
                              r.listenTo(o, 'change:canvasOffset', r.clearOff),
                              r.listenTo(
                                o,
                                'component:selected',
                                r.checkSelected
                              ),
                              r.listenTo(
                                n,
                                'change:zoom change:x change:y',
                                r.updateFrames
                              ),
                              r.listenTo(n, 'change:frames', r._onFramesUpdate),
                              r.toggleListeners(!0),
                              r
                            );
                          }
                          return (
                            ee(r, e),
                            (r.prototype.events = function () {
                              return {
                                wheel: 'onWheel',
                              };
                            }),
                            (r.prototype.template = function () {
                              var t = this.pfx;
                              return '\n      <div class="'
                                .concat(
                                  t,
                                  'canvas__frames" data-frames></div>\n      <div id="'
                                )
                                .concat(t, 'tools" class="')
                                .concat(
                                  t,
                                  'canvas__tools" data-tools></div>\n    '
                                );
                            }),
                            (r.prototype._onFramesUpdate = function () {
                              this._initFrames(), this._renderFrames();
                            }),
                            (r.prototype._initFrames = function () {
                              var t = this,
                                e = t.frames,
                                n = t.model,
                                r = t.config,
                                o = t.em,
                                i = n.frames;
                              o.set('readyCanvas', 0),
                                i.once('loaded:all', function () {
                                  return o.set('readyCanvas', 1);
                                }),
                                null == e || e.remove(),
                                (this.frames = new te(
                                  {
                                    collection: i,
                                  },
                                  ne(ne({}, r), {
                                    canvasView: this,
                                  })
                                ));
                            }),
                            (r.prototype.checkSelected = function (t, e) {
                              var n;
                              void 0 === e && (e = {});
                              var r = e.scroll,
                                o = this.em.get('currentFrame');
                              r &&
                                (null === (n = t.views) ||
                                  void 0 === n ||
                                  n.forEach(function (t) {
                                    t._getFrame() === o && t.scrollIntoView(r);
                                  }));
                            }),
                            (r.prototype.remove = function () {
                              for (
                                var t, e = [], n = 0;
                                n < arguments.length;
                                n++
                              )
                                e[n] = arguments[n];
                              return (
                                null === (t = this.frames) ||
                                  void 0 === t ||
                                  t.remove(),
                                (this.frames = void 0),
                                Et.prototype.remove.apply(this, e),
                                this.toggleListeners(!1),
                                this
                              );
                            }),
                            (r.prototype.preventDefault = function (t) {
                              var e;
                              t &&
                                (t.preventDefault(),
                                null === (e = t._parentEvent) ||
                                  void 0 === e ||
                                  e.preventDefault());
                            }),
                            (r.prototype.onCanvasMove = function (t) {}),
                            (r.prototype.toggleListeners = function (t) {
                              this.el;
                              var e = t ? n.on : n.off;
                              e(document, 'keypress', this.onKeyPress),
                                e(window, 'scroll resize', this.clearOff);
                            }),
                            (r.prototype.onKeyPress = function (t) {
                              var e = this.em;
                              ' ' !== (0, n.getKeyChar)(t) ||
                                1 === e.getZoomDecimal() ||
                                e.Canvas.isInputFocused() ||
                                (this.preventDefault(t),
                                e.Editor.runCommand('core:canvas-move'));
                            }),
                            (r.prototype.onWheel = function (t) {
                              if (
                                (t.ctrlKey || t.metaKey) &&
                                this.em.getConfig().multiFrames
                              ) {
                                this.preventDefault(t);
                                var e = this.model,
                                  n = Math.max(
                                    -1,
                                    Math.min(1, t.wheelDelta || -t.detail)
                                  ),
                                  r = e.get('zoom');
                                e.set('zoom', r + 2 * n);
                              }
                            }),
                            (r.prototype.updateFrames = function (t) {
                              var e = this.em,
                                n = this.model.attributes,
                                r = n.x,
                                o = n.y,
                                i = this.getZoom(),
                                a = {
                                  preserveSelected: 1,
                                },
                                s = i ? 1 / i : 1;
                              (this.framesArea.style.transform = 'scale('
                                .concat(i, ') translate(')
                                .concat(r * s, 'px, ')
                                .concat(o * s, 'px)')),
                                this.clearOff(),
                                e.stopDefault(a),
                                e.trigger('canvas:update', t),
                                this.timerZoom && clearTimeout(this.timerZoom),
                                (this.timerZoom = setTimeout(function () {
                                  return e.runDefault(a);
                                }, 300));
                            }),
                            (r.prototype.getZoom = function () {
                              return this.em.getZoomDecimal();
                            }),
                            (r.prototype.isElInViewport = function (t) {
                              var e = (0, n.getElement)(t),
                                r = (0, n.getElRect)(e),
                                o = this.getFrameOffset(e),
                                i = r.top,
                                a = r.left;
                              return (
                                i >= 0 &&
                                a >= 0 &&
                                i <= o.height &&
                                a <= o.width
                              );
                            }),
                            (r.prototype.offset = function (t, e) {
                              var r, o;
                              void 0 === e && (e = {});
                              var i = (0, n.getElRect)(t),
                                a = null == t ? void 0 : t.ownerDocument.body,
                                s = e.noScroll;
                              return {
                                top:
                                  i.top +
                                  (s
                                    ? 0
                                    : null !==
                                        (r =
                                          null == a ? void 0 : a.scrollTop) &&
                                      void 0 !== r
                                    ? r
                                    : 0),
                                left:
                                  i.left +
                                  (s
                                    ? 0
                                    : null !==
                                        (o =
                                          null == a ? void 0 : a.scrollLeft) &&
                                      void 0 !== o
                                    ? o
                                    : 0),
                                width: i.width,
                                height: i.height,
                              };
                            }),
                            (r.prototype.clearOff = function () {
                              (this.frmOff = void 0), (this.cvsOff = void 0);
                            }),
                            (r.prototype.getFrameOffset = function (t) {
                              var e;
                              if (!this.frmOff || t) {
                                var n =
                                    null === (e = this.frame) || void 0 === e
                                      ? void 0
                                      : e.el,
                                  r =
                                    null == t
                                      ? void 0
                                      : t.ownerDocument.defaultView,
                                  o = r ? r.frameElement : n;
                                this.frmOff = this.offset(o || n);
                              }
                              return this.frmOff;
                            }),
                            (r.prototype.getCanvasOffset = function () {
                              return (
                                this.cvsOff ||
                                  (this.cvsOff = this.offset(this.el)),
                                this.cvsOff
                              );
                            }),
                            (r.prototype.getElementPos = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.getZoom(),
                                r = e || {},
                                o = this.getFrameOffset(t),
                                i = this.el,
                                a = this.getCanvasOffset(),
                                s = this.offset(t, e),
                                l = r.avoidFrameOffset ? 0 : o.top,
                                c = r.avoidFrameOffset ? 0 : o.left;
                              return {
                                top: s.top * n + l - a.top + i.scrollTop,
                                left: s.left * n + c - a.left + i.scrollLeft,
                                height: s.height * n,
                                width: s.width * n,
                                zoom: n,
                                rect: s,
                              };
                            }),
                            (r.prototype.getElementOffsets = function (t) {
                              var e = this;
                              if (!t || (0, n.isTextNode)(t)) return {};
                              var r = {},
                                o = window.getComputedStyle(t);
                              return (
                                [
                                  'marginTop',
                                  'marginRight',
                                  'marginBottom',
                                  'marginLeft',
                                  'paddingTop',
                                  'paddingRight',
                                  'paddingBottom',
                                  'paddingLeft',
                                ].forEach(function (t) {
                                  r[t] = parseFloat(o[t]) * e.getZoom();
                                }),
                                r
                              );
                            }),
                            (r.prototype.getPosition = function (t) {
                              var e;
                              void 0 === t && (t = {});
                              var n =
                                null === (e = this.frame) || void 0 === e
                                  ? void 0
                                  : e.el.contentDocument;
                              if (n) {
                                var r = n.body,
                                  o = this.getZoom(),
                                  i = this.getFrameOffset(),
                                  a = this.getCanvasOffset(),
                                  s = t.noScroll;
                                return {
                                  top:
                                    i.top + (s ? 0 : r.scrollTop) * o - a.top,
                                  left:
                                    i.left +
                                    (s ? 0 : r.scrollLeft) * o -
                                    a.left,
                                  width: a.width,
                                  height: a.height,
                                };
                              }
                            }),
                            (r.prototype.updateScript = function (t) {
                              var e = t.model,
                                n = e.getId();
                              t.scriptContainer ||
                                ((t.scriptContainer = (0, Pt.ut)('div', {
                                  'data-id': n,
                                })),
                                this.getJsContainer().appendChild(
                                  t.scriptContainer
                                )),
                                (t.el.id = n),
                                (t.scriptContainer.innerHTML = '');
                              var r = document.createElement('script'),
                                o = e.getScriptString(),
                                i = e.get('script-props')
                                  ? o
                                  : 'function(){\n'.concat(o, '\n;}'),
                                a = JSON.stringify(e.__getScriptProps());
                              (r.innerHTML =
                                "\n      setTimeout(function() {\n        var item = document.getElementById('"
                                  .concat(
                                    n,
                                    "');\n        if (!item) return;\n        ("
                                  )
                                  .concat(i, '.bind(item))(')
                                  .concat(a, ')\n      }, 1);')),
                                setTimeout(function () {
                                  var e = t.scriptContainer;
                                  null == e || e.appendChild(r);
                                }, 0);
                            }),
                            (r.prototype.getJsContainer = function (t) {
                              var e = this.getFrameView(t);
                              return e && e.getJsContainer();
                            }),
                            (r.prototype.getFrameView = function (t) {
                              return (
                                (null == t ? void 0 : t._getFrame()) ||
                                this.em.get('currentFrame')
                              );
                            }),
                            (r.prototype._renderFrames = function () {
                              if (this.ready) {
                                var t = this,
                                  e = t.model,
                                  n = t.frames,
                                  r = t.em,
                                  o = t.framesArea,
                                  i = e.frames;
                                i.listenToLoad(), n.render();
                                var a = i.at(0),
                                  s = null == a ? void 0 : a.view;
                                r.setCurrentFrame(s),
                                  null == o || o.appendChild(n.el),
                                  (this.frame = s);
                              }
                            }),
                            (r.prototype.render = function () {
                              var t = this,
                                e = t.el,
                                r = t.$el,
                                o = t.ppfx,
                                i = t.config,
                                a = t.em;
                              r.html(this.template());
                              var s = r.find('[data-frames]');
                              this.framesArea = s.get(0);
                              var l = r.find('[data-tools]');
                              return (
                                (this.toolsWrapper = l.get(0)),
                                l.append(
                                  '\n      <div class="'
                                    .concat(o, 'tools ')
                                    .concat(
                                      o,
                                      'tools-gl" style="pointer-events:none">\n        <div class="'
                                    )
                                    .concat(
                                      o,
                                      'placeholder">\n          <div class="'
                                    )
                                    .concat(
                                      o,
                                      'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="'
                                    )
                                    .concat(
                                      o,
                                      'tools" style="pointer-events:none">\n        '
                                    )
                                    .concat(
                                      i.extHl
                                        ? '<div class="'.concat(
                                            o,
                                            'highlighter-sel"></div>'
                                          )
                                        : '',
                                      '\n        <div class="'
                                    )
                                    .concat(
                                      o,
                                      'badge"></div>\n        <div class="'
                                    )
                                    .concat(
                                      o,
                                      'ghost"></div>\n        <div class="'
                                    )
                                    .concat(
                                      o,
                                      'toolbar" style="pointer-events:all"></div>\n        <div class="'
                                    )
                                    .concat(
                                      o,
                                      'resizer"></div>\n        <div class="'
                                    )
                                    .concat(
                                      o,
                                      'offset-v"></div>\n        <div class="'
                                    )
                                    .concat(
                                      o,
                                      'offset-fixed-v"></div>\n      </div>\n    '
                                    )
                                ),
                                (this.toolsEl = e.querySelector(
                                  '#'.concat(o, 'tools')
                                )),
                                (this.hlEl = e.querySelector(
                                  '.'.concat(o, 'highlighter')
                                )),
                                (this.badgeEl = e.querySelector(
                                  '.'.concat(o, 'badge')
                                )),
                                (this.placerEl = e.querySelector(
                                  '.'.concat(o, 'placeholder')
                                )),
                                (this.ghostEl = e.querySelector(
                                  '.'.concat(o, 'ghost')
                                )),
                                (this.toolbarEl = e.querySelector(
                                  '.'.concat(o, 'toolbar')
                                )),
                                (this.resizerEl = e.querySelector(
                                  '.'.concat(o, 'resizer')
                                )),
                                (this.offsetEl = e.querySelector(
                                  '.'.concat(o, 'offset-v')
                                )),
                                (this.fixedOffsetEl = e.querySelector(
                                  '.'.concat(o, 'offset-fixed-v')
                                )),
                                (this.toolsGlobEl = e.querySelector(
                                  '.'.concat(o, 'tools-gl')
                                )),
                                (this.el.className = (0, n.getUiClass)(
                                  a,
                                  this.className
                                )),
                                (this.ready = !0),
                                this._renderFrames(),
                                this
                              );
                            }),
                            r
                          );
                        })(Et);
                      const oe = re;
                      var ie =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ae =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (ae =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              ae.apply(this, arguments)
                            );
                          },
                        se =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        le = (function (e) {
                          function r(t) {
                            var n = e.call(this, t, 'Canvas', _) || this;
                            return (
                              (n.canvas = new kt(n)),
                              (n.model = n.canvas),
                              (n.startAutoscroll = n.startAutoscroll.bind(n)),
                              (n.stopAutoscroll = n.stopAutoscroll.bind(n)),
                              n
                            );
                          }
                          return (
                            ie(r, e),
                            (r.prototype.getCanvasView = function () {
                              return this.canvasView;
                            }),
                            (r.prototype.init = function () {}),
                            (r.prototype.onLoad = function () {
                              this.model.init();
                            }),
                            (r.prototype.getModel = function () {
                              return this.canvas;
                            }),
                            (r.prototype.getElement = function () {
                              return this.getCanvasView().el;
                            }),
                            (r.prototype.getFrame = function (t) {
                              return this.getFrames()[t || 0];
                            }),
                            (r.prototype.getFrameEl = function () {
                              var t = (this.canvasView || {}).frame;
                              return null == t ? void 0 : t.el;
                            }),
                            (r.prototype.getFramesEl = function () {
                              var t;
                              return null === (t = this.canvasView) ||
                                void 0 === t
                                ? void 0
                                : t.framesArea;
                            }),
                            (r.prototype.getWindow = function () {
                              var t = (this.canvasView || {}).frame;
                              return null == t ? void 0 : t.getWindow();
                            }),
                            (r.prototype.getDocument = function () {
                              var t = this.getFrameEl();
                              return null == t ? void 0 : t.contentDocument;
                            }),
                            (r.prototype.getBody = function () {
                              var t = this.getDocument();
                              return null == t ? void 0 : t.body;
                            }),
                            (r.prototype._getLocalEl = function (t, e, n) {
                              var r = t,
                                o = null == e ? void 0 : e._getFrame();
                              return o ? o[n]() : r;
                            }),
                            (r.prototype.getGlobalToolsEl = function () {
                              var t;
                              return null === (t = this.canvasView) ||
                                void 0 === t
                                ? void 0
                                : t.toolsGlobEl;
                            }),
                            (r.prototype.getToolsEl = function (t) {
                              return this._getLocalEl(
                                this.getCanvasView().toolsEl,
                                t,
                                'getToolsEl'
                              );
                            }),
                            (r.prototype.getHighlighter = function (t) {
                              return this._getLocalEl(
                                this.getCanvasView().hlEl,
                                t,
                                'getHighlighter'
                              );
                            }),
                            (r.prototype.getBadgeEl = function (t) {
                              return this._getLocalEl(
                                this.getCanvasView().badgeEl,
                                t,
                                'getBadgeEl'
                              );
                            }),
                            (r.prototype.getPlacerEl = function () {
                              return this.getCanvasView().placerEl;
                            }),
                            (r.prototype.getGhostEl = function () {
                              return this.getCanvasView().ghostEl;
                            }),
                            (r.prototype.getToolbarEl = function () {
                              return this.getCanvasView().toolbarEl;
                            }),
                            (r.prototype.getResizerEl = function () {
                              return this.getCanvasView().resizerEl;
                            }),
                            (r.prototype.getOffsetViewerEl = function (t) {
                              return this._getLocalEl(
                                this.getCanvasView().offsetEl,
                                t,
                                'getOffsetViewerEl'
                              );
                            }),
                            (r.prototype.getFixedOffsetViewerEl = function () {
                              return this.getCanvasView().fixedOffsetEl;
                            }),
                            (r.prototype.render = function () {
                              var t;
                              return (
                                null === (t = this.canvasView) ||
                                  void 0 === t ||
                                  t.remove(),
                                (this.canvasView = new oe(this.canvas)),
                                this.canvasView.render().el
                              );
                            }),
                            (r.prototype.getOffset = function () {
                              var t = this.offset(this.getFrameEl()),
                                e = this.offset(this.getElement());
                              return {
                                top: t.top - e.top,
                                left: t.left - e.left,
                              };
                            }),
                            (r.prototype.offset = function (t) {
                              return this.getCanvasView().offset(t);
                            }),
                            (r.prototype.setCustomBadgeLabel = function (t) {
                              this.config.customBadgeLabel = t;
                            }),
                            (r.prototype.getElementPos = function (t, e) {
                              return this.getCanvasView().getElementPos(t, e);
                            }),
                            (r.prototype.getElementOffsets = function (t) {
                              return this.getCanvasView().getElementOffsets(t);
                            }),
                            (r.prototype.getRect = function () {
                              var t,
                                e =
                                  null !==
                                    (t = this.getCanvasView().getPosition()) &&
                                  void 0 !== t
                                    ? t
                                    : {},
                                n = e.top,
                                r = void 0 === n ? 0 : n,
                                o = e.left,
                                i = void 0 === o ? 0 : o;
                              return ae(
                                ae({}, this.getCanvasView().getCanvasOffset()),
                                {
                                  topScroll: r,
                                  leftScroll: i,
                                }
                              );
                            }),
                            (r.prototype.getTargetToElementDim = function (
                              t,
                              e,
                              n
                            ) {
                              void 0 === n && (n = {});
                              var r = n || {},
                                o = this.getCanvasView().getPosition();
                              if (o) {
                                var i =
                                    r.elPos ||
                                    this.getCanvasView().getElementPos(e),
                                  a = n.toRight || 0,
                                  s = r.targetHeight || t.offsetHeight,
                                  l = r.targetWidth || t.offsetWidth,
                                  c = r.event || null,
                                  u = i.top - s,
                                  p = i.left;
                                p += a ? i.width : 0;
                                var d =
                                    (p = a ? p - l : p) < o.left ? o.left : p,
                                  f = u < o.top ? o.top : u,
                                  h = {
                                    top: (f =
                                      f > i.top + i.height
                                        ? i.top + i.height
                                        : f),
                                    left: d,
                                    elementTop: i.top,
                                    elementLeft: i.left,
                                    elementWidth: i.width,
                                    elementHeight: i.height,
                                    targetWidth: t.offsetWidth,
                                    targetHeight: t.offsetHeight,
                                    canvasTop: o.top,
                                    canvasLeft: o.left,
                                    canvasWidth: o.width,
                                    canvasHeight: o.height,
                                  };
                                return c && this.em && this.em.trigger(c, h), h;
                              }
                            }),
                            (r.prototype.canvasRectOffset = function (t, e, n) {
                              var r = this;
                              void 0 === n && (n = {});
                              var o = function (t, e, o) {
                                void 0 === e && (e = 1);
                                var i = r.em.getZoomDecimal(),
                                  a = e ? 'top' : 'left',
                                  s = t.ownerDocument,
                                  l = n.offset
                                    ? (function (t) {
                                        var e = t.defaultView;
                                        return null == e
                                          ? void 0
                                          : e.frameElement;
                                      })(s)
                                    : {},
                                  c = l.offsetTop,
                                  u = void 0 === c ? 0 : c,
                                  p = l.offsetLeft,
                                  d = void 0 === p ? 0 : p,
                                  f = s.body || {},
                                  h = f.scrollTop,
                                  g = void 0 === h ? 0 : h,
                                  v = f.scrollLeft,
                                  m = e ? g : void 0 === v ? 0 : v,
                                  y = e ? u : d;
                                return o[a] - (m - y) * i;
                              };
                              return {
                                top: o(t, 1, e),
                                left: o(t, 0, e),
                              };
                            }),
                            (r.prototype.getTargetToElementFixed = function (
                              e,
                              n,
                              r
                            ) {
                              var o;
                              void 0 === r && (r = {});
                              var i = r.pos || this.getElementPos(e),
                                a = r.canvasOff || this.canvasRectOffset(e, i),
                                s = n.offsetHeight || 0,
                                l = n.offsetWidth || 0,
                                c = i.left + i.width,
                                u = this.getCanvasView(),
                                p = u.getPosition(),
                                d = u.getFrameOffset(e),
                                f = r.event,
                                h = -s,
                                g = (0, t.isUndefined)(r.left)
                                  ? i.width - l
                                  : r.left;
                              g = i.left < -g ? -i.left : g;
                              var v =
                                null !== (o = null == p ? void 0 : p.width) &&
                                void 0 !== o
                                  ? o
                                  : 0;
                              g = c > v ? g - (c - v) : g;
                              var m = i.height + s,
                                y = m < d.height;
                              a.top < s &&
                                (y
                                  ? (h += m)
                                  : (h =
                                      -a.top < i.height ? -a.top : i.height));
                              var b = {
                                top: h,
                                left: g,
                                canvasOffsetTop: a.top,
                                canvasOffsetLeft: a.left,
                              };
                              return f && this.em.trigger(f, b), b;
                            }),
                            (r.prototype.getMouseRelativePos = function (t, e) {
                              void 0 === e && (e = {});
                              var n = 0,
                                r = 0,
                                o = e.subWinOffset,
                                i = t.target.ownerDocument,
                                a = i.defaultView || i.parentWindow,
                                s = a.frameElement,
                                l = o ? a.pageYOffset : 0,
                                c = o ? a.pageXOffset : 0;
                              if (s) {
                                var u = s.getBoundingClientRect();
                                (n = u.top || 0), (r = u.left || 0);
                              }
                              return {
                                y: t.clientY + n - l,
                                x: t.clientX + r - c,
                              };
                            }),
                            (r.prototype.getMouseRelativeCanvas = function (
                              t,
                              e
                            ) {
                              var n,
                                r = this.getZoomDecimal(),
                                o =
                                  null !==
                                    (n = this.getCanvasView().getPosition(e)) &&
                                  void 0 !== n
                                    ? n
                                    : {},
                                i = o.top,
                                a = void 0 === i ? 0 : i,
                                s = o.left,
                                l = void 0 === s ? 0 : s;
                              return {
                                y: t.clientY * r + a,
                                x: t.clientX * r + l,
                              };
                            }),
                            (r.prototype.hasFocus = function () {
                              return this.getDocument().hasFocus();
                            }),
                            (r.prototype.isInputFocused = function () {
                              var t = this.getDocument(),
                                e = this.getFrameEl(),
                                n = se(['body'], this.config.notTextable, !0),
                                r =
                                  e && document.activeElement === e
                                    ? t && t.activeElement
                                    : document.activeElement;
                              return (
                                r &&
                                !n.some(function (t) {
                                  return r.matches(t);
                                })
                              );
                            }),
                            (r.prototype.scrollTo = function (t, e) {
                              void 0 === e && (e = {});
                              var r = (0, n.getElement)(t),
                                o = r && (0, n.getViewEl)(r);
                              o && o.scrollIntoView(e);
                            }),
                            (r.prototype.startAutoscroll = function (t) {
                              var e =
                                (t && t.view) || this.em.getCurrentFrame();
                              e && e.startAutoscroll();
                            }),
                            (r.prototype.stopAutoscroll = function (t) {
                              var e =
                                (t && t.view) || this.em.getCurrentFrame();
                              e && e.stopAutoscroll();
                            }),
                            (r.prototype.setZoom = function (t) {
                              return (
                                this.canvas.set('zoom', parseFloat(t)), this
                              );
                            }),
                            (r.prototype.getZoom = function () {
                              return parseFloat(this.canvas.get('zoom'));
                            }),
                            (r.prototype.setCoords = function (t, e) {
                              return (
                                this.canvas.set({
                                  x: parseFloat(t),
                                  y: parseFloat(e),
                                }),
                                this
                              );
                            }),
                            (r.prototype.getCoords = function () {
                              var t = this.canvas.attributes;
                              return {
                                x: t.x,
                                y: t.y,
                              };
                            }),
                            (r.prototype.getZoomDecimal = function () {
                              return this.getZoom() / 100;
                            }),
                            (r.prototype.getZoomMultiplier = function () {
                              var t = this.getZoomDecimal();
                              return t ? 1 / t : 1;
                            }),
                            (r.prototype.toggleFramesEvents = function (t) {
                              this.getFramesEl().style.pointerEvents = t
                                ? ''
                                : 'none';
                            }),
                            (r.prototype.getFrames = function () {
                              return this.canvas.frames.map(function (t) {
                                return t;
                              });
                            }),
                            (r.prototype.addFrame = function (t, e) {
                              return (
                                void 0 === t && (t = {}),
                                void 0 === e && (e = {}),
                                this.canvas.frames.add(
                                  new j(this, ae({}, t)),
                                  e
                                )
                              );
                            }),
                            (r.prototype.destroy = function () {
                              var t,
                                e = this;
                              this.canvas.stopListening(),
                                null === (t = this.canvasView) ||
                                  void 0 === t ||
                                  t.remove(),
                                ['model', 'droppable'].forEach(function (t) {
                                  return (e[t] = {});
                                });
                            }),
                            r
                          );
                        })(y);
                      const ce = le,
                        ue = {
                          stylePrefix: 'comp-',
                          components: [],
                          draggableComponents: !0,
                          processor: void 0,
                          voidElements: [
                            'area',
                            'base',
                            'br',
                            'col',
                            'embed',
                            'hr',
                            'img',
                            'input',
                            'keygen',
                            'link',
                            'menuitem',
                            'meta',
                            'param',
                            'source',
                            'track',
                            'wbr',
                          ],
                        };
                      var pe = 'text/html',
                        de = pe,
                        fe =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (fe =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              fe.apply(this, arguments)
                            );
                          },
                        he = 'data-gjs-',
                        ge = 'parse:html';
                      const ve = function (e, n) {
                        return (
                          void 0 === n && (n = {}),
                          {
                            compTypes: '',
                            modelAttrStart: he,
                            getPropAttribute: function (t, e) {
                              var n = t.replace(this.modelAttrStart, ''),
                                r = (null == e ? void 0 : e.length) || 0,
                                o = null == e ? void 0 : e.substring(0, 1),
                                i = null == e ? void 0 : e.substring(r - 1),
                                a = 'true' === e || ('false' !== e && e);
                              try {
                                a =
                                  ('{' == o && '}' == i) ||
                                  ('[' == o && ']' == i)
                                    ? JSON.parse(a)
                                    : a;
                              } catch (t) {}
                              return {
                                name: n,
                                value: a,
                              };
                            },
                            splitPropsFromAttr: function (e) {
                              var n = this;
                              void 0 === e && (e = {});
                              var r = {},
                                o = {};
                              return (
                                (0, t.each)(e, function (t, e) {
                                  if (0 === e.indexOf(n.modelAttrStart)) {
                                    var i = n.getPropAttribute(e, t);
                                    r[i.name] = i.value;
                                  } else o[e] = t;
                                }),
                                {
                                  props: r,
                                  attrs: o,
                                }
                              );
                            },
                            parseStyle: function (t) {
                              for (
                                var e = {},
                                  n = t.split(';'),
                                  r = 0,
                                  o = n.length;
                                r < o;
                                r++
                              ) {
                                var i = n[r].trim();
                                if (i) {
                                  var a = i.split(':');
                                  e[a[0].trim()] = a.slice(1).join(':').trim();
                                }
                              }
                              return e;
                            },
                            parseClass: function (t) {
                              for (
                                var e = [],
                                  n = t.split(' '),
                                  r = 0,
                                  o = n.length;
                                r < o;
                                r++
                              ) {
                                var i = n[r].trim();
                                i && e.push(i);
                              }
                              return e;
                            },
                            parseNode: function (t, e) {
                              void 0 === e && (e = {});
                              for (
                                var r = [],
                                  o = t.childNodes,
                                  i = 0,
                                  a = o.length;
                                i < a;
                                i++
                              ) {
                                var s = o[i],
                                  l = s.attributes || [],
                                  c = l.length,
                                  u = r[r.length - 1],
                                  p = s.childNodes.length,
                                  d = this.compTypes,
                                  f = {};
                                if (d) {
                                  var h = '',
                                    g =
                                      s.getAttribute &&
                                      s.getAttribute(
                                        ''.concat(this.modelAttrStart, 'type')
                                      );
                                  if (g)
                                    f = {
                                      type: g,
                                    };
                                  else {
                                    for (var v = 0; v < d.length; v++) {
                                      var m = d[v];
                                      if ((h = m.model.isComponent(s, e))) {
                                        'object' != typeof h &&
                                          (h = {
                                            type: m.id,
                                          });
                                        break;
                                      }
                                    }
                                    f = h;
                                  }
                                }
                                if (!f.tagName) {
                                  var y = s.tagName || '',
                                    b = s.namespaceURI || '';
                                  f.tagName =
                                    y && 'http://www.w3.org/1999/xhtml' === b
                                      ? y.toLowerCase()
                                      : y;
                                }
                                c && (f.attributes = {});
                                for (var _ = 0; _ < c; _++) {
                                  var w = l[_].nodeName,
                                    x = l[_].nodeValue;
                                  if ('style' == w)
                                    f.style = this.parseStyle(x);
                                  else if ('class' == w)
                                    f.classes = this.parseClass(x);
                                  else {
                                    if ('contenteditable' == w) continue;
                                    if (0 === w.indexOf(this.modelAttrStart)) {
                                      var C = this.getPropAttribute(w, x);
                                      f[C.name] = C.value;
                                    } else
                                      '' === x && !0 === s[w] && (x = !0),
                                        (f.attributes[w] = x);
                                  }
                                }
                                if (p && !f.components) {
                                  var S = s.childNodes[0];
                                  1 === p && 3 === S.nodeType
                                    ? (!f.type && (f.type = 'text'),
                                      (f.components = {
                                        type: 'textnode',
                                        content: S.nodeValue,
                                      }))
                                    : (f.components = this.parseNode(
                                        s,
                                        fe(fe({}, e), {
                                          inSvg: e.inSvg || 'svg' === f.type,
                                        })
                                      ));
                                }
                                if ('textnode' == f.type) {
                                  if (u && 'textnode' == u.type) {
                                    u.content += f.content;
                                    continue;
                                  }
                                  if (!e.keepEmptyTextNodes) {
                                    var O = s.nodeValue;
                                    if (' ' != O && !O.trim()) continue;
                                  }
                                }
                                p ||
                                  '/>' !== ''.concat(s.outerHTML).slice(-2) ||
                                  (f.void = !0);
                                var k = f.components;
                                if (!f.type && k) {
                                  for (
                                    var T = 1, E = 0, P = 0;
                                    P < k.length;
                                    P++
                                  ) {
                                    var A = k[P],
                                      j = A.type;
                                    if (
                                      ['text', 'textnode'].indexOf(j) < 0 &&
                                      n.textTags.indexOf(A.tagName) < 0
                                    ) {
                                      T = 0;
                                      break;
                                    }
                                    'textnode' == j && (E = 1);
                                  }
                                  T && E && (f.type = 'text');
                                }
                                (f.tagName || 'textnode' == f.type) &&
                                  r.push(f);
                              }
                              return r;
                            },
                            parse: function (r, o, i) {
                              var a;
                              void 0 === i && (i = {});
                              var s =
                                  (null == e ? void 0 : e.get('Config')) || {},
                                l = {},
                                c = fe(fe({}, n), i),
                                u = fe(
                                  fe(fe({}, n.optionsHtml), {
                                    htmlType:
                                      (null === (a = n.optionsHtml) ||
                                      void 0 === a
                                        ? void 0
                                        : a.htmlType) || n.htmlType,
                                  }),
                                  i
                                ),
                                p = (0, t.isFunction)(c.parserHtml)
                                  ? c.parserHtml(r, u)
                                  : (function (e, n) {
                                      void 0 === n && (n = {});
                                      var r,
                                        o = new DOMParser(),
                                        i = n.htmlType || de,
                                        a = i === pe,
                                        s = a ? e : '<div>'.concat(e, '</div>'),
                                        l = o.parseFromString(s, i);
                                      if (a) {
                                        var c = l.head,
                                          u = l.body,
                                          p = c.querySelectorAll('script');
                                        (0, t.each)(p, function (t) {
                                          return u.appendChild(t);
                                        });
                                        var d = [];
                                        (0, t.each)(c.children, function (t) {
                                          return d.push(t);
                                        }),
                                          (0, t.each)(d, function (t, e) {
                                            return u.insertBefore(
                                              t,
                                              u.children[e]
                                            );
                                          }),
                                          (r = u);
                                      } else r = l.firstChild;
                                      return r;
                                    })(r, u),
                                d = p.querySelectorAll('script'),
                                f = d.length;
                              if (
                                !((0, t.isUndefined)(s.allowScripts)
                                  ? u.allowScripts
                                  : s.allowScripts)
                              )
                                for (; f--; ) d[f].parentNode.removeChild(d[f]);
                              if (
                                (u.allowUnsafeAttr || this.__clearUnsafeAttr(p),
                                o)
                              ) {
                                for (
                                  var h = p.querySelectorAll('style'),
                                    g = h.length,
                                    v = '';
                                  g--;

                                )
                                  (v = h[g].innerHTML + v),
                                    h[g].parentNode.removeChild(h[g]);
                                v && (l.css = o.parse(v));
                              }
                              e &&
                                e.trigger(''.concat(ge, ':root'), {
                                  input: r,
                                  root: p,
                                });
                              var m = this.parseNode(p, c),
                                y = 1 !== m.length || c.returnArray ? m : m[0];
                              return (
                                (l.html = y),
                                e &&
                                  e.trigger(ge, {
                                    input: r,
                                    output: l,
                                  }),
                                l
                              );
                            },
                            __clearUnsafeAttr: function (e) {
                              var n = this,
                                r = e.attributes || [],
                                o = e.childNodes || [],
                                i = [];
                              (0, t.each)(r, function (t) {
                                var e = t.nodeName || '';
                                0 === e.indexOf('on') && i.push(e);
                              }),
                                i.map(function (t) {
                                  return e.removeAttribute(t);
                                }),
                                (0, t.each)(o, function (t) {
                                  return n.__clearUnsafeAttr(t);
                                });
                            },
                          }
                        );
                      };
                      var me =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ye =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (ye =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              ye.apply(this, arguments)
                            );
                          },
                        be = ve();
                      const _e = (function (e) {
                        function r() {
                          return (
                            (null !== e && e.apply(this, arguments)) || this
                          );
                        }
                        return (
                          me(r, e),
                          (r.prototype.parseStyle = function (t) {
                            return be.parseStyle(t);
                          }),
                          (r.prototype.extendStyle = function (t) {
                            return ye(ye({}, this.getStyle()), t);
                          }),
                          (r.prototype.getStyle = function (e) {
                            var n = this.get('style') || {},
                              r = ye({}, n);
                            return e && (0, t.isString)(e) ? r[e] : r;
                          }),
                          (r.prototype.setStyle = function (e, r) {
                            var o = this;
                            void 0 === e && (e = {}),
                              void 0 === r && (r = {}),
                              (0, t.isString)(e) && (e = this.parseStyle(e));
                            var i = this.getStyle(r),
                              a = ye({}, e),
                              s = ye({}, a);
                            (0, t.keys)(s).forEach(function (t) {
                              '' === s[t] && delete s[t];
                            }),
                              this.set('style', s, r);
                            var l = (0, n.shallowDiff)(i, a);
                            return (
                              delete l.__p,
                              (0, t.keys)(l).forEach(function (t) {
                                var e = o.em;
                                r.noEvent ||
                                  (o.trigger('change:style:'.concat(t)),
                                  e &&
                                    (e.trigger('styleable:change', o, t, r),
                                    e.trigger(
                                      'styleable:change:'.concat(t),
                                      o,
                                      t,
                                      r
                                    )));
                              }),
                              a
                            );
                          }),
                          (r.prototype.addStyle = function (t, e, n) {
                            void 0 === e && (e = ''),
                              void 0 === n && (n = {}),
                              'string' == typeof t
                                ? (t = {
                                    prop: e,
                                  })
                                : (n = e || {}),
                              (t = this.extendStyle(t)),
                              this.setStyle(t, n);
                          }),
                          (r.prototype.removeStyle = function (t) {
                            var e = this.getStyle();
                            delete e[t], this.setStyle(e);
                          }),
                          (r.prototype.styleToString = function (e) {
                            void 0 === e && (e = {});
                            var n = [],
                              r = this.getStyle(e);
                            for (var o in r) {
                              var i = e.important,
                                a = (0, t.isArray)(i) ? i.indexOf(o) >= 0 : i,
                                s = ''
                                  .concat(r[o])
                                  .concat(a ? ' !important' : ''),
                                l = '__' == o.substr(0, 2);
                              s &&
                                !l &&
                                n.push(''.concat(o, ':').concat(s, ';'));
                            }
                            return n.join('');
                          }),
                          (r.prototype.getSelectors = function () {
                            return this.get('selectors') || this.get('classes');
                          }),
                          (r.prototype.getSelectorsString = function (t) {
                            return this.selectorsToString
                              ? this.selectorsToString(t)
                              : this.getSelectors().getFullString();
                          }),
                          r
                        );
                      })(u.Hn);
                      var we =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        xe =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (xe =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              xe.apply(this, arguments)
                            );
                          },
                        Ce =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          },
                        Se =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        Oe = function (e, n) {
                          return (
                            void 0 === n && (n = []),
                            e
                              ? (((0, t.isArray)(e) || (0, t.isFunction)(e.map)
                                  ? e
                                  : [e]
                                ).map(function (t) {
                                  n.push(t.getId()),
                                    Oe(t.components().models, n);
                                }),
                                n)
                              : []
                          );
                        },
                        ke = function (e, n, r) {
                          void 0 === n && (n = {}),
                            void 0 === r && (r = {}),
                            (r.visitedCmps = r.visitedCmps || {});
                          var o = r.visitedCmps;
                          return ((0, t.isArray)(e) ? e : [e]).map(function (
                            e
                          ) {
                            var i = e.attributes,
                              a = void 0 === i ? {} : i,
                              s = e.components,
                              l = e.tagName,
                              c = a.id,
                              u = (a.draggable, Ce(a, ['id', 'draggable'])),
                              p = e;
                            if (
                              (c &&
                                (o[c]
                                  ? (o[c].push(p),
                                    (c = en.getNewId(n)),
                                    (p.attributes.id = c))
                                  : ((o[c] = []),
                                    n[c] &&
                                      ((p = n[c]),
                                      l &&
                                        p.set(
                                          {
                                            tagName: l,
                                          },
                                          xe(xe({}, r), {
                                            silent: !0,
                                          })
                                        ),
                                      (0, t.keys)(u).length &&
                                        p.addAttributes(u, xe({}, r))))),
                              s)
                            ) {
                              var d = ke(s, n);
                              if ((0, t.isFunction)(p.components)) {
                                var f = p.components();
                                f.length > 0 && f.reset(d, r);
                              } else p.components = d;
                            }
                            return p;
                          });
                        },
                        Te = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            we(n, e),
                            (n.prototype.initialize = function (t, e) {
                              void 0 === e && (e = {}),
                                (this.opt = e),
                                this.listenTo(this, 'add', this.onAdd),
                                this.listenTo(
                                  this,
                                  'remove',
                                  this.removeChildren
                                ),
                                this.listenTo(
                                  this,
                                  'reset',
                                  this.resetChildren
                                );
                              var n = e.em,
                                r = e.config;
                              (this.config = r),
                                (this.em = n),
                                (this.domc =
                                  e.domc ||
                                  (null == n ? void 0 : n.Components));
                            }),
                            (n.prototype.resetChildren = function (t, e) {
                              var n = this;
                              void 0 === e && (e = {});
                              var r = this,
                                o = e.previousModels || [],
                                i = o.filter(function (e) {
                                  return !t.get(e.cid);
                                }),
                                a = Oe(t);
                              (e.keepIds = Oe(o).filter(function (t) {
                                return a.indexOf(t) >= 0;
                              })),
                                i.forEach(function (t) {
                                  return n.removeChildren(t, r, e);
                                }),
                                t.each(function (t) {
                                  return n.onAdd(t);
                                });
                            }),
                            (n.prototype.resetFromString = function (t, e) {
                              void 0 === t && (t = ''),
                                void 0 === e && (e = {}),
                                (e.keepIds = Oe(this));
                              var n = this,
                                r = n.domc,
                                o = n.em,
                                i = n.parent,
                                a = null == o ? void 0 : o.Css,
                                s = (null == r ? void 0 : r.allById()) || {},
                                l = this.parseString(t, e),
                                c = ke(l, s, e),
                                u = e.visitedCmps,
                                p = void 0 === u ? {} : u;
                              Object.keys(p).forEach(function (t) {
                                var e = p[t];
                                if (e.length) {
                                  var n =
                                    (null == a
                                      ? void 0
                                      : a.getRules('#'.concat(t))) || [];
                                  n.length &&
                                    e.forEach(function (t) {
                                      n.forEach(function (e) {
                                        var n = e.clone();
                                        n.set('selectors', [
                                          '#'.concat(t.attributes.id),
                                        ]),
                                          a.getAll().add(n);
                                      });
                                    });
                                }
                              }),
                                this.reset(c, e),
                                null == o ||
                                  o.trigger('component:content', i, e, t);
                            }),
                            (n.prototype.removeChildren = function (t, e, n) {
                              var r = this;
                              if ((void 0 === n && (n = {}), t)) {
                                var o = this.domc,
                                  i = this.em,
                                  a = n.temporary || n.fromUndo;
                                if (((t.prevColl = this), !a)) {
                                  var s = t.getId(),
                                    l = i.Selectors.getAll(),
                                    c = i.Css.getAll(),
                                    u = (n.keepIds || []).indexOf(s) < 0;
                                  delete (o ? o.allById() : {})[s];
                                  var p = u
                                    ? c.remove(
                                        c.filter(function (t) {
                                          return (
                                            t.getSelectors().getFullString() ===
                                            '#'.concat(s)
                                          );
                                        }),
                                        n
                                      )
                                    : [];
                                  l.remove(
                                    p.map(function (t) {
                                      return t.getSelectors().at(0);
                                    })
                                  ),
                                    t.opt.temporary ||
                                      (i.Commands.run(
                                        'core:component-style-clear',
                                        {
                                          target: t,
                                        }
                                      ),
                                      t.removed(),
                                      t.trigger('removed'),
                                      i.trigger('component:remove', t)),
                                    t.components().forEach(function (t) {
                                      return r.removeChildren(t, e, n);
                                    });
                                }
                                var d = t.components();
                                i.stopListening(d),
                                  i.stopListening(t),
                                  i.stopListening(t.get('classes')),
                                  t.__postRemove();
                              }
                            }),
                            (n.prototype.model = function (t, e) {
                              var n,
                                r = e.collection.opt,
                                o = r.em,
                                i = o.Components.componentTypes;
                              (e.em = o),
                                (e.config = r.config),
                                (e.componentTypes = i),
                                (e.domc = r.domc);
                              for (var a = 0; a < i.length; a++)
                                if (i[a].id == t.type) {
                                  n = i[a].model;
                                  break;
                                }
                              return (
                                n ||
                                  ((n = i[i.length - 1].model),
                                  o &&
                                    t.type &&
                                    o.logWarning(
                                      "Component type '".concat(
                                        t.type,
                                        "' not found"
                                      ),
                                      {
                                        attrs: t,
                                        options: e,
                                      }
                                    )),
                                new n(t, e)
                              );
                            }),
                            (n.prototype.parseString = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.em,
                                r = this.domc,
                                o = n.Css,
                                i = n.Parser.parseHtml(t);
                              if (
                                (en.checkId(i.html, i.css, r.componentsById, e),
                                i.css && o && !e.temporary)
                              ) {
                                e.at;
                                var a = Ce(e, ['at']);
                                o.addCollection(
                                  i.css,
                                  xe(xe({}, a), {
                                    extend: 1,
                                  })
                                );
                              }
                              return i.html;
                            }),
                            (n.prototype.add = function (e, n) {
                              var r = this;
                              void 0 === n && (n = {}),
                                (n.keepIds = Se(
                                  Se([], n.keepIds || [], !0),
                                  Oe(n.previousModels),
                                  !0
                                )),
                                (0, t.isString)(e)
                                  ? (e = this.parseString(e, n))
                                  : (0, t.isArray)(e) &&
                                    (e = Se([], e, !0)).forEach(function (
                                      o,
                                      i
                                    ) {
                                      if ((0, t.isString)(o)) {
                                        var a = r.parseString(o, n);
                                        e[i] =
                                          (0, t.isArray)(a) && !a.length
                                            ? null
                                            : a;
                                      }
                                    });
                              var o = (0, t.isArray)(e);
                              (e = (o ? e : [e])
                                .filter(Boolean)
                                .map(function (t) {
                                  return r.processDef(t);
                                })),
                                (e = o ? (0, t.flatten)(e, 1) : e[0]);
                              var i = u.FE.prototype.add.apply(this, [e, n]);
                              return (this.__firstAdd = i), i;
                            }),
                            (n.prototype.processDef = function (e) {
                              if (e.cid && e.ccid) return e;
                              var n = this.em,
                                r = this.config,
                                o = (void 0 === r ? {} : r).processor,
                                i = e;
                              if (o) {
                                var a = o((i = xe({}, i)));
                                a &&
                                  ((0, t.each)(i, function (t, e) {
                                    return delete i[e];
                                  }),
                                  (0, t.extend)(i, a));
                              }
                              if (i.$$typeof && 'object' == typeof i.props) {
                                (i = xe({}, i)).props = xe({}, i.props);
                                var s = n.Components,
                                  l = n.Parser.parserHtml;
                                (0, t.each)(i, function (e, n) {
                                  (0, t.includes)(['props', 'type'], n) ||
                                    delete i[n];
                                });
                                var c = i.props,
                                  u = c.children;
                                delete c.children, delete i.props;
                                var p = l.splitPropsFromAttr(c);
                                (i.attributes = p.attrs),
                                  u && (i.components = u),
                                  i.type
                                    ? s.getType(i.type) ||
                                      ((i.tagName = i.type), delete i.type)
                                    : (i.type = 'textnode'),
                                  (0, t.extend)(i, p.props);
                              }
                              return i;
                            }),
                            (n.prototype.onAdd = function (e, n, r) {
                              void 0 === r && (r = {});
                              var o = this.domc,
                                i = this.em,
                                a = e.getStyle(),
                                s = i && i.getConfig().avoidInlineStyle;
                              if (
                                (o && o.Component.ensureInList(e),
                                !(0, t.isEmpty)(a) &&
                                  !s &&
                                  i &&
                                  i.get &&
                                  i.getConfig().forceClass &&
                                  !r.temporary)
                              ) {
                                var l = e.cid;
                                i.Css.setClassRule(l, a),
                                  e.setStyle({}),
                                  e.addClass(l);
                              }
                              e.__postAdd({
                                recursive: !0,
                              });
                            }),
                            n
                          );
                        })(u.FE);
                      const Ee = Te;
                      var Pe =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ae = 1,
                        je = 2,
                        Me = (function (e) {
                          function n(t, r) {
                            void 0 === r && (r = {});
                            var o = e.call(this, t, r) || this,
                              i = r.config,
                              a = void 0 === i ? {} : i,
                              s = o.get('name'),
                              l = o.get('label');
                            s ? l || o.set('label', s) : o.set('name', l);
                            var c = o.get('name'),
                              u = a.escapeName,
                              p = u ? u(c) : n.escapeName(c);
                            return o.set('name', p), (o.em = r.em), o;
                          }
                          return (
                            Pe(n, e),
                            (n.prototype.defaults = function () {
                              return {
                                name: '',
                                label: '',
                                type: Ae,
                                active: !0,
                                private: !1,
                                protected: !1,
                                _undo: !0,
                              };
                            }),
                            (n.prototype.isId = function () {
                              return this.get('type') === je;
                            }),
                            (n.prototype.isClass = function () {
                              return this.get('type') === Ae;
                            }),
                            (n.prototype.getFullName = function (t) {
                              void 0 === t && (t = {});
                              var e = t.escape,
                                n = this.get('name'),
                                r = '';
                              switch (this.get('type')) {
                                case Ae:
                                  r = '.';
                                  break;
                                case je:
                                  r = '#';
                              }
                              return r + (e ? e(n) : n);
                            }),
                            (n.prototype.toString = function () {
                              return this.getFullName();
                            }),
                            (n.prototype.getLabel = function () {
                              return this.get('label');
                            }),
                            (n.prototype.setLabel = function (t) {
                              return this.set('label', t);
                            }),
                            (n.prototype.getActive = function () {
                              return this.get('active');
                            }),
                            (n.prototype.setActive = function (t) {
                              return this.set('active', t);
                            }),
                            (n.prototype.toJSON = function (e) {
                              void 0 === e && (e = {});
                              var n = this.em,
                                r = u.Hn.prototype.toJSON.call(this, [e]),
                                o = (0, t.result)(this, 'defaults');
                              if (n && n.getConfig().avoidDefaults) {
                                (0, t.forEach)(o, function (t, e) {
                                  r[e] === t && delete r[e];
                                }),
                                  r.label === r.name && delete r.label;
                                var i = (0, t.keys)(r).length;
                                1 === i && r.name && (r = r.name),
                                  2 === i &&
                                    r.name &&
                                    r.type &&
                                    (r = this.getFullName());
                              }
                              return r;
                            }),
                            (n.escapeName = function (t) {
                              return ''
                                .concat(t)
                                .trim()
                                .replace(/([^a-z0-9\w-\:@]+)/gi, '-');
                            }),
                            (n.TYPE_CLASS = Ae),
                            (n.TYPE_ID = je),
                            n
                          );
                        })(u.Hn);
                      const Le = Me;
                      Me.prototype.idAttribute = 'name';
                      var De =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ne = function (t, e) {
                          return t.reduce(
                            function (n, r, o) {
                              return n.concat(
                                Ne(t.slice(o + 1), ''.concat(e).concat(r))
                              );
                            },
                            [e]
                          );
                        },
                        Ie = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            De(n, e),
                            (n.prototype.modelId = function (t) {
                              return ''
                                .concat(t.name, '_')
                                .concat(t.type || Le.TYPE_CLASS);
                            }),
                            (n.prototype.getStyleable = function () {
                              return (0, t.filter)(this.models, function (t) {
                                return t.get('active') && !t.get('private');
                              });
                            }),
                            (n.prototype.getValid = function (e) {
                              var n = (void 0 === e ? {} : e).noDisabled;
                              return (0, t.filter)(this.models, function (t) {
                                return !t.get('private');
                              }).filter(function (t) {
                                return n ? t.get('active') : 1;
                              });
                            }),
                            (n.prototype.getFullString = function (t, e) {
                              void 0 === e && (e = {});
                              var n = [];
                              return (
                                (t || this).forEach(function (t) {
                                  return n.push(t.getFullName(e));
                                }),
                                e.sort && n.sort(),
                                n.join('').trim()
                              );
                            }),
                            (n.prototype.getFullName = function (t) {
                              void 0 === t && (t = {});
                              var e = t.combination,
                                n = t.array,
                                r = [],
                                o = this.map(function (e) {
                                  return e.getFullName(t);
                                }).sort();
                              return (
                                e
                                  ? o.forEach(function (t, e) {
                                      r = r.concat(Ne(o.slice(e + 1), t));
                                    })
                                  : (r = o),
                                n ? r : e ? r.join(',') : r.join('')
                              );
                            }),
                            n
                          );
                        })(u.FE);
                      const Fe = Ie;
                      Ie.prototype.model = Le;
                      var Re =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ze =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (ze =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              ze.apply(this, arguments)
                            );
                          };
                      const Ve = (function (e) {
                        function n(n) {
                          var r = e.call(this, n) || this,
                            o = r.attributes,
                            i = o.target,
                            a = o.name,
                            s = o.changeProp,
                            l = o.value;
                          if ((!r.get('id') && r.set('id', a), i)) {
                            (r.target = i), r.unset('target');
                            var c = s
                              ? 'change:'.concat(a)
                              : 'change:attributes:'.concat(a);
                            r.listenTo(i, c, r.targetUpdated);
                            var u = l || r.getValue();
                            !(0, t.isUndefined)(u) &&
                              r.set(
                                {
                                  value: u,
                                },
                                {
                                  silent: !0,
                                }
                              );
                          }
                          return r;
                        }
                        return (
                          Re(n, e),
                          (n.prototype.defaults = function () {
                            return {
                              type: 'text',
                              label: '',
                              name: '',
                              unit: '',
                              step: 1,
                              value: '',
                              default: '',
                              placeholder: '',
                              changeProp: !1,
                              options: [],
                            };
                          }),
                          (n.prototype.getId = function () {
                            return this.get('id');
                          }),
                          (n.prototype.getType = function () {
                            return this.get('type');
                          }),
                          (n.prototype.getName = function () {
                            return this.get('name');
                          }),
                          (n.prototype.getLabel = function (t) {
                            var e;
                            void 0 === t && (t = {});
                            var n = t.locale,
                              r = void 0 === n || n,
                              o = this.getId(),
                              i = this.get('label') || this.getName();
                            return (
                              (r &&
                                (null === (e = this.em) || void 0 === e
                                  ? void 0
                                  : e.t(
                                      'traitManager.traits.labels.'.concat(o)
                                    ))) ||
                              i
                            );
                          }),
                          (n.prototype.getValue = function () {
                            return this.getTargetValue();
                          }),
                          (n.prototype.setValue = function (t, e) {
                            void 0 === e && (e = {});
                            var n = {};
                            e.partial && (n.avoidStore = !0),
                              this.setTargetValue(t, n),
                              !1 === e.partial &&
                                (this.setTargetValue(''),
                                this.setTargetValue(t));
                          }),
                          (n.prototype.props = function () {
                            return this.attributes;
                          }),
                          (n.prototype.targetUpdated = function () {
                            var t,
                              e = this.getTargetValue();
                            this.set(
                              {
                                value: e,
                              },
                              {
                                fromTarget: 1,
                              }
                            ),
                              null === (t = this.em) ||
                                void 0 === t ||
                                t.trigger('trait:update', {
                                  trait: this,
                                  component: this.target,
                                });
                          }),
                          (n.prototype.getTargetValue = function () {
                            var e,
                              n = this.getName(),
                              r = this.target;
                            return (
                              (e = this.get('changeProp')
                                ? r.get(n)
                                : r.getAttributes()[n]),
                              (0, t.isUndefined)(e) ? '' : e
                            );
                          }),
                          (n.prototype.setTargetValue = function (e, n) {
                            var r;
                            void 0 === n && (n = {});
                            var o = this.target,
                              i = this.attributes,
                              a = this.getName();
                            if (!(0, t.isUndefined)(e)) {
                              var s = e;
                              if (
                                ('false' === e
                                  ? (s = !1)
                                  : 'true' === e && (s = !0),
                                'checkbox' === this.getType())
                              ) {
                                var l = i.valueTrue,
                                  c = i.valueFalse;
                                s && !(0, t.isUndefined)(l) && (s = l),
                                  s || (0, t.isUndefined)(c) || (s = c);
                              }
                              this.get('changeProp')
                                ? o.set(a, s, n)
                                : o.addAttributes((((r = {})[a] = s), r), n);
                            }
                          }),
                          (n.prototype.setValueFromInput = function (t, e, n) {
                            void 0 === e && (e = !0), void 0 === n && (n = {});
                            var r = {
                              value: t,
                            };
                            this.set(
                              r,
                              ze(ze({}, n), {
                                avoidStore: 1,
                              })
                            ),
                              e && (this.set('value', '', n), this.set(r, n));
                          }),
                          (n.prototype.getInitValue = function () {
                            var t,
                              e = this.target,
                              n = this.getName();
                            if (e) {
                              var r = e.get('attributes');
                              t = this.get('changeProp') ? e.get(n) : r[n];
                            }
                            return (
                              t || this.get('value') || this.get('default')
                            );
                          }),
                          n
                        );
                      })(u.Hn);
                      var Be =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        He = (function (e) {
                          function n(t, n) {
                            var r = e.call(this, t) || this;
                            return (
                              (r.em = n.em),
                              r.listenTo(r, 'add', r.handleAdd),
                              r.listenTo(r, 'reset', r.handleReset),
                              r
                            );
                          }
                          return (
                            Be(n, e),
                            (n.prototype.handleReset = function (t, e) {
                              var n = (void 0 === e ? {} : e).previousModels;
                              (void 0 === n ? [] : n).forEach(function (t) {
                                return t.trigger('remove');
                              });
                            }),
                            (n.prototype.handleAdd = function (t) {
                              t.em = this.em;
                              var e = this.target;
                              e && (t.target = e);
                            }),
                            (n.prototype.setTarget = function (t) {
                              this.target = t;
                            }),
                            (n.prototype.add = function (e, n) {
                              var r = this.em;
                              if ((0, t.isString)(e) || (0, t.isArray)(e)) {
                                var o = r && r.get && r.Traits,
                                  i = (function (t) {
                                    return (
                                      void 0 === t && (t = {}),
                                      {
                                        build: function (e) {
                                          var n = [];
                                          'string' == typeof e && (e = [e]);
                                          for (var r = 0; r < e.length; r++) {
                                            var o = e[r],
                                              i = {
                                                name: o,
                                                type: 'text',
                                              };
                                            'target' === o &&
                                              ((i.type = 'select'),
                                              (i.default = !1),
                                              (i.options = t.optionsTarget)),
                                              n.push(i);
                                          }
                                          return n;
                                        },
                                      }
                                    );
                                  })(o && o.getConfig());
                                (0, t.isString)(e) && (e = [e]);
                                for (var a = 0, s = e.length; a < s; a++) {
                                  var l = e[a],
                                    c = (0, t.isString)(l) ? i.build(l)[0] : l;
                                  (c.target = this.target), (e[a] = c);
                                }
                              }
                              return u.FE.prototype.add.apply(this, [e, n]);
                            }),
                            n
                          );
                        })(u.FE);
                      const Ue = He;
                      He.prototype.model = Ve;
                      var We =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        $e =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              ($e =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              $e.apply(this, arguments)
                            );
                          },
                        Ge =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        qe = function (t) {
                          return t.replace(/[|\\{}()[\]^$+*?.]/g, '\\$&');
                        },
                        Ke = 'component:drag',
                        Ze = '__symbols',
                        Ye = '__symbol',
                        Xe = '__symbol_ovrd',
                        Je = 'component:update',
                        Qe = ''.concat(Je, '-inside'),
                        tn = (function (e) {
                          function r() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            We(r, e),
                            Object.defineProperty(r.prototype, 'defaults', {
                              get: function () {
                                var t;
                                return (
                                  ((t = {
                                    tagName: 'div',
                                    type: '',
                                    name: '',
                                    removable: !0,
                                    draggable: !0,
                                    droppable: !0,
                                    badgable: !0,
                                    stylable: !0,
                                    'stylable-require': '',
                                    'style-signature': '',
                                    unstylable: '',
                                    highlightable: !0,
                                    copyable: !0,
                                    resizable: !1,
                                    editable: !1,
                                    layerable: !0,
                                    selectable: !0,
                                    hoverable: !0,
                                    locked: !1,
                                    void: !1,
                                    state: '',
                                    status: '',
                                    content: '',
                                    icon: '',
                                    style: '',
                                    styles: '',
                                    classes: '',
                                    script: '',
                                    'script-props': '',
                                    'script-export': '',
                                    attributes: {},
                                    traits: ['id', 'title'],
                                    propagate: '',
                                    dmode: '',
                                    toolbar: null,
                                  })[Ye] = 0),
                                  (t[Ze] = 0),
                                  (t[Xe] = 0),
                                  (t._undo = !0),
                                  (t._undoexc = ['status', 'open']),
                                  t
                                );
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(r.prototype, 'classes', {
                              get: function () {
                                return this.get('classes');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(r.prototype, 'traits', {
                              get: function () {
                                return this.get('traits');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (r.prototype.init = function () {}),
                            (r.prototype.updated = function (t, e, n) {}),
                            (r.prototype.removed = function () {}),
                            (r.prototype.initialize = function (e, n) {
                              var o = this;
                              void 0 === e && (e = {}),
                                void 0 === n && (n = {}),
                                (0, t.bindAll)(
                                  this,
                                  '__upSymbProps',
                                  '__upSymbCls',
                                  '__upSymbComps'
                                );
                              var i = n.em,
                                a = this.parent(),
                                s = null == a ? void 0 : a.attributes,
                                l = this.get('propagate');
                              if (
                                (l &&
                                  this.set(
                                    'propagate',
                                    (0, t.isArray)(l) ? l : [l]
                                  ),
                                s && s.propagate && !l)
                              ) {
                                var c = {},
                                  u = s.propagate;
                                u.forEach(function (t) {
                                  return (c[t] = a.get(t));
                                }),
                                  (c.propagate = u),
                                  this.set($e($e({}, c), e));
                              }
                              if (
                                (n &&
                                  n.config &&
                                  n.config.voidElements.indexOf(
                                    this.get('tagName')
                                  ) >= 0 &&
                                  this.set('void', !0),
                                (n.em = i),
                                (this.opt = n),
                                (this.em = i),
                                (this.frame = n.frame),
                                (this.config = n.config || {}),
                                this.set(
                                  'attributes',
                                  $e(
                                    $e(
                                      {},
                                      (0, t.result)(this, 'defaults')
                                        .attributes || {}
                                    ),
                                    this.get('attributes') || {}
                                  )
                                ),
                                (this.ccid = r.createId(this, n)),
                                this.initClasses(),
                                this.initTraits(),
                                this.initComponents(),
                                this.initToolbar(),
                                this.initScriptProps(),
                                this.listenTo(
                                  this,
                                  'change:script',
                                  this.scriptUpdated
                                ),
                                this.listenTo(
                                  this,
                                  'change:tagName',
                                  this.tagUpdated
                                ),
                                this.listenTo(
                                  this,
                                  'change:attributes',
                                  this.attrUpdated
                                ),
                                this.listenTo(
                                  this,
                                  'change:attributes:id',
                                  this._idUpdated
                                ),
                                this.on('change:toolbar', this.__emitUpdateTlb),
                                this.on('change', this.__onChange),
                                this.on(Qe, this.__propToParent),
                                this.set('status', ''),
                                (this.views = []),
                                ['classes', 'traits', 'components'].forEach(
                                  function (t) {
                                    var e = 'add remove '.concat(
                                      'components' !== t ? 'change' : ''
                                    );
                                    o.listenTo(o.get(t), e.trim(), function () {
                                      for (
                                        var e = [], n = 0;
                                        n < arguments.length;
                                        n++
                                      )
                                        e[n] = arguments[n];
                                      return o.emitUpdate.apply(
                                        o,
                                        Ge([t], e, !1)
                                      );
                                    });
                                  }
                                ),
                                !n.temporary)
                              ) {
                                var p = i && i.Css,
                                  d = this.attributes,
                                  f = d.styles,
                                  h = d.type;
                                f &&
                                  p &&
                                  p.addCollection(
                                    f,
                                    {
                                      avoidUpdateStyle: !0,
                                    },
                                    {
                                      group: 'cmp:'.concat(h),
                                    }
                                  ),
                                  this.__postAdd(),
                                  this.init(),
                                  this.__isSymbolOrInst() && this.__initSymb(),
                                  i && i.trigger('component:create', this);
                              }
                            }),
                            (r.prototype.__postAdd = function (t) {
                              void 0 === t && (t = {});
                              var e = this.em,
                                n = null == e ? void 0 : e.UndoManager,
                                r = this.components();
                              n &&
                                !this.__hasUm &&
                                (n.add(r),
                                n.add(this.getSelectors()),
                                (this.__hasUm = !0)),
                                t.recursive &&
                                  r.map(function (e) {
                                    return e.__postAdd(t);
                                  });
                            }),
                            (r.prototype.__postRemove = function () {
                              var t = this.em,
                                e = null == t ? void 0 : t.get('UndoManager');
                              e &&
                                (e.remove(this.components()),
                                e.remove(this.getSelectors()),
                                delete this.__hasUm);
                            }),
                            (r.prototype.__onChange = function (e, r) {
                              var o = this,
                                i = this.changedAttributes() || {};
                              (0, t.keys)(i).forEach(function (t) {
                                return o.emitUpdate(t);
                              }),
                                ['status', 'open', 'toolbar', 'traits'].forEach(
                                  function (t) {
                                    return delete i[t];
                                  }
                                ),
                                (0, n.isEmptyObj)(i) ||
                                  (this.__changesUp(r),
                                  this.__propSelfToParent({
                                    component: this,
                                    changed: i,
                                    options: r,
                                  }));
                            }),
                            (r.prototype.__changesUp = function (t) {
                              var e = this.em;
                              [this.frame, e].forEach(function (e) {
                                return e && e.changesUp(t);
                              });
                            }),
                            (r.prototype.__propSelfToParent = function (t) {
                              this.trigger(Je, t), this.__propToParent(t);
                            }),
                            (r.prototype.__propToParent = function (t) {
                              var e = this.parent();
                              e && e.trigger(Qe, t);
                            }),
                            (r.prototype.__emitUpdateTlb = function () {
                              this.emitUpdate('toolbar');
                            }),
                            (r.prototype.is = function (t) {
                              return !(this.get('type') != t);
                            }),
                            (r.prototype.props = function () {
                              return this.attributes;
                            }),
                            (r.prototype.index = function () {
                              var t = this.collection;
                              return t ? t.indexOf(this) : 0;
                            }),
                            (r.prototype.setDragMode = function (t) {
                              return this.set('dmode', t);
                            }),
                            (r.prototype.find = function (t) {
                              var e,
                                n = [],
                                r =
                                  null === (e = this.view) || void 0 === e
                                    ? void 0
                                    : e.$el.find(t);
                              return (
                                null == r ||
                                  r.each(function (t) {
                                    var e = r.eq(t).data('model');
                                    e && n.push(e);
                                  }),
                                n
                              );
                            }),
                            (r.prototype.findType = function (t) {
                              var e = [],
                                n = function (r) {
                                  return r.forEach(function (r) {
                                    r.is(t) && e.push(r), n(r.components());
                                  });
                                };
                              return n(this.components()), e;
                            }),
                            (r.prototype.closest = function (t) {
                              var e,
                                n =
                                  null === (e = this.view) || void 0 === e
                                    ? void 0
                                    : e.$el.closest(t);
                              return (null == n ? void 0 : n.length)
                                ? n.data('model')
                                : void 0;
                            }),
                            (r.prototype.closestType = function (t) {
                              for (var e = this.parent(); e && !e.is(t); )
                                e = e.parent();
                              return e;
                            }),
                            (r.prototype.contains = function (t) {
                              var e = !1;
                              if (!t) return e;
                              var n = function (r) {
                                !e &&
                                  r.forEach(function (r) {
                                    r === t && (e = !0),
                                      !e && n(r.components());
                                  });
                              };
                              return n(this.components()), e;
                            }),
                            (r.prototype.tagUpdated = function () {
                              this.trigger('rerender');
                            }),
                            (r.prototype.replaceWith = function (t) {
                              var e = this.collection,
                                n = e.indexOf(this);
                              return (
                                e.remove(this),
                                e.add(t, {
                                  at: n,
                                })
                              );
                            }),
                            (r.prototype.attrUpdated = function (e, r, o) {
                              var i = this;
                              void 0 === o && (o = {});
                              var a = this.get('attributes'),
                                s = a.class;
                              s && this.setClass(s), delete a.class;
                              var l = a.style;
                              l && this.setStyle(l), delete a.style;
                              var c = $e({}, this.previous('attributes')),
                                u = (0, n.shallowDiff)(
                                  c,
                                  this.get('attributes')
                                );
                              (0, t.keys)(u).forEach(function (t) {
                                return i.trigger(
                                  'change:attributes:'.concat(t),
                                  i,
                                  u[t],
                                  o
                                );
                              });
                            }),
                            (r.prototype.setAttributes = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.set('attributes', $e({}, t), e),
                                this
                              );
                            }),
                            (r.prototype.addAttributes = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.setAttributes(
                                  $e(
                                    $e(
                                      {},
                                      this.getAttributes({
                                        noClass: !0,
                                      })
                                    ),
                                    t
                                  ),
                                  e
                                )
                              );
                            }),
                            (r.prototype.removeAttributes = function (t, e) {
                              void 0 === t && (t = []),
                                void 0 === e && (e = {});
                              var n = Array.isArray(t) ? t : [t],
                                r = this.getAttributes();
                              return (
                                n.map(function (t) {
                                  return delete r[t];
                                }),
                                this.setAttributes(r, e)
                              );
                            }),
                            (r.prototype.getStyle = function (n, r) {
                              void 0 === n && (n = {}),
                                void 0 === r && (r = {});
                              var o = this.em,
                                i = (0, t.isString)(n) ? n : '',
                                a = i ? r : n;
                              if (
                                o &&
                                o.getConfig().avoidInlineStyle &&
                                !a.inline
                              ) {
                                var s = o.get('state'),
                                  l = o.Css.getIdRule(
                                    this.getId(),
                                    $e(
                                      {
                                        state: s,
                                      },
                                      a
                                    )
                                  );
                                if (((this.rule = l), l)) return l.getStyle(i);
                              }
                              return e.prototype.getStyle.call(this, i);
                            }),
                            (r.prototype.setStyle = function (r, o) {
                              var i = this;
                              void 0 === r && (r = {}),
                                void 0 === o && (o = {});
                              var a = this.opt,
                                s = this.em;
                              if (
                                s &&
                                s.getConfig().avoidInlineStyle &&
                                !a.temporary &&
                                !o.inline
                              ) {
                                var l = this.get('style') || {};
                                (r = (0, t.isString)(r)
                                  ? this.parseStyle(r)
                                  : r),
                                  (r = $e($e({}, r), l));
                                var c = s.get('state'),
                                  u = s.Css,
                                  p = this.getStyle(o);
                                this.rule = u.setIdRule(
                                  this.getId(),
                                  r,
                                  $e($e({}, o), {
                                    state: c,
                                  })
                                );
                                var d = (0, n.shallowDiff)(p, r);
                                this.set('style', '', {
                                  silent: !0,
                                }),
                                  (0, t.keys)(d).forEach(function (t) {
                                    return i.trigger('change:style:'.concat(t));
                                  });
                              } else
                                r = e.prototype.setStyle.apply(this, arguments);
                              return r;
                            }),
                            (r.prototype.getAttributes = function (e) {
                              void 0 === e && (e = {});
                              var r = this.em,
                                o = [],
                                i = $e({}, this.get('attributes')),
                                a = null == r ? void 0 : r.Selectors,
                                s = this.getId();
                              if (
                                (e.noClass
                                  ? delete i.class
                                  : (this.classes.forEach(function (e) {
                                      return o.push(
                                        (0, t.isString)(e) ? e : e.get('name')
                                      );
                                    }),
                                    o.length && (i.class = o.join(' '))),
                                !e.noStyle)
                              ) {
                                var l = this.get('style');
                                (0, n.isObject)(l) &&
                                  !(0, n.isEmptyObj)(l) &&
                                  (i.style = this.styleToString({
                                    inline: 1,
                                  }));
                              }
                              if (!(0, t.has)(i, 'id')) {
                                var c = void 0;
                                !(function (t) {
                                  return t && t.getConfig().avoidInlineStyle;
                                })(r)
                                  ? (0, t.isEmpty)(this.getStyle()) || (c = 1)
                                  : (c = a && a.get(s, a.Selector.TYPE_ID)),
                                  (this.__getSymbol() || this.__getSymbols()) &&
                                    (c = 1),
                                  c && (i.id = s);
                              }
                              return i;
                            }),
                            (r.prototype.addClass = function (t) {
                              var e = this.em.Selectors.addClass(t);
                              return this.classes.add(e);
                            }),
                            (r.prototype.setClass = function (t) {
                              return this.classes.reset(), this.addClass(t);
                            }),
                            (r.prototype.removeClass = function (e) {
                              var n = [];
                              e = (0, t.isArray)(e) ? e : [e];
                              var r = this.classes,
                                o = Le.TYPE_CLASS;
                              return (
                                e.forEach(function (t) {
                                  t.split(' ').forEach(function (t) {
                                    var e = r.where({
                                      name: t,
                                      type: o,
                                    })[0];
                                    e && n.push(r.remove(e));
                                  });
                                }),
                                n
                              );
                            }),
                            (r.prototype.getClasses = function () {
                              var t = this.getAttributes().class;
                              return t ? t.split(' ') : [];
                            }),
                            (r.prototype.__logSymbol = function (t, e, n) {
                              void 0 === n && (n = {});
                              var r = this.__getSymbol(),
                                o = this.__getSymbols();
                              (r || o) &&
                                this.em.log(t, {
                                  model: this,
                                  toUp: e,
                                  context: 'symbols',
                                  opts: n,
                                });
                            }),
                            (r.prototype.__initSymb = function () {
                              this.__symbReady ||
                                (this.on('change', this.__upSymbProps),
                                (this.__symbReady = !0));
                            }),
                            (r.prototype.__isSymbol = function () {
                              return (0, t.isArray)(this.get(Ze));
                            }),
                            (r.prototype.__isSymbolOrInst = function () {
                              return !(!this.__isSymbol() && !this.get(Ye));
                            }),
                            (r.prototype.__isSymbolTop = function () {
                              var t = this.parent();
                              return (
                                this.__isSymbolOrInst() &&
                                (!t ||
                                  (t && !t.__isSymbol() && !t.__getSymbol()))
                              );
                            }),
                            (r.prototype.__isSymbolNested = function () {
                              if (
                                !this.__isSymbolOrInst() ||
                                this.__isSymbolTop()
                              )
                                return !1;
                              var t = (
                                  this.__isSymbol() ? this : this.__getSymbol()
                                ).__getSymbTop(),
                                e = this.__getSymbTop();
                              return (
                                (e.__isSymbol() ? e : e.__getSymbol()) !== t
                              );
                            }),
                            (r.prototype.__getAllById = function () {
                              var t = this.em;
                              return t ? t.Components.allById() : {};
                            }),
                            (r.prototype.__getSymbol = function () {
                              var e = this.get(Ye);
                              if (e && (0, t.isString)(e)) {
                                var n = this.__getAllById()[e];
                                n ? ((e = n), this.set(Ye, n)) : (e = 0);
                              }
                              return e;
                            }),
                            (r.prototype.__getSymbols = function () {
                              var e = this,
                                n = this.get(Ze);
                              return (
                                n &&
                                  (0, t.isArray)(n) &&
                                  (n.forEach(function (r, o) {
                                    r &&
                                      (0, t.isString)(r) &&
                                      (n[o] = e.__getAllById()[r]);
                                  }),
                                  (n = n.filter(function (e) {
                                    return e && !(0, t.isString)(e);
                                  }))),
                                n
                              );
                            }),
                            (r.prototype.__isSymbOvrd = function (e) {
                              void 0 === e && (e = '');
                              var n = this.get(Xe),
                                r = e.split(':')[0],
                                o = e !== r ? [e, r] : [e];
                              return (
                                !0 === n ||
                                ((0, t.isArray)(n) &&
                                  o.some(function (t) {
                                    return n.indexOf(t) >= 0;
                                  }))
                              );
                            }),
                            (r.prototype.__getSymbToUp = function (t) {
                              var e = this;
                              void 0 === t && (t = {});
                              var n = [],
                                r = t.changed;
                              if (
                                t.fromInstance ||
                                t.noPropagate ||
                                t.fromUndo ||
                                (r && this.__isSymbOvrd(r))
                              )
                                return n;
                              var o = this.__getSymbols() || [],
                                i = this.__getSymbol();
                              return (
                                i ? Ge([i], i.__getSymbols() || [], !0) : o
                              )
                                .filter(function (t) {
                                  return t !== e;
                                })
                                .filter(function (t) {
                                  return !(r && t.__isSymbOvrd(r));
                                });
                            }),
                            (r.prototype.__getSymbTop = function (t) {
                              for (
                                var e = this, n = this.parent(t);
                                n && (n.__isSymbol() || n.__getSymbol());

                              )
                                (e = n), (n = n.parent(t));
                              return e;
                            }),
                            (r.prototype.__upSymbProps = function (e, r) {
                              var o = this;
                              void 0 === r && (r = {});
                              var i = this.changedAttributes() || {},
                                a = i.attributes || {};
                              if (
                                (delete i.status,
                                delete i.open,
                                delete i[Ze],
                                delete i[Ye],
                                delete i[Xe],
                                delete i.attributes,
                                delete a.id,
                                (0, n.isEmptyObj)(a) || (i.attributes = a),
                                !(0, n.isEmptyObj)(i))
                              ) {
                                var s = this.__getSymbToUp(r);
                                (0, t.keys)(i).map(function (t) {
                                  o.__isSymbOvrd(t) && delete i[t];
                                }),
                                  this.__logSymbol('props', s, {
                                    opts: r,
                                    changed: i,
                                  }),
                                  s.forEach(function (e) {
                                    var n = $e({}, i);
                                    (0, t.keys)(n).map(function (t) {
                                      e.__isSymbOvrd(t) && delete n[t];
                                    }),
                                      e.set(
                                        n,
                                        $e(
                                          {
                                            fromInstance: o,
                                          },
                                          r
                                        )
                                      );
                                  });
                              }
                            }),
                            (r.prototype.__upSymbCls = function (t, e, n) {
                              var r = this;
                              void 0 === n && (n = {});
                              var o = this.__getSymbToUp(n);
                              this.__logSymbol('classes', o, {
                                opts: n,
                              }),
                                o.forEach(function (t) {
                                  t.set('classes', r.get('classes'), {
                                    fromInstance: r,
                                  });
                                }),
                                this.__changesUp(n);
                            }),
                            (r.prototype.__upSymbComps = function (t, e, n) {
                              var r = this,
                                o = n || e || {},
                                i = {
                                  fromInstance: o.fromInstance,
                                  fromUndo: o.fromUndo,
                                },
                                a = t.opt.temporary;
                              if (n)
                                if (n.add) {
                                  var s = [],
                                    l = !!this.__getSymbols();
                                  if (
                                    (m = this.__getSymbToUp(
                                      $e($e({}, i), {
                                        changed: 'components:add',
                                      })
                                    )).length
                                  ) {
                                    var c = t.__getSymbol();
                                    (s =
                                      (c
                                        ? c.__getSymbols()
                                        : t.__getSymbols()) || []),
                                      (s = Ge([], s, !0)).push(c || t);
                                  }
                                  !a &&
                                    this.__logSymbol('add', m, {
                                      opts: n,
                                      addedInstances: s.map(function (t) {
                                        return t.cid;
                                      }),
                                      added: t.cid,
                                    }),
                                    m.forEach(function (e) {
                                      var o = e.__getSymbTop(),
                                        i =
                                          s.filter(function (t) {
                                            var e = t.__getSymbTop({
                                              prev: 1,
                                            });
                                            return o && e && e === o;
                                          })[0] ||
                                          t.clone({
                                            symbol: !0,
                                            symbolInv: l,
                                          });
                                      e.append(
                                        i,
                                        $e(
                                          {
                                            fromInstance: r,
                                          },
                                          n
                                        )
                                      );
                                    });
                                } else {
                                  var u = t.__getSymbol();
                                  if (
                                    (u &&
                                      !n.temporary &&
                                      u.set(
                                        Ze,
                                        u.__getSymbols().filter(function (e) {
                                          return e !== t;
                                        })
                                      ),
                                    !t.__isSymbolTop())
                                  ) {
                                    var p = 'components:remove',
                                      d = n.index,
                                      f = t.parent(),
                                      h = $e(
                                        {
                                          fromInstance: t,
                                        },
                                        n
                                      ),
                                      g = t.__isSymbolNested(),
                                      v = function (t) {
                                        var e = t.parent();
                                        e && !e.__isSymbOvrd(p) && t.remove(h);
                                      };
                                    (m = (
                                      null == f ? void 0 : f.__isSymbOvrd(p)
                                    )
                                      ? []
                                      : t.__getSymbToUp(i)),
                                      g &&
                                        ((m =
                                          null == f
                                            ? void 0
                                            : f.__getSymbToUp(
                                                $e($e({}, i), {
                                                  changed: p,
                                                })
                                              )),
                                        (v = function (t) {
                                          var e = t.components().at(d);
                                          e &&
                                            e.remove(
                                              $e(
                                                {
                                                  fromInstance: f,
                                                },
                                                h
                                              )
                                            );
                                        })),
                                      !a &&
                                        this.__logSymbol('remove', m, {
                                          opts: n,
                                          removed: t.cid,
                                          isSymbNested: g,
                                        }),
                                      m.forEach(v);
                                  }
                                }
                              else {
                                var m = this.__getSymbToUp(
                                    $e($e({}, i), {
                                      changed: 'components:reset',
                                    })
                                  ),
                                  y = t.models;
                                this.__logSymbol('reset', m, {
                                  components: y,
                                }),
                                  m.forEach(function (t) {
                                    var n = y.map(function (t) {
                                      return t.clone({
                                        symbol: !0,
                                      });
                                    });
                                    t.components().reset(
                                      n,
                                      $e(
                                        {
                                          fromInstance: r,
                                        },
                                        e
                                      )
                                    );
                                  });
                              }
                              this.__changesUp(o);
                            }),
                            (r.prototype.initClasses = function (e, n, r) {
                              void 0 === r && (r = {});
                              var o = this.get('attributes').class || [],
                                i = [this, 'change:classes', this.initClasses],
                                a = this.get('classes') || o,
                                s = (0, t.isString)(a) ? a.split(' ') : a;
                              this.stopListening.apply(this, i);
                              var l = this.normalizeClasses(s),
                                c = new Fe([]);
                              return (
                                this.set('classes', c, r),
                                c.add(l),
                                c.on('add remove reset', this.__upSymbCls),
                                this.listenTo.apply(this, i),
                                this
                              );
                            }),
                            (r.prototype.initComponents = function () {
                              var e = [
                                this,
                                'change:components',
                                this.initComponents,
                              ];
                              this.stopListening.apply(this, e);
                              var n = new Ee([], this.opt);
                              n.parent = this;
                              var r = this.get('components'),
                                o = !this.opt.avoidChildren;
                              return (
                                this.set('components', n),
                                o &&
                                  r &&
                                  n.add(
                                    (0, t.isFunction)(r) ? r(this) : r,
                                    this.opt
                                  ),
                                n.on('add remove reset', this.__upSymbComps),
                                this.listenTo.apply(this, e),
                                this
                              );
                            }),
                            (r.prototype.initTraits = function (t) {
                              var e = this.em,
                                n = 'change:traits';
                              this.off(n, this.initTraits), this.__loadTraits();
                              var r = $e({}, this.get('attributes')),
                                o = this.traits;
                              return (
                                o.each(function (t) {
                                  if (!t.get('changeProp')) {
                                    var e = t.get('name'),
                                      n = t.getInitValue();
                                    e && n && (r[e] = n);
                                  }
                                }),
                                o.length && this.set('attributes', r),
                                this.on(n, this.initTraits),
                                t && e && e.trigger('component:toggled'),
                                this
                              );
                            }),
                            (r.prototype.initScriptProps = function () {
                              if (!this.opt.temporary) {
                                var t = 'script-props',
                                  e = [
                                    'change:'.concat(t),
                                    this.initScriptProps,
                                  ];
                                this.off.apply(this, e);
                                var n = this.previous(t) || [],
                                  r = this.get(t) || [],
                                  o = n
                                    .map(function (t) {
                                      return 'change:'.concat(t);
                                    })
                                    .join(' '),
                                  i = r
                                    .map(function (t) {
                                      return 'change:'.concat(t);
                                    })
                                    .join(' ');
                                o && this.off(o, this.__scriptPropsChange),
                                  i && this.on(i, this.__scriptPropsChange),
                                  this.on.apply(this, e);
                              }
                            }),
                            (r.prototype.__scriptPropsChange = function (
                              t,
                              e,
                              n
                            ) {
                              void 0 === n && (n = {}),
                                n.avoidStore || this.trigger('rerender');
                            }),
                            (r.prototype.append = function (e, n) {
                              void 0 === n && (n = {});
                              var r = (
                                  (0, t.isArray)(e) ? Ge([], e, !0) : [e]
                                ).map(function (e) {
                                  return (
                                    (0, t.isString)(e) ||
                                      (e.collection &&
                                        e.collection.remove(e, {
                                          temporary: !0,
                                        })),
                                    e
                                  );
                                }),
                                o = this.components().add(r, n);
                              return (0, t.isArray)(o) ? o : [o];
                            }),
                            (r.prototype.components = function (e, n) {
                              void 0 === n && (n = {});
                              var r = this.get('components');
                              return (0, t.isUndefined)(e)
                                ? r
                                : (r.reset(void 0, n),
                                  e ? this.append(e, n) : []);
                            }),
                            (r.prototype.getChildAt = function (t) {
                              return this.components().at(t || 0) || void 0;
                            }),
                            (r.prototype.getLastChild = function () {
                              var t = this.components();
                              return t.at(t.length - 1) || null;
                            }),
                            (r.prototype.empty = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                this.components().reset(void 0, t),
                                this
                              );
                            }),
                            (r.prototype.parent = function (t) {
                              void 0 === t && (t = {});
                              var e =
                                this.collection || (t.prev && this.prevColl);
                              return e ? e.parent : void 0;
                            }),
                            (r.prototype.parents = function () {
                              var t = this.parent();
                              return t ? [t].concat(t.parents()) : [];
                            }),
                            (r.prototype.scriptUpdated = function () {
                              this.set('scriptUpdated', 1);
                            }),
                            (r.prototype.initToolbar = function () {
                              var t = this.em,
                                e = this,
                                n = (t && t.getConfig().stylePrefix) || '';
                              if (!e.get('toolbar') && t) {
                                var r = [];
                                e.collection &&
                                  r.push({
                                    label: t.getIcon('arrowUp'),
                                    command: function (t) {
                                      return t.runCommand(
                                        'core:component-exit',
                                        {
                                          force: 1,
                                        }
                                      );
                                    },
                                  }),
                                  e.get('draggable') &&
                                    r.push({
                                      attributes: {
                                        class: ''.concat(n, 'no-touch-actions'),
                                        draggable: !0,
                                      },
                                      label: t.getIcon('move'),
                                      command: 'tlb-move',
                                    }),
                                  e.get('copyable') &&
                                    r.push({
                                      label: t.getIcon('copy'),
                                      command: 'tlb-clone',
                                    }),
                                  e.get('removable') &&
                                    r.push({
                                      label: t.getIcon('delete'),
                                      command: 'tlb-delete',
                                    }),
                                  e.set('toolbar', r);
                              }
                            }),
                            (r.prototype.__loadTraits = function (e, n) {
                              void 0 === n && (n = {});
                              var r = e || this.traits;
                              if (!(r instanceof Ue)) {
                                r = (0, t.isFunction)(r) ? r(this) : r;
                                var o = new Ue([], this.opt);
                                o.setTarget(this),
                                  r.length &&
                                    (r.forEach(function (t) {
                                      return (
                                        t.attributes &&
                                        delete t.attributes.value
                                      );
                                    }),
                                    o.add(r)),
                                  this.set(
                                    {
                                      traits: o,
                                    },
                                    n
                                  );
                              }
                              return this;
                            }),
                            (r.prototype.getTraits = function () {
                              return (
                                this.__loadTraits(),
                                Ge([], this.traits.models, !0)
                              );
                            }),
                            (r.prototype.setTraits = function (e) {
                              var n = (0, t.isArray)(e) ? e : [e];
                              return (
                                this.set({
                                  traits: n,
                                }),
                                this.getTraits()
                              );
                            }),
                            (r.prototype.getTrait = function (t) {
                              return (
                                this.getTraits().filter(function (e) {
                                  return (
                                    e.get('id') === t || e.get('name') === t
                                  );
                                })[0] || null
                              );
                            }),
                            (r.prototype.updateTrait = function (t, e) {
                              var n,
                                r = this.getTrait(t);
                              return (
                                r && r.set(e),
                                null === (n = this.em) ||
                                  void 0 === n ||
                                  n.trigger('component:toggled'),
                                this
                              );
                            }),
                            (r.prototype.getTraitIndex = function (t) {
                              var e = this.getTrait(t);
                              return e ? this.traits.indexOf(e) : -1;
                            }),
                            (r.prototype.removeTrait = function (e) {
                              var n,
                                r = this,
                                o = ((0, t.isArray)(e) ? e : [e]).map(function (
                                  t
                                ) {
                                  return r.getTrait(t);
                                }),
                                i = this.traits,
                                a = o.length ? i.remove(o) : [];
                              return (
                                null === (n = this.em) ||
                                  void 0 === n ||
                                  n.trigger('component:toggled'),
                                (0, t.isArray)(a) ? a : [a]
                              );
                            }),
                            (r.prototype.addTrait = function (e, n) {
                              var r;
                              void 0 === n && (n = {}), this.__loadTraits();
                              var o = this.traits.add(e, n);
                              return (
                                null === (r = this.em) ||
                                  void 0 === r ||
                                  r.trigger('component:toggled'),
                                (0, t.isArray)(o) ? o : [o]
                              );
                            }),
                            (r.prototype.normalizeClasses = function (t) {
                              var e = [],
                                n = this.em,
                                r = null == n ? void 0 : n.Selectors;
                              return r
                                ? t.models
                                  ? Ge([], t.models, !0)
                                  : (t.forEach(function (t) {
                                      return e.push(r.add(t));
                                    }),
                                    e)
                                : [];
                            }),
                            (r.prototype.clone = function (t) {
                              void 0 === t && (t = {});
                              var e = this.em,
                                n = $e({}, this.attributes),
                                r = $e({}, this.opt),
                                o = this.getId(),
                                i = null == e ? void 0 : e.Css;
                              (n.attributes = $e({}, n.attributes)),
                                delete n.attributes.id,
                                (n.components = []),
                                (n.classes = []),
                                (n.traits = []),
                                this.__isSymbolTop() && (t.symbol = !0),
                                this.get('components').each(function (e, r) {
                                  n.components[r] = e.clone(
                                    $e($e({}, t), {
                                      _inner: 1,
                                    })
                                  );
                                }),
                                this.get('traits').each(function (t, e) {
                                  n.traits[e] = t.clone();
                                }),
                                this.get('classes').each(function (t, e) {
                                  n.classes[e] = t.get('name');
                                }),
                                (n.status = ''),
                                (r.collection = null);
                              var a = new this.constructor(n, r),
                                s = '#'.concat(a.getId());
                              (i ? i.getRules('#'.concat(o)) : []).forEach(
                                function (t) {
                                  var e = t.clone();
                                  e.set('selectors', [s]), i.getAll().add(e);
                                }
                              ),
                                a.set(Ze, 0);
                              var l = this.__getSymbol(),
                                c = this.__getSymbols();
                              t.symbol || (!l && !c)
                                ? l
                                  ? (l.set(
                                      Ze,
                                      Ge(Ge([], l.__getSymbols(), !0), [a], !1)
                                    ),
                                    a.__initSymb())
                                  : t.symbol &&
                                    (this.__isSymbol()
                                      ? (this.set(
                                          Ze,
                                          Ge(Ge([], c, !0), [a], !1)
                                        ),
                                        a.set(Ye, this),
                                        a.__initSymb())
                                      : t.symbolInv
                                      ? (this.set(Ze, [a]),
                                        a.set(Ye, this),
                                        [this, a].map(function (t) {
                                          return t.__initSymb();
                                        }))
                                      : (a.set(Ze, [this]),
                                        [this, a].map(function (t) {
                                          return t.__initSymb();
                                        }),
                                        this.set(Ye, a)))
                                : (a.set(Ye, 0), a.set(Ze, 0));
                              var u = 'component:clone';
                              return (
                                e && e.trigger(u, a), this.trigger(u, a), a
                              );
                            }),
                            (r.prototype.getName = function () {
                              var t = this.em,
                                e = this.attributes,
                                r = e.type,
                                o = e.tagName,
                                i = e.name,
                                a = r || o,
                                s = r ? '' : o,
                                l = 'domComponents.names.',
                                c =
                                  i &&
                                  (null == t
                                    ? void 0
                                    : t.t(''.concat(l).concat(i))),
                                u =
                                  s &&
                                  (null == t
                                    ? void 0
                                    : t.t(''.concat(l).concat(s))),
                                p =
                                  t &&
                                  (t.t(''.concat(l).concat(r)) ||
                                    t.t(''.concat(l).concat(o)));
                              return (
                                this.get('custom-name') ||
                                c ||
                                i ||
                                u ||
                                (0, n.capitalize)(s) ||
                                p ||
                                (0, n.capitalize)(a)
                              );
                            }),
                            (r.prototype.getIcon = function () {
                              var t = this.get('icon');
                              return t ? t + ' ' : '';
                            }),
                            (r.prototype.toHTML = function (e) {
                              void 0 === e && (e = {});
                              var r = this,
                                o = [],
                                i = e.tag || r.get('tagName'),
                                a = r.get('void'),
                                s = e.attributes,
                                l = this.getAttrToHTML();
                              if (
                                (delete e.tag,
                                s &&
                                  ((0, t.isFunction)(s)
                                    ? (l = s(r, l) || {})
                                    : (0, n.isObject)(s) && (l = s)),
                                e.withProps)
                              ) {
                                var c = this.toJSON();
                                (0, t.forEach)(c, function (e, r) {
                                  '_' !== r[0] &&
                                    [
                                      'classes',
                                      'attributes',
                                      'components',
                                    ].indexOf(r) < 0 &&
                                    (l['data-gjs-'.concat(r)] =
                                      (0, t.isArray)(e) || (0, n.isObject)(e)
                                        ? JSON.stringify(e)
                                        : e);
                                });
                              }
                              for (var u in l) {
                                var p = l[u];
                                if (!(0, t.isUndefined)(p) && null !== p)
                                  if ((0, t.isBoolean)(p)) p && o.push(u);
                                  else {
                                    var d = '';
                                    if (
                                      e.altQuoteAttr &&
                                      (0, t.isString)(p) &&
                                      p.indexOf('"') >= 0
                                    )
                                      d = "'".concat(
                                        p.replace(/'/g, '&apos;'),
                                        "'"
                                      );
                                    else {
                                      var f = (0, t.isString)(p)
                                        ? p.replace(/"/g, '&quot;')
                                        : p;
                                      d = '"'.concat(f, '"');
                                    }
                                    o.push(''.concat(u, '=').concat(d));
                                  }
                              }
                              var h = o.length ? ' '.concat(o.join(' ')) : '',
                                g = r.getInnerHTML(e),
                                v = '<'
                                  .concat(i)
                                  .concat(h)
                                  .concat(a ? '/' : '', '>')
                                  .concat(g);
                              return !a && (v += '</'.concat(i, '>')), v;
                            }),
                            (r.prototype.getInnerHTML = function (t) {
                              return this.__innerHTML(t);
                            }),
                            (r.prototype.__innerHTML = function (t) {
                              void 0 === t && (t = {});
                              var e = this.components();
                              return e.length
                                ? e
                                    .map(function (e) {
                                      return e.toHTML(t);
                                    })
                                    .join('')
                                : this.get('content');
                            }),
                            (r.prototype.getAttrToHTML = function () {
                              var t = this.getAttributes();
                              return delete t.style, t;
                            }),
                            (r.prototype.toJSON = function (e) {
                              void 0 === e && (e = {});
                              var n = l.Model.prototype.toJSON.call(this, e);
                              if (
                                ((n.attributes = this.getAttributes()),
                                delete n.attributes.class,
                                delete n.toolbar,
                                delete n.traits,
                                delete n.status,
                                delete n.open,
                                delete n._undoexc,
                                !e.fromUndo)
                              ) {
                                var r = n[Ye],
                                  o = n[Ze];
                                o &&
                                  (0, t.isArray)(o) &&
                                  (n[Ze] = o
                                    .filter(function (t) {
                                      return t;
                                    })
                                    .map(function (t) {
                                      return t.getId ? t.getId() : t;
                                    })),
                                  r &&
                                    !(0, t.isString)(r) &&
                                    (n[Ye] = r.getId());
                              }
                              return (
                                this.em.getConfig().avoidDefaults &&
                                  this.getChangedProps(n),
                                n
                              );
                            }),
                            (r.prototype.getChangedProps = function (e) {
                              var n = e || l.Model.prototype.toJSON.apply(this),
                                r = (0, t.result)(this, 'defaults');
                              return (
                                (0, t.forEach)(r, function (t, e) {
                                  -1 === ['type'].indexOf(e) &&
                                    n[e] === t &&
                                    delete n[e];
                                }),
                                (0, t.isEmpty)(n.type) && delete n.type,
                                (0, t.forEach)(
                                  ['attributes', 'style'],
                                  function (e) {
                                    (0, t.isEmpty)(r[e]) &&
                                      (0, t.isEmpty)(n[e]) &&
                                      delete n[e];
                                  }
                                ),
                                (0, t.forEach)(
                                  ['classes', 'components'],
                                  function (e) {
                                    (!n[e] ||
                                      ((0, t.isEmpty)(r[e]) && !n[e].length)) &&
                                      delete n[e];
                                  }
                                ),
                                n
                              );
                            }),
                            (r.prototype.getId = function () {
                              return (
                                (this.get('attributes') || {}).id ||
                                this.ccid ||
                                this.cid
                              );
                            }),
                            (r.prototype.setId = function (t, e) {
                              var n = $e({}, this.get('attributes'));
                              return (
                                (n.id = t), this.set('attributes', n, e), this
                              );
                            }),
                            (r.prototype.getEl = function (t) {
                              void 0 === t && (t = void 0);
                              var e = this.getView(t);
                              return e && e.el;
                            }),
                            (r.prototype.getView = function (t) {
                              var e = this.view,
                                n = this.views;
                              return (
                                t &&
                                  (e = n.filter(function (e) {
                                    return e._getFrame() === t.view;
                                  })[0]),
                                e
                              );
                            }),
                            (r.prototype.getCurrentView = function () {
                              var t = (this.em.get('currentFrame') || {}).model;
                              return this.getView(t);
                            }),
                            (r.prototype.__getScriptProps = function () {
                              var t = this.props();
                              return (this.get('script-props') || []).reduce(
                                function (e, n) {
                                  return (e[n] = t[n]), e;
                                },
                                {}
                              );
                            }),
                            (r.prototype.getScriptString = function (e) {
                              var n = this,
                                r = e || this.get('script') || '';
                              if (!r) return r;
                              if (this.get('script-props'))
                                r = r.toString().trim();
                              else {
                                if ('function' == typeof r) {
                                  var o = r.toString().trim();
                                  r = (o = o
                                    .replace(/^function[\s\w]*\(\)\s?\{/, '')
                                    .replace(/\}$/, '')).trim();
                                }
                                var i = this.em.getConfig(),
                                  a = qe(i.tagVarStart || '{[ '),
                                  s = qe(i.tagVarEnd || ' ]}'),
                                  l = new RegExp(
                                    ''.concat(a, '([\\w\\d-]*)').concat(s),
                                    'g'
                                  );
                                r = r.replace(l, function (e, r) {
                                  n.scriptUpdated();
                                  var o = n.attributes[r] || '';
                                  return (0, t.isArray)(o) ||
                                    'object' == typeof o
                                    ? JSON.stringify(o)
                                    : o;
                                });
                              }
                              return r;
                            }),
                            (r.prototype.emitUpdate = function (t) {
                              for (
                                var e, n = [], r = 1;
                                r < arguments.length;
                                r++
                              )
                                n[r - 1] = arguments[r];
                              var o = this.em,
                                i = Je + (t ? ':'.concat(t) : ''),
                                a = t && this.get(t);
                              t &&
                                this.updated.apply(
                                  this,
                                  Ge([t, a, t && this.previous(t)], n, !1)
                                ),
                                this.trigger.apply(this, Ge([i], n, !1)),
                                o && o.trigger.apply(o, Ge([i, this], n, !1)),
                                ['components', 'classes'].indexOf(t) >= 0 &&
                                  this.__propSelfToParent({
                                    component: this,
                                    changed: ((e = {}), (e[t] = a), e),
                                    options: n[2] || n[1] || {},
                                  });
                            }),
                            (r.prototype.onAll = function (e) {
                              return (
                                (0, t.isFunction)(e) &&
                                  (e(this),
                                  this.components().forEach(function (t) {
                                    return t.onAll(e);
                                  })),
                                this
                              );
                            }),
                            (r.prototype.remove = function (t) {
                              var e = this;
                              void 0 === t && (t = {});
                              var n = this.em,
                                r = this.collection,
                                o = function () {
                                  r &&
                                    r.remove(
                                      e,
                                      $e($e({}, t), {
                                        action: 'remove-component',
                                      })
                                    ),
                                    r ||
                                      (e.components('', t),
                                      e
                                        .components()
                                        .removeChildren(e, void 0, t));
                                },
                                i = $e({}, t);
                              return (
                                [this, n].map(function (t) {
                                  return t.trigger(
                                    'component:remove:before',
                                    e,
                                    o,
                                    i
                                  );
                                }),
                                !i.abort && o(),
                                this
                              );
                            }),
                            (r.prototype.move = function (t, e) {
                              if ((void 0 === e && (e = {}), t)) {
                                var n = e.at,
                                  r = this.index(),
                                  o = t === this.parent();
                                (o && (r === n || r === n - 1)) ||
                                  (o && n && n > r && (e.at = n - 1),
                                  this.remove({
                                    temporary: 1,
                                  }),
                                  t.append(this, e),
                                  this.emitUpdate());
                              }
                              return this;
                            }),
                            (r.prototype.isInstanceOf = function (t) {
                              var e,
                                n,
                                r =
                                  null ===
                                    (n =
                                      null === (e = this.em) || void 0 === e
                                        ? void 0
                                        : e.Components.getType(t)) ||
                                  void 0 === n
                                    ? void 0
                                    : n.model;
                              return !!r && this instanceof r;
                            }),
                            (r.prototype.isChildOf = function (e) {
                              for (
                                var n = (0, t.isString)(e), r = this.parent();
                                r;

                              ) {
                                if (n) {
                                  if (r.isInstanceOf(e)) return !0;
                                } else if (r === e) return !0;
                                r = r.parent();
                              }
                              return !1;
                            }),
                            (r.prototype.resetId = function (t) {
                              void 0 === t && (t = {});
                              var e = this.em,
                                n = this.getId();
                              if (!n) return this;
                              var o = r.createId(this);
                              this.setId(o);
                              var i = null == e ? void 0 : e.Css.getIdRule(n),
                                a =
                                  null == i ? void 0 : i.get('selectors').at(0);
                              return null == a || a.set('name', o), this;
                            }),
                            (r.prototype._getStyleRule = function (t) {
                              var e = (void 0 === t ? {} : t).id,
                                n = this.em,
                                r = e || this.getId();
                              return null == n ? void 0 : n.Css.getIdRule(r);
                            }),
                            (r.prototype._getStyleSelector = function (t) {
                              var e = this._getStyleRule(t);
                              return null == e
                                ? void 0
                                : e.get('selectors').at(0);
                            }),
                            (r.prototype._idUpdated = function (t, e, n) {
                              if ((void 0 === n && (n = {}), !n.idUpdate)) {
                                var o = this.ccid,
                                  i = (this.get('attributes') || {}).id,
                                  a =
                                    (this.previous('attributes') || {}).id || o,
                                  s = r.getList(this);
                                if (s[i] || (!i && a))
                                  return this.setId(a, {
                                    idUpdate: !0,
                                  });
                                delete s[a], (s[i] = this), (this.ccid = i);
                                var l = this._getStyleSelector({
                                  id: a,
                                });
                                l &&
                                  l.set({
                                    name: i,
                                    label: i,
                                  });
                              }
                            }),
                            (r.getDefaults = function () {
                              return (0, t.result)(this.prototype, 'defaults');
                            }),
                            (r.isComponent = function (t) {
                              return {
                                tagName: (0, n.toLowerCase)(t.tagName),
                              };
                            }),
                            (r.ensureInList = function (t) {
                              var e = r.getList(t),
                                n = t.getId(),
                                o = e[n];
                              if (o) {
                                if (o !== t) {
                                  var i = r.getIncrementId(n, e);
                                  t.setId(i), (e[i] = t);
                                }
                              } else e[n] = t;
                              t.components().forEach(function (t) {
                                return r.ensureInList(t);
                              });
                            }),
                            (r.createId = function (t, e) {
                              void 0 === e && (e = {});
                              var n,
                                o = r.getList(t),
                                i = e.idMap,
                                a = void 0 === i ? {} : i,
                                s = t.get('attributes').id;
                              return (
                                s
                                  ? ((n = r.getIncrementId(s, o, e)),
                                    t.setId(n),
                                    s !== n && (a[s] = n))
                                  : (n = r.getNewId(o)),
                                (o[n] = t),
                                n
                              );
                            }),
                            (r.getNewId = function (t) {
                              for (
                                var e =
                                    Object.keys(t).length.toString().length + 2,
                                  n = (Math.random() + 1.1)
                                    .toString(36)
                                    .slice(-e),
                                  o = 'i'.concat(n);
                                t[o];

                              )
                                o = r.getNewId(t);
                              return o;
                            }),
                            (r.getIncrementId = function (t, e, n) {
                              void 0 === n && (n = {});
                              var r = n.keepIds,
                                o = 1,
                                i = t;
                              if ((void 0 === r ? [] : r).indexOf(t) < 0)
                                for (; e[i]; )
                                  o++, (i = ''.concat(t, '-').concat(o));
                              return i;
                            }),
                            (r.getList = function (t) {
                              var e = t.opt,
                                n = void 0 === e ? {} : e,
                                r = n.domc,
                                o = n.em,
                                i = r || (null == o ? void 0 : o.Components);
                              return i ? i.componentsById : {};
                            }),
                            (r.checkId = function (e, n, o, i) {
                              void 0 === n && (n = []),
                                void 0 === o && (o = {}),
                                void 0 === i && (i = {});
                              var a = (0, t.isArray)(e) ? e : [e],
                                s = i.keepIds,
                                l = void 0 === s ? [] : s;
                              a.forEach(function (e) {
                                e.attributes;
                                var a = e.attributes,
                                  s = void 0 === a ? {} : a,
                                  c = e.components,
                                  u = s.id;
                                if (u && o[u] && l.indexOf(u) < 0) {
                                  var p = r.getIncrementId(u, o);
                                  (s.id = p),
                                    (0, t.isArray)(n) &&
                                      n.forEach(function (t) {
                                        var e = t.selectors;
                                        e.forEach(function (t, n) {
                                          t === '#'.concat(u) &&
                                            (e[n] = '#'.concat(p));
                                        });
                                      });
                                }
                                c && r.checkId(c, n, o, i);
                              });
                            }),
                            r
                          );
                        })(_e);
                      const en = tn;
                      var nn =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        rn = (function (e) {
                          function n() {
                            var t =
                              (null !== e && e.apply(this, arguments)) || this;
                            return (t.compView = cn), t;
                          }
                          return (
                            nn(n, e),
                            (n.prototype.initialize = function (t) {
                              (this.opts = t || {}),
                                (this.config = t.config || {}),
                                (this.em = this.config.em);
                              var e = this.collection;
                              this.listenTo(e, 'add', this.addTo),
                                this.listenTo(e, 'reset', this.resetChildren),
                                this.listenTo(e, 'remove', this.removeChildren);
                            }),
                            (n.prototype.removeChildren = function (t, e, n) {
                              var r = this;
                              void 0 === n && (n = {}),
                                t.views.forEach(function (t) {
                                  if (t) {
                                    var e = t.childrenView,
                                      n = t.scriptContainer;
                                    e && e.stopListening(),
                                      (0, Pt.L_)(n),
                                      t.remove.apply(t);
                                  }
                                }),
                                t.components().forEach(function (t) {
                                  return r.removeChildren(t, e, n);
                                });
                            }),
                            (n.prototype.addTo = function (t, e, n) {
                              void 0 === e && (e = {}),
                                void 0 === n && (n = {});
                              var r = this.em,
                                o = this.collection.indexOf(t);
                              if (
                                (this.addToCollection(t, null, o),
                                r && !n.temporary)
                              ) {
                                var i = function (t) {
                                  r.trigger('component:add', t),
                                    t.components().forEach(function (t) {
                                      return i(t);
                                    });
                                };
                                i(t);
                              }
                            }),
                            (n.prototype.addToCollection = function (e, n, r) {
                              for (
                                var o = this,
                                  i = o.config,
                                  a = o.opts,
                                  s = o.em,
                                  l = n || null,
                                  c = i.frameView,
                                  u =
                                    (null == c ? void 0 : c.model) &&
                                    e.getView(c.model),
                                  p =
                                    a.componentTypes ||
                                    (null == s
                                      ? void 0
                                      : s.Components.getTypes()),
                                  d = e.get('type') || 'default',
                                  f = this.compView,
                                  h = 0;
                                h < p.length;
                                h++
                              )
                                if (p[h].id == d) {
                                  f = p[h].view;
                                  break;
                                }
                              var g,
                                v =
                                  u ||
                                  new f({
                                    model: e,
                                    config: i,
                                    componentTypes: p,
                                  });
                              try {
                                g = v.render().el;
                              } catch (t) {
                                (g = document.createTextNode('')),
                                  s.logError(t);
                              }
                              if (l) l.appendChild(g);
                              else {
                                var m = this.parentEl,
                                  y = m.childNodes;
                                if ((0, t.isUndefined)(r)) m.appendChild(g);
                                else {
                                  var b = y.length == r;
                                  b && r--,
                                    b || !y.length
                                      ? m.appendChild(g)
                                      : m.insertBefore(g, y[r]);
                                }
                              }
                              return (
                                e.opt.temporary ||
                                  null == s ||
                                  s.trigger('component:mount', e),
                                g
                              );
                            }),
                            (n.prototype.resetChildren = function (t, e) {
                              var n = this,
                                r = (void 0 === e ? {} : e).previousModels,
                                o = void 0 === r ? [] : r;
                              (this.parentEl.innerHTML = ''),
                                o.forEach(function (t) {
                                  return n.removeChildren(t, n.collection);
                                }),
                                t.each(function (t) {
                                  return n.addToCollection(t);
                                });
                            }),
                            (n.prototype.render = function (t) {
                              var e = this,
                                n = this.el,
                                r = document.createDocumentFragment();
                              return (
                                (this.parentEl = t || this.el),
                                this.collection.each(function (t) {
                                  return e.addToCollection(t, r);
                                }),
                                (n.innerHTML = ''),
                                n.appendChild(r),
                                this
                              );
                            }),
                            n
                          );
                        })(u.G7);
                      const on = rn;
                      var an =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        sn =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (sn =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              sn.apply(this, arguments)
                            );
                          },
                        ln = (function (e) {
                          function r() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            an(r, e),
                            (r.prototype.className = function () {
                              return this.getClasses();
                            }),
                            (r.prototype.tagName = function () {
                              return this.model.get('tagName');
                            }),
                            (r.prototype.initialize = function (t) {
                              void 0 === t && (t = {});
                              var e = this.model,
                                r = t.config || {},
                                o = r.em,
                                i = e.opt || {},
                                a = this.$el,
                                s = this.el;
                              (this.opts = t),
                                (this.modelOpt = i),
                                (this.config = r),
                                (this.em = o),
                                (this.pfx = r.stylePrefix || ''),
                                (this.ppfx = r.pStylePrefix || ''),
                                (this.attr = e.get('attributes')),
                                (this.classe = this.attr.class || []),
                                this.listenTo(
                                  e,
                                  'change:style',
                                  this.updateStyle
                                ),
                                this.listenTo(
                                  e,
                                  'change:attributes',
                                  this.renderAttributes
                                ),
                                this.listenTo(
                                  e,
                                  'change:highlightable',
                                  this.updateHighlight
                                ),
                                this.listenTo(
                                  e,
                                  'change:status change:locked',
                                  this.updateStatus
                                ),
                                this.listenTo(
                                  e,
                                  'change:script rerender',
                                  this.reset
                                ),
                                this.listenTo(
                                  e,
                                  'change:content',
                                  this.updateContent
                                ),
                                this.listenTo(e, 'change', this.handleChange),
                                this.listenTo(e, 'active', this.onActive),
                                this.listenTo(e, 'disable', this.onDisable),
                                a.data('model', e),
                                (0, n.setViewEl)(s, this),
                                (e.view = this),
                                this._getFrame() && e.views.push(this),
                                this.initClasses(),
                                this.initComponents({
                                  avoidRender: !0,
                                }),
                                (this.events = sn(
                                  sn({}, this.constructor.getEvents()),
                                  {
                                    dragstart: 'handleDragStart',
                                  }
                                )),
                                this.delegateEvents(),
                                !i.temporary && this.init(this._clbObj());
                            }),
                            (r.prototype.__isDraggable = function () {
                              var t = this.model,
                                e = this.config,
                                n = t.attributes.draggable;
                              return e.draggableComponents && n;
                            }),
                            (r.prototype._clbObj = function () {
                              var t = this,
                                e = t.em,
                                n = t.model,
                                r = t.el;
                              return {
                                editor: null == e ? void 0 : e.getEditor(),
                                model: n,
                                el: r,
                              };
                            }),
                            (r.prototype.init = function (t) {}),
                            (r.prototype.removed = function (t) {}),
                            (r.prototype.onRender = function (t) {}),
                            (r.prototype.onActive = function (t) {}),
                            (r.prototype.onDisable = function () {}),
                            (r.prototype.remove = function () {
                              var t;
                              e.prototype.remove.call(this);
                              var n = this.model,
                                r = this.$el,
                                o = n.views,
                                i = this._getFrame() || {};
                              return (
                                n.components().forEach(function (t) {
                                  var e = t.getView(i.model);
                                  null == e || e.remove();
                                }),
                                null === (t = this.childrenView) ||
                                  void 0 === t ||
                                  t.remove(),
                                o.splice(o.indexOf(this), 1),
                                this.removed(this._clbObj()),
                                r.data({
                                  model: '',
                                  collection: '',
                                  view: '',
                                }),
                                this
                              );
                            }),
                            (r.prototype.handleDragStart = function (t) {
                              if (!this.__isDraggable()) return !1;
                              t.stopPropagation(),
                                t.preventDefault(),
                                this.em.Commands.run('tlb-move', {
                                  target: this.model,
                                  event: t,
                                });
                            }),
                            (r.prototype.initClasses = function () {
                              var t = this.model,
                                e = 'change:classes',
                                n = t.get('classes');
                              n instanceof Fe &&
                                (this.stopListening(t, e, this.initClasses),
                                this.listenTo(t, e, this.initClasses),
                                this.listenTo(
                                  n,
                                  'add remove change',
                                  this.updateClasses
                                ),
                                n.length && this.importClasses());
                            }),
                            (r.prototype.initComponents = function (t) {
                              void 0 === t && (t = {});
                              var e = this,
                                n = e.model,
                                r = e.$el,
                                o = e.childrenView,
                                i = n.get('components'),
                                a = [
                                  n,
                                  'change:components',
                                  this.initComponents,
                                ];
                              i instanceof Ee &&
                                (r.data('collection', i),
                                o && o.remove(),
                                this.stopListening.apply(this, a),
                                !t.avoidRender && this.renderChildren(),
                                this.listenTo.apply(this, a));
                            }),
                            (r.prototype.handleChange = function () {
                              var e = this.model,
                                n = (0, t.keys)(e.changed);
                              if (1 !== n.length || 'status' !== n[0])
                                for (var r in (e.emitUpdate(), e.changed))
                                  e.emitUpdate(r);
                            }),
                            (r.prototype.importClasses = function () {
                              var t = this.em.Selectors;
                              t &&
                                this.model.classes.each(function (e) {
                                  t.add(e.get('name'));
                                });
                            }),
                            (r.prototype.updateStatus = function (t) {
                              void 0 === t && (t = {});
                              var e = this,
                                n = e.em,
                                r = e.el,
                                o = e.ppfx,
                                i = e.model,
                                a =
                                  null == n
                                    ? void 0
                                    : n.Canvas.getConfig().extHl,
                                s = i.get('status'),
                                l = ''.concat(o, 'selected'),
                                c = ''.concat(l, '-parent'),
                                u = ''.concat(o, 'freezed'),
                                p = ''.concat(o, 'hovered'),
                                d = ''.concat(o, 'no-pointer'),
                                f = [l, c, u, p, d],
                                h = a && !t.noExtHl ? '' : l;
                              this.$el.removeClass(f.join(' '));
                              var g = [r.getAttribute('class') || ''];
                              switch (s) {
                                case 'selected':
                                  g.push(h);
                                  break;
                                case 'selected-parent':
                                  g.push(c);
                                  break;
                                case 'freezed':
                                  g.push(u);
                                  break;
                                case 'freezed-selected':
                                  g.push(u, h);
                                  break;
                                case 'hovered':
                                  !t.avoidHover && g.push(p);
                              }
                              i.get('locked') && g.push(d);
                              var v = g.filter(Boolean).join(' ');
                              v && r.setAttribute('class', v);
                            }),
                            (r.prototype.updateHighlight = function () {
                              var t = this.model,
                                e = t.get('textable'),
                                n =
                                  t.get('highlightable') &&
                                  (e || !t.isChildOf('text'));
                              this.setAttribute(
                                'data-gjs-highlightable',
                                !!n || ''
                              );
                            }),
                            (r.prototype.updateStyle = function (e, n, r) {
                              void 0 === r && (r = {});
                              var o = this.model,
                                i = this.em;
                              if (
                                i &&
                                i.getConfig().avoidInlineStyle &&
                                !r.inline
                              ) {
                                var a = o.getStyle();
                                !(0, t.isEmpty)(a) && o.setStyle(a);
                              } else
                                this.setAttribute('style', o.styleToString(r));
                            }),
                            (r.prototype.updateClasses = function () {
                              var t = this.model.classes
                                .pluck('name')
                                .join(' ');
                              this.setAttribute('class', t),
                                this.updateStatus(),
                                this.onAttrUpdate();
                            }),
                            (r.prototype.setAttribute = function (t, e) {
                              var n = this.$el;
                              e ? n.attr(t, e) : n.removeAttr(t);
                            }),
                            (r.prototype.getClasses = function () {
                              return this.model.getClasses().join(' ');
                            }),
                            (r.prototype.updateAttributes = function () {
                              var e = [],
                                n = this,
                                r = n.model,
                                o = n.$el,
                                i = n.el,
                                a = r.attributes,
                                s = a.textable,
                                l = a.type,
                                c = sn(
                                  sn(
                                    {
                                      id: r.getId(),
                                      'data-gjs-type': l || 'default',
                                    },
                                    this.__isDraggable() && {
                                      draggable: !0,
                                    }
                                  ),
                                  s && {
                                    contenteditable: 'false',
                                  }
                                );
                              (0, t.each)(i.attributes, function (t) {
                                return e.push(t.nodeName);
                              }),
                                e.forEach(function (t) {
                                  return o.removeAttr(t);
                                }),
                                this.updateStyle(),
                                this.updateHighlight();
                              var u = sn(sn({}, c), r.getAttributes());
                              (0, t.keys)(u).forEach(function (t) {
                                return !1 === u[t] && delete u[t];
                              }),
                                o.attr(u);
                            }),
                            (r.prototype.updateContent = function () {
                              var t = this.model.get('content'),
                                e = this.model.components().length;
                              this.getChildrenContainer().innerHTML = e
                                ? ''
                                : t;
                            }),
                            (r.prototype.prevDef = function (t) {
                              t.preventDefault();
                            }),
                            (r.prototype.updateScript = function () {
                              var t = this.model,
                                e = this.em;
                              t.get('script') &&
                                (null == e ||
                                  e.Canvas.getCanvasView().updateScript(this));
                            }),
                            (r.prototype.getChildrenContainer = function () {
                              var t = this.el;
                              return (
                                'function' == typeof this.getChildrenSelector
                                  ? (t = this.el.querySelector(
                                      this.getChildrenSelector()
                                    ))
                                  : this.getTemplate,
                                t
                              );
                            }),
                            (r.prototype.getOffsetRect = function () {
                              var t = {},
                                e = this.el,
                                n = 0,
                                r = 0,
                                o = function (i) {
                                  var a = i.offsetParent;
                                  a
                                    ? ((n += a.offsetTop),
                                      (r += a.offsetLeft),
                                      o(a))
                                    : ((t.top = e.offsetTop + n),
                                      (t.left = e.offsetLeft + r),
                                      (t.bottom = t.top + e.offsetHeight),
                                      (t.right = t.left + e.offsetWidth));
                                };
                              return o(e), t;
                            }),
                            (r.prototype.isInViewport = function (t) {
                              var e,
                                n = (void 0 === t ? {} : t).rect,
                                r = this.el.ownerDocument,
                                o = r.body,
                                i =
                                  null === (e = r.defaultView) || void 0 === e
                                    ? void 0
                                    : e.frameElement,
                                a = n || this.getOffsetRect(),
                                s = a.top,
                                l = a.left,
                                c = this._getFrame().getOffsetRect();
                              return (
                                s >= c.scrollTop &&
                                l >= c.scrollLeft &&
                                s <= c.scrollBottom &&
                                l <=
                                  (null == i ? void 0 : i.offsetWidth) +
                                    o.scrollLeft
                              );
                            }),
                            (r.prototype.scrollIntoView = function (t) {
                              var e;
                              void 0 === t && (t = {});
                              var n = this.getOffsetRect();
                              if (
                                !this.isInViewport({
                                  rect: n,
                                }) ||
                                t.force
                              ) {
                                var r = this.el;
                                'smooth' !== t.behavior
                                  ? null ===
                                      (e = r.ownerDocument.defaultView) ||
                                    void 0 === e ||
                                    e.scrollTo(0, n.top)
                                  : r.scrollIntoView(
                                      sn(
                                        {
                                          behavior: 'smooth',
                                          block: 'nearest',
                                        },
                                        t
                                      )
                                    );
                              }
                            }),
                            (r.prototype.reset = function () {
                              var t = this.el;
                              (this.el = ''),
                                this._ensureElement(),
                                this._setData(),
                                (0, Pt.dL)(t, this.el),
                                this.render();
                            }),
                            (r.prototype._setData = function () {
                              var t = this.model,
                                e = t.components();
                              this.$el.data({
                                model: t,
                                collection: e,
                                view: this,
                              });
                            }),
                            (r.prototype._getFrame = function () {
                              var t;
                              return null === (t = this.em) || void 0 === t
                                ? void 0
                                : t.get('Canvas').config.frameView;
                            }),
                            (r.prototype.renderChildren = function () {
                              this.updateContent();
                              var t = this.getChildrenContainer(),
                                e =
                                  this.childrenView ||
                                  new on({
                                    collection: this.model.get('components'),
                                    config: this.config,
                                    componentTypes: this.opts.componentTypes,
                                  });
                              e.render(t), (this.childrenView = e);
                              for (
                                var n = Array.prototype.slice.call(
                                    e.el.childNodes
                                  ),
                                  r = 0,
                                  o = n.length;
                                r < o;
                                r++
                              )
                                t.appendChild(n.shift());
                            }),
                            (r.prototype.renderAttributes = function () {
                              this.updateAttributes(), this.updateClasses();
                            }),
                            (r.prototype.onAttrUpdate = function () {}),
                            (r.prototype.render = function () {
                              return (
                                this.renderAttributes(),
                                this.modelOpt.temporary ||
                                  (this.renderChildren(),
                                  this.updateScript(),
                                  (0, n.setViewEl)(this.el, this),
                                  this.postRender()),
                                this
                              );
                            }),
                            (r.prototype.postRender = function () {
                              this.modelOpt.temporary ||
                                this.onRender(this._clbObj());
                            }),
                            (r.getEvents = function () {
                              return (0, t.result)(this.prototype, 'events');
                            }),
                            r
                          );
                        })(u.G7);
                      const cn = ln;
                      var un =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const pn = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          un(e, t),
                          (e.prototype.tagName = function () {
                            return 'div';
                          }),
                          e
                        );
                      })(cn);
                      var dn =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        fn =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (fn =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              fn.apply(this, arguments)
                            );
                          };
                      const hn = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          dn(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return fn(fn({}, t.prototype.defaults), {
                                type: 'cell',
                                tagName: 'td',
                                draggable: ['tr'],
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.isComponent = function (t) {
                            return (
                              ['td', 'th'].indexOf(
                                (0, n.toLowerCase)(t.tagName)
                              ) >= 0
                            );
                          }),
                          e
                        );
                      })(en);
                      var gn =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const vn = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return gn(e, t), e;
                      })(cn);
                      var mn =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        yn =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (yn =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              yn.apply(this, arguments)
                            );
                          },
                        bn = 'tr';
                      const _n = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          mn(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return yn(yn({}, t.prototype.defaults), {
                                tagName: bn,
                                draggable: ['thead', 'tbody', 'tfoot'],
                                droppable: ['th', 'td'],
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.isComponent = function (t) {
                            return (0, n.toLowerCase)(t.tagName) === bn;
                          }),
                          e
                        );
                      })(en);
                      var wn =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const xn = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return wn(e, t), e;
                      })(cn);
                      var Cn =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Sn =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Sn =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Sn.apply(this, arguments)
                            );
                          },
                        On = 'table';
                      const kn = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Cn(e, t),
                            Object.defineProperty(e.prototype, 'defaults', {
                              get: function () {
                                return Sn(Sn({}, t.prototype.defaults), {
                                  type: On,
                                  tagName: On,
                                  droppable: ['tbody', 'thead', 'tfoot'],
                                });
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (e.prototype.initialize = function (e, n) {
                              t.prototype.initialize.call(this, e, n);
                              var r = this.get('components');
                              !r.length &&
                                r.add({
                                  type: 'tbody',
                                });
                            }),
                            (e.isComponent = function (t) {
                              return (0, n.toLowerCase)(t.tagName) === On;
                            }),
                            e
                          );
                        })(en),
                        Tn = cn.extend({
                          events: {},
                        });
                      var En =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Pn =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Pn =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Pn.apply(this, arguments)
                            );
                          },
                        An = 'tbody';
                      const jn = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          En(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return Pn(Pn({}, t.prototype.defaults), {
                                type: An,
                                tagName: An,
                                draggable: ['table'],
                                droppable: ['tr'],
                                columns: 1,
                                rows: 1,
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.prototype.initialize = function (e, n) {
                            t.prototype.initialize.call(this, e, n);
                            var r = this.get('components'),
                              o = this.get('columns'),
                              i = this.get('rows');
                            if (!r.length) {
                              for (var a = []; i--; ) {
                                for (var s = [], l = o; l--; )
                                  s.push({
                                    type: 'cell',
                                    classes: ['cell'],
                                  });
                                a.push({
                                  type: 'row',
                                  classes: ['row'],
                                  components: s,
                                });
                              }
                              r.add(a);
                            }
                          }),
                          (e.isComponent = function (t) {
                            return (0, n.toLowerCase)(t.tagName) === An;
                          }),
                          e
                        );
                      })(en);
                      var Mn =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ln =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Ln =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Ln.apply(this, arguments)
                            );
                          },
                        Dn = 'thead';
                      const Nn = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Mn(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return Ln(Ln({}, t.prototype.defaults), {
                                type: Dn,
                                tagName: Dn,
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.isComponent = function (t) {
                            return (0, n.toLowerCase)(t.tagName) === Dn;
                          }),
                          e
                        );
                      })(jn);
                      var In =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Fn = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return In(e, t), e;
                      })(cn);
                      var Rn =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const zn = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return Rn(e, t), e;
                      })(cn);
                      var Vn =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Bn =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Bn =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Bn.apply(this, arguments)
                            );
                          },
                        Hn = 'tfoot';
                      const Un = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Vn(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return Bn(Bn({}, t.prototype.defaults), {
                                type: Hn,
                                tagName: Hn,
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.isComponent = function (t) {
                            return (0, n.toLowerCase)(t.tagName) === Hn;
                          }),
                          e
                        );
                      })(jn);
                      var Wn =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const $n = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return Wn(e, t), e;
                      })(cn);
                      var Gn =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        qn =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (qn =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              qn.apply(this, arguments)
                            );
                          },
                        Kn =
                          'xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',
                        Zn = (function (e) {
                          function r() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Gn(r, e),
                            Object.defineProperty(r.prototype, 'defaults', {
                              get: function () {
                                return qn(qn({}, e.prototype.defaults), {
                                  type: 'image',
                                  tagName: 'img',
                                  void: !0,
                                  droppable: 0,
                                  editable: 1,
                                  highlightable: 0,
                                  resizable: {
                                    ratioDefault: 1,
                                  },
                                  traits: ['alt'],
                                  src: '<svg '.concat(
                                    Kn,
                                    '>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'
                                  ),
                                  fallback: '<svg '.concat(
                                    Kn,
                                    '>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'
                                  ),
                                  file: '',
                                });
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (r.prototype.initialize = function (r, o) {
                              e.prototype.initialize.call(this, r, o);
                              var i = this.get('attributes').src;
                              i &&
                                (0, n.buildBase64UrlFromSvg)(
                                  (0, t.result)(this, 'defaults').src
                                ) !== i &&
                                this.set('src', i, {
                                  silent: !0,
                                });
                            }),
                            (r.prototype.initToolbar = function () {
                              e.prototype.initToolbar.call(this);
                              var t = this.em;
                              if (t) {
                                var n = 'image-editor';
                                if (t.Commands.has(n)) {
                                  for (
                                    var r = !1, o = this.get('toolbar'), i = 0;
                                    i < o.length;
                                    i++
                                  )
                                    if ('image-editor' === o[i].command) {
                                      r = !0;
                                      break;
                                    }
                                  r ||
                                    (o.push({
                                      attributes: {
                                        class: 'fa fa-pencil',
                                      },
                                      command: n,
                                    }),
                                    this.set('toolbar', o));
                                }
                              }
                            }),
                            (r.prototype.getAttrToHTML = function () {
                              var t = e.prototype.getAttrToHTML.call(this),
                                n = this.getSrcResult();
                              return n && (t.src = n), t;
                            }),
                            (r.prototype.getSrcResult = function (t) {
                              void 0 === t && (t = {});
                              var e =
                                  this.get(t.fallback ? 'fallback' : 'src') ||
                                  '',
                                r = e;
                              return (
                                e &&
                                  '<svg' === e.substr(0, 4) &&
                                  (r = (0, n.buildBase64UrlFromSvg)(e)),
                                r
                              );
                            }),
                            (r.prototype.isDefaultSrc = function () {
                              var e = this.get('src'),
                                r = (0, t.result)(this, 'defaults').src;
                              return (
                                e === r || e === (0, n.buildBase64UrlFromSvg)(r)
                              );
                            }),
                            (r.prototype.toJSON = function (t) {
                              var n = e.prototype.toJSON.call(this, t),
                                r = n.attributes;
                              return r && n.src === r.src && delete n.src, n;
                            }),
                            (r.prototype.parseUri = function (t) {
                              var e = {};
                              if ((0, n.hasWin)())
                                (e = document.createElement('a')).href = t;
                              else if ('undefined' != typeof URL)
                                try {
                                  e = new URL(t);
                                } catch (t) {}
                              return {
                                hostname: e.hostname || '',
                                pathname: e.pathname || '',
                                protocol: e.protocol || '',
                                search: e.search || '',
                                hash: e.hash || '',
                                port: e.port || '',
                                query: (function (t) {
                                  void 0 === t && (t = '');
                                  for (
                                    var e = {},
                                      n = t.substring(1).split('&'),
                                      r = 0;
                                    r < n.length;
                                    r++
                                  ) {
                                    var o = n[r].split('='),
                                      i = decodeURIComponent(o[0]);
                                    i &&
                                      (e[i] = decodeURIComponent(o[1] || ''));
                                  }
                                  return e;
                                })(e.search),
                              };
                            }),
                            (r.isComponent = function (t) {
                              return 'img' === (0, n.toLowerCase)(t.tagName);
                            }),
                            r
                          );
                        })(en);
                      const Yn = Zn;
                      var Xn =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Jn =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Jn =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Jn.apply(this, arguments)
                            );
                          },
                        Qn = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Xn(e, t),
                            Object.defineProperty(e.prototype, 'defaults', {
                              get: function () {
                                var e = t.prototype.defaults;
                                return Jn(Jn({}, e), {
                                  type: 'map',
                                  src: '',
                                  void: !1,
                                  mapUrl: 'https://maps.google.com/maps',
                                  tagName: 'iframe',
                                  mapType: 'q',
                                  address: '',
                                  zoom: '1',
                                  attributes: {
                                    frameborder: 0,
                                  },
                                  toolbar: e.toolbar,
                                  traits: [
                                    {
                                      label: 'Address',
                                      name: 'address',
                                      placeholder: 'eg. London, UK',
                                      changeProp: 1,
                                    },
                                    {
                                      type: 'select',
                                      label: 'Map type',
                                      name: 'mapType',
                                      changeProp: 1,
                                      options: [
                                        {
                                          value: 'q',
                                          name: 'Roadmap',
                                        },
                                        {
                                          value: 'w',
                                          name: 'Satellite',
                                        },
                                      ],
                                    },
                                    {
                                      label: 'Zoom',
                                      name: 'zoom',
                                      type: 'range',
                                      min: '1',
                                      max: '20',
                                      changeProp: 1,
                                    },
                                  ],
                                });
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (e.prototype.initialize = function (e, n) {
                              this.get('src')
                                ? this.parseFromSrc()
                                : this.updateSrc(),
                                t.prototype.initialize.call(this, e, n),
                                this.listenTo(
                                  this,
                                  'change:address change:zoom change:mapType',
                                  this.updateSrc
                                );
                            }),
                            (e.prototype.updateSrc = function () {
                              this.set('src', this.getMapUrl());
                            }),
                            (e.prototype.getMapUrl = function () {
                              var t = this.get('address'),
                                e = this.get('zoom'),
                                n = this.get('mapType');
                              return (
                                (t = t ? '&q=' + t : ''),
                                (e = e ? '&z=' + e : ''),
                                (n = n ? '&t=' + n : ''),
                                this.get('mapUrl') +
                                  '?' +
                                  t +
                                  e +
                                  n +
                                  '&output=embed'
                              );
                            }),
                            (e.prototype.parseFromSrc = function () {
                              var t = this.parseUri(this.get('src')).query;
                              t.q && this.set('address', t.q),
                                t.z && this.set('zoom', t.z),
                                t.t && this.set('mapType', t.t);
                            }),
                            (e.isComponent = function (t) {
                              if (
                                'iframe' == (0, n.toLowerCase)(t.tagName) &&
                                /maps\.google\.com/.test(t.src)
                              )
                                return {
                                  type: 'map',
                                  src: t.src,
                                };
                            }),
                            e
                          );
                        })(Yn);
                      const tr = Qn;
                      var er =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        nr = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            er(n, e),
                            (n.prototype.tagName = function () {
                              return 'img';
                            }),
                            (n.prototype.events = function () {
                              return {
                                dblclick: 'onActive',
                                click: 'initResize',
                                error: 'onError',
                                load: 'onLoad',
                                dragstart: 'noDrag',
                              };
                            }),
                            (n.prototype.initialize = function (t) {
                              e.prototype.initialize.call(this, t),
                                this.listenTo(
                                  this.model,
                                  'change:src',
                                  this.updateSrc
                                ),
                                (this.classEmpty = ''.concat(
                                  this.ppfx,
                                  'plh-image'
                                )),
                                this.fetchFile();
                            }),
                            (n.prototype.fetchFile = function () {
                              if (!this.modelOpt.temporary) {
                                var e = this.model,
                                  n = this.em,
                                  r = e.get('file');
                                if (r && n) {
                                  var o = n.Assets.FileUploader();
                                  null == o ||
                                    o.uploadFile(
                                      {
                                        dataTransfer: {
                                          files: [r],
                                        },
                                      },
                                      function (n) {
                                        var r = n && n.data && n.data[0],
                                          o =
                                            r &&
                                            ((0, t.isString)(r) ? r : r.src);
                                        o &&
                                          e.set({
                                            src: o,
                                          });
                                      }
                                    ),
                                    e.set('file', '');
                                }
                              }
                            }),
                            (n.prototype.updateSrc = function () {
                              var t = this.model;
                              t.addAttributes({
                                src: t.getSrcResult(),
                              }),
                                this.updateClasses();
                            }),
                            (n.prototype.updateClasses = function () {
                              e.prototype.updateClasses.call(this);
                              var t = this,
                                n = t.el,
                                r = t.classEmpty,
                                o = t.model,
                                i =
                                  o.getSrcResult() && !o.isDefaultSrc()
                                    ? 'remove'
                                    : 'add';
                              n.classList[i](r);
                            }),
                            (n.prototype.onActive = function (t) {
                              null == t || t.stopPropagation();
                              var e = this.em,
                                n = this.model,
                                r = null == e ? void 0 : e.Assets;
                              r &&
                                n.get('editable') &&
                                r.open({
                                  select: function (t, e) {
                                    n.set({
                                      src: t.getSrc(),
                                    }),
                                      e && r.close();
                                  },
                                  target: n,
                                  types: ['image'],
                                  accept: 'image/*',
                                });
                            }),
                            (n.prototype.onError = function () {
                              var t = this.model.getSrcResult({
                                fallback: !0,
                              });
                              t && (this.el.src = t);
                            }),
                            (n.prototype.onLoad = function () {
                              this.em.trigger('change:canvasOffset');
                            }),
                            (n.prototype.noDrag = function (t) {
                              return t.preventDefault(), !1;
                            }),
                            (n.prototype.render = function () {
                              if (
                                (this.renderAttributes(),
                                this.modelOpt.temporary)
                              )
                                return this;
                              this.updateSrc();
                              var t = this.$el,
                                e = this.model,
                                n = t.attr('class') || '';
                              return (
                                !e.get('src') &&
                                  t.attr(
                                    'class',
                                    ''
                                      .concat(n, ' ')
                                      .concat(this.classEmpty)
                                      .trim()
                                  ),
                                this.postRender(),
                                this
                              );
                            }),
                            n
                          );
                        })(cn);
                      const rr = nr;
                      var or =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const ir = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          or(e, t),
                          (e.prototype.tagName = function () {
                            return 'div';
                          }),
                          (e.prototype.events = function () {
                            return {};
                          }),
                          (e.prototype.initialize = function (e) {
                            t.prototype.initialize.call(this, e),
                              (this.classEmpty = this.ppfx + 'plh-map');
                          }),
                          (e.prototype.updateSrc = function () {
                            this.getIframe().src = this.model.get('src');
                          }),
                          (e.prototype.getIframe = function () {
                            if (!this.iframe) {
                              var t = document.createElement('iframe');
                              (t.src = this.model.get('src')),
                                (t.frameBorder = '0'),
                                (t.style.height = '100%'),
                                (t.style.width = '100%'),
                                (t.className = this.ppfx + 'no-pointer'),
                                (this.iframe = t);
                            }
                            return this.iframe;
                          }),
                          (e.prototype.render = function () {
                            return (
                              t.prototype.render.call(this),
                              this.updateClasses(),
                              this.el.appendChild(this.getIframe()),
                              this
                            );
                          }),
                          e
                        );
                      })(rr);
                      var ar =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        sr =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (sr =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              sr.apply(this, arguments)
                            );
                          };
                      const lr = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          ar(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return sr(sr({}, t.prototype.defaults), {
                                type: 'text',
                                droppable: !1,
                                editable: !0,
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          e
                        );
                      })(en);
                      var cr =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ur =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (ur =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              ur.apply(this, arguments)
                            );
                          },
                        pr = 'link',
                        dr = (function (e) {
                          function r() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            cr(r, e),
                            Object.defineProperty(r.prototype, 'defaults', {
                              get: function () {
                                return ur(ur({}, e.prototype.defaults), {
                                  type: pr,
                                  tagName: 'a',
                                  traits: ['title', 'href', 'target'],
                                });
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (r.isComponent = function (e, r) {
                              var o;
                              if (
                                (void 0 === r && (r = {}),
                                'a' === (0, n.toLowerCase)(e.tagName))
                              ) {
                                var i = r.textTags || [];
                                o = {
                                  type: pr,
                                  editable: !1,
                                };
                                var a = e.childNodes;
                                a.length || delete o.editable,
                                  (0, t.forEach)(a, function (t) {
                                    var e = t.tagName;
                                    ((3 == t.nodeType &&
                                      '' !== t.textContent.trim()) ||
                                      (e &&
                                        i.indexOf((0, n.toLowerCase)(e)) >=
                                          0)) &&
                                      delete o.editable;
                                  });
                              }
                              return o;
                            }),
                            r
                          );
                        })(lr);
                      const fr = dr;
                      var hr =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        gr =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (gr =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              gr.apply(this, arguments)
                            );
                          },
                        vr =
                          (void 0 && (void 0).__awaiter) ||
                          function (t, e, n, r) {
                            return new (n || (n = Promise))(function (o, i) {
                              function a(t) {
                                try {
                                  l(r.next(t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function s(t) {
                                try {
                                  l(r['throw'](t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function l(t) {
                                var e;
                                t.done
                                  ? o(t.value)
                                  : ((e = t.value),
                                    e instanceof n
                                      ? e
                                      : new n(function (t) {
                                          t(e);
                                        })).then(a, s);
                              }
                              l((r = r.apply(t, e || [])).next());
                            });
                          },
                        mr =
                          (void 0 && (void 0).__generator) ||
                          function (t, e) {
                            var n,
                              r,
                              o,
                              i,
                              a = {
                                label: 0,
                                sent: function () {
                                  if (1 & o[0]) throw o[1];
                                  return o[1];
                                },
                                trys: [],
                                ops: [],
                              };
                            return (
                              (i = {
                                next: s(0),
                                throw: s(1),
                                return: s(2),
                              }),
                              'function' == typeof Symbol &&
                                (i[Symbol.iterator] = function () {
                                  return this;
                                }),
                              i
                            );

                            function s(s) {
                              return function (l) {
                                return (function (s) {
                                  if (n)
                                    throw new TypeError(
                                      'Generator is already executing.'
                                    );
                                  for (; i && ((i = 0), s[0] && (a = 0)), a; )
                                    try {
                                      if (
                                        ((n = 1),
                                        r &&
                                          (o =
                                            2 & s[0]
                                              ? r['return']
                                              : s[0]
                                              ? r['throw'] ||
                                                ((o = r['return']) && o.call(r),
                                                0)
                                              : r.next) &&
                                          !(o = o.call(r, s[1])).done)
                                      )
                                        return o;
                                      switch (
                                        ((r = 0),
                                        o && (s = [2 & s[0], o.value]),
                                        s[0])
                                      ) {
                                        case 0:
                                        case 1:
                                          o = s;
                                          break;
                                        case 4:
                                          return (
                                            a.label++,
                                            {
                                              value: s[1],
                                              done: !1,
                                            }
                                          );
                                        case 5:
                                          a.label++, (r = s[1]), (s = [0]);
                                          continue;
                                        case 7:
                                          (s = a.ops.pop()), a.trys.pop();
                                          continue;
                                        default:
                                          if (
                                            !(
                                              (o =
                                                (o = a.trys).length > 0 &&
                                                o[o.length - 1]) ||
                                              (6 !== s[0] && 2 !== s[0])
                                            )
                                          ) {
                                            a = 0;
                                            continue;
                                          }
                                          if (
                                            3 === s[0] &&
                                            (!o || (s[1] > o[0] && s[1] < o[3]))
                                          ) {
                                            a.label = s[1];
                                            break;
                                          }
                                          if (6 === s[0] && a.label < o[1]) {
                                            (a.label = o[1]), (o = s);
                                            break;
                                          }
                                          if (o && a.label < o[2]) {
                                            (a.label = o[2]), a.ops.push(s);
                                            break;
                                          }
                                          o[2] && a.ops.pop(), a.trys.pop();
                                          continue;
                                      }
                                      s = e.call(t, a);
                                    } catch (t) {
                                      (s = [6, t]), (r = 0);
                                    } finally {
                                      n = o = 0;
                                    }
                                  if (5 & s[0]) throw s[1];
                                  return {
                                    value: s[0] ? s[1] : void 0,
                                    done: !0,
                                  };
                                })([s, l]);
                              };
                            }
                          },
                        yr = (function (e) {
                          function r() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            hr(r, e),
                            (r.prototype.events = function () {
                              return {
                                dblclick: 'onActive',
                                input: 'onInput',
                              };
                            }),
                            (r.prototype.initialize = function (n) {
                              e.prototype.initialize.call(this, n),
                                (0, t.bindAll)(
                                  this,
                                  'disableEditing',
                                  'onDisable'
                                );
                              var r = this.model,
                                o = this.em;
                              this.listenTo(r, 'focus', this.onActive),
                                this.listenTo(
                                  r,
                                  'change:content',
                                  this.updateContentText
                                ),
                                this.listenTo(
                                  r,
                                  'sync:content',
                                  this.syncContent
                                ),
                                (this.rte =
                                  null == o ? void 0 : o.RichTextEditor);
                            }),
                            (r.prototype.updateContentText = function (
                              t,
                              e,
                              n
                            ) {
                              void 0 === n && (n = {}),
                                !n.fromDisable && this.disableEditing();
                            }),
                            (r.prototype.canActivate = function () {
                              var t,
                                e = this,
                                n = e.model,
                                r = e.rteEnabled,
                                o = e.em,
                                i = (null == o ? void 0 : o.getEditing()) === n,
                                a = !0,
                                s = !1;
                              if (
                                (r ||
                                  !n.get('editable') ||
                                  i ||
                                  (s = n.isChildOf('text'))) &&
                                ((a = !1), s && !n.get('textable'))
                              ) {
                                for (
                                  var l = n.parent();
                                  l && !l.isInstanceOf('text');

                                )
                                  l = l.parent();
                                l && l.get('editable') ? (t = l) : (a = !0);
                              }
                              return {
                                result: a,
                                delegate: t,
                              };
                            }),
                            (r.prototype.onActive = function (t) {
                              var e, n;
                              return vr(this, void 0, void 0, function () {
                                var r, o, i, a, s, l, c, u;
                                return mr(this, function (p) {
                                  switch (p.label) {
                                    case 0:
                                      if (
                                        ((o = (r = this).rte),
                                        (i = r.em),
                                        (a = this.canActivate()),
                                        (s = a.result),
                                        (l = a.delegate),
                                        !s)
                                      )
                                        return (
                                          l &&
                                            (null ===
                                              (e =
                                                null == t
                                                  ? void 0
                                                  : t.stopPropagation) ||
                                              void 0 === e ||
                                              e.call(t),
                                            i.setSelected(l),
                                            l.trigger('active', t)),
                                          [2]
                                        );
                                      if (
                                        (null ===
                                          (n =
                                            null == t
                                              ? void 0
                                              : t.stopPropagation) ||
                                          void 0 === n ||
                                          n.call(t),
                                        (this.lastContent = this.getContent()),
                                        !o)
                                      )
                                        return [3, 4];
                                      p.label = 1;
                                    case 1:
                                      return (
                                        p.trys.push([1, 3, , 4]),
                                        (c = this),
                                        [
                                          4,
                                          o.enable(this, this.activeRte, {
                                            event: t,
                                          }),
                                        ]
                                      );
                                    case 2:
                                      return (c.activeRte = p.sent()), [3, 4];
                                    case 3:
                                      return (
                                        (u = p.sent()), i.logError(u), [3, 4]
                                      );
                                    case 4:
                                      return this.toggleEvents(!0), [2];
                                  }
                                });
                              });
                            }),
                            (r.prototype.onDisable = function () {
                              this.disableEditing();
                            }),
                            (r.prototype.disableEditing = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                vr(this, void 0, void 0, function () {
                                  var e, n, r, o, i, a, s;
                                  return mr(this, function (l) {
                                    switch (l.label) {
                                      case 0:
                                        if (
                                          ((n = (e = this).model),
                                          (r = e.rte),
                                          (o = e.activeRte),
                                          (i = e.em),
                                          (a = n && n.get('editable')),
                                          !r)
                                        )
                                          return [3, 5];
                                        l.label = 1;
                                      case 1:
                                        return (
                                          l.trys.push([1, 3, , 4]),
                                          [4, r.disable(this, o)]
                                        );
                                      case 2:
                                        return l.sent(), [3, 4];
                                      case 3:
                                        return (
                                          (s = l.sent()), i.logError(s), [3, 4]
                                        );
                                      case 4:
                                        a &&
                                          this.getContent() !==
                                            this.lastContent &&
                                          (this.syncContent(t),
                                          (this.lastContent = '')),
                                          (l.label = 5);
                                      case 5:
                                        return this.toggleEvents(), [2];
                                    }
                                  });
                                })
                              );
                            }),
                            (r.prototype.getContent = function () {
                              var t = this.activeRte;
                              return 'function' ==
                                typeof (null == t ? void 0 : t.getContent)
                                ? t.getContent()
                                : this.getChildrenContainer().innerHTML;
                            }),
                            (r.prototype.syncContent = function (t) {
                              void 0 === t && (t = {});
                              var e = this,
                                n = e.model,
                                r = e.rte;
                              if (e.rteEnabled || t.force) {
                                var o = this.getContent(),
                                  i = n.components(),
                                  a = gr(
                                    {
                                      fromDisable: 1,
                                    },
                                    t
                                  );
                                n.set('content', '', a),
                                  (null == r ? void 0 : r.customRte)
                                    ? (i.length && i.reset(void 0, t),
                                      n.set('content', o, a))
                                    : i.resetFromString(o, t);
                              }
                            }),
                            (r.prototype.insertComponent = function (t, e) {
                              var r;
                              void 0 === e && (e = {});
                              var o = this.model,
                                i = this.el.ownerDocument.getSelection();
                              if (null == i ? void 0 : i.rangeCount) {
                                var a = i.getRangeAt(0),
                                  s = a.startContainer,
                                  l = a.startOffset,
                                  c = (0, n.getModel)(s),
                                  u = [];
                                if (
                                  c &&
                                  (null === (r = c.is) || void 0 === r
                                    ? void 0
                                    : r.call(c, 'textnode'))
                                ) {
                                  var p = c.collection;
                                  p.forEach(function (e) {
                                    if (e === c) {
                                      var n = 'textnode',
                                        r = e.get('content') || '';
                                      u.push({
                                        type: n,
                                        content: r.slice(0, l),
                                      }),
                                        u.push(t),
                                        u.push({
                                          type: n,
                                          content: r.slice(l),
                                        });
                                    } else u.push(e);
                                  });
                                  var d = u.filter(Boolean),
                                    f = d.indexOf(t);
                                  return p.reset(d, e), p.at(f);
                                }
                              }
                              return o.append(t, e);
                            }),
                            (r.prototype.onInput = function () {
                              var t = this.em,
                                e = 'component',
                                n = [
                                  ''.concat(e, ':update'),
                                  ''.concat(e, ':input'),
                                ].join(' ');
                              t && t.trigger(n, this.model);
                            }),
                            (r.prototype.disablePropagation = function (t) {
                              t.stopPropagation();
                            }),
                            (r.prototype.toggleEvents = function (t) {
                              var e = this,
                                r = e.em,
                                o = e.model,
                                i = e.$el,
                                a = {
                                  on: n.on,
                                  off: n.off,
                                },
                                s = t ? 'on' : 'off';
                              r.setEditing(!!t && this),
                                (this.rteEnabled = !!t);
                              var l = [this.el.ownerDocument, document];
                              if (
                                (a.off(l, 'mousedown', this.onDisable),
                                a[s](l, 'mousedown', this.onDisable),
                                r[s]('toolbar:run:before', this.onDisable),
                                o &&
                                  (o[s]('removed', this.onDisable),
                                  o.trigger(
                                    'rte:'.concat(t ? 'enable' : 'disable')
                                  )),
                                null == i ||
                                  i.off('mousedown', this.disablePropagation),
                                i && i[s]('mousedown', this.disablePropagation),
                                this.config.draggableComponents)
                              )
                                for (var c = this.el; c; )
                                  (c.draggable = !t),
                                    (c = c.parentNode) &&
                                      'BODY' == c.tagName &&
                                      (c = 0);
                            }),
                            r
                          );
                        })(cn);
                      const br = yr;
                      var _r =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const wr = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          _r(e, t),
                          (e.prototype.render = function () {
                            return (
                              t.prototype.render.call(this),
                              this.el.addEventListener(
                                'click',
                                this.prevDef,
                                !0
                              ),
                              this
                            );
                          }),
                          e
                        );
                      })(br);
                      var xr =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Cr =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Cr =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Cr.apply(this, arguments)
                            );
                          },
                        Sr = 'label';
                      const Or = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          xr(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return Cr(Cr({}, t.prototype.defaults), {
                                type: Sr,
                                tagName: Sr,
                                traits: ['id', 'title', 'for'],
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.isComponent = function (t) {
                            return (0, n.toLowerCase)(t.tagName) === Sr;
                          }),
                          e
                        );
                      })(lr);
                      var kr =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Tr = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          kr(e, t),
                          (e.prototype.tagName = function () {
                            return 'span';
                          }),
                          e
                        );
                      })(wr);
                      var Er =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Pr =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Pr =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Pr.apply(this, arguments)
                            );
                          },
                        Ar = 'video',
                        jr = 'yt',
                        Mr = 'vi',
                        Lr = 'ytnc',
                        Dr = function (t) {
                          return t && '0' !== t;
                        },
                        Nr = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Er(e, t),
                            Object.defineProperty(e.prototype, 'defaults', {
                              get: function () {
                                return Pr(Pr({}, t.prototype.defaults), {
                                  type: Ar,
                                  tagName: Ar,
                                  videoId: '',
                                  void: !1,
                                  provider: 'so',
                                  ytUrl: 'https://www.youtube.com/embed/',
                                  ytncUrl:
                                    'https://www.youtube-nocookie.com/embed/',
                                  viUrl: 'https://player.vimeo.com/video/',
                                  loop: 0,
                                  poster: '',
                                  muted: 0,
                                  autoplay: 0,
                                  controls: 1,
                                  color: '',
                                  list: '',
                                  rel: 1,
                                  modestbranding: 0,
                                  sources: [],
                                  attributes: {
                                    allowfullscreen: 'allowfullscreen',
                                  },
                                });
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (e.prototype.initialize = function (e, n) {
                              (this.em = n.em),
                                this.get('src') && this.parseFromSrc(),
                                this.updateTraits(),
                                this.listenTo(
                                  this,
                                  'change:provider',
                                  this.updateTraits
                                ),
                                this.listenTo(
                                  this,
                                  'change:videoId change:provider',
                                  this.updateSrc
                                ),
                                t.prototype.initialize.call(this, e, n);
                            }),
                            (e.prototype.updateTraits = function () {
                              var t,
                                e = this.em,
                                n = 'iframe';
                              switch (this.get('provider')) {
                                case jr:
                                case Lr:
                                  t = this.getYoutubeTraits();
                                  break;
                                case Mr:
                                  t = this.getVimeoTraits();
                                  break;
                                default:
                                  (n = 'video'), (t = this.getSourceTraits());
                              }
                              this.set(
                                {
                                  tagName: n,
                                },
                                {
                                  silent: !0,
                                }
                              ),
                                this.set({
                                  traits: t,
                                }),
                                e.get('ready') &&
                                  e.trigger('component:toggled');
                            }),
                            (e.prototype.parseFromSrc = function () {
                              var t = this.get('provider'),
                                e = this.parseUri(this.get('src')),
                                n = e.query;
                              switch (t) {
                                case jr:
                                case Lr:
                                case Mr:
                                  this.set(
                                    'videoId',
                                    e.pathname.split('/').pop()
                                  ),
                                    n.list && this.set('list', n.list),
                                    Dr(n.autoplay) && this.set('autoplay', 1),
                                    Dr(n.loop) && this.set('loop', 1),
                                    0 === parseInt(n.controls) &&
                                      this.set('controls', 0),
                                    Dr(n.color) && this.set('color', n.color),
                                    '0' === n.rel && this.set('rel', 0),
                                    '1' === n.modestbranding &&
                                      this.set('modestbranding', 1);
                              }
                            }),
                            (e.prototype.updateSrc = function () {
                              var t = '';
                              switch (this.get('provider')) {
                                case jr:
                                  t = this.getYoutubeSrc();
                                  break;
                                case Lr:
                                  t = this.getYoutubeNoCookieSrc();
                                  break;
                                case Mr:
                                  t = this.getVimeoSrc();
                              }
                              this.set({
                                src: t,
                              });
                            }),
                            (e.prototype.getAttrToHTML = function () {
                              var e = t.prototype.getAttrToHTML.call(this);
                              switch (this.get('provider')) {
                                case jr:
                                case Lr:
                                case Mr:
                                  break;
                                default:
                                  this.get('loop') && (e.loop = 'loop'),
                                    this.get('autoplay') &&
                                      (e.autoplay = 'autoplay'),
                                    this.get('controls') &&
                                      (e.controls = 'controls');
                              }
                              return e;
                            }),
                            (e.prototype.getProviderTrait = function () {
                              return {
                                type: 'select',
                                label: 'Provider',
                                name: 'provider',
                                changeProp: !0,
                                options: [
                                  {
                                    value: 'so',
                                    name: 'HTML5 Source',
                                  },
                                  {
                                    value: jr,
                                    name: 'Youtube',
                                  },
                                  {
                                    value: Lr,
                                    name: 'Youtube (no cookie)',
                                  },
                                  {
                                    value: Mr,
                                    name: 'Vimeo',
                                  },
                                ],
                              };
                            }),
                            (e.prototype.getSourceTraits = function () {
                              return [
                                this.getProviderTrait(),
                                {
                                  label: 'Source',
                                  name: 'src',
                                  placeholder: 'eg. ./media/video.mp4',
                                  changeProp: !0,
                                },
                                {
                                  label: 'Poster',
                                  name: 'poster',
                                  placeholder: 'eg. ./media/image.jpg',
                                },
                                this.getAutoplayTrait(),
                                this.getLoopTrait(),
                                this.getControlsTrait(),
                              ];
                            }),
                            (e.prototype.getYoutubeTraits = function () {
                              return [
                                this.getProviderTrait(),
                                {
                                  label: 'Video ID',
                                  name: 'videoId',
                                  placeholder: 'eg. jNQXAC9IVRw',
                                  changeProp: !0,
                                },
                                this.getAutoplayTrait(),
                                this.getLoopTrait(),
                                this.getControlsTrait(),
                                {
                                  type: 'checkbox',
                                  label: 'Related',
                                  name: 'rel',
                                  changeProp: !0,
                                },
                                {
                                  type: 'checkbox',
                                  label: 'Modest',
                                  name: 'modestbranding',
                                  changeProp: !0,
                                },
                              ];
                            }),
                            (e.prototype.getVimeoTraits = function () {
                              return [
                                this.getProviderTrait(),
                                {
                                  label: 'Video ID',
                                  name: 'videoId',
                                  placeholder: 'eg. 123456789',
                                  changeProp: !0,
                                },
                                {
                                  label: 'Color',
                                  name: 'color',
                                  placeholder: 'eg. FF0000',
                                  changeProp: !0,
                                },
                                this.getAutoplayTrait(),
                                this.getLoopTrait(),
                              ];
                            }),
                            (e.prototype.getAutoplayTrait = function () {
                              return {
                                type: 'checkbox',
                                label: 'Autoplay',
                                name: 'autoplay',
                                changeProp: !0,
                              };
                            }),
                            (e.prototype.getLoopTrait = function () {
                              return {
                                type: 'checkbox',
                                label: 'Loop',
                                name: 'loop',
                                changeProp: !0,
                              };
                            }),
                            (e.prototype.getControlsTrait = function () {
                              return {
                                type: 'checkbox',
                                label: 'Controls',
                                name: 'controls',
                                changeProp: !0,
                              };
                            }),
                            (e.prototype.getYoutubeSrc = function () {
                              var t = this.get('videoId'),
                                e = this.get('ytUrl'),
                                n = this.get('list');
                              return (
                                (e += t + (t.indexOf('?') < 0 ? '?' : '')),
                                (e += n ? '&list='.concat(n) : ''),
                                (e += this.get('autoplay')
                                  ? '&autoplay=1'
                                  : ''),
                                (e += this.get('controls')
                                  ? ''
                                  : '&controls=0&showinfo=0'),
                                (e += this.get('loop')
                                  ? '&loop=1&playlist='.concat(t)
                                  : ''),
                                (e += this.get('rel') ? '' : '&rel=0') +
                                  (this.get('modestbranding')
                                    ? '&modestbranding=1'
                                    : '')
                              );
                            }),
                            (e.prototype.getYoutubeNoCookieSrc = function () {
                              var t = this.getYoutubeSrc();
                              return t.replace(
                                this.get('ytUrl'),
                                this.get('ytncUrl')
                              );
                            }),
                            (e.prototype.getVimeoSrc = function () {
                              var t = this.get('viUrl');
                              return (
                                (t += this.get('videoId') + '?'),
                                (t += this.get('autoplay')
                                  ? '&autoplay=1'
                                  : ''),
                                (t += this.get('loop') ? '&loop=1' : ''),
                                (t += this.get('controls')
                                  ? ''
                                  : '&title=0&portrait=0&badge=0') +
                                  (this.get('color')
                                    ? '&color=' + this.get('color')
                                    : '')
                              );
                            }),
                            (e.isComponent = function (t) {
                              var e = t.tagName,
                                r = t.src,
                                o = /youtube\.com\/embed/.test(r),
                                i = /youtube-nocookie\.com\/embed/.test(r),
                                a = /player\.vimeo\.com\/video/.test(r),
                                s = o || i || a;
                              if (
                                (0, n.toLowerCase)(e) == Ar ||
                                ('iframe' == (0, n.toLowerCase)(e) && s)
                              ) {
                                var l = {
                                  type: 'video',
                                };
                                return (
                                  r && (l.src = r),
                                  s &&
                                    (o
                                      ? (l.provider = jr)
                                      : i
                                      ? (l.provider = Lr)
                                      : a && (l.provider = Mr)),
                                  l
                                );
                              }
                            }),
                            e
                          );
                        })(Yn);
                      const Ir = Nr;
                      var Fr =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Rr = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Fr(e, t),
                            (e.prototype.tagName = function () {
                              return 'div';
                            }),
                            (e.prototype.events = function () {
                              return {};
                            }),
                            (e.prototype.initialize = function () {
                              cn.prototype.initialize.apply(this, arguments);
                              var t = this.model,
                                e = [
                                  'loop',
                                  'autoplay',
                                  'controls',
                                  'color',
                                  'rel',
                                  'modestbranding',
                                  'poster',
                                ]
                                  .map(function (t) {
                                    return 'change:'.concat(t);
                                  })
                                  .join(' ');
                              this.listenTo(
                                t,
                                'change:provider',
                                this.updateProvider
                              ),
                                this.listenTo(t, 'change:src', this.updateSrc),
                                this.listenTo(t, e, this.updateVideo);
                            }),
                            (e.prototype.updateProvider = function () {
                              var t = this.model.get('provider');
                              (this.el.innerHTML = ''),
                                this.el.appendChild(this.renderByProvider(t));
                            }),
                            (e.prototype.updateSrc = function () {
                              var t = this.model,
                                e = this.videoEl;
                              if (e) {
                                var n = t.get('provider'),
                                  r = t.get('src');
                                switch (n) {
                                  case 'yt':
                                    r = t.getYoutubeSrc();
                                    break;
                                  case 'ytnc':
                                    r = t.getYoutubeNoCookieSrc();
                                    break;
                                  case 'vi':
                                    r = t.getVimeoSrc();
                                }
                                e.src = r;
                              }
                            }),
                            (e.prototype.updateVideo = function () {
                              var t = this.model,
                                e = this.videoEl;
                              switch (t.get('provider')) {
                                case 'yt':
                                case 'ytnc':
                                case 'vi':
                                  t.trigger('change:videoId');
                                  break;
                                default:
                                  if (e) {
                                    var n = e;
                                    (n.loop = t.get('loop')),
                                      (n.autoplay = t.get('autoplay')),
                                      (n.controls = t.get('controls')),
                                      (n.poster = t.get('poster'));
                                  }
                              }
                            }),
                            (e.prototype.renderByProvider = function (t) {
                              var e;
                              switch (t) {
                                case 'yt':
                                  e = this.renderYoutube();
                                  break;
                                case 'ytnc':
                                  e = this.renderYoutubeNoCookie();
                                  break;
                                case 'vi':
                                  e = this.renderVimeo();
                                  break;
                                default:
                                  e = this.renderSource();
                              }
                              return (this.videoEl = e), e;
                            }),
                            (e.prototype.renderSource = function () {
                              var t = document.createElement('video');
                              return (
                                (t.src = this.model.get('src')),
                                this.initVideoEl(t),
                                t
                              );
                            }),
                            (e.prototype.renderYoutube = function () {
                              var t = document.createElement('iframe');
                              return (
                                (t.src = this.model.getYoutubeSrc()),
                                (t.frameBorder = '0'),
                                t.setAttribute('allowfullscreen', 'true'),
                                this.initVideoEl(t),
                                t
                              );
                            }),
                            (e.prototype.renderYoutubeNoCookie = function () {
                              var t = document.createElement('iframe');
                              return (
                                (t.src = this.model.getYoutubeNoCookieSrc()),
                                (t.frameBorder = '0'),
                                t.setAttribute('allowfullscreen', 'true'),
                                this.initVideoEl(t),
                                t
                              );
                            }),
                            (e.prototype.renderVimeo = function () {
                              var t = document.createElement('iframe');
                              return (
                                (t.src = this.model.getVimeoSrc()),
                                (t.frameBorder = '0'),
                                t.setAttribute('allowfullscreen', 'true'),
                                this.initVideoEl(t),
                                t
                              );
                            }),
                            (e.prototype.initVideoEl = function (t) {
                              (t.className = this.ppfx + 'no-pointer'),
                                (t.style.height = '100%'),
                                (t.style.width = '100%');
                            }),
                            (e.prototype.render = function () {
                              cn.prototype.render.apply(this),
                                this.updateClasses();
                              var t = this.model.get('provider');
                              return (
                                this.el.appendChild(this.renderByProvider(t)),
                                this.updateVideo(),
                                this
                              );
                            }),
                            e
                          );
                        })(rr);
                      const zr = Rr;
                      var Vr =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Br =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Br =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Br.apply(this, arguments)
                            );
                          },
                        Hr = 'script';
                      const Ur = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Vr(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return Br(Br({}, t.prototype.defaults), {
                                type: Hr,
                                tagName: Hr,
                                droppable: !1,
                                draggable: !1,
                                layerable: !1,
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.isComponent = function (t) {
                            if ((0, n.toLowerCase)(t.tagName) == Hr) {
                              var e = {
                                type: Hr,
                              };
                              return (
                                t.src &&
                                  ((e.src = t.src), (e.onload = t.onload)),
                                e
                              );
                            }
                          }),
                          e
                        );
                      })(en);
                      var Wr =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        $r = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Wr(e, t),
                            (e.prototype.tagName = function () {
                              return 'script';
                            }),
                            (e.prototype.events = function () {
                              return {};
                            }),
                            (e.prototype.render = function () {
                              var t = this.model,
                                e = this.em,
                                n = t.get('src'),
                                r = (e && e.get('scriptCount')) || 0,
                                o = '';
                              if (n) {
                                var i = t.get('onload'),
                                  a = 'script'.concat(r),
                                  s = 'script'.concat(r + 1),
                                  l = ''.concat(a, 'Start'),
                                  c = ''.concat(s, 'Start');
                                (o = '\n        var '
                                  .concat(
                                    a,
                                    " = document.createElement('script');\n        "
                                  )
                                  .concat(
                                    a,
                                    '.onload = function() {\n          '
                                  )
                                  .concat(
                                    i ? ''.concat(i, '();\n') : '',
                                    '\n          typeof '
                                  )
                                  .concat(c, " == 'function' && ")
                                  .concat(c, '();\n        };\n        ')
                                  .concat(a, ".src = '")
                                  .concat(n, "';\n        function ")
                                  .concat(l, '() { document.body.appendChild(')
                                  .concat(a, '); };\n        ')
                                  .concat(
                                    r ? '' : ''.concat(l, '();'),
                                    '\n      '
                                  )),
                                  e && e.set('scriptCount', r + 1);
                              } else o = t.__innerHTML();
                              return (
                                (this.el.innerHTML = o), this.postRender(), this
                              );
                            }),
                            e
                          );
                        })(rr);
                      const Gr = $r;
                      var qr =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Kr =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Kr =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Kr.apply(this, arguments)
                            );
                          },
                        Zr = 'svg';
                      const Yr = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          qr(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return Kr(Kr({}, t.prototype.defaults), {
                                type: Zr,
                                tagName: Zr,
                                highlightable: !1,
                                resizable: {
                                  ratioDefault: !0,
                                },
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.prototype.getName = function () {
                            var t = this.get('tagName'),
                              e = this.get('custom-name');
                            return (
                              (t = t.charAt(0).toUpperCase() + t.slice(1)),
                              e || t
                            );
                          }),
                          (e.isComponent = function (t) {
                            return (0, n.toLowerCase)(t.tagName) === Zr;
                          }),
                          e
                        );
                      })(en);
                      var Xr =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Jr =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Jr =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Jr.apply(this, arguments)
                            );
                          };
                      const Qr = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Xr(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return Jr(Jr({}, t.prototype.defaults), {
                                selectable: !1,
                                hoverable: !1,
                                layerable: !1,
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.isComponent = function (t, e) {
                            return void 0 === e && (e = {}), !!e.inSvg;
                          }),
                          e
                        );
                      })(Yr);
                      var to =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        eo = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            to(e, t),
                            (e.prototype._createElement = function (t) {
                              return document.createElementNS(
                                'http://www.w3.org/2000/svg',
                                t
                              );
                            }),
                            e
                          );
                        })(cn);
                      const no = eo;
                      var ro =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        oo =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (oo =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              oo.apply(this, arguments)
                            );
                          };
                      const io = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          ro(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return oo(oo({}, t.prototype.defaults), {
                                tagName: '',
                                droppable: !1,
                                layerable: !1,
                                selectable: !1,
                                editable: !0,
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.prototype.toHTML = function () {
                            var t = this.parent(),
                              e = this.get('content');
                            return (null == t ? void 0 : t.is('script'))
                              ? e
                              : this.__escapeContent(e);
                          }),
                          (e.prototype.__escapeContent = function (t) {
                            return (0, n.escapeNodeContent)(t);
                          }),
                          (e.isComponent = function (t) {
                            if (3 === t.nodeType)
                              return {
                                type: 'textnode',
                                content: t.textContent,
                              };
                          }),
                          e
                        );
                      })(en);
                      var ao =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        so =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (so =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              so.apply(this, arguments)
                            );
                          };
                      const lo = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          ao(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return so({}, t.prototype.defaults);
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.prototype.toHTML = function () {
                            return '\x3c!--'.concat(
                              this.get('content'),
                              '--\x3e'
                            );
                          }),
                          (e.isComponent = function (t) {
                            if (8 == t.nodeType)
                              return {
                                tagName: 'NULL',
                                type: 'comment',
                                content: t.textContent,
                              };
                          }),
                          e
                        );
                      })(io);
                      var co =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const uo = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          co(e, t),
                          (e.prototype._setAttributes = function () {}),
                          (e.prototype.renderAttributes = function () {}),
                          (e.prototype.updateStatus = function () {}),
                          (e.prototype.updateClasses = function () {}),
                          (e.prototype.setAttribute = function () {}),
                          (e.prototype.updateAttributes = function () {}),
                          (e.prototype.initClasses = function () {}),
                          (e.prototype.initComponents = function () {}),
                          (e.prototype.delegateEvents = function () {
                            return this;
                          }),
                          (e.prototype._createElement = function () {
                            return document.createTextNode('');
                          }),
                          (e.prototype.render = function () {
                            var t = this.model,
                              e = this.el;
                            return (
                              t.opt.temporary ||
                                (e.textContent = t.get('content')),
                              this
                            );
                          }),
                          e
                        );
                      })(cn);
                      var po =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const fo = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          po(e, t),
                          (e.prototype._createElement = function () {
                            return document.createComment(
                              this.model.get('content')
                            );
                          }),
                          e
                        );
                      })(uo);
                      var ho =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        go =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (go =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              go.apply(this, arguments)
                            );
                          };
                      const vo = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          ho(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return go(go({}, t.prototype.defaults), {
                                tagName: 'body',
                                removable: !1,
                                copyable: !1,
                                draggable: !1,
                                components: [],
                                traits: [],
                                stylable: [
                                  'background',
                                  'background-color',
                                  'background-image',
                                  'background-repeat',
                                  'background-attachment',
                                  'background-position',
                                  'background-size',
                                ],
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.prototype.__postAdd = function () {
                            var e,
                              n =
                                null === (e = this.em) || void 0 === e
                                  ? void 0
                                  : e.UndoManager;
                            return (
                              !this.__hasUm && (null == n || n.add(this)),
                              t.prototype.__postAdd.call(this)
                            );
                          }),
                          (e.prototype.__postRemove = function () {
                            var e,
                              n =
                                null === (e = this.em) || void 0 === e
                                  ? void 0
                                  : e.UndoManager;
                            return (
                              null == n || n.remove(this),
                              t.prototype.__postRemove.call(this)
                            );
                          }),
                          (e.isComponent = function () {
                            return !1;
                          }),
                          e
                        );
                      })(en);
                      var mo =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        yo =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (yo =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              yo.apply(this, arguments)
                            );
                          },
                        bo = 'iframe';
                      const _o = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          mo(e, t),
                          Object.defineProperty(e.prototype, 'defaults', {
                            get: function () {
                              return yo(yo({}, t.prototype.defaults), {
                                type: bo,
                                tagName: bo,
                                droppable: !1,
                                resizable: !0,
                                traits: ['id', 'title', 'src'],
                                attributes: {
                                  frameborder: '0',
                                },
                              });
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (e.isComponent = function (t) {
                            return (0, n.toLowerCase)(t.tagName) === bo;
                          }),
                          e
                        );
                      })(en);
                      var wo =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const xo = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          wo(e, t),
                          (e.prototype.tagName = function () {
                            return 'div';
                          }),
                          (e.prototype.initialize = function (e) {
                            t.prototype.initialize.call(this, e),
                              this.listenTo(
                                this.model,
                                'change:attributes:src',
                                this.updateSrc
                              );
                          }),
                          (e.prototype.updateSrc = function () {
                            var t = (0, Pt.sE)(this.el, 'iframe')[0];
                            t &&
                              (0, Pt.FW)(t, {
                                src: this.__getSrc(),
                              });
                          }),
                          (e.prototype.render = function () {
                            t.prototype.render.call(this);
                            var e = (0, Pt.ut)('iframe', {
                              class: ''.concat(this.ppfx, 'no-pointer'),
                              style: 'width: 100%; height: 100%; border: none',
                              src: this.__getSrc(),
                            });
                            return this.el.appendChild(e), this;
                          }),
                          (e.prototype.__getSrc = function () {
                            return this.model.getAttributes().src || '';
                          }),
                          e
                        );
                      })(cn);
                      var Co =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        So =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (So =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              So.apply(this, arguments)
                            );
                          },
                        Oo =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          },
                        ko = (function (e) {
                          function n(t) {
                            var n =
                              e.call(
                                this,
                                t,
                                'DomComponents',
                                new Ee(void 0, {
                                  em: t,
                                })
                              ) || this;
                            for (var r in ((n.componentTypes = [
                              {
                                id: 'cell',
                                model: hn,
                                view: vn,
                              },
                              {
                                id: 'row',
                                model: _n,
                                view: xn,
                              },
                              {
                                id: 'table',
                                model: kn,
                                view: Tn,
                              },
                              {
                                id: 'thead',
                                model: Nn,
                                view: Fn,
                              },
                              {
                                id: 'tbody',
                                model: jn,
                                view: zn,
                              },
                              {
                                id: 'tfoot',
                                model: Un,
                                view: $n,
                              },
                              {
                                id: 'map',
                                model: tr,
                                view: ir,
                              },
                              {
                                id: 'link',
                                model: fr,
                                view: wr,
                              },
                              {
                                id: 'label',
                                model: Or,
                                view: Tr,
                              },
                              {
                                id: 'video',
                                model: Ir,
                                view: zr,
                              },
                              {
                                id: 'image',
                                model: Yn,
                                view: rr,
                              },
                              {
                                id: 'script',
                                model: Ur,
                                view: Gr,
                              },
                              {
                                id: 'svg-in',
                                model: Qr,
                                view: no,
                              },
                              {
                                id: 'svg',
                                model: Yr,
                                view: no,
                              },
                              {
                                id: 'iframe',
                                model: _o,
                                view: xo,
                              },
                              {
                                id: 'comment',
                                model: lo,
                                view: fo,
                              },
                              {
                                id: 'textnode',
                                model: io,
                                view: uo,
                              },
                              {
                                id: 'text',
                                model: lr,
                                view: br,
                              },
                              {
                                id: 'wrapper',
                                model: vo,
                                view: pn,
                              },
                              {
                                id: 'default',
                                model: en,
                                view: cn,
                              },
                            ]),
                            (n.componentsById = {}),
                            (n.Component = en),
                            (n.Components = Ee),
                            (n.ComponentsView = on),
                            (n.storageKey = 'components'),
                            t &&
                              (n.config.components =
                                t.config.components || n.config.components),
                            ue))
                              r in n.config || (n.config[r] = ue[r]);
                            var o = n.config.pStylePrefix;
                            if (
                              (o &&
                                (n.config.stylePrefix =
                                  o + n.config.stylePrefix),
                              t)
                            ) {
                              (n.config.modal = t.Modal || ''),
                                (n.config.am = t.Assets || ''),
                                (t.get('Parser').compTypes = n.componentTypes),
                                t.on(
                                  'change:componentHovered',
                                  n.componentHovered,
                                  n
                                );
                              var i = t.get('selected');
                              t.listenTo(i, 'add', function (t, e, r) {
                                return n.selectAdd(i.getComponent(t), r);
                              }),
                                t.listenTo(i, 'remove', function (t, e, r) {
                                  return n.selectRemove(i.getComponent(t), r);
                                });
                            }
                            return n;
                          }
                          return (
                            Co(n, e),
                            (n.prototype.load = function (e) {
                              var n = this;
                              return this.loadProjectData(e, {
                                onResult: function (e) {
                                  var r = n.getWrapper();
                                  if (
                                    (r ||
                                      (n.em.Pages.add(
                                        {},
                                        {
                                          select: !0,
                                        }
                                      ),
                                      (r = n.getWrapper())),
                                    (0, t.isArray)(e))
                                  )
                                    e.length && r.components(e);
                                  else {
                                    var o = e.components,
                                      i = void 0 === o ? [] : o,
                                      a = Oo(e, ['components']);
                                    r.set(a), r.components(i);
                                  }
                                },
                              });
                            }),
                            (n.prototype.store = function () {
                              return {};
                            }),
                            (n.prototype.getComponent = function () {
                              var t = this.em.Pages.getSelected(),
                                e = null == t ? void 0 : t.getMainFrame();
                              return null == e ? void 0 : e.getComponent();
                            }),
                            (n.prototype.getWrapper = function () {
                              return this.getComponent();
                            }),
                            (n.prototype.getComponents = function () {
                              var t = this.getWrapper();
                              return null == t ? void 0 : t.get('components');
                            }),
                            (n.prototype.addComponent = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.getComponents().add(t, e)
                              );
                            }),
                            (n.prototype.render = function () {
                              var t;
                              return null === (t = this.componentView) ||
                                void 0 === t
                                ? void 0
                                : t.render().el;
                            }),
                            (n.prototype.clear = function (t) {
                              void 0 === t && (t = {});
                              var e = this.getComponents();
                              return (
                                null == e ||
                                  e.filter(Boolean).forEach(function (e) {
                                    return e.remove(t);
                                  }),
                                this
                              );
                            }),
                            (n.prototype.setComponents = function (t, e) {
                              void 0 === e && (e = {}),
                                this.clear(e).addComponent(t, e);
                            }),
                            (n.prototype.addType = function (e, n) {
                              var r = this.em,
                                o = n.model,
                                i = void 0 === o ? {} : o,
                                a = n.view,
                                s = void 0 === a ? {} : a,
                                l = n.isComponent,
                                c = n.extend,
                                u = n.extendView,
                                p = n.extendFn,
                                d = void 0 === p ? [] : p,
                                f = n.extendFnView,
                                h = void 0 === f ? [] : f,
                                g = this.getType(e),
                                v = this.getType(c),
                                m = this.getType(u),
                                y = v || g || this.getType('default'),
                                b = y.model,
                                _ = m ? m.view : y.view,
                                w = function (t, e, n) {
                                  return t.reduce(function (t, r) {
                                    var o = e[r],
                                      i = n.prototype[r];
                                    return (
                                      o &&
                                        i &&
                                        (t[r] = function () {
                                          for (
                                            var t = [], e = 0;
                                            e < arguments.length;
                                            e++
                                          )
                                            t[e] = arguments[e];
                                          i.bind(this).apply(void 0, t),
                                            o.bind(this).apply(void 0, t);
                                        }),
                                      t
                                    );
                                  }, {});
                                };
                              if ('object' == typeof i) {
                                var x = (0, t.result)(i, 'defaults');
                                delete i.defaults,
                                  (n.model = b.extend(
                                    So(So({}, i), w(d, i, b)),
                                    {
                                      isComponent:
                                        !g || v || l
                                          ? l ||
                                            function () {
                                              return 0;
                                            }
                                          : b.isComponent,
                                    }
                                  )),
                                  Object.defineProperty(
                                    n.model.prototype,
                                    'defaults',
                                    {
                                      value: So(
                                        So(
                                          {},
                                          (0, t.result)(
                                            b.prototype,
                                            'defaults'
                                          ) || {}
                                        ),
                                        x || {}
                                      ),
                                    }
                                  );
                              }
                              'object' == typeof s &&
                                (n.view = _.extend(So(So({}, s), w(h, s, _)))),
                                g
                                  ? ((g.model = n.model), (g.view = n.view))
                                  : ((n.id = e),
                                    this.componentTypes.unshift(n));
                              var C = 'component:type:'.concat(
                                g ? 'update' : 'add'
                              );
                              return null == r || r.trigger(C, g || n), this;
                            }),
                            (n.prototype.getType = function (t) {
                              for (
                                var e = this.componentTypes, n = 0;
                                n < e.length;
                                n++
                              )
                                if (e[n].id == t) return e[n];
                            }),
                            (n.prototype.removeType = function (t) {
                              var e = this.componentTypes,
                                n = this.getType(t);
                              if (n) {
                                var r = e.indexOf(n);
                                return e.splice(r, 1), n;
                              }
                            }),
                            (n.prototype.getTypes = function () {
                              return this.componentTypes;
                            }),
                            (n.prototype.selectAdd = function (t, e) {
                              var n = this;
                              void 0 === e && (e = {}),
                                t &&
                                  (t.set({
                                    status: 'selected',
                                  }),
                                  [
                                    'component:selected',
                                    'component:toggled',
                                  ].forEach(function (r) {
                                    return n.em.trigger(r, t, e);
                                  }));
                            }),
                            (n.prototype.selectRemove = function (t, e) {
                              var n = this;
                              void 0 === e && (e = {}),
                                t &&
                                  (this.em,
                                  t.set({
                                    status: '',
                                    state: '',
                                  }),
                                  [
                                    'component:deselected',
                                    'component:toggled',
                                  ].forEach(function (r) {
                                    return n.em.trigger(r, t, e);
                                  }));
                            }),
                            (n.prototype.componentHovered = function () {
                              var e = this.em,
                                n = e.get('componentHovered'),
                                r = e.previous('componentHovered'),
                                o = 'hovered';
                              r &&
                                r.get('status') == o &&
                                r.set({
                                  status: '',
                                  state: '',
                                }),
                                n &&
                                  (0, t.isEmpty)(n.get('status')) &&
                                  n.set('status', o);
                            }),
                            (n.prototype.getShallowWrapper = function () {
                              var e = this.shallow,
                                n = this.em;
                              if (!e && n) {
                                var r = n.shallow;
                                if (!r) return;
                                var o = r.Components;
                                if (
                                  ((o.componentTypes = this.componentTypes),
                                  (e = o.getWrapper()))
                                ) {
                                  var i = [Je, Qe].join(' ');
                                  e.on(
                                    i,
                                    (0, t.debounce)(function () {
                                      return null == e
                                        ? void 0
                                        : e.components('');
                                    }, 100)
                                  );
                                }
                                this.shallow = e;
                              }
                              return e;
                            }),
                            (n.prototype.canMove = function (e, n, r) {
                              var o = r || 0 === r ? r : null,
                                i = {
                                  result: !1,
                                  reason: 0,
                                  target: e,
                                  source: null,
                                };
                              if (!n || !e) return i;
                              var a = n.toHTML ? n : null;
                              if (!a) {
                                var s = this.getShallowWrapper();
                                a =
                                  (null == s ? void 0 : s.append(n)[0]) || null;
                              }
                              if (((i.source = a), !a)) return i;
                              var l = a.get('draggable');
                              if ((0, t.isFunction)(l)) l = !!l(a, e, o);
                              else {
                                var c = e.getEl();
                                (l = (0, t.isArray)(l) ? l.join(',') : l),
                                  (l = (0, t.isString)(l)
                                    ? null == c
                                      ? void 0
                                      : c.matches(l)
                                    : l);
                              }
                              if (!l)
                                return So(So({}, i), {
                                  reason: 1,
                                });
                              var u = e.get('droppable');
                              (0, t.isFunction)(u)
                                ? (u = !!u(a, e, o))
                                : !1 === u &&
                                  e.isInstanceOf('text') &&
                                  a.get('textable')
                                ? (u = !0)
                                : ((c = a.getEl()),
                                  (u = (0, t.isArray)(u) ? u.join(',') : u),
                                  (u = (0, t.isString)(u)
                                    ? null == c
                                      ? void 0
                                      : c.matches(u)
                                    : u));
                              var p = [e].concat(e.parents()).indexOf(a) > -1;
                              return So(
                                So({}, i),
                                !u || p
                                  ? {
                                      reason: 2,
                                    }
                                  : {
                                      result: !0,
                                    }
                              );
                            }),
                            (n.prototype.allById = function () {
                              return this.componentsById;
                            }),
                            (n.prototype.getById = function (t) {
                              return this.componentsById[t] || null;
                            }),
                            (n.prototype.destroy = function () {
                              var t,
                                e = this.allById();
                              Object.keys(e).forEach(function (t) {
                                return e[t] && e[t].remove();
                              }),
                                null === (t = this.componentView) ||
                                  void 0 === t ||
                                  t.remove(),
                                [
                                  this.em,
                                  this.componentsById,
                                  this.componentView,
                                ].forEach(function (t) {
                                  return {};
                                });
                            }),
                            n
                          );
                        })(b);
                      const To = ko,
                        Eo = {
                          stylePrefix: 'css-',
                          rules: [],
                        };
                      var Po =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ao = Number.MAX_VALUE,
                        jo = (function (e) {
                          function r() {
                            var n = e.call(this) || this;
                            return (
                              (0, t.bindAll)(n, 'sortRules'),
                              (n.compCls = []),
                              (n.ids = []),
                              n
                            );
                          }
                          return (
                            Po(r, e),
                            (r.prototype.buildFromModel = function (t, e) {
                              var n = this;
                              void 0 === e && (e = {});
                              var r = '',
                                o = this.em,
                                i = o && o.getConfig().avoidInlineStyle,
                                a = t.styleToString(),
                                s = t.classes;
                              return (
                                this.ids.push('#'.concat(t.getId())),
                                s.forEach(function (t) {
                                  return n.compCls.push(t.getFullName());
                                }),
                                !i &&
                                  a &&
                                  (r = '#'
                                    .concat(t.getId(), '{')
                                    .concat(a, '}')),
                                t.components().forEach(function (t) {
                                  return (r += n.buildFromModel(t, e));
                                }),
                                r
                              );
                            }),
                            (r.prototype.build = function (e, r) {
                              var o = this;
                              void 0 === r && (r = {});
                              var i = r.json,
                                a = r.em,
                                s = r.cssc || (null == a ? void 0 : a.Css);
                              (this.em = a),
                                (this.compCls = []),
                                (this.ids = []),
                                (this.model = e);
                              var l = [],
                                c = e ? this.buildFromModel(e, r) : '',
                                u =
                                  (0, t.isUndefined)(r.clearStyles) && a
                                    ? a.getConfig().clearStyles
                                    : r.clearStyles;
                              if (s) {
                                var p = r.rules || s.getAll(),
                                  d = {},
                                  f = [];
                                r.onlyMatched &&
                                  e &&
                                  (0, n.hasWin)() &&
                                  (p = this.matchedRules(e, p)),
                                  p.forEach(function (t) {
                                    var e = t.getAtRule();
                                    if (e) {
                                      var n = d[e];
                                      n ? n.push(t) : (d[e] = [t]);
                                    } else {
                                      var a = o.buildFromRule(t, f, r);
                                      i ? l.push(a) : (c += a);
                                    }
                                  }),
                                  this.sortMediaObject(d).forEach(function (t) {
                                    var e = '',
                                      n = t.key;
                                    t.value.forEach(function (t) {
                                      var a = o.buildFromRule(t, f, r);
                                      t.get('singleAtRule')
                                        ? (c += ''
                                            .concat(n, '{')
                                            .concat(a, '}'))
                                        : (e += a),
                                        i && l.push(a);
                                    }),
                                      e &&
                                        (c += ''.concat(n, '{').concat(e, '}'));
                                  }),
                                  a && u && p.remove && p.remove(f);
                              }
                              return i
                                ? l.filter(function (t) {
                                    return t;
                                  })
                                : c;
                            }),
                            (r.prototype.buildFromRule = function (t, e, n) {
                              var r,
                                o = this;
                              void 0 === n && (n = {});
                              var i,
                                a = '',
                                s = this.model,
                                l = t.selectorsToString({
                                  skipAdd: 1,
                                }),
                                c = t.get('selectorsAdd'),
                                u = t.get('singleAtRule');
                              if (
                                (null === (r = t.get('selectors')) ||
                                  void 0 === r ||
                                  r.forEach(function (t) {
                                    var e = t.getFullName();
                                    (o.compCls.indexOf(e) >= 0 ||
                                      o.ids.indexOf(e) >= 0 ||
                                      n.keepUnusedStyles) &&
                                      (i = 1);
                                  }),
                                (l && i) || c || u || !s)
                              ) {
                                var p = t.getDeclaration({
                                  body: 1,
                                });
                                p && (n.json ? (a = t) : (a += p));
                              } else e.push(t);
                              return a;
                            }),
                            (r.prototype.matchedRules = function (t, e) {
                              var n = this,
                                r = t.getEl(),
                                o = [];
                              return (
                                e.forEach(function (t) {
                                  try {
                                    t
                                      .selectorsToString()
                                      .split(',')
                                      .some(function (t) {
                                        return null == r
                                          ? void 0
                                          : r.matches(n.__cleanSelector(t));
                                      }) && o.push(t);
                                  } catch (t) {}
                                }),
                                t.components().forEach(function (t) {
                                  o = o.concat(n.matchedRules(t, e));
                                }),
                                (o = o.filter(function (t, e) {
                                  return o.indexOf(t) === e;
                                }))
                              );
                            }),
                            (r.prototype.getQueryLength = function (t) {
                              var e = /(-?\d*\.?\d+)\w{0,}/.exec(t);
                              return e ? parseFloat(e[1]) : Ao;
                            }),
                            (r.prototype.sortMediaObject = function (e) {
                              var n = this;
                              void 0 === e && (e = {});
                              var r = [];
                              return (
                                (0, t.each)(e, function (t, e) {
                                  return r.push({
                                    key: e,
                                    value: t,
                                  });
                                }),
                                r.sort(function (t, e) {
                                  var r = [t.key, e.key].every(function (t) {
                                      return -1 !== t.indexOf('min-width');
                                    }),
                                    o = r ? t.key : e.key,
                                    i = r ? e.key : t.key;
                                  return (
                                    n.getQueryLength(o) - n.getQueryLength(i)
                                  );
                                })
                              );
                            }),
                            (r.prototype.sortRules = function (t, e) {
                              var n = function (t) {
                                  return t.get('mediaText') || '';
                                },
                                r = [n(t), n(e)].every(function (t) {
                                  return -1 !== t.indexOf('min-width');
                                }),
                                o = n(r ? t : e),
                                i = n(r ? e : t);
                              return (
                                this.getQueryLength(o) - this.getQueryLength(i)
                              );
                            }),
                            (r.prototype.__cleanSelector = function (t) {
                              return t
                                .split(' ')
                                .map(function (t) {
                                  return t.split(':')[0];
                                })
                                .join(' ');
                            }),
                            r
                          );
                        })(u.Hn);
                      const Mo = jo;
                      var Lo =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Do =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Do =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Do.apply(this, arguments)
                            );
                          },
                        No =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        Io = ((0, n.hasWin)() ? window : {}).CSS,
                        Fo = (function (e) {
                          function r(t, n) {
                            void 0 === n && (n = {});
                            var r = e.call(this, t) || this;
                            return (
                              (r.config = t || {}),
                              (r.opt = n),
                              (r.em = n.em),
                              r.ensureSelectors(null, null, {}),
                              r.on('change', r.__onChange),
                              r
                            );
                          }
                          return (
                            Lo(r, e),
                            (r.prototype.defaults = function () {
                              return {
                                selectors: [],
                                selectorsAdd: '',
                                style: {},
                                mediaText: '',
                                state: '',
                                stylable: !0,
                                atRuleType: '',
                                singleAtRule: !1,
                                important: !1,
                                group: '',
                                shallow: !1,
                                _undo: !0,
                              };
                            }),
                            (r.prototype.__onChange = function (t, e) {
                              var r = this.em,
                                o = this.changedAttributes();
                              o &&
                                !(0, n.isEmptyObj)(o) &&
                                (null == r || r.changesUp(e));
                            }),
                            (r.prototype.clone = function () {
                              var t = Do({}, this.opt),
                                e = Do({}, this.attributes);
                              return (
                                (e.selectors = this.get('selectors').map(
                                  function (t) {
                                    return t.clone();
                                  }
                                )),
                                new this.constructor(e, t)
                              );
                            }),
                            (r.prototype.ensureSelectors = function (e, n, r) {
                              var o = this.em,
                                i =
                                  null == o ? void 0 : o.get('SelectorManager'),
                                a = [
                                  this,
                                  'change:selectors',
                                  this.ensureSelectors,
                                ],
                                s = this.getSelectors();
                              if (
                                (this.stopListening.apply(this, a),
                                s.models && (s = No([], s.models, !0)),
                                (s = (0, t.isString)(s) ? [s] : s),
                                Array.isArray(s))
                              ) {
                                var l = s
                                  .filter(function (t) {
                                    return t;
                                  })
                                  .map(function (t) {
                                    return i ? i.add(t) : t;
                                  });
                                s = new Fe(l);
                              }
                              this.set('selectors', s, r),
                                this.listenTo.apply(this, a);
                            }),
                            (r.prototype.getAtRule = function () {
                              var t = this.get('atRuleType'),
                                e = this.get('mediaText'),
                                n = t ? '@'.concat(t) : e ? '@media' : '';
                              return n + (e && n ? ' '.concat(e) : '');
                            }),
                            (r.prototype.selectorsToString = function (t) {
                              void 0 === t && (t = {});
                              var e = [],
                                n = this.get('state'),
                                r = this.get('selectorsAdd'),
                                o = {
                                  escape: function (t) {
                                    return Io && Io.escape ? Io.escape(t) : t;
                                  },
                                },
                                i = this.get('selectors').getFullString(0, o),
                                a = n && !t.skipState ? ':'.concat(n) : '';
                              return (
                                i && e.push(''.concat(i).concat(a)),
                                r && !t.skipAdd && e.push(r),
                                e.join(', ')
                              );
                            }),
                            (r.prototype.getDeclaration = function (t) {
                              void 0 === t && (t = {});
                              var e = '',
                                n = this.attributes.important,
                                r = this.selectorsToString(t),
                                o = this.styleToString(
                                  Do(
                                    {
                                      important: n,
                                    },
                                    t
                                  )
                                ),
                                i = this.get('singleAtRule');
                              return (
                                (r || i) &&
                                  (o || t.allowEmpty) &&
                                  (e = i
                                    ? o
                                    : ''.concat(r, '{').concat(o, '}')),
                                e
                              );
                            }),
                            (r.prototype.getDevice = function () {
                              var t = this.em,
                                e = this.attributes,
                                n = e.atRuleType,
                                r = e.mediaText,
                                o =
                                  (null == t
                                    ? void 0
                                    : t.get('DeviceManager').getDevices()) ||
                                  [],
                                i = o.filter(function (t) {
                                  return '' === t.getWidthMedia();
                                })[0];
                              return 'media' === n && r
                                ? o.filter(function (t) {
                                    return (
                                      t.getWidthMedia() ===
                                      ((e = /(-?\d*\.?\d+)\w{0,}/.exec(r))
                                        ? e[0]
                                        : '')
                                    );
                                    var e;
                                  })[0] || null
                                : i || null;
                            }),
                            (r.prototype.getState = function () {
                              var t = this.em,
                                e = this.get('state');
                              return (
                                (
                                  (null == t
                                    ? void 0
                                    : t.get('SelectorManager').getStates()) ||
                                  []
                                ).filter(function (t) {
                                  return t.getName() === e;
                                })[0] || null
                              );
                            }),
                            (r.prototype.getComponent = function () {
                              var t,
                                e = this.getSelectors(),
                                n = 1 == e.length && e.at(0),
                                r = n && n.isId() && n.get('name');
                              return (
                                (r &&
                                  (null === (t = this.em) || void 0 === t
                                    ? void 0
                                    : t.get('DomComponents').getById(r))) ||
                                null
                              );
                            }),
                            (r.prototype.toCSS = function (t) {
                              void 0 === t && (t = {});
                              var e = '',
                                n = this.getAtRule(),
                                r = this.getDeclaration(t);
                              return (
                                (r || t.allowEmpty) && (e = r),
                                n &&
                                  e &&
                                  (e = ''.concat(n, '{').concat(e, '}')),
                                e
                              );
                            }),
                            (r.prototype.toJSON = function () {
                              for (
                                var e, n = [], r = 0;
                                r < arguments.length;
                                r++
                              )
                                n[r] = arguments[r];
                              var o = u.Hn.prototype.toJSON.apply(this, n);
                              if (
                                null === (e = this.em) || void 0 === e
                                  ? void 0
                                  : e.getConfig().avoidDefaults
                              ) {
                                var i = this.defaults();
                                (0, t.forEach)(i, function (t, e) {
                                  o[e] === t && delete o[e];
                                }),
                                  delete o.style.__p,
                                  (0, t.isEmpty)(o.selectors) &&
                                    delete o.selectors,
                                  (0, t.isEmpty)(o.style) && delete o.style;
                              }
                              return o;
                            }),
                            (r.prototype.compare = function (e, n, r, o) {
                              var i;
                              void 0 === o && (o = {});
                              var a = n || '',
                                s = r || '',
                                l = o.selectorsAdd || '',
                                c = o.atRuleType || '';
                              s && !c && (c = 'media');
                              var u = (
                                  (0, t.isArray)(e) || e.models
                                    ? e.models || e
                                    : [e]
                                ).map(function (t) {
                                  return t.getFullName();
                                }),
                                p =
                                  null === (i = this.get('selectors')) ||
                                  void 0 === i
                                    ? void 0
                                    : i.map(function (t) {
                                        return t.getFullName();
                                      }),
                                d = u.slice().sort(),
                                f = p.slice().sort();
                              return (
                                !(
                                  u.length !== p.length ||
                                  !d.every(function (t, e) {
                                    return t === f[e];
                                  })
                                ) &&
                                this.get('state') === a &&
                                this.get('mediaText') === s &&
                                this.get('selectorsAdd') === l &&
                                this.get('atRuleType') === c
                              );
                            }),
                            r
                          );
                        })(_e);
                      const Ro = Fo;
                      var zo =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Vo = (function (t) {
                          function e(e, n) {
                            var r = t.call(this, e) || this;
                            return (
                              (r.editor = null == n ? void 0 : n.em),
                              setTimeout(function () {
                                r.on('remove', r.onRemove),
                                  r.on('add', r.onAdd);
                              }),
                              r
                            );
                          }
                          return (
                            zo(e, t),
                            (e.prototype.toJSON = function (t) {
                              return u.FE.prototype.toJSON
                                .call(this, t)
                                .filter(function (t) {
                                  return t.style && !t.shallow;
                                });
                            }),
                            (e.prototype.onAdd = function (t, e, n) {
                              t.ensureSelectors(t, e, n);
                            }),
                            (e.prototype.onRemove = function (t) {
                              var e = this.editor;
                              e.stopListening(t), e.UndoManager.remove(t);
                            }),
                            (e.prototype.add = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                'string' == typeof t &&
                                  (t = this.editor.get('Parser').parseCss(t)),
                                (e.em = this.editor),
                                u.FE.prototype.add.apply(this, [t, e])
                              );
                            }),
                            e
                          );
                        })(u.FE);
                      const Bo = Vo;
                      Vo.prototype.model = Ro;
                      var Ho =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Uo =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Uo =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Uo.apply(this, arguments)
                            );
                          },
                        Wo =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        $o = (function (e) {
                          function r(t) {
                            var n =
                              e.call(this, t, 'CssComposer', null, {}, Eo) ||
                              this;
                            (n.Selectors = Fe), (n.storageKey = 'styles');
                            var r = n.config,
                              o = r.pStylePrefix;
                            return (
                              o && (r.stylePrefix = o + r.stylePrefix),
                              (r.rules = n.em.config.style || r.rules || ''),
                              (n.rules = new Bo([], r)),
                              n
                            );
                          }
                          return (
                            Ho(r, e),
                            (r.prototype.onLoad = function () {
                              this.rules.add(this.config.rules, {
                                silent: !0,
                              });
                            }),
                            (r.prototype.postLoad = function () {
                              var t,
                                e =
                                  null === (t = this.em) || void 0 === t
                                    ? void 0
                                    : t.get('UndoManager');
                              e && e.add(this.getAll());
                            }),
                            (r.prototype.store = function () {
                              return this.getProjectData();
                            }),
                            (r.prototype.load = function (t) {
                              return this.loadProjectData(t, {
                                all: this.rules,
                              });
                            }),
                            (r.prototype.add = function (t, e, n, r, o) {
                              void 0 === r && (r = {}),
                                void 0 === o && (o = {});
                              var i = e || '',
                                a = n || '',
                                s = Uo({}, r),
                                l = this.get(t, i, a, s);
                              return (
                                (l && l.config && !l.config.singleAtRule) ||
                                  ((s.state = i),
                                  (s.mediaText = a),
                                  (s.selectors = []),
                                  a &&
                                    !s.atRuleType &&
                                    (s.atRuleType = 'media'),
                                  (l = new Ro(s, this.config))
                                    .get('selectors')
                                    .add(t, o),
                                  this.rules.add(l, o)),
                                l
                              );
                            }),
                            (r.prototype.get = function (e, n, r, o) {
                              var i = e;
                              if ((0, t.isString)(e)) {
                                var a = this.em.Selectors,
                                  s = e.split(',')[0].trim(),
                                  l = this.em.Parser.parserCss.checkNode({
                                    selectors: s,
                                  })[0];
                                i = a.get(l.selectors);
                              }
                              return (
                                this.rules.find(function (t) {
                                  return t.compare(i, n, r, o);
                                }) || null
                              );
                            }),
                            (r.prototype.getAll = function () {
                              return this.rules;
                            }),
                            (r.prototype.addCollection = function (e, r, o) {
                              void 0 === r && (r = {}),
                                void 0 === o && (o = {});
                              var i = this.em,
                                a = [];
                              (0, t.isString)(e) && (e = i.Parser.parseCss(e));
                              for (
                                var s = e instanceof Array ? e : [e],
                                  l = 0,
                                  c = s.length;
                                l < c;
                                l++
                              ) {
                                var u = s[l] || {};
                                if (u.selectors) {
                                  var p = null == i ? void 0 : i.Selectors;
                                  p ||
                                    console.warn('Selector Manager not found');
                                  for (
                                    var d = u.selectors,
                                      f = d instanceof Array ? d : [d],
                                      h = [],
                                      g = 0,
                                      v = f.length;
                                    g < v;
                                    g++
                                  ) {
                                    var m = p.add(f[g]);
                                    h.push(m);
                                  }
                                  var y = this.get(h, u.state, u.mediaText, u),
                                    b = this.add(h, u.state, u.mediaText, u, r),
                                    _ = !y || !r.avoidUpdateStyle,
                                    w = u.style || {};
                                  if (((0, n.isObject)(o) && b.set(o, r), _)) {
                                    var x = r.extend
                                      ? Uo(Uo({}, b.get('style')), w)
                                      : w;
                                    b.set('style', x, r);
                                  }
                                  a.push(b);
                                }
                              }
                              return a;
                            }),
                            (r.prototype.addRules = function (t) {
                              return this.addCollection(t);
                            }),
                            (r.prototype.setRule = function (t, e, n) {
                              void 0 === e && (e = {}),
                                void 0 === n && (n = {});
                              var r = n.atRuleType,
                                o = n.atRuleParams,
                                i = this.em.Parser.parserCss.checkNode({
                                  selectors: t,
                                  style: e,
                                })[0],
                                a = i.state,
                                s = i.selectorsAdd,
                                l = this.em.Selectors.add(i.selectors),
                                c = this.add(l, a, o, {
                                  selectorsAdd: s,
                                  atRule: r,
                                });
                              return c.setStyle(e, n), c;
                            }),
                            (r.prototype.getRule = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.em,
                                r = n.Selectors,
                                o = n.Parser.parserCss.checkNode({
                                  selectors: t,
                                })[0],
                                i = r.get(o.selectors),
                                a = o.state,
                                s = o.selectorsAdd,
                                l = e.atRuleType,
                                c = e.atRuleParams;
                              return i
                                ? this.get(i, a, c, {
                                    selectorsAdd: s,
                                    atRuleType: l,
                                  })
                                : void 0;
                            }),
                            (r.prototype.getRules = function (e) {
                              var n = this.getAll();
                              if (!e) return Wo([], n.models, !0);
                              var r = {
                                  sort: !0,
                                },
                                o = (0, t.isString)(e)
                                  ? e.split(',').map(function (t) {
                                      return t.trim();
                                    })
                                  : e;
                              return n.filter(function (t) {
                                return (
                                  o.indexOf(
                                    t.getSelectors().getFullString(null, r)
                                  ) >= 0
                                );
                              });
                            }),
                            (r.prototype.setIdRule = function (e, n, r) {
                              void 0 === n && (n = {}),
                                void 0 === r && (r = {});
                              var o = r.addOpts,
                                i = void 0 === o ? {} : o,
                                a = r.mediaText,
                                s = r.state || '',
                                l = (0, t.isUndefined)(a)
                                  ? this.em.getCurrentMedia()
                                  : a,
                                c = this.em.Selectors.add(
                                  {
                                    name: e,
                                    type: Le.TYPE_ID,
                                  },
                                  i
                                ),
                                u = this.add(c, s, l, {}, i);
                              return u.setStyle(n, Uo(Uo({}, r), i)), u;
                            }),
                            (r.prototype.getIdRule = function (e, n) {
                              void 0 === n && (n = {});
                              var r = n.mediaText,
                                o = n.state || '',
                                i = (0, t.isUndefined)(r)
                                  ? this.em.getCurrentMedia()
                                  : r,
                                a = this.em.Selectors.get(e, Le.TYPE_ID);
                              return a && this.get(a, o, i);
                            }),
                            (r.prototype.setClassRule = function (t, e, n) {
                              void 0 === e && (e = {}),
                                void 0 === n && (n = {});
                              var r = n.state || '',
                                o = n.mediaText || this.em.getCurrentMedia(),
                                i = this.em.Selectors.add({
                                  name: t,
                                  type: Le.TYPE_CLASS,
                                }),
                                a = this.add(i, r, o);
                              return a.setStyle(e, n), a;
                            }),
                            (r.prototype.getClassRule = function (t, e) {
                              void 0 === e && (e = {});
                              var n = e.state || '',
                                r = e.mediaText || this.em.getCurrentMedia(),
                                o = this.em.Selectors.get(t, Le.TYPE_CLASS);
                              return o && this.get(o, n, r);
                            }),
                            (r.prototype.remove = function (e, n) {
                              var r = (0, t.isString)(e) ? this.getRules(e) : e,
                                o = this.getAll().remove(r, n);
                              return (0, t.isArray)(o) ? o : [o];
                            }),
                            (r.prototype.clear = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                this.getAll().reset([], t),
                                this
                              );
                            }),
                            (r.prototype.getComponentRules = function (e, n) {
                              void 0 === n && (n = {});
                              var r = n.state,
                                o = n.mediaText;
                              n.current &&
                                ((r = this.em.get('state') || ''),
                                (o = this.em.getCurrentMedia()));
                              var i = e.getId();
                              return this.getAll().filter(function (e) {
                                return !(
                                  (!(0, t.isUndefined)(r) &&
                                    e.get('state') !== r) ||
                                  (!(0, t.isUndefined)(o) &&
                                    e.get('mediaText') !== o) ||
                                  e.getSelectorsString() !== '#'.concat(i)
                                );
                              });
                            }),
                            (r.prototype.render = function () {
                              var t;
                              return (
                                null === (t = this.rulesView) ||
                                  void 0 === t ||
                                  t.remove(),
                                (this.rulesView = new zt({
                                  collection: this.rules,
                                  config: this.config,
                                })),
                                this.rulesView.render().el
                              );
                            }),
                            (r.prototype.destroy = function () {
                              var t;
                              this.rules.reset(),
                                this.rules.stopListening(),
                                null === (t = this.rulesView) ||
                                  void 0 === t ||
                                  t.remove();
                            }),
                            r
                          );
                        })(b);
                      const Go = $o,
                        qo = {
                          appendTo: '',
                          blocks: [],
                          appendOnClick: !1,
                          custom: !1,
                        };
                      var Ko =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Zo = (function (e) {
                        function n() {
                          return (
                            (null !== e && e.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Ko(n, e),
                          (n.prototype.defaults = function () {
                            return {
                              label: '',
                              content: '',
                              media: '',
                              category: '',
                              activate: !1,
                              select: void 0,
                              resetId: !1,
                              disable: !1,
                              onClick: void 0,
                              attributes: {},
                            };
                          }),
                          (n.prototype.getId = function () {
                            return this.id;
                          }),
                          (n.prototype.getLabel = function () {
                            return this.get('label');
                          }),
                          (n.prototype.getMedia = function () {
                            return this.get('media');
                          }),
                          (n.prototype.getContent = function () {
                            return this.get('content');
                          }),
                          (n.prototype.getCategoryLabel = function () {
                            var e = this.get('category');
                            return (0, t.isFunction)(null == e ? void 0 : e.get)
                              ? e.get('label')
                              : (null == e ? void 0 : e.label)
                              ? null == e
                                ? void 0
                                : e.label
                              : e;
                          }),
                          n
                        );
                      })(u.Hn);
                      var Yo =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Xo = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return Yo(e, t), e;
                        })(u.FE);
                      const Jo = Xo;
                      Xo.prototype.model = Zo;
                      var Qo =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const ti = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Qo(e, t),
                          (e.prototype.defaults = function () {
                            return {
                              id: '',
                              label: '',
                              open: !0,
                              attributes: {},
                            };
                          }),
                          e
                        );
                      })(u.Hn);
                      var ei =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ni = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return ei(e, t), e;
                        })(u.FE);
                      const ri = ni;
                      ni.prototype.model = ti;
                      var oi =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ii = (function (e) {
                          function r(t, n) {
                            void 0 === n && (n = {});
                            var r = e.call(this, t) || this,
                              o = r.model;
                            return (
                              (r.em = n.em),
                              (r.config = n),
                              (r.endDrag = r.endDrag.bind(r)),
                              (r.ppfx = n.pStylePrefix || ''),
                              r.listenTo(o, 'destroy remove', r.remove),
                              r.listenTo(o, 'change', r.render),
                              r
                            );
                          }
                          return (
                            oi(r, e),
                            (r.prototype.events = function () {
                              return {
                                click: 'handleClick',
                                mousedown: 'startDrag',
                                dragstart: 'handleDragStart',
                                drag: 'handleDrag',
                                dragend: 'handleDragEnd',
                              };
                            }),
                            (r.prototype.__getModule = function () {
                              return this.em.Blocks;
                            }),
                            (r.prototype.handleClick = function (e) {
                              var n = this,
                                r = n.config,
                                o = n.model,
                                i = n.em,
                                a = o.get('onClick') || r.appendOnClick;
                              if ((i.trigger('block:click', o, e), a)) {
                                if ((0, t.isFunction)(a))
                                  return a(
                                    o,
                                    null == i ? void 0 : i.getEditor(),
                                    {
                                      event: e,
                                    }
                                  );
                                var s,
                                  l,
                                  c = r.getSorter(),
                                  u = o.get('content'),
                                  p = i.getSelected();
                                if ((c.setDropContent(u), p))
                                  if (c.validTarget(p.getEl(), u).valid) s = p;
                                  else {
                                    var d = p.parent();
                                    d &&
                                      c.validTarget(d.getEl(), u).valid &&
                                      ((s = d),
                                      (l = d.components().indexOf(p) + 1));
                                  }
                                if (!s) {
                                  var f = i.getWrapper();
                                  c.validTarget(f.getEl(), u).valid && (s = f);
                                }
                                var h =
                                  s &&
                                  s.append(u, {
                                    at: l,
                                  })[0];
                                h &&
                                  i.setSelected(h, {
                                    scroll: 1,
                                  });
                              }
                            }),
                            (r.prototype.startDrag = function (t) {
                              var e = this,
                                r = e.config,
                                o = e.em,
                                i = e.model,
                                a = i.get('disable');
                              if (
                                0 === t.button &&
                                r.getSorter &&
                                !this.el.draggable &&
                                !a
                              ) {
                                o.refreshCanvas();
                                var s = r.getSorter();
                                (s.__currentBlock = i),
                                  s.setDragHelper(this.el, t),
                                  s.setDropContent(this.model.get('content')),
                                  s.startSort(this.el),
                                  (0, n.on)(document, 'mouseup', this.endDrag);
                              }
                            }),
                            (r.prototype.handleDragStart = function (t) {
                              this.__getModule().__startDrag(this.model, t);
                            }),
                            (r.prototype.handleDrag = function (t) {
                              this.__getModule().__drag(t);
                            }),
                            (r.prototype.handleDragEnd = function () {
                              this.__getModule().__endDrag();
                            }),
                            (r.prototype.endDrag = function () {
                              (0, n.off)(document, 'mouseup', this.endDrag);
                              var t = this.config.getSorter();
                              (t.moved = 0), t.endMove();
                            }),
                            (r.prototype.render = function () {
                              var t,
                                e = this,
                                r = e.em,
                                o = e.el,
                                i = e.$el,
                                a = e.ppfx,
                                s = e.model,
                                l = s.get('disable'),
                                c = s.get('attributes') || {},
                                u = c.class || '',
                                p = ''.concat(a, 'block'),
                                d =
                                  (r &&
                                    r.t('blockManager.labels.'.concat(s.id))) ||
                                  s.get('label'),
                                f = s.get('render'),
                                h = s.get('media'),
                                g = l
                                  ? ''.concat(p, '--disable')
                                  : ''.concat(a, 'four-color-h');
                              i.attr(c),
                                (o.className = ''
                                  .concat(u, ' ')
                                  .concat(p, ' ')
                                  .concat(a, 'one-bg ')
                                  .concat(g)
                                  .trim()),
                                (o.innerHTML = '\n      '
                                  .concat(
                                    h
                                      ? '<div class="'
                                          .concat(p, '__media">')
                                          .concat(h, '</div>')
                                      : '',
                                    '\n      <div class="'
                                  )
                                  .concat(p, '-label">')
                                  .concat(d, '</div>\n    ')),
                                (o.title =
                                  c.title ||
                                  (null === (t = o.textContent) || void 0 === t
                                    ? void 0
                                    : t.trim())),
                                o.setAttribute(
                                  'draggable',
                                  ''.concat(!(!(0, n.hasDnd)(r) || l))
                                );
                              var v =
                                f &&
                                f({
                                  el: o,
                                  model: s,
                                  className: p,
                                  prefix: a,
                                });
                              return v && (o.innerHTML = v), this;
                            }),
                            r
                          );
                        })(u.G7);
                      const ai = ii;
                      var si =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        li =
                          (void 0 && (void 0).__makeTemplateObject) ||
                          function (t, e) {
                            return (
                              Object.defineProperty
                                ? Object.defineProperty(t, 'raw', {
                                    value: e,
                                  })
                                : (t.raw = e),
                              t
                            );
                          },
                        ci = (function (t) {
                          function e(e, n) {
                            var r = t.call(this, e) || this;
                            r.config = n;
                            var o = n.pStylePrefix || '';
                            return (
                              (r.em = n.em),
                              (r.pfx = o),
                              (r.caretR = 'fa fa-caret-right'),
                              (r.caretD = 'fa fa-caret-down'),
                              (r.iconClass = ''.concat(o, 'caret-icon')),
                              (r.activeClass = ''.concat(o, 'open')),
                              (r.className = ''.concat(o, 'block-category')),
                              r.listenTo(
                                r.model,
                                'change:open',
                                r.updateVisibility
                              ),
                              (r.model.view = r),
                              r
                            );
                          }
                          return (
                            si(e, t),
                            (e.prototype.events = function () {
                              return {
                                'click [data-title]': 'toggle',
                              };
                            }),
                            (e.prototype.template = function (t) {
                              var e = t.pfx,
                                n = t.label;
                              return i(
                                pi ||
                                  (pi = li(
                                    [
                                      '\n      <div class="',
                                      'title" data-title>\n        <i class="',
                                      'caret-icon"></i>\n        ',
                                      '\n      </div>\n      <div class="',
                                      'blocks-c"></div>\n    ',
                                    ],
                                    [
                                      '\n      <div class="',
                                      'title" data-title>\n        <i class="',
                                      'caret-icon"></i>\n        ',
                                      '\n      </div>\n      <div class="',
                                      'blocks-c"></div>\n    ',
                                    ]
                                  )),
                                e,
                                e,
                                n,
                                e
                              );
                            }),
                            (e.prototype.attributes = function () {
                              return this.model.get('attributes') || {};
                            }),
                            (e.prototype.updateVisibility = function () {
                              this.model.get('open')
                                ? this.open()
                                : this.close();
                            }),
                            (e.prototype.open = function () {
                              this.$el.addClass(this.activeClass),
                                (this.getIconEl().className = ''
                                  .concat(this.iconClass, ' ')
                                  .concat(this.caretD)),
                                (this.getBlocksEl().style.display = '');
                            }),
                            (e.prototype.close = function () {
                              this.$el.removeClass(this.activeClass),
                                (this.getIconEl().className = ''
                                  .concat(this.iconClass, ' ')
                                  .concat(this.caretR)),
                                (this.getBlocksEl().style.display = 'none');
                            }),
                            (e.prototype.toggle = function () {
                              var t = this.model;
                              t.set('open', !t.get('open'));
                            }),
                            (e.prototype.getIconEl = function () {
                              return (
                                this.iconEl ||
                                  (this.iconEl = this.el.querySelector(
                                    '.'.concat(this.iconClass)
                                  )),
                                this.iconEl
                              );
                            }),
                            (e.prototype.getBlocksEl = function () {
                              return (
                                this.blocksEl ||
                                  (this.blocksEl = this.el.querySelector(
                                    '.'.concat(this.pfx, 'blocks-c')
                                  )),
                                this.blocksEl
                              );
                            }),
                            (e.prototype.append = function (t) {
                              this.getBlocksEl().appendChild(t);
                            }),
                            (e.prototype.render = function () {
                              var t = this,
                                e = t.em,
                                n = t.el,
                                r = t.$el,
                                o = t.model,
                                i = t.pfx,
                                a =
                                  e.t(
                                    'blockManager.categories.'.concat(o.id)
                                  ) || o.get('label');
                              return (
                                (n.innerHTML = this.template({
                                  pfx: i,
                                  label: a,
                                })),
                                r.addClass(this.className),
                                r.css({
                                  order: o.get('order'),
                                }),
                                this.updateVisibility(),
                                this
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const ui = ci;
                      var pi,
                        di =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        fi =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (fi =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              fi.apply(this, arguments)
                            );
                          },
                        hi = (function (e) {
                          function n(n, r) {
                            var o = e.call(this, n) || this;
                            (0, t.bindAll)(
                              o,
                              'getSorter',
                              'onDrag',
                              'onDrop',
                              'onMove'
                            ),
                              (o.config = r || {}),
                              (o.categories = n.categories || ''),
                              (o.renderedCategories = {});
                            var i = o.config.pStylePrefix || '';
                            (o.ppfx = i),
                              (o.noCatClass = ''.concat(i, 'blocks-no-cat')),
                              (o.blockContClass = ''.concat(i, 'blocks-c')),
                              (o.catsClass = ''.concat(i, 'block-categories'));
                            var a = o.collection;
                            return (
                              o.listenTo(a, 'add', o.addTo),
                              o.listenTo(a, 'reset', o.render),
                              (o.em = o.config.em),
                              o.em && (o.config.getSorter = o.getSorter),
                              o
                            );
                          }
                          return (
                            di(n, e),
                            (n.prototype.__getModule = function () {
                              return this.em.Blocks;
                            }),
                            (n.prototype.updateConfig = function (t) {
                              void 0 === t && (t = {}),
                                (this.config = fi(fi({}, this.config), t));
                            }),
                            (n.prototype.getSorter = function () {
                              var t = this.em;
                              if (t) {
                                if (!this.sorter) {
                                  var e = t.Utils,
                                    n = t.Canvas;
                                  this.sorter = new e.Sorter({
                                    container: n.getBody(),
                                    placer: n.getPlacerEl(),
                                    containerSel: '*',
                                    itemSel: '*',
                                    pfx: this.ppfx,
                                    onStart: this.onDrag,
                                    onEndMove: this.onDrop,
                                    onMove: this.onMove,
                                    document: n.getFrameEl().contentDocument,
                                    direction: 'a',
                                    wmargin: 1,
                                    nested: 1,
                                    em: t,
                                    canvasRelative: 1,
                                  });
                                }
                                return this.sorter;
                              }
                            }),
                            (n.prototype.onDrag = function (t) {
                              this.em.stopDefault(),
                                this.__getModule().__startDrag(
                                  this.sorter.__currentBlock,
                                  t
                                );
                            }),
                            (n.prototype.onMove = function (t) {
                              this.__getModule().__drag(t),
                                this.em.trigger('block:drag:move', t);
                            }),
                            (n.prototype.onDrop = function (t) {
                              this.em.runDefault(),
                                this.__getModule().__endDrag({
                                  component: t,
                                }),
                                delete this.sorter.__currentBlock;
                            }),
                            (n.prototype.addTo = function (t) {
                              this.add(t);
                            }),
                            (n.prototype.add = function (e, n) {
                              var r = this.config,
                                o = new ai(
                                  {
                                    model: e,
                                    attributes: e.get('attributes'),
                                  },
                                  r
                                ).render().el,
                                i = e.get('category');
                              if (i && this.categories && !r.ignoreCategories) {
                                (0, t.isString)(i)
                                  ? (i = {
                                      id: i,
                                      label: i,
                                    })
                                  : (0, t.isObject)(i) &&
                                    !i.id &&
                                    (i.id = i.label);
                                var a = this.categories.add(i),
                                  s = a.get('id'),
                                  l = this.getCategoriesEl(),
                                  c = this.renderedCategories[s];
                                return (
                                  e.set('category', a, {
                                    silent: !0,
                                  }),
                                  !c &&
                                    l &&
                                    ((c = new ui(
                                      {
                                        model: a,
                                      },
                                      r
                                    ).render()),
                                    (this.renderedCategories[s] = c),
                                    l.appendChild(c.el)),
                                  void (c && c.append(o))
                                );
                              }
                              n ? n.appendChild(o) : this.append(o);
                            }),
                            (n.prototype.getCategoriesEl = function () {
                              return (
                                this.catsEl ||
                                  (this.catsEl = this.el.querySelector(
                                    '.'.concat(this.catsClass)
                                  )),
                                this.catsEl
                              );
                            }),
                            (n.prototype.getBlocksEl = function () {
                              return (
                                this.blocksEl ||
                                  (this.blocksEl = this.el.querySelector(
                                    '.'
                                      .concat(this.noCatClass, ' .')
                                      .concat(this.blockContClass)
                                  )),
                                this.blocksEl
                              );
                            }),
                            (n.prototype.append = function (t) {
                              var e = this.getBlocksEl();
                              e && e.appendChild(t);
                            }),
                            (n.prototype.render = function () {
                              var t = this,
                                e = this.ppfx,
                                n = document.createDocumentFragment();
                              delete this.catsEl,
                                delete this.blocksEl,
                                (this.renderedCategories = {}),
                                (this.el.innerHTML = '\n      <div class="'
                                  .concat(
                                    this.catsClass,
                                    '"></div>\n      <div class="'
                                  )
                                  .concat(
                                    this.noCatClass,
                                    '">\n        <div class="'
                                  )
                                  .concat(
                                    this.blockContClass,
                                    '"></div>\n      </div>\n    '
                                  )),
                                this.collection.each(function (e) {
                                  return t.add(e, n);
                                }),
                                this.append(n);
                              var r = ''
                                .concat(this.blockContClass, 's ')
                                .concat(e, 'one-bg ')
                                .concat(e, 'two-color');
                              return (
                                this.$el.addClass(r), (this.rendered = !0), this
                              );
                            }),
                            n
                          );
                        })(u.G7);
                      const gi = hi;
                      var vi =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        mi =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (mi =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              mi.apply(this, arguments)
                            );
                          },
                        yi = 'block',
                        bi = ''.concat(yi, ':'),
                        _i = ''.concat(bi, 'add'),
                        wi = ''.concat(bi, 'update'),
                        xi = ''.concat(bi, 'remove'),
                        Ci = ''.concat(xi, ':before'),
                        Si = ''.concat(bi, 'drag'),
                        Oi = {
                          all: yi,
                          update: wi,
                          add: _i,
                          remove: xi,
                          removeBefore: Ci,
                          drag: Si,
                          dragStart: ''.concat(Si, ':start'),
                          dragEnd: ''.concat(Si, ':stop'),
                          custom: ''.concat(bi, 'custom'),
                        },
                        ki = (function (e) {
                          function n(t) {
                            var n,
                              r = this;
                            return (
                              ((r =
                                e.call(
                                  this,
                                  t,
                                  'BlockManager',
                                  new Jo(
                                    (null === (n = t.config.blockManager) ||
                                    void 0 === n
                                      ? void 0
                                      : n.blocks) || []
                                  ),
                                  Oi,
                                  qo
                                ) || this).Block = Zo),
                              (r.Blocks = Jo),
                              (r.Category = ti),
                              (r.Categories = ri),
                              (r.storageKey = ''),
                              (r.blocks = r.all),
                              (r.blocksVisible = new Jo(r.blocks.models)),
                              (r.categories = new ri()),
                              r.blocks.on('add', function (t) {
                                return r.blocksVisible.add(t);
                              }),
                              r.blocks.on('remove', function (t) {
                                return r.blocksVisible.remove(t);
                              }),
                              r.blocks.on('reset', function (t) {
                                return r.blocksVisible.reset(t.models);
                              }),
                              r
                            );
                          }
                          return (
                            vi(n, e),
                            (n.prototype.__trgCustom = function () {
                              this.em.trigger(
                                this.events.custom,
                                this.__customData()
                              );
                            }),
                            (n.prototype.__customData = function () {
                              var t = this,
                                e = this.__getBehaviour();
                              return {
                                bm: this,
                                blocks: this.getAll().models,
                                container: e.container,
                                dragStart: function (e, n) {
                                  return t.startDrag(e, n);
                                },
                                drag: function (e) {
                                  return t.__drag(e);
                                },
                                dragStop: function (e) {
                                  return t.endDrag(e);
                                },
                              };
                            }),
                            (n.prototype.__startDrag = function (t, e) {
                              var n = this,
                                r = n.em,
                                o = n.events,
                                i = n.blocks,
                                a = t.getContent ? t.getContent() : t;
                              (this._dragBlock = t),
                                r.set({
                                  dragResult: null,
                                  dragContent: a,
                                }),
                                [r, i].map(function (n) {
                                  return n.trigger(o.dragStart, t, e);
                                });
                            }),
                            (n.prototype.__drag = function (t) {
                              var e = this,
                                n = e.em,
                                r = e.events,
                                o = e.blocks,
                                i = this._dragBlock;
                              [n, o].map(function (e) {
                                return e.trigger(r.drag, i, t);
                              });
                            }),
                            (n.prototype.__endDrag = function (e) {
                              void 0 === e && (e = {});
                              var n = this,
                                r = n.em,
                                o = n.events,
                                i = n.blocks,
                                a = this._dragBlock,
                                s = e.component || r.get('dragResult');
                              if ((delete this._dragBlock, s && a)) {
                                var l = 'activeOnRender',
                                  c = s.get && s.get(l),
                                  u = a.get('activate') || c,
                                  p = a.get('select'),
                                  d = (0, t.isArray)(s) ? s[0] : s;
                                (p || (u && !1 !== p)) && r.setSelected(d),
                                  u && (d.trigger('active'), c && d.unset(l)),
                                  a.get('resetId') &&
                                    d.onAll(function (t) {
                                      return t.resetId();
                                    });
                              }
                              r.set({
                                dragResult: null,
                                dragContent: null,
                              }),
                                a &&
                                  [r, i].map(function (t) {
                                    return t.trigger(o.dragEnd, s, a);
                                  });
                            }),
                            (n.prototype.__getFrameViews = function () {
                              return this.em
                                .get('Canvas')
                                .getFrames()
                                .map(function (t) {
                                  return t.view;
                                });
                            }),
                            (n.prototype.__behaviour = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                (this._bhv = mi(mi({}, this._bhv || {}), t))
                              );
                            }),
                            (n.prototype.__getBehaviour = function () {
                              return this._bhv || {};
                            }),
                            (n.prototype.startDrag = function (t, e) {
                              this.__startDrag(t, e),
                                this.__getFrameViews().forEach(function (t) {
                                  return t.droppable.startCustom();
                                });
                            }),
                            (n.prototype.endDrag = function (t) {
                              this.__getFrameViews().forEach(function (e) {
                                return e.droppable.endCustom(t);
                              }),
                                this.__endDrag();
                            }),
                            (n.prototype.postRender = function () {
                              var t = this,
                                e = t.categories,
                                n = t.config,
                                r = t.em,
                                o = this.blocksVisible;
                              (this.blocksView = new gi(
                                {
                                  collection: o,
                                  categories: e,
                                },
                                mi(mi({}, n), {
                                  em: r,
                                })
                              )),
                                this.__appendTo(o.models),
                                this.__trgCustom();
                            }),
                            (n.prototype.add = function (t, e, n) {
                              void 0 === n && (n = {});
                              var r = e || {};
                              return (r.id = t), this.blocks.add(r, n);
                            }),
                            (n.prototype.get = function (t) {
                              return this.blocks.get(t);
                            }),
                            (n.prototype.getAll = function () {
                              return this.blocks;
                            }),
                            (n.prototype.getAllVisible = function () {
                              return this.blocksVisible;
                            }),
                            (n.prototype.remove = function (t, e) {
                              return (
                                void 0 === e && (e = {}), this.__remove(t, e)
                              );
                            }),
                            (n.prototype.getCategories = function () {
                              return this.categories;
                            }),
                            (n.prototype.getContainer = function () {
                              var t;
                              return null === (t = this.blocksView) ||
                                void 0 === t
                                ? void 0
                                : t.el;
                            }),
                            (n.prototype.render = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this,
                                r = n.categories,
                                o = n.config,
                                i = n.em,
                                a = t || this.getAll().models;
                              if (e.external) {
                                var s = new Jo(a);
                                return new gi(
                                  {
                                    collection: s,
                                    categories: r,
                                  },
                                  mi(
                                    mi(
                                      {
                                        em: i,
                                      },
                                      o
                                    ),
                                    e
                                  )
                                ).render().el;
                              }
                              return (
                                this.blocksView &&
                                  (this.blocksView.updateConfig(e),
                                  this.blocksView.collection.reset(a),
                                  this.blocksView.rendered ||
                                    (this.blocksView.render(),
                                    (this.blocksView.rendered = !0))),
                                this.getContainer()
                              );
                            }),
                            (n.prototype.destroy = function () {
                              var t,
                                e = [
                                  this.blocks,
                                  this.blocksVisible,
                                  this.categories,
                                ];
                              e.map(function (t) {
                                return t.stopListening();
                              }),
                                e.map(function (t) {
                                  return t.reset();
                                }),
                                null === (t = this.blocksView) ||
                                  void 0 === t ||
                                  t.remove();
                            }),
                            n
                          );
                        })(b);
                      const Ti = ki,
                        Ei = {
                          stylePrefix: 'clm-',
                          appendTo: '',
                          selectors: [],
                          states: [
                            {
                              name: 'hover',
                            },
                            {
                              name: 'active',
                            },
                            {
                              name: 'nth-of-type(2n)',
                            },
                          ],
                          iconAdd:
                            '<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',
                          iconSync:
                            '<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',
                          iconTagOn:
                            '<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',
                          iconTagOff:
                            '<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',
                          iconTagRemove:
                            '<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',
                          componentFirst: !1,
                          custom: !1,
                        };
                      var Pi =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ai = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Pi(e, t),
                            (e.prototype.defaults = function () {
                              return {
                                name: '',
                                label: '',
                              };
                            }),
                            (e.prototype.getName = function () {
                              return this.get('name');
                            }),
                            (e.prototype.getLabel = function () {
                              return this.get('label') || this.getName();
                            }),
                            e
                          );
                        })(u.Hn);
                      const ji = Ai;
                      Ai.prototype.idAttribute = 'name';
                      var Mi =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Li =
                          (void 0 && (void 0).__makeTemplateObject) ||
                          function (t, e) {
                            return (
                              Object.defineProperty
                                ? Object.defineProperty(t, 'raw', {
                                    value: e,
                                  })
                                : (t.raw = e),
                              t
                            );
                          },
                        Di = 'contentEditable',
                        Ni = (function (t) {
                          function e(e) {
                            void 0 === e && (e = {});
                            var n = t.call(this, e) || this,
                              r = e.config || {};
                            return (
                              (n.config = r),
                              (n.module = e.module),
                              (n.coll = e.coll || null),
                              (n.pfx = r.stylePrefix || ''),
                              (n.ppfx = r.pStylePrefix || ''),
                              (n.em = r.em),
                              n.listenTo(
                                n.model,
                                'change:active',
                                n.updateStatus
                              ),
                              n
                            );
                          }
                          return (
                            Mi(e, t),
                            (e.prototype.template = function () {
                              var t = this,
                                e = t.pfx,
                                n = t.model,
                                r = t.config,
                                o = n.get('label') || '';
                              return i(
                                Fi ||
                                  (Fi = Li(
                                    [
                                      '\n      <span id="',
                                      'checkbox" class="',
                                      'tag-status" data-tag-status></span>\n      <span id="',
                                      'tag-label" data-tag-name>',
                                      '</span>\n      <span id="',
                                      'close" class="',
                                      'tag-close" data-tag-remove> $',
                                      ' </span>\n    ',
                                    ],
                                    [
                                      '\n      <span id="',
                                      'checkbox" class="',
                                      'tag-status" data-tag-status></span>\n      <span id="',
                                      'tag-label" data-tag-name>',
                                      '</span>\n      <span id="',
                                      'close" class="',
                                      'tag-close" data-tag-remove> $',
                                      ' </span>\n    ',
                                    ]
                                  )),
                                e,
                                e,
                                e,
                                o,
                                e,
                                e,
                                r.iconTagRemove
                              );
                            }),
                            (e.prototype.events = function () {
                              return {
                                'click [data-tag-remove]': 'removeTag',
                                'click [data-tag-status]': 'changeStatus',
                                'dblclick [data-tag-name]': 'startEditTag',
                                'focusout [data-tag-name]': 'endEditTag',
                              };
                            }),
                            (e.prototype.getInputEl = function () {
                              return (
                                this.inputEl ||
                                  (this.inputEl =
                                    this.el.querySelector('[data-tag-name]')),
                                this.inputEl
                              );
                            }),
                            (e.prototype.startEditTag = function () {
                              var t = this.em,
                                e = this.getInputEl();
                              (e[Di] = 'true'),
                                e.focus(),
                                null == t || t.setEditing(!0);
                            }),
                            (e.prototype.endEditTag = function () {
                              var t = this.model,
                                e = this.getInputEl(),
                                n = e.textContent || '',
                                r = this.em,
                                o = null == r ? void 0 : r.Selectors;
                              if (
                                ((e[Di] = 'false'),
                                null == r || r.setEditing(!1),
                                o)
                              ) {
                                var i = o.escapeName(n);
                                o.get(i)
                                  ? (e.innerText = t.get('label'))
                                  : t.set({
                                      name: i,
                                      label: n,
                                    });
                              }
                            }),
                            (e.prototype.changeStatus = function () {
                              var t = this.model;
                              t.set('active', !t.get('active'));
                            }),
                            (e.prototype.removeTag = function () {
                              this.module.removeSelected(this.model);
                            }),
                            (e.prototype.updateStatus = function () {
                              var t = this,
                                e = t.model,
                                n = t.$el,
                                r = t.config,
                                o = r.iconTagOn,
                                i = r.iconTagOff,
                                a = n.find('[data-tag-status]');
                              e.get('active')
                                ? (a.html(o), n.removeClass('opac50'))
                                : (a.html(i), n.addClass('opac50'));
                            }),
                            (e.prototype.render = function () {
                              var t = this.pfx,
                                e = this.ppfx;
                              return (
                                this.$el.html(this.template()),
                                this.$el.attr(
                                  'class',
                                  ''.concat(t, 'tag ').concat(e, 'three-bg')
                                ),
                                this.updateStatus(),
                                this
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const Ii = Ni;
                      var Fi,
                        Ri =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        zi =
                          (void 0 && (void 0).__makeTemplateObject) ||
                          function (t, e) {
                            return (
                              Object.defineProperty
                                ? Object.defineProperty(t, 'raw', {
                                    value: e,
                                  })
                                : (t.raw = e),
                              t
                            );
                          },
                        Vi = (function (e) {
                          function n(n) {
                            void 0 === n && (n = {});
                            var r = e.call(this, n) || this;
                            (r.config = n.config || {}),
                              (r.pfx = r.config.stylePrefix || ''),
                              (r.ppfx = r.config.pStylePrefix || ''),
                              (r.className = r.pfx + 'tags'),
                              (r.stateInputId = r.pfx + 'states'),
                              (r.stateInputC = r.pfx + 'input-c'),
                              (r.states = r.config.states || []);
                            var o = r.config.em,
                              i = r.collection;
                            r.target = o;
                            var a = o.Selectors;
                            return (
                              (r.module = a),
                              (r.em = o),
                              (r.componentChanged = (0, t.debounce)(
                                r.componentChanged.bind(r),
                                0
                              )),
                              (r.checkSync = (0, t.debounce)(
                                r.checkSync.bind(r),
                                0
                              )),
                              r.listenTo(
                                o,
                                'component:toggled component:update:classes',
                                r.componentChanged
                              ),
                              r.listenTo(
                                o,
                                'styleManager:update',
                                r.componentChanged
                              ),
                              r.listenTo(
                                o,
                                'component:update:classes change:state',
                                r.__handleStateChange
                              ),
                              r.listenTo(
                                o,
                                'styleable:change change:device',
                                r.checkSync
                              ),
                              r.listenTo(i, 'add', r.addNew),
                              r.listenTo(i, 'reset', r.renderClasses),
                              r.listenTo(i, 'remove', r.tagRemoved),
                              r.listenTo(
                                a.getAll(),
                                a.events.state,
                                (0, t.debounce)(function () {
                                  return r.renderStates();
                                }, 0)
                              ),
                              r.delegateEvents(),
                              r
                            );
                          }
                          return (
                            Ri(n, e),
                            (n.prototype.template = function (t) {
                              var e = t.labelInfo,
                                n = t.labelHead,
                                r = t.iconSync,
                                o = t.iconAdd,
                                a = t.pfx,
                                s = t.ppfx;
                              return i(
                                Hi ||
                                  (Hi = zi(
                                    [
                                      ' <div id="',
                                      'up" class="',
                                      'header">\n        <div id="',
                                      'label" class="',
                                      'header-label">',
                                      '</div>\n        <div id="',
                                      'status-c" class="',
                                      'header-status">\n          <span id="',
                                      'input-c" data-states-c>\n            <div class="',
                                      'field ',
                                      'select">\n              <span id="',
                                      'input-holder">\n                <select id="',
                                      'states" data-states></select>\n              </span>\n              <div class="',
                                      'sel-arrow">\n                <div class="',
                                      'd-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="',
                                      'tags-field" class="',
                                      'field">\n        <div id="',
                                      'tags-c" data-selectors></div>\n        <input id="',
                                      'new" data-input />\n        <span id="',
                                      'add-tag" class="',
                                      'tags-btn ',
                                      'tags-btn__add" data-add> $',
                                      ' </span>\n        <span class="',
                                      'tags-btn ',
                                      'tags-btn__sync" style="display: none" data-sync-style> $',
                                      ' </span>\n      </div>\n      <div class="',
                                      'sels-info">\n        <div class="',
                                      'label-sel">',
                                      ':</div>\n        <div class="',
                                      'sels" data-selected></div>\n      </div>',
                                    ],
                                    [
                                      ' <div id="',
                                      'up" class="',
                                      'header">\n        <div id="',
                                      'label" class="',
                                      'header-label">',
                                      '</div>\n        <div id="',
                                      'status-c" class="',
                                      'header-status">\n          <span id="',
                                      'input-c" data-states-c>\n            <div class="',
                                      'field ',
                                      'select">\n              <span id="',
                                      'input-holder">\n                <select id="',
                                      'states" data-states></select>\n              </span>\n              <div class="',
                                      'sel-arrow">\n                <div class="',
                                      'd-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="',
                                      'tags-field" class="',
                                      'field">\n        <div id="',
                                      'tags-c" data-selectors></div>\n        <input id="',
                                      'new" data-input />\n        <span id="',
                                      'add-tag" class="',
                                      'tags-btn ',
                                      'tags-btn__add" data-add> $',
                                      ' </span>\n        <span class="',
                                      'tags-btn ',
                                      'tags-btn__sync" style="display: none" data-sync-style> $',
                                      ' </span>\n      </div>\n      <div class="',
                                      'sels-info">\n        <div class="',
                                      'label-sel">',
                                      ':</div>\n        <div class="',
                                      'sels" data-selected></div>\n      </div>',
                                    ]
                                  )),
                                a,
                                a,
                                a,
                                a,
                                n,
                                a,
                                a,
                                a,
                                s,
                                s,
                                s,
                                a,
                                s,
                                s,
                                a,
                                s,
                                a,
                                a,
                                a,
                                a,
                                a,
                                o,
                                a,
                                a,
                                r,
                                a,
                                a,
                                e,
                                a
                              );
                            }),
                            (n.prototype.events = function () {
                              return {
                                'change [data-states]': 'stateChanged',
                                'click [data-add]': 'startNewTag',
                                'focusout [data-input]': 'endNewTag',
                                'keyup [data-input]': 'onInputKeyUp',
                                'click [data-sync-style]': 'syncStyle',
                              };
                            }),
                            (n.prototype.syncStyle = function () {
                              var t,
                                e = this.em,
                                n = this.getTarget(),
                                r = e.Css,
                                o = this.getCommonSelectors({
                                  opts: {
                                    noDisabled: 1,
                                  },
                                }),
                                i = e.get('state'),
                                a = e.getCurrentMedia(),
                                s = [],
                                l = r.get(o, i, a) || r.add(o, i, a);
                              this.getTargets().forEach(function (e) {
                                var n = r.getIdRule(e.getId(), {
                                  state: i,
                                  mediaText: a,
                                });
                                (t = n.getStyle()), n.setStyle({}), s.push(n);
                              }),
                                t && l.addStyle(t),
                                e.trigger('component:toggled'),
                                e.trigger('component:sync-style', {
                                  component: n,
                                  selectors: o,
                                  mediaText: a,
                                  rule: l,
                                  ruleComponents: s,
                                  state: i,
                                });
                            }),
                            (n.prototype.tagRemoved = function (t) {
                              this.updateStateVis();
                            }),
                            (n.prototype.addNew = function (t) {
                              this.addToClasses(t);
                            }),
                            (n.prototype.startNewTag = function () {
                              var t, e;
                              null === (t = this.$addBtn) ||
                                void 0 === t ||
                                t.css({
                                  display: 'none',
                                }),
                                null === (e = this.$input) ||
                                  void 0 === e ||
                                  e.show().focus();
                            }),
                            (n.prototype.endNewTag = function () {
                              var t, e;
                              null === (t = this.$addBtn) ||
                                void 0 === t ||
                                t.css({
                                  display: '',
                                }),
                                null === (e = this.$input) ||
                                  void 0 === e ||
                                  e.hide().val('');
                            }),
                            (n.prototype.onInputKeyUp = function (t) {
                              var e;
                              13 === t.keyCode
                                ? (t.preventDefault(),
                                  this.addNewTag(
                                    null === (e = this.$input) || void 0 === e
                                      ? void 0
                                      : e.val()
                                  ))
                                : 27 === t.keyCode && this.endNewTag();
                            }),
                            (n.prototype.checkStates = function () {
                              var t = this.em.getState(),
                                e = this.getStates();
                              e && e.val(t);
                            }),
                            (n.prototype.componentChanged = function (t) {
                              var e = (void 0 === t ? {} : t).targets;
                              this.updateSelection(e);
                            }),
                            (n.prototype.updateSelection = function (e) {
                              var n = e || this.getTargets(),
                                r = [];
                              return (
                                (n = (0, t.isArray)(n) ? n : [n]) &&
                                  n.length &&
                                  ((r = this.getCommonSelectors({
                                    targets: n,
                                  })),
                                  this.checkSync({
                                    validSelectors: r,
                                  })),
                                this.collection.reset(r),
                                this.updateStateVis(n),
                                this.module.__trgCustom(),
                                r
                              );
                            }),
                            (n.prototype.getCommonSelectors = function (t) {
                              var e = void 0 === t ? {} : t,
                                n = e.targets,
                                r = e.opts,
                                o = void 0 === r ? {} : r,
                                i = n || this.getTargets();
                              return this.module.__getCommonSelectors(i, o);
                            }),
                            (n.prototype._commonSelectors = function () {
                              for (
                                var t, e = [], n = 0;
                                n < arguments.length;
                                n++
                              )
                                e[n] = arguments[n];
                              return (t = this.module).__common.apply(t, e);
                            }),
                            (n.prototype.checkSync = function () {
                              var e,
                                n = this,
                                r = n.$btnSyncEl,
                                o = n.config,
                                i = n.collection,
                                a = this.getTarget();
                              if (a && o.componentFirst && i.length) {
                                var s = a.getStyle();
                                e = !(0, t.isEmpty)(s);
                              }
                              r && r[e ? 'show' : 'hide']();
                            }),
                            (n.prototype.getTarget = function () {
                              return this.target.getSelected();
                            }),
                            (n.prototype.getTargets = function () {
                              return this.target.getSelectedAll();
                            }),
                            (n.prototype.updateStateVis = function (t) {
                              var e = this.em,
                                n = e && e.getConfig().avoidInlineStyle,
                                r = this.collection.length || n ? '' : 'none';
                              this.getStatesC().css('display', r),
                                this.updateSelector(t);
                            }),
                            (n.prototype.__handleStateChange = function () {
                              this.updateSelector(this.getTargets());
                            }),
                            (n.prototype.updateSelector = function (e) {
                              var n = this,
                                r = this.el.querySelector('[data-selected]'),
                                o = [],
                                i = e || this.getTargets();
                              (i = (0, t.isArray)(i) ? i : [i]).forEach(
                                function (t) {
                                  return o.push(n.__getName(t));
                                }
                              ),
                                r && (r.innerHTML = o.join(', ')),
                                this.checkStates();
                            }),
                            (n.prototype.__getName = function (e) {
                              var n,
                                r = this,
                                o = r.pfx,
                                a = r.config,
                                s = r.em,
                                l = a.selectedName,
                                c = a.componentFirst;
                              if ((0, t.isString)(e))
                                n = i(
                                  Ui ||
                                    (Ui = zi(
                                      ['<span class="', 'sel-gen">', '</span>'],
                                      ['<span class="', 'sel-gen">', '</span>']
                                    )),
                                  o,
                                  e
                                );
                              else {
                                var u = null == e ? void 0 : e.getSelectors();
                                if (!u) return '';
                                var p = u.getStyleable(),
                                  d = s.get('state'),
                                  f = e.getId
                                    ? i(
                                        Wi ||
                                          (Wi = zi(
                                            [
                                              '<span class="',
                                              'sel-cmp">',
                                              '</span>\n            <span class="',
                                              'sel-id">#',
                                              '</span>',
                                            ],
                                            [
                                              '<span class="',
                                              'sel-cmp">',
                                              '</span>\n            <span class="',
                                              'sel-id">#',
                                              '</span>',
                                            ]
                                          )),
                                        o,
                                        e.getName(),
                                        o,
                                        e.getId()
                                      )
                                    : '';
                                (n = (n = this.collection.getFullString(p))
                                  ? i(
                                      $i ||
                                        ($i = zi(
                                          [
                                            '<span class="',
                                            'sel-rule">',
                                            '</span>',
                                          ],
                                          [
                                            '<span class="',
                                            'sel-rule">',
                                            '</span>',
                                          ]
                                        )),
                                      o,
                                      n
                                    )
                                  : e.get('selectorsAdd') || f),
                                  (n = c && f ? f : n),
                                  (n += d
                                    ? i(
                                        Gi ||
                                          (Gi = zi(
                                            [
                                              '<span class="',
                                              'sel-state">:',
                                              '</span>',
                                            ],
                                            [
                                              '<span class="',
                                              'sel-state">:',
                                              '</span>',
                                            ]
                                          )),
                                        o,
                                        d
                                      )
                                    : ''),
                                  (n = l
                                    ? l({
                                        result: n,
                                        state: d,
                                        target: e,
                                      })
                                    : n);
                              }
                              return (
                                n &&
                                '<span class="'
                                  .concat(o, 'sel">')
                                  .concat(n, '</span>')
                              );
                            }),
                            (n.prototype.stateChanged = function (t) {
                              var e = this.em,
                                n = t.target.value;
                              e.set('state', n);
                            }),
                            (n.prototype.addNewTag = function (t) {
                              var e = t.trim();
                              e &&
                                (this.module.addSelected({
                                  label: e,
                                }),
                                this.endNewTag());
                            }),
                            (n.prototype.addToClasses = function (t, e) {
                              var n = e,
                                r = this.getClasses(),
                                o = new Ii({
                                  model: t,
                                  config: this.config,
                                  coll: this.collection,
                                  module: this.module,
                                }).render().el;
                              return n ? n.appendChild(o) : r.append(o), o;
                            }),
                            (n.prototype.renderClasses = function () {
                              var t = this,
                                e = document.createDocumentFragment(),
                                n = this.getClasses();
                              n.empty(),
                                this.collection.each(function (n) {
                                  return t.addToClasses(n, e);
                                }),
                                n.append(e);
                            }),
                            (n.prototype.getClasses = function () {
                              return this.$el.find('[data-selectors]');
                            }),
                            (n.prototype.getStates = function () {
                              if (!this.$states) {
                                var t = this.$el.find('[data-states]');
                                this.$states = t[0] && t;
                              }
                              return this.$states;
                            }),
                            (n.prototype.getStatesC = function () {
                              return (
                                this.$statesC ||
                                  (this.$statesC = this.$el.find(
                                    '#' + this.stateInputC
                                  )),
                                this.$statesC
                              );
                            }),
                            (n.prototype.renderStates = function () {
                              var t = this.module,
                                e = this.em,
                                n = e.t('selectorManager.emptyState'),
                                r = t
                                  .getStates()
                                  .map(function (t) {
                                    var n =
                                      e.t(
                                        'selectorManager.states.'.concat(t.id)
                                      ) ||
                                      t.getLabel() ||
                                      t.id;
                                    return '<option value="'
                                      .concat(t.id, '">')
                                      .concat(n, '</option>');
                                  })
                                  .join(''),
                                o = this.getStates();
                              o &&
                                o.html(
                                  '<option value="">'
                                    .concat(n, '</option>')
                                    .concat(r)
                                ),
                                this.checkStates();
                            }),
                            (n.prototype.render = function () {
                              var t = this,
                                e = t.em,
                                n = t.pfx,
                                r = t.ppfx,
                                o = t.config,
                                i = t.$el,
                                a = t.el,
                                s = o.render,
                                l = {
                                  iconSync: o.iconSync,
                                  iconAdd: o.iconAdd,
                                  labelHead: e.t('selectorManager.label'),
                                  labelInfo: e.t('selectorManager.selected'),
                                  ppfx: r,
                                  pfx: n,
                                  el: a,
                                };
                              i.html(this.template(l));
                              var c = s && s(l);
                              return (
                                c && c !== a && i.empty().append(c),
                                (this.$input = i.find('[data-input]')),
                                (this.$addBtn = i.find('[data-add]')),
                                (this.$classes = i.find('#' + n + 'tags-c')),
                                (this.$btnSyncEl = i.find('[data-sync-style]')),
                                this.$input.hide(),
                                this.renderStates(),
                                this.renderClasses(),
                                i.attr(
                                  'class',
                                  ''
                                    .concat(this.className, ' ')
                                    .concat(r, 'one-bg ')
                                    .concat(r, 'two-color')
                                ),
                                this
                              );
                            }),
                            n
                          );
                        })(u.G7);
                      const Bi = Vi;
                      var Hi,
                        Ui,
                        Wi,
                        $i,
                        Gi,
                        qi =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ki =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Ki =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Ki.apply(this, arguments)
                            );
                          },
                        Zi =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        Yi = function (e) {
                          return (0, t.isString)(e) && '#' == e[0];
                        },
                        Xi = function (e) {
                          return (0, t.isString)(e) && '.' == e[0];
                        },
                        Ji = 'selector',
                        Qi = ''.concat(Ji, ':'),
                        ta = ''.concat(Qi, 'add'),
                        ea = ''.concat(Qi, 'update'),
                        na = ''.concat(Qi, 'remove'),
                        ra = ''.concat(na, ':before'),
                        oa = ''.concat(Qi, 'custom'),
                        ia = ''.concat(Qi, 'state'),
                        aa = {
                          all: Ji,
                          update: ea,
                          add: ta,
                          remove: na,
                          removeBefore: ra,
                          state: ia,
                          custom: oa,
                        },
                        sa = (function (e) {
                          function r(n) {
                            var r =
                              e.call(
                                this,
                                n,
                                'SelectorManager',
                                new Fe([]),
                                aa,
                                Ei,
                                {
                                  skipListen: !0,
                                }
                              ) || this;
                            (r.Selector = Le),
                              (r.Selectors = Fe),
                              (r.storageKey = ''),
                              (0, t.bindAll)(r, '__updateSelectedByComponents');
                            var o = r.config,
                              i = o.pStylePrefix;
                            return (
                              i && (o.stylePrefix = i + o.stylePrefix),
                              (r.all = new Fe(o.selectors)),
                              (r.selected = new Fe([], {
                                em: n,
                                config: o,
                              })),
                              (r.states = new u.FE(
                                o.states.map(function (t) {
                                  return new ji(t);
                                }),
                                {
                                  model: ji,
                                }
                              )),
                              (r.model = new u.Hn({
                                cFirst: o.componentFirst,
                                _undo: !0,
                              })),
                              (r.__update = (0, t.debounce)(function () {
                                return r.__trgCustom();
                              }, 0)),
                              r.__initListen({
                                collections: [r.states, r.selected],
                                propagate: [
                                  {
                                    entity: r.states,
                                    event: r.events.state,
                                  },
                                ],
                              }),
                              n.on('change:state', function (t, e) {
                                return n.trigger(ia, e);
                              }),
                              r.model.on('change:cFirst', function (t, e) {
                                return n.trigger('selector:type', e);
                              }),
                              n.on(
                                'component:toggled component:update:classes',
                                r.__updateSelectedByComponents
                              ),
                              r.model.listenTo(
                                n,
                                'component:toggled component:update:classes change:device styleManager:update selector:state selector:type style:target',
                                function () {
                                  return r.__update();
                                }
                              ),
                              r
                            );
                          }
                          return (
                            qi(r, e),
                            (r.prototype.__trgCustom = function (t) {
                              this.em.trigger(
                                this.events.custom,
                                this.__customData(t)
                              );
                            }),
                            (r.prototype.getAll = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                this.all
                                  ? t.array
                                    ? Zi([], this.all.models, !0)
                                    : this.all
                                  : []
                              );
                            }),
                            (r.prototype.__customData = function (t) {
                              void 0 === t && (t = {});
                              var e = t.container;
                              return {
                                states: this.getStates(),
                                selected: this.getSelected(),
                                container: e,
                              };
                            }),
                            (r.prototype.postRender = function () {
                              this.__appendTo(), this.__trgCustom();
                            }),
                            (r.prototype.select = function (t, e) {
                              void 0 === e && (e = {});
                              var r = Array.isArray(t) ? t : [t],
                                o = this.em.Styles.select(r, e);
                              this.selected.reset(this.__getCommonSelectors(o));
                              var i = this.selectorTags,
                                a = o
                                  .filter(function (t) {
                                    return t;
                                  })
                                  .map(function (t) {
                                    return (0, n.isComponent)(t) ||
                                      ((0, n.isRule)(t) &&
                                        !t.get('selectorsAdd'))
                                      ? t
                                      : t.getSelectorsString();
                                  });
                              return (
                                i &&
                                  i.componentChanged({
                                    targets: a,
                                  }),
                                this
                              );
                            }),
                            (r.prototype.addSelector = function (e, n, r) {
                              void 0 === n && (n = {}),
                                void 0 === r && (r = {});
                              var o = Ki({}, n);
                              (0, t.isObject)(e) ? (o = e) : (o.name = e),
                                Yi(o.name)
                                  ? ((o.name = o.name.substr(1)),
                                    (o.type = Le.TYPE_ID))
                                  : Xi(o.name) && (o.name = o.name.substr(1)),
                                o.label &&
                                  !o.name &&
                                  (o.name = this.escapeName(o.label));
                              var i = o.name,
                                a = this.getConfig(),
                                s = this.all,
                                l = this.em,
                                c = i ? this.get(i, o.type) : s.where(o)[0];
                              if (!c) {
                                var u =
                                  o instanceof Le
                                    ? o
                                    : new Le(
                                        o,
                                        Ki(Ki({}, r), {
                                          config: a,
                                          em: l,
                                        })
                                      );
                                return s.add(u, r);
                              }
                              return c;
                            }),
                            (r.prototype.getSelector = function (t, e) {
                              return (
                                void 0 === e && (e = Le.TYPE_CLASS),
                                Yi(t)
                                  ? ((t = t.substr(1)), (e = Le.TYPE_ID))
                                  : Xi(t) && (t = t.substr(1)),
                                this.all.where({
                                  name: t,
                                  type: e,
                                })[0]
                              );
                            }),
                            (r.prototype.add = function (e, n) {
                              var r = this;
                              void 0 === n && (n = {});
                              var o = (0, t.isString)(e) ? {} : n;
                              return (0, t.isArray)(e)
                                ? e.map(function (t) {
                                    return r.addSelector(t, n, o);
                                  })
                                : this.addSelector(e, n, o);
                            }),
                            (r.prototype.addClass = function (e) {
                              var n = this,
                                r = [];
                              return (
                                (0, t.isString)(e) && (e = e.trim().split(' ')),
                                e.forEach(function (t) {
                                  return r.push(n.addSelector(t));
                                }),
                                r
                              );
                            }),
                            (r.prototype.get = function (e, n) {
                              var r = this;
                              if ((0, t.isArray)(e)) {
                                var o = [];
                                return (
                                  e
                                    .map(function (t) {
                                      return r.getSelector(t);
                                    })
                                    .filter(Boolean)
                                    .forEach(function (t) {
                                      return o.indexOf(t) < 0 && o.push(t);
                                    }),
                                  o
                                );
                              }
                              return this.getSelector(e, n);
                            }),
                            (r.prototype.remove = function (t, e) {
                              return this.__remove(t, e);
                            }),
                            (r.prototype.setState = function (t) {
                              return this.em.setState(t), this;
                            }),
                            (r.prototype.getState = function () {
                              return this.em.getState();
                            }),
                            (r.prototype.getStates = function () {
                              return Zi([], this.states.models, !0);
                            }),
                            (r.prototype.setStates = function (t, e) {
                              return this.states.reset(
                                t.map(function (t) {
                                  return new ji(t);
                                }),
                                e
                              );
                            }),
                            (r.prototype.getSelected = function () {
                              return this.__getCommon();
                            }),
                            (r.prototype.getSelectedAll = function () {
                              return Zi([], this.selected.models, !0);
                            }),
                            (r.prototype.addSelected = function (t) {
                              var e = this.add(t);
                              this.em.getSelectedAll().forEach(function (t) {
                                t.getSelectors().add(e);
                              });
                            }),
                            (r.prototype.removeSelected = function (t) {
                              this.em.getSelectedAll().forEach(function (e) {
                                !t.get('protected') &&
                                  e &&
                                  e.getSelectors().remove(t);
                              });
                            }),
                            (r.prototype.getSelectedTargets = function () {
                              return this.em.Styles.getSelectedAll();
                            }),
                            (r.prototype.setComponentFirst = function (t) {
                              (this.getConfig().componentFirst = t),
                                this.model.set({
                                  cFirst: t,
                                });
                            }),
                            (r.prototype.getComponentFirst = function () {
                              return this.getConfig().componentFirst;
                            }),
                            (r.prototype.escapeName = function (t) {
                              var e = this.getConfig().escapeName;
                              return e ? e(t) : Le.escapeName(t);
                            }),
                            (r.prototype.render = function (t) {
                              var e = this.selectorTags,
                                n = this.getConfig(),
                                r = null == e ? void 0 : e.el;
                              return (
                                this.selected.reset(t),
                                (this.selectorTags = new Bi({
                                  el: r,
                                  collection: this.selected,
                                  module: this,
                                  config: n,
                                })),
                                this.selectorTags.render().el
                              );
                            }),
                            (r.prototype.destroy = function () {
                              var t = this.selectorTags;
                              this.model.stopListening(),
                                this.__update.cancel(),
                                this.__destroy(),
                                null == t || t.remove(),
                                (this.selectorTags = void 0);
                            }),
                            (r.prototype.__getCommon = function () {
                              return this.__getCommonSelectors(
                                this.em.getSelectedAll()
                              );
                            }),
                            (r.prototype.__getCommonSelectors = function (
                              t,
                              e
                            ) {
                              void 0 === e && (e = {});
                              var n = t
                                .map(function (t) {
                                  return (
                                    t.getSelectors &&
                                    t.getSelectors().getValid(e)
                                  );
                                })
                                .filter(Boolean);
                              return this.__common.apply(this, n);
                            }),
                            (r.prototype.__common = function () {
                              for (
                                var t = this, e = [], n = 0;
                                n < arguments.length;
                                n++
                              )
                                e[n] = arguments[n];
                              return e.length
                                ? 1 === e.length
                                  ? e[0]
                                  : 2 === e.length
                                  ? e[0].filter(function (t) {
                                      return e[1].indexOf(t) >= 0;
                                    })
                                  : e.slice(1).reduce(function (e, n) {
                                      return t.__common(e, n);
                                    }, e[0])
                                : [];
                            }),
                            (r.prototype.__updateSelectedByComponents =
                              function () {
                                this.selected.reset(this.__getCommon());
                              }),
                            r
                          );
                        })(b);
                      const la = sa,
                        ca = {
                          textTags: ['br', 'b', 'i', 'u', 'a', 'ul', 'ol'],
                          parserCss: void 0,
                          parserHtml: void 0,
                          optionsHtml: {
                            htmlType: 'text/html',
                            allowScripts: !1,
                            allowUnsafeAttr: !1,
                            keepEmptyTextNodes: !1,
                          },
                        };
                      var ua = {
                          4: 'media',
                          5: 'font-face',
                          6: 'page',
                          7: 'keyframes',
                          11: 'counter-style',
                          12: 'supports',
                          13: 'document',
                          14: 'font-feature-values',
                          15: 'viewport',
                        },
                        pa = (0, t.keys)(ua),
                        da = ['5', '6', '11', '15'],
                        fa = ['font-face', 'page', 'counter-style', 'viewport'],
                        ha = function (t) {
                          void 0 === t && (t = '');
                          for (
                            var e = [],
                              n = [],
                              r = t.split(','),
                              o = 0,
                              i = r.length;
                            o < i;
                            o++
                          ) {
                            var a = r[o].trim();
                            if (
                              /^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a) ||
                              /^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)
                            ) {
                              var s = a.split('.').filter(Boolean);
                              n.push(s);
                            } else e.push(a);
                          }
                          return {
                            result: n,
                            add: e,
                          };
                        },
                        ga = function (t) {
                          for (
                            var e = t.style, n = {}, r = 0, o = e.length;
                            r < o;
                            r++
                          ) {
                            var i = e[r],
                              a = e.getPropertyValue(i),
                              s = e.getPropertyPriority(i);
                            n[i] = ''.concat(a).concat(s ? ' !'.concat(s) : '');
                          }
                          return n;
                        },
                        va = function (t) {
                          return (
                            t.conditionText ||
                            (t.media && t.media.mediaText) ||
                            t.name ||
                            t.selectorText ||
                            ''
                          ).trim();
                        },
                        ma = function (t, e, n) {
                          void 0 === e && (e = {}), void 0 === n && (n = {});
                          var r = {},
                            o = t.length,
                            i = t[o - 1],
                            a = i ? i.split(/:(.+)/) : [],
                            s = a[1],
                            l = n.atRule,
                            c = n.selectorsAdd,
                            u = n.mediaText;
                          return (
                            fa.indexOf(l) >= 0 && (r.singleAtRule = !0),
                            l && (r.atRuleType = l),
                            c && (r.selectorsAdd = c),
                            u && (r.mediaText = u),
                            s &&
                              ((t[o - 1] = a[0]),
                              (r.state = s),
                              a.splice(a.length - 1, 1)),
                            (r.selectors = t),
                            (r.style = e),
                            r
                          );
                        },
                        ya = function (t) {
                          for (
                            var e = [],
                              n = t.cssRules || [],
                              r = 0,
                              o = n.length;
                            r < o;
                            r++
                          ) {
                            var i = n[r],
                              a = i.type.toString(),
                              s = !1,
                              l = '',
                              c = '',
                              u = i.selectorText || i.keyText,
                              p = da.indexOf(a) >= 0;
                            if (p) (s = !0), (l = ua[a]), (c = va(i));
                            else if (pa.indexOf(a) >= 0) {
                              var d = ya(i);
                              c = va(i);
                              for (var f = 0, h = d.length; f < h; f++) {
                                var g = d[f];
                                c && (g.mediaText = c), (g.atRuleType = ua[a]);
                              }
                              e = e.concat(d);
                            }
                            if (u || p) {
                              for (
                                var v = ga(i),
                                  m = ha(u),
                                  y = m.add,
                                  b = m.result,
                                  _ = void 0,
                                  w = 0,
                                  x = b.length;
                                w < x;
                                w++
                              ) {
                                var C = ma(b[w], v, {
                                  atRule: ua[a],
                                });
                                e.push(C), (_ = C);
                              }
                              if (y.length) {
                                var S = y.join(', ');
                                _
                                  ? (_.selectorsAdd = S)
                                  : ((C = {
                                      selectors: [],
                                      selectorsAdd: S,
                                      style: v,
                                    }),
                                    s && (C.singleAtRule = s),
                                    l && (C.atRuleType = l),
                                    c && (C.mediaText = c),
                                    e.push(C));
                              }
                            }
                          }
                          return e;
                        };
                      const ba = function (e, n) {
                        return (
                          void 0 === n && (n = {}),
                          {
                            parse: function (t) {
                              var r = this,
                                o = [],
                                i = n.parserCss,
                                a = null == e ? void 0 : e.Editor,
                                s = i
                                  ? i(t, a)
                                  : (function (t) {
                                      var e = document.createElement('style');
                                      (e.innerHTML = t),
                                        document.head.appendChild(e);
                                      var n = e.sheet;
                                      return (
                                        document.head.removeChild(e), ya(n)
                                      );
                                    })(t);
                              return (
                                s.forEach(function (t) {
                                  return (o = o.concat(r.checkNode(t)));
                                }),
                                null == e ||
                                  e.trigger('parse:css', {
                                    input: t,
                                    output: o,
                                  }),
                                o
                              );
                            },
                            checkNode: function (e) {
                              var n = e.selectors,
                                r = e.style,
                                o = [e];
                              if ((0, t.isString)(n)) {
                                var i = [],
                                  a = e,
                                  s = ha(n),
                                  l = s.result,
                                  c = s.add.join(', '),
                                  u = {
                                    atRule: a.atRule,
                                    mediaText: a.params,
                                  };
                                l.length
                                  ? l.forEach(function (t) {
                                      i.push(ma(t, r, u));
                                    })
                                  : i.push(ma([], r, u)),
                                  c && (i[i.length - 1].selectorsAdd = c),
                                  (o = i);
                              }
                              return o;
                            },
                          }
                        );
                      };
                      var _a =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        wa = (function (t) {
                          function e(e) {
                            var n = t.call(this, e, 'Parser', ca) || this,
                              r = n.config;
                            return (
                              (n.parserCss = ba(e, r)),
                              (n.parserHtml = ve(e, r)),
                              n
                            );
                          }
                          return (
                            _a(e, t),
                            (e.prototype.parseHtml = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.em,
                                r = this.parserHtml;
                              return (
                                (r.compTypes = n.Components.getTypes() || {}),
                                r.parse(t, this.parserCss, e)
                              );
                            }),
                            (e.prototype.parseCss = function (t) {
                              return this.parserCss.parse(t);
                            }),
                            (e.prototype.destroy = function () {}),
                            e
                          );
                        })(y);
                      const xa = wa,
                        Ca = {
                          id: 'gjs-',
                          type: 'local',
                          autosave: !0,
                          autoload: !0,
                          stepsBeforeSave: 1,
                          recovery: !1,
                          onStore: function (t) {
                            return t;
                          },
                          onLoad: function (t) {
                            return t;
                          },
                          options: {
                            local: {
                              key: 'gjsProject',
                              checkLocal: !0,
                            },
                            remote: {
                              headers: {},
                              urlStore: '',
                              urlLoad: '',
                              contentTypeJson: !0,
                              fetchOptions: '',
                              credentials: 'include',
                              onStore: function (t) {
                                return t;
                              },
                              onLoad: function (t) {
                                return t;
                              },
                            },
                          },
                        };
                      var Sa =
                          (void 0 && (void 0).__awaiter) ||
                          function (t, e, n, r) {
                            return new (n || (n = Promise))(function (o, i) {
                              function a(t) {
                                try {
                                  l(r.next(t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function s(t) {
                                try {
                                  l(r['throw'](t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function l(t) {
                                var e;
                                t.done
                                  ? o(t.value)
                                  : ((e = t.value),
                                    e instanceof n
                                      ? e
                                      : new n(function (t) {
                                          t(e);
                                        })).then(a, s);
                              }
                              l((r = r.apply(t, e || [])).next());
                            });
                          },
                        Oa =
                          (void 0 && (void 0).__generator) ||
                          function (t, e) {
                            var n,
                              r,
                              o,
                              i,
                              a = {
                                label: 0,
                                sent: function () {
                                  if (1 & o[0]) throw o[1];
                                  return o[1];
                                },
                                trys: [],
                                ops: [],
                              };
                            return (
                              (i = {
                                next: s(0),
                                throw: s(1),
                                return: s(2),
                              }),
                              'function' == typeof Symbol &&
                                (i[Symbol.iterator] = function () {
                                  return this;
                                }),
                              i
                            );

                            function s(s) {
                              return function (l) {
                                return (function (s) {
                                  if (n)
                                    throw new TypeError(
                                      'Generator is already executing.'
                                    );
                                  for (; i && ((i = 0), s[0] && (a = 0)), a; )
                                    try {
                                      if (
                                        ((n = 1),
                                        r &&
                                          (o =
                                            2 & s[0]
                                              ? r['return']
                                              : s[0]
                                              ? r['throw'] ||
                                                ((o = r['return']) && o.call(r),
                                                0)
                                              : r.next) &&
                                          !(o = o.call(r, s[1])).done)
                                      )
                                        return o;
                                      switch (
                                        ((r = 0),
                                        o && (s = [2 & s[0], o.value]),
                                        s[0])
                                      ) {
                                        case 0:
                                        case 1:
                                          o = s;
                                          break;
                                        case 4:
                                          return (
                                            a.label++,
                                            {
                                              value: s[1],
                                              done: !1,
                                            }
                                          );
                                        case 5:
                                          a.label++, (r = s[1]), (s = [0]);
                                          continue;
                                        case 7:
                                          (s = a.ops.pop()), a.trys.pop();
                                          continue;
                                        default:
                                          if (
                                            !(
                                              (o =
                                                (o = a.trys).length > 0 &&
                                                o[o.length - 1]) ||
                                              (6 !== s[0] && 2 !== s[0])
                                            )
                                          ) {
                                            a = 0;
                                            continue;
                                          }
                                          if (
                                            3 === s[0] &&
                                            (!o || (s[1] > o[0] && s[1] < o[3]))
                                          ) {
                                            a.label = s[1];
                                            break;
                                          }
                                          if (6 === s[0] && a.label < o[1]) {
                                            (a.label = o[1]), (o = s);
                                            break;
                                          }
                                          if (o && a.label < o[2]) {
                                            (a.label = o[2]), a.ops.push(s);
                                            break;
                                          }
                                          o[2] && a.ops.pop(), a.trys.pop();
                                          continue;
                                      }
                                      s = e.call(t, a);
                                    } catch (t) {
                                      (s = [6, t]), (r = 0);
                                    } finally {
                                      n = o = 0;
                                    }
                                  if (5 & s[0]) throw s[1];
                                  return {
                                    value: s[0] ? s[1] : void 0,
                                    done: !0,
                                  };
                                })([s, l]);
                              };
                            }
                          };
                      const ka = (function () {
                        function t() {}
                        return (
                          (t.prototype.store = function (t, e) {
                            return (
                              void 0 === e && (e = {}),
                              Sa(this, void 0, void 0, function () {
                                return Oa(this, function (n) {
                                  return (
                                    this.hasLocal(e, !0) &&
                                      localStorage.setItem(
                                        e.key,
                                        JSON.stringify(t)
                                      ),
                                    [2, t]
                                  );
                                });
                              })
                            );
                          }),
                          (t.prototype.load = function (t) {
                            return (
                              void 0 === t && (t = {}),
                              Sa(this, void 0, void 0, function () {
                                var e;
                                return Oa(this, function (n) {
                                  return (
                                    (e = {}),
                                    this.hasLocal(t, !0) &&
                                      (e = JSON.parse(
                                        localStorage.getItem(t.key) || '{}'
                                      )),
                                    [2, e]
                                  );
                                });
                              })
                            );
                          }),
                          (t.prototype.hasLocal = function (t, e) {
                            if (
                              (void 0 === t && (t = {}),
                              t.checkLocal &&
                                (!(0, n.hasWin)() || !localStorage))
                            ) {
                              if (e)
                                throw new Error('localStorage not available');
                              return !1;
                            }
                            return !0;
                          }),
                          t
                        );
                      })();

                      function Ta(t) {
                        return (
                          (Ta =
                            'function' == typeof Symbol &&
                            'symbol' == typeof Symbol.iterator
                              ? function (t) {
                                  return typeof t;
                                }
                              : function (t) {
                                  return t &&
                                    'function' == typeof Symbol &&
                                    t.constructor === Symbol &&
                                    t !== Symbol.prototype
                                    ? 'symbol'
                                    : typeof t;
                                }),
                          Ta(t)
                        );
                      }

                      function Ea(t, e) {
                        (this.name = 'AggregateError'),
                          (this.errors = t),
                          (this.message = e || '');
                      }
                      Ea.prototype = Error.prototype;
                      var Pa = setTimeout;

                      function Aa(t) {
                        return Boolean(t && void 0 !== t.length);
                      }

                      function ja() {}

                      function Ma(t) {
                        if (!(this instanceof Ma))
                          throw new TypeError(
                            'Promises must be constructed via new'
                          );
                        if ('function' != typeof t)
                          throw new TypeError('not a function');
                        (this._state = 0),
                          (this._handled = !1),
                          (this._value = void 0),
                          (this._deferreds = []),
                          Ra(t, this);
                      }

                      function La(t, e) {
                        for (; 3 === t._state; ) t = t._value;
                        0 !== t._state
                          ? ((t._handled = !0),
                            Ma._immediateFn(function () {
                              var n =
                                1 === t._state ? e.onFulfilled : e.onRejected;
                              if (null !== n) {
                                var r;
                                try {
                                  r = n(t._value);
                                } catch (t) {
                                  return void Na(e.promise, t);
                                }
                                Da(e.promise, r);
                              } else (1 === t._state ? Da : Na)(e.promise, t._value);
                            }))
                          : t._deferreds.push(e);
                      }

                      function Da(t, e) {
                        try {
                          if (e === t)
                            throw new TypeError(
                              'A promise cannot be resolved with itself.'
                            );
                          if (
                            e &&
                            ('object' === Ta(e) || 'function' == typeof e)
                          ) {
                            var n = e.then;
                            if (e instanceof Ma)
                              return (t._state = 3), (t._value = e), void Ia(t);
                            if ('function' == typeof n)
                              return void Ra(
                                ((r = n),
                                (o = e),
                                function () {
                                  r.apply(o, arguments);
                                }),
                                t
                              );
                          }
                          (t._state = 1), (t._value = e), Ia(t);
                        } catch (e) {
                          Na(t, e);
                        }
                        var r, o;
                      }

                      function Na(t, e) {
                        (t._state = 2), (t._value = e), Ia(t);
                      }

                      function Ia(t) {
                        2 === t._state &&
                          0 === t._deferreds.length &&
                          Ma._immediateFn(function () {
                            t._handled || Ma._unhandledRejectionFn(t._value);
                          });
                        for (var e = 0, n = t._deferreds.length; e < n; e++)
                          La(t, t._deferreds[e]);
                        t._deferreds = null;
                      }

                      function Fa(t, e, n) {
                        (this.onFulfilled = 'function' == typeof t ? t : null),
                          (this.onRejected = 'function' == typeof e ? e : null),
                          (this.promise = n);
                      }

                      function Ra(t, e) {
                        var n = !1;
                        try {
                          t(
                            function (t) {
                              n || ((n = !0), Da(e, t));
                            },
                            function (t) {
                              n || ((n = !0), Na(e, t));
                            }
                          );
                        } catch (t) {
                          if (n) return;
                          (n = !0), Na(e, t);
                        }
                      }
                      (Ma.prototype['catch'] = function (t) {
                        return this.then(null, t);
                      }),
                        (Ma.prototype.then = function (t, e) {
                          var n = new this.constructor(ja);
                          return La(this, new Fa(t, e, n)), n;
                        }),
                        (Ma.prototype['finally'] = function (t) {
                          var e = this.constructor;
                          return this.then(
                            function (n) {
                              return e.resolve(t()).then(function () {
                                return n;
                              });
                            },
                            function (n) {
                              return e.resolve(t()).then(function () {
                                return e.reject(n);
                              });
                            }
                          );
                        }),
                        (Ma.all = function (t) {
                          return new Ma(function (e, n) {
                            if (!Aa(t))
                              return n(
                                new TypeError('Promise.all accepts an array')
                              );
                            var r = Array.prototype.slice.call(t);
                            if (0 === r.length) return e([]);
                            var o = r.length;

                            function i(t, a) {
                              try {
                                if (
                                  a &&
                                  ('object' === Ta(a) || 'function' == typeof a)
                                ) {
                                  var s = a.then;
                                  if ('function' == typeof s)
                                    return void s.call(
                                      a,
                                      function (e) {
                                        i(t, e);
                                      },
                                      n
                                    );
                                }
                                (r[t] = a), 0 == --o && e(r);
                              } catch (t) {
                                n(t);
                              }
                            }
                            for (var a = 0; a < r.length; a++) i(a, r[a]);
                          });
                        }),
                        (Ma.any = function (t) {
                          var e = this;
                          return new e(function (n, r) {
                            if (!t || void 0 === t.length)
                              return r(
                                new TypeError('Promise.any accepts an array')
                              );
                            var o = Array.prototype.slice.call(t);
                            if (0 === o.length) return r();
                            for (var i = [], a = 0; a < o.length; a++)
                              try {
                                e.resolve(o[a])
                                  .then(n)
                                  .catch(function (t) {
                                    i.push(t),
                                      i.length === o.length &&
                                        r(
                                          new Ea(
                                            i,
                                            'All promises were rejected'
                                          )
                                        );
                                  });
                              } catch (t) {
                                r(t);
                              }
                          });
                        }),
                        (Ma.allSettled = function (t) {
                          return new this(function (e, n) {
                            if (!t || void 0 === t.length)
                              return n(
                                new TypeError(
                                  Ta(t) +
                                    ' ' +
                                    t +
                                    ' is not iterable(cannot read property Symbol(Symbol.iterator))'
                                )
                              );
                            var r = Array.prototype.slice.call(t);
                            if (0 === r.length) return e([]);
                            var o = r.length;

                            function i(t, n) {
                              if (
                                n &&
                                ('object' === Ta(n) || 'function' == typeof n)
                              ) {
                                var a = n.then;
                                if ('function' == typeof a)
                                  return void a.call(
                                    n,
                                    function (e) {
                                      i(t, e);
                                    },
                                    function (n) {
                                      (r[t] = {
                                        status: 'rejected',
                                        reason: n,
                                      }),
                                        0 == --o && e(r);
                                    }
                                  );
                              }
                              (r[t] = {
                                status: 'fulfilled',
                                value: n,
                              }),
                                0 == --o && e(r);
                            }
                            for (var a = 0; a < r.length; a++) i(a, r[a]);
                          });
                        }),
                        (Ma.resolve = function (t) {
                          return t && 'object' === Ta(t) && t.constructor === Ma
                            ? t
                            : new Ma(function (e) {
                                e(t);
                              });
                        }),
                        (Ma.reject = function (t) {
                          return new Ma(function (e, n) {
                            n(t);
                          });
                        }),
                        (Ma.race = function (t) {
                          return new Ma(function (e, n) {
                            if (!Aa(t))
                              return n(
                                new TypeError('Promise.race accepts an array')
                              );
                            for (var r = 0, o = t.length; r < o; r++)
                              Ma.resolve(t[r]).then(e, n);
                          });
                        }),
                        (Ma._immediateFn =
                          ('function' == typeof setImmediate &&
                            function (t) {
                              setImmediate(t);
                            }) ||
                          function (t) {
                            Pa(t, 0);
                          }),
                        (Ma._unhandledRejectionFn = function (t) {
                          'undefined' != typeof console &&
                            console &&
                            console.warn(
                              'Possible Unhandled Promise Rejection:',
                              t
                            );
                        });
                      const za = Ma;
                      (0, n.hasWin)() &&
                        (window.Promise = window.Promise || za);
                      const Va =
                        'function' == typeof fetch
                          ? fetch.bind()
                          : function (t, e) {
                              return new za(function (n, r) {
                                var o = new XMLHttpRequest();
                                for (var i in (o.open(e.method || 'get', t),
                                (o.withCredentials =
                                  'include' == e.credentials),
                                e.headers || {}))
                                  o.setRequestHeader(i, e.headers[i]);
                                (o.onload = function (t) {
                                  return n({
                                    status: o.status,
                                    statusText: o.statusText,
                                    text: function () {
                                      return za.resolve(o.responseText);
                                    },
                                  });
                                }),
                                  (o.onerror = r),
                                  o.upload &&
                                    e.onProgress &&
                                    (o.upload.onprogress = e.onProgress),
                                  e.body ? o.send(e.body) : o.send();
                              });
                            };
                      var Ba =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Ba =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Ba.apply(this, arguments)
                            );
                          },
                        Ha =
                          (void 0 && (void 0).__awaiter) ||
                          function (t, e, n, r) {
                            return new (n || (n = Promise))(function (o, i) {
                              function a(t) {
                                try {
                                  l(r.next(t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function s(t) {
                                try {
                                  l(r['throw'](t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function l(t) {
                                var e;
                                t.done
                                  ? o(t.value)
                                  : ((e = t.value),
                                    e instanceof n
                                      ? e
                                      : new n(function (t) {
                                          t(e);
                                        })).then(a, s);
                              }
                              l((r = r.apply(t, e || [])).next());
                            });
                          },
                        Ua =
                          (void 0 && (void 0).__generator) ||
                          function (t, e) {
                            var n,
                              r,
                              o,
                              i,
                              a = {
                                label: 0,
                                sent: function () {
                                  if (1 & o[0]) throw o[1];
                                  return o[1];
                                },
                                trys: [],
                                ops: [],
                              };
                            return (
                              (i = {
                                next: s(0),
                                throw: s(1),
                                return: s(2),
                              }),
                              'function' == typeof Symbol &&
                                (i[Symbol.iterator] = function () {
                                  return this;
                                }),
                              i
                            );

                            function s(s) {
                              return function (l) {
                                return (function (s) {
                                  if (n)
                                    throw new TypeError(
                                      'Generator is already executing.'
                                    );
                                  for (; i && ((i = 0), s[0] && (a = 0)), a; )
                                    try {
                                      if (
                                        ((n = 1),
                                        r &&
                                          (o =
                                            2 & s[0]
                                              ? r['return']
                                              : s[0]
                                              ? r['throw'] ||
                                                ((o = r['return']) && o.call(r),
                                                0)
                                              : r.next) &&
                                          !(o = o.call(r, s[1])).done)
                                      )
                                        return o;
                                      switch (
                                        ((r = 0),
                                        o && (s = [2 & s[0], o.value]),
                                        s[0])
                                      ) {
                                        case 0:
                                        case 1:
                                          o = s;
                                          break;
                                        case 4:
                                          return (
                                            a.label++,
                                            {
                                              value: s[1],
                                              done: !1,
                                            }
                                          );
                                        case 5:
                                          a.label++, (r = s[1]), (s = [0]);
                                          continue;
                                        case 7:
                                          (s = a.ops.pop()), a.trys.pop();
                                          continue;
                                        default:
                                          if (
                                            !(
                                              (o =
                                                (o = a.trys).length > 0 &&
                                                o[o.length - 1]) ||
                                              (6 !== s[0] && 2 !== s[0])
                                            )
                                          ) {
                                            a = 0;
                                            continue;
                                          }
                                          if (
                                            3 === s[0] &&
                                            (!o || (s[1] > o[0] && s[1] < o[3]))
                                          ) {
                                            a.label = s[1];
                                            break;
                                          }
                                          if (6 === s[0] && a.label < o[1]) {
                                            (a.label = o[1]), (o = s);
                                            break;
                                          }
                                          if (o && a.label < o[2]) {
                                            (a.label = o[2]), a.ops.push(s);
                                            break;
                                          }
                                          o[2] && a.ops.pop(), a.trys.pop();
                                          continue;
                                      }
                                      s = e.call(t, a);
                                    } catch (t) {
                                      (s = [6, t]), (r = 0);
                                    } finally {
                                      n = o = 0;
                                    }
                                  if (5 & s[0]) throw s[1];
                                  return {
                                    value: s[0] ? s[1] : void 0,
                                    done: !0,
                                  };
                                })([s, l]);
                              };
                            }
                          };
                      const Wa = (function () {
                        function e() {}
                        return (
                          (e.prototype.store = function (t, e) {
                            return (
                              void 0 === e && (e = {}),
                              Ha(this, void 0, void 0, function () {
                                return Ua(this, function (n) {
                                  switch (n.label) {
                                    case 0:
                                      return [
                                        4,
                                        this.request(
                                          e.urlStore,
                                          this.__props(e, t),
                                          e
                                        ),
                                      ];
                                    case 1:
                                      return [2, n.sent()];
                                  }
                                });
                              })
                            );
                          }),
                          (e.prototype.load = function (t) {
                            return (
                              void 0 === t && (t = {}),
                              Ha(this, void 0, void 0, function () {
                                return Ua(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [
                                        4,
                                        this.request(
                                          t.urlLoad,
                                          this.__props(t),
                                          t
                                        ),
                                      ];
                                    case 1:
                                      return [2, e.sent()];
                                  }
                                });
                              })
                            );
                          }),
                          (e.prototype.request = function (e, n, r) {
                            return (
                              void 0 === n && (n = {}),
                              void 0 === r && (r = {}),
                              Va(e, n)
                                .then(function (t) {
                                  var e = t.text();
                                  return 1 == ((t.status / 200) | 0)
                                    ? e
                                    : e.then(Promise.reject);
                                })
                                .then(function (e) {
                                  var n = e && (0, t.isString)(e);
                                  return r.contentTypeJson && n
                                    ? JSON.parse(e)
                                    : e;
                                })
                            );
                          }),
                          (e.prototype.__props = function (e, n) {
                            void 0 === e && (e = {});
                            var r,
                              o = e.contentTypeJson,
                              i = e.headers || {},
                              a = e.fetchOptions || {},
                              s = 'X-Requested-With',
                              l = 'Content-Type';
                            if (
                              ((0, t.isUndefined)(i[s]) &&
                                (i[s] = 'XMLHttpRequest'),
                              (0, t.isUndefined)(i[l]) &&
                                o &&
                                (i[l] = 'application/json; charset=utf-8'),
                              n)
                            )
                              if (o) r = JSON.stringify(n);
                              else
                                for (var c in ((r = new FormData()), n))
                                  r.append(c, n[c]);
                            var u = {
                              method: r ? 'POST' : 'GET',
                              credentials: e.credentials,
                              headers: i,
                              body: r,
                            };
                            return Ba(
                              Ba({}, u),
                              (0, t.isFunction)(a) ? a(u) : a
                            );
                          }),
                          e
                        );
                      })();
                      var $a =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ga =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Ga =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Ga.apply(this, arguments)
                            );
                          },
                        qa =
                          (void 0 && (void 0).__awaiter) ||
                          function (t, e, n, r) {
                            return new (n || (n = Promise))(function (o, i) {
                              function a(t) {
                                try {
                                  l(r.next(t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function s(t) {
                                try {
                                  l(r['throw'](t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function l(t) {
                                var e;
                                t.done
                                  ? o(t.value)
                                  : ((e = t.value),
                                    e instanceof n
                                      ? e
                                      : new n(function (t) {
                                          t(e);
                                        })).then(a, s);
                              }
                              l((r = r.apply(t, e || [])).next());
                            });
                          },
                        Ka =
                          (void 0 && (void 0).__generator) ||
                          function (t, e) {
                            var n,
                              r,
                              o,
                              i,
                              a = {
                                label: 0,
                                sent: function () {
                                  if (1 & o[0]) throw o[1];
                                  return o[1];
                                },
                                trys: [],
                                ops: [],
                              };
                            return (
                              (i = {
                                next: s(0),
                                throw: s(1),
                                return: s(2),
                              }),
                              'function' == typeof Symbol &&
                                (i[Symbol.iterator] = function () {
                                  return this;
                                }),
                              i
                            );

                            function s(s) {
                              return function (l) {
                                return (function (s) {
                                  if (n)
                                    throw new TypeError(
                                      'Generator is already executing.'
                                    );
                                  for (; i && ((i = 0), s[0] && (a = 0)), a; )
                                    try {
                                      if (
                                        ((n = 1),
                                        r &&
                                          (o =
                                            2 & s[0]
                                              ? r['return']
                                              : s[0]
                                              ? r['throw'] ||
                                                ((o = r['return']) && o.call(r),
                                                0)
                                              : r.next) &&
                                          !(o = o.call(r, s[1])).done)
                                      )
                                        return o;
                                      switch (
                                        ((r = 0),
                                        o && (s = [2 & s[0], o.value]),
                                        s[0])
                                      ) {
                                        case 0:
                                        case 1:
                                          o = s;
                                          break;
                                        case 4:
                                          return (
                                            a.label++,
                                            {
                                              value: s[1],
                                              done: !1,
                                            }
                                          );
                                        case 5:
                                          a.label++, (r = s[1]), (s = [0]);
                                          continue;
                                        case 7:
                                          (s = a.ops.pop()), a.trys.pop();
                                          continue;
                                        default:
                                          if (
                                            !(
                                              (o =
                                                (o = a.trys).length > 0 &&
                                                o[o.length - 1]) ||
                                              (6 !== s[0] && 2 !== s[0])
                                            )
                                          ) {
                                            a = 0;
                                            continue;
                                          }
                                          if (
                                            3 === s[0] &&
                                            (!o || (s[1] > o[0] && s[1] < o[3]))
                                          ) {
                                            a.label = s[1];
                                            break;
                                          }
                                          if (6 === s[0] && a.label < o[1]) {
                                            (a.label = o[1]), (o = s);
                                            break;
                                          }
                                          if (o && a.label < o[2]) {
                                            (a.label = o[2]), a.ops.push(s);
                                            break;
                                          }
                                          o[2] && a.ops.pop(), a.trys.pop();
                                          continue;
                                      }
                                      s = e.call(t, a);
                                    } catch (t) {
                                      (s = [6, t]), (r = 0);
                                    } finally {
                                      n = o = 0;
                                    }
                                  if (5 & s[0]) throw s[1];
                                  return {
                                    value: s[0] ? s[1] : void 0,
                                    done: !0,
                                  };
                                })([s, l]);
                              };
                            }
                          },
                        Za = 'storage:start',
                        Ya = 'storage:after',
                        Xa = 'storage:end',
                        Ja = 'storage:error',
                        Qa = 'local',
                        ts = 'remote',
                        es = (function (e) {
                          function n(t) {
                            var n =
                              e.call(this, t, 'StorageManager', Ca) || this;
                            n.storages = {};
                            var r = n.config;
                            return (
                              r._disable && (r.type = ''),
                              (n.storages = {}),
                              n.add(Qa, new ka()),
                              n.add(ts, new Wa()),
                              n.setCurrent(r.type),
                              n
                            );
                          }
                          return (
                            $a(n, e),
                            (n.prototype.isAutosave = function () {
                              return !!this.config.autosave;
                            }),
                            (n.prototype.setAutosave = function (t) {
                              return (this.config.autosave = !!t), this;
                            }),
                            (n.prototype.getStepsBeforeSave = function () {
                              return this.config.stepsBeforeSave;
                            }),
                            (n.prototype.setStepsBeforeSave = function (t) {
                              return (this.config.stepsBeforeSave = t), this;
                            }),
                            (n.prototype.add = function (t, e) {
                              return (this.storages[t] = e), this;
                            }),
                            (n.prototype.get = function (t) {
                              return this.storages[t];
                            }),
                            (n.prototype.getStorages = function () {
                              return this.storages;
                            }),
                            (n.prototype.getCurrent = function () {
                              return this.config.currentStorage;
                            }),
                            (n.prototype.setCurrent = function (t) {
                              return (
                                (this.getConfig().currentStorage = t), this
                              );
                            }),
                            (n.prototype.getCurrentStorage = function () {
                              return this.get(this.getCurrent());
                            }),
                            (n.prototype.getStorageOptions = function (t) {
                              return this.getCurrentOptions(t);
                            }),
                            (n.prototype.store = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                qa(this, void 0, void 0, function () {
                                  var n, r, o, i, a;
                                  return Ka(this, function (s) {
                                    switch (s.label) {
                                      case 0:
                                        (n = this.getCurrentStorage()),
                                          (r = Ga(
                                            Ga({}, this.getCurrentOptions()),
                                            e
                                          )),
                                          (o = this.getRecoveryStorage()),
                                          (i = this.getCurrentOptions(Qa)),
                                          (s.label = 1);
                                      case 1:
                                        return (
                                          s.trys.push([1, 5, , 9]),
                                          [4, this.__exec(n, r, t)]
                                        );
                                      case 2:
                                        return (
                                          s.sent(),
                                          o
                                            ? [4, this.__exec(o, i, {})]
                                            : [3, 4]
                                        );
                                      case 3:
                                        s.sent(), (s.label = 4);
                                      case 4:
                                        return [3, 9];
                                      case 5:
                                        return (
                                          (a = s.sent()),
                                          o ? [4, this.__exec(o, i, t)] : [3, 7]
                                        );
                                      case 6:
                                        return s.sent(), [3, 8];
                                      case 7:
                                        throw a;
                                      case 8:
                                        return [3, 9];
                                      case 9:
                                        return [2, t];
                                    }
                                  });
                                })
                              );
                            }),
                            (n.prototype.load = function (e) {
                              return (
                                void 0 === e && (e = {}),
                                qa(this, void 0, void 0, function () {
                                  var n, r, o, i, a;
                                  return Ka(this, function (s) {
                                    switch (s.label) {
                                      case 0:
                                        return (
                                          (n = this.getCurrentStorage()),
                                          (r = Ga(
                                            Ga({}, this.getCurrentOptions()),
                                            e
                                          )),
                                          (o = this.getRecoveryStorage())
                                            ? [
                                                4,
                                                this.__exec(
                                                  o,
                                                  this.getCurrentOptions(Qa)
                                                ),
                                              ]
                                            : [3, 5]
                                        );
                                      case 1:
                                        if (((a = s.sent()), (0, t.isEmpty)(a)))
                                          return [3, 5];
                                        s.label = 2;
                                      case 2:
                                        return (
                                          s.trys.push([2, 4, , 5]),
                                          [4, this.__askRecovery()]
                                        );
                                      case 3:
                                        return s.sent(), (i = a), [3, 5];
                                      case 4:
                                        return s.sent(), [3, 5];
                                      case 5:
                                        return i
                                          ? [3, 7]
                                          : [4, this.__exec(n, r)];
                                      case 6:
                                        (i = s.sent()), (s.label = 7);
                                      case 7:
                                        return [2, i || {}];
                                    }
                                  });
                                })
                              );
                            }),
                            (n.prototype.__askRecovery = function () {
                              var e = this.em,
                                n = this.getRecovery();
                              return new Promise(function (r, o) {
                                (0, t.isFunction)(n)
                                  ? n(r, o, null == e ? void 0 : e.getEditor())
                                  : confirm(
                                      null == e
                                        ? void 0
                                        : e.t('storageManager.recover')
                                    )
                                  ? r(null)
                                  : o();
                              });
                            }),
                            (n.prototype.getRecovery = function () {
                              return this.config.recovery;
                            }),
                            (n.prototype.getRecoveryStorage = function () {
                              return (
                                this.getRecovery() &&
                                this.getCurrent() === ts &&
                                this.get(Qa)
                              );
                            }),
                            (n.prototype.__exec = function (t, e, n) {
                              var r;
                              return qa(this, void 0, void 0, function () {
                                var o, i, a, s, l, c, u, p, d, f, h, g, v;
                                return Ka(this, function (m) {
                                  switch (m.label) {
                                    case 0:
                                      if (
                                        ((o = n ? 'store' : 'load'),
                                        (i = this.getConfig()),
                                        (a = i.onStore),
                                        (s = i.onLoad),
                                        this.onStart(o, n),
                                        !t)
                                      )
                                        return [2, n || {}];
                                      m.label = 1;
                                    case 1:
                                      return (
                                        m.trys.push([1, 14, , 15]),
                                        (c =
                                          null === (r = this.em) || void 0 === r
                                            ? void 0
                                            : r.getEditor()),
                                        (u = void 0),
                                        n
                                          ? (d = a)
                                            ? [4, a(n, c)]
                                            : [3, 3]
                                          : [3, 7]
                                      );
                                    case 2:
                                      (d = m.sent()), (m.label = 3);
                                    case 3:
                                      return (
                                        (p = d || n),
                                        (f = e.onStore)
                                          ? [4, e.onStore(p, c)]
                                          : [3, 5]
                                      );
                                    case 4:
                                      (f = m.sent()), (m.label = 5);
                                    case 5:
                                      return (p = f || p), [4, t.store(p, e)];
                                    case 6:
                                      return (u = m.sent()), (l = n), [3, 13];
                                    case 7:
                                      return [4, t.load(e)];
                                    case 8:
                                      return (
                                        (u = m.sent()),
                                        (l = this.__clearKeys(u)),
                                        (h = e.onLoad)
                                          ? [4, e.onLoad(l, c)]
                                          : [3, 10]
                                      );
                                    case 9:
                                      (h = m.sent()), (m.label = 10);
                                    case 10:
                                      return (
                                        (l = h || l),
                                        (g = s) ? [4, s(l, c)] : [3, 12]
                                      );
                                    case 11:
                                      (g = m.sent()), (m.label = 12);
                                    case 12:
                                      (l = g || l), (m.label = 13);
                                    case 13:
                                      return (
                                        this.onAfter(o, l, u),
                                        this.onEnd(o, l),
                                        [3, 15]
                                      );
                                    case 14:
                                      throw (
                                        ((v = m.sent()), this.onError(o, v), v)
                                      );
                                    case 15:
                                      return [2, l];
                                  }
                                });
                              });
                            }),
                            (n.prototype.__clearKeys = function (t) {
                              void 0 === t && (t = {});
                              var e = this.getConfig(),
                                n = new RegExp('^'.concat(e.id)),
                                r = {};
                              for (var o in t) r[o.replace(n, '')] = t[o];
                              return r;
                            }),
                            (n.prototype.getCurrentOptions = function (t) {
                              var e = this.getConfig(),
                                n = t || this.getCurrent();
                              return e.options[n] || {};
                            }),
                            (n.prototype.onStart = function (t, e) {
                              var n = this.em;
                              n &&
                                (n.trigger(Za),
                                t &&
                                  n.trigger(''.concat(Za, ':').concat(t), e));
                            }),
                            (n.prototype.onAfter = function (t, e, n) {
                              var r = this.em;
                              r &&
                                (r.trigger(Ya),
                                r.trigger(''.concat(Ya, ':').concat(t), e, n),
                                r.trigger('storage:'.concat(t), e, n));
                            }),
                            (n.prototype.onEnd = function (t, e) {
                              var n = this.em;
                              n &&
                                (n.trigger(Xa),
                                t &&
                                  n.trigger(''.concat(Xa, ':').concat(t), e));
                            }),
                            (n.prototype.onError = function (t, e) {
                              var n = this.em;
                              n &&
                                (n.trigger(Ja, e),
                                t && n.trigger(''.concat(Ja, ':').concat(t), e),
                                this.onEnd(t, e));
                            }),
                            (n.prototype.canAutoload = function () {
                              return (
                                !!this.getCurrentStorage() &&
                                !!this.config.autoload
                              );
                            }),
                            (n.prototype.destroy = function () {
                              this.storages = {};
                            }),
                            n
                          );
                        })(y);
                      const ns = es,
                        rs = {
                          stylePrefix: 'trt-',
                          appendTo: '',
                          optionsTarget: [
                            {
                              value: !1,
                            },
                            {
                              value: '_blank',
                            },
                          ],
                        };
                      var os = r(330),
                        is =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        as =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (as =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              as.apply(this, arguments)
                            );
                          },
                        ss = (function (r) {
                          function o(t) {
                            void 0 === t && (t = {});
                            var e = r.call(this, t) || this;
                            (e.events = {}), (e.appendInput = !0);
                            var n = t.config,
                              o = void 0 === n ? {} : n,
                              i = e,
                              a = i.model,
                              s = i.eventCapture,
                              l = a.target,
                              c = a.attributes.type;
                            (e.config = o),
                              (e.em = o.em),
                              (e.pfx = o.stylePrefix || ''),
                              (e.ppfx = o.pStylePrefix || ''),
                              (e.target = l);
                            var u = e.ppfx;
                            return (
                              (e.clsField = ''
                                .concat(u, 'field ')
                                .concat(u, 'field-')
                                .concat(c)),
                              [
                                ['change:value', e.onValueChange],
                                ['remove', e.removeView],
                              ].forEach(function (t) {
                                var n = t[0],
                                  r = t[1];
                                a.off(n, r), e.listenTo(a, n, r);
                              }),
                              (a.view = e),
                              e.listenTo(a, 'change:label', e.render),
                              e.listenTo(a, 'change:placeholder', e.rerender),
                              (e.events = {}),
                              s.forEach(function (t) {
                                return (e.events[t] = 'onChange');
                              }),
                              e.delegateEvents(),
                              e.init(),
                              e
                            );
                          }
                          return (
                            is(o, r),
                            (o.prototype.attributes = function () {
                              return this.model.get('attributes') || {};
                            }),
                            (o.prototype.templateLabel = function (t) {
                              var e = this.ppfx,
                                n = this.getLabel();
                              return '<div class="'
                                .concat(e, 'label" title="')
                                .concat(n, '">')
                                .concat(n, '</div>');
                            }),
                            (o.prototype.templateInput = function (t) {
                              var e = this.clsField;
                              return '<div class="'.concat(
                                e,
                                '" data-input></div>'
                              );
                            }),
                            (o.prototype.getClbOpts = function () {
                              return {
                                component: this.target,
                                trait: this.model,
                                elInput: this.getInputElem(),
                              };
                            }),
                            (o.prototype.removeView = function () {
                              this.remove(), this.removed();
                            }),
                            (o.prototype.init = function () {}),
                            (o.prototype.removed = function () {}),
                            (o.prototype.onRender = function (t) {}),
                            (o.prototype.onUpdate = function (t) {}),
                            (o.prototype.onEvent = function (t) {}),
                            (o.prototype.onChange = function (e) {
                              var n = this.getInputElem();
                              n &&
                                !(0, t.isUndefined)(n.value) &&
                                this.model.set('value', n.value),
                                this.onEvent(
                                  as(as({}, this.getClbOpts()), {
                                    event: e,
                                  })
                                );
                            }),
                            (o.prototype.getValueForTarget = function () {
                              return this.model.get('value');
                            }),
                            (o.prototype.setInputValue = function (t) {
                              var e = this.getInputElem();
                              e && (e.value = t);
                            }),
                            (o.prototype.onValueChange = function (t, e, n) {
                              if ((void 0 === n && (n = {}), n.fromTarget))
                                this.setInputValue(t.get('value')),
                                  this.postUpdate();
                              else {
                                var r = this.getValueForTarget();
                                t.setTargetValue(r, n);
                              }
                            }),
                            (o.prototype.renderLabel = function () {
                              var t = this.$el,
                                e = this.target,
                                n = this.getLabel(),
                                r = this.templateLabel(e);
                              this.createLabel &&
                                (r =
                                  this.createLabel({
                                    label: n,
                                    component: e,
                                    trait: this,
                                  }) || ''),
                                t.find('[data-label]').append(r);
                            }),
                            (o.prototype.getLabel = function () {
                              var t = this.em,
                                e = this.model.attributes,
                                r = e.label,
                                o = e.name;
                              return (
                                t.t('traitManager.traits.labels.'.concat(o)) ||
                                (0, n.capitalize)(r || o).replace(/-/g, ' ')
                              );
                            }),
                            (o.prototype.getComponent = function () {
                              return this.target;
                            }),
                            (o.prototype.getInputEl = function () {
                              if (!this.$input) {
                                var n = this.em,
                                  r = this.model,
                                  o = r,
                                  i = r.attributes.name,
                                  a =
                                    o.get('placeholder') ||
                                    o.get('default') ||
                                    '',
                                  s = o.get('type') || 'text',
                                  l = o.get('min'),
                                  c = o.get('max'),
                                  u = this.getModelValue(),
                                  p = (0, e['default'])(
                                    '<input type="'.concat(s, '">')
                                  ),
                                  d =
                                    n.t(
                                      'traitManager.traits.attributes.'.concat(
                                        i
                                      )
                                    ) || {};
                                p.attr(
                                  as(
                                    {
                                      placeholder: a,
                                    },
                                    d
                                  )
                                ),
                                  (0, t.isUndefined)(u) ||
                                    (o.set(
                                      {
                                        value: u,
                                      },
                                      {
                                        silent: !0,
                                      }
                                    ),
                                    p.prop('value', u)),
                                  l && p.prop('min', l),
                                  c && p.prop('max', c),
                                  (this.$input = p);
                              }
                              return this.$input.get(0);
                            }),
                            (o.prototype.getInputElem = function () {
                              var t = this.input,
                                e = this.$input;
                              return (
                                t ||
                                (e && e.get && e.get(0)) ||
                                this.getElInput()
                              );
                            }),
                            (o.prototype.getModelValue = function () {
                              var e,
                                n = this.model,
                                r = this.target,
                                o = n.getName();
                              if (n.get('changeProp')) e = r.get(o);
                              else {
                                var i = r.get('attributes');
                                e = n.get('value') || i[o];
                              }
                              return (0, t.isUndefined)(e) ? '' : e;
                            }),
                            (o.prototype.getElInput = function () {
                              return this.elInput;
                            }),
                            (o.prototype.renderField = function () {
                              var e = this,
                                n = e.$el,
                                r = e.appendInput,
                                o = e.model,
                                i = n.find('[data-input]'),
                                a = i[i.length - 1],
                                s = o.el;
                              s ||
                                (s = this.createInput
                                  ? this.createInput(this.getClbOpts())
                                  : this.getInputEl()),
                                (0, t.isString)(s)
                                  ? ((a.innerHTML = s),
                                    (this.elInput = a.firstChild))
                                  : (r
                                      ? a.appendChild(s)
                                      : a.insertBefore(s, a.firstChild),
                                    (this.elInput = s)),
                                (o.el = this.elInput);
                            }),
                            (o.prototype.hasLabel = function () {
                              var t = this.model.attributes.label;
                              return !this.noLabel && !1 !== t;
                            }),
                            (o.prototype.rerender = function () {
                              delete this.model.el, this.render();
                            }),
                            (o.prototype.postUpdate = function () {
                              this.onUpdate(this.getClbOpts());
                            }),
                            (o.prototype.render = function () {
                              var e = this,
                                n = e.$el,
                                r = e.pfx,
                                o = e.ppfx,
                                i = e.model.attributes,
                                a = i.type,
                                s = i.id,
                                l = this.hasLabel && this.hasLabel(),
                                c = ''.concat(r, 'trait');
                              delete this.$input;
                              var u = '<div class="'
                                .concat(c, ' ')
                                .concat(c, '--')
                                .concat(a, '">\n      ')
                                .concat(
                                  l
                                    ? '<div class="'.concat(
                                        o,
                                        'label-wrp" data-label></div>'
                                      )
                                    : '',
                                  '\n      <div class="'
                                )
                                .concat(o, 'field-wrp ')
                                .concat(o, 'field-wrp--')
                                .concat(a, '" data-input>\n        ')
                                .concat(
                                  this.templateInput
                                    ? (0, t.isFunction)(this.templateInput)
                                      ? this.templateInput(this.getClbOpts())
                                      : this.templateInput
                                    : '',
                                  '\n      </div>\n    </div>'
                                );
                              return (
                                n.empty().append(u),
                                l && this.renderLabel(),
                                this.renderField(),
                                (this.el.className = ''
                                  .concat(c, '__wrp ')
                                  .concat(c, '__wrp-')
                                  .concat(s)),
                                this.postUpdate(),
                                this.onRender(this.getClbOpts()),
                                this
                              );
                            }),
                            o
                          );
                        })(u.G7);
                      const ls = ss;
                      ss.prototype.eventCapture = ['change'];
                      var cs =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        us = (function (t) {
                          function e(e, n) {
                            void 0 === e && (e = {});
                            var r = t.call(this, e) || this;
                            (r.reuseView = !0), (r.itemsView = n);
                            var o = e.config || {},
                              i = o.stylePrefix || '',
                              a = e.editor;
                            return (
                              (r.config = o),
                              (r.em = a),
                              (r.pfx = i),
                              (r.ppfx = o.pStylePrefix || ''),
                              (r.className = ''.concat(i, 'traits')),
                              r.listenTo(
                                a,
                                'component:toggled',
                                r.updatedCollection
                              ),
                              r.updatedCollection(),
                              r
                            );
                          }
                          return (
                            cs(e, t),
                            (e.prototype.updatedCollection = function () {
                              var t = this,
                                e = t.ppfx,
                                n = t.className,
                                r = t.em.getSelected();
                              (this.el.className = ''
                                .concat(n, ' ')
                                .concat(e, 'one-bg ')
                                .concat(e, 'two-color')),
                                (this.collection = r ? r.traits : []),
                                this.render();
                            }),
                            e
                          );
                        })(os.Z);
                      const ps = us;
                      us.prototype.itemView = ls;
                      var ds =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const fs = (function (n) {
                        function r(t) {
                          void 0 === t && (t = {});
                          var e = n.call(this, t) || this;
                          return (
                            e.listenTo(e.model, 'change:options', e.rerender), e
                          );
                        }
                        return (
                          ds(r, n),
                          (r.prototype.templateInput = function () {
                            var t = this.ppfx,
                              e = this.clsField;
                            return '<div class="'
                              .concat(
                                e,
                                '">\n      <div data-input></div>\n      <div class="'
                              )
                              .concat(t, 'sel-arrow">\n        <div class="')
                              .concat(
                                t,
                                'd-s-arrow"></div>\n      </div>\n    </div>'
                              );
                          }),
                          (r.prototype.getInputEl = function () {
                            if (!this.$input) {
                              var n = this.model,
                                r = this.em,
                                o = n.get('name'),
                                i = n.get('options') || [],
                                a = [],
                                s = '<select>';
                              i.forEach(function (e) {
                                var n,
                                  i,
                                  l,
                                  c = '';
                                (0, t.isString)(e)
                                  ? ((n = e), (i = e))
                                  : ((n = e.name || e.label || e.value),
                                    (i = ''
                                      .concat(
                                        (0, t.isUndefined)(e.value)
                                          ? e.id
                                          : e.value
                                      )
                                      .replace(/"/g, '&quot;')),
                                    (c += (l = e.style
                                      ? e.style.replace(/"/g, '&quot;')
                                      : '')
                                      ? ' style="'.concat(l, '"')
                                      : ''));
                                var u =
                                  r.t(
                                    'traitManager.traits.options.'
                                      .concat(o, '.')
                                      .concat(i)
                                  ) || n;
                                (s += '<option value="'
                                  .concat(i, '"')
                                  .concat(c, '>')
                                  .concat(u, '</option>')),
                                  a.push(i);
                              }),
                                (s += '</select>'),
                                (this.$input = (0, e['default'])(s));
                              var l = n.getTargetValue(),
                                c = a.indexOf(l) >= 0 ? l : n.get('default');
                              !(0, t.isUndefined)(c) && this.$input.val(c);
                            }
                            return this.$input.get(0);
                          }),
                          r
                        );
                      })(ls);
                      var hs =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const gs = (function (e) {
                        function n() {
                          var t =
                            (null !== e && e.apply(this, arguments)) || this;
                          return (t.appendInput = !1), t;
                        }
                        return (
                          hs(n, e),
                          (n.prototype.templateInput = function () {
                            var t = this.ppfx,
                              e = this.clsField;
                            return '<label class="'
                              .concat(e, '" data-input>\n    <i class="')
                              .concat(t, 'chk-icon"></i>\n  </label>');
                          }),
                          (n.prototype.onChange = function () {
                            this.model.set(
                              'value',
                              this.getInputElem().checked
                            );
                          }),
                          (n.prototype.getInputEl = function () {
                            for (var e = [], n = 0; n < arguments.length; n++)
                              e[n] = arguments[n];
                            var r = !this.$input,
                              o = ls.prototype.getInputEl.apply(this, e);
                            if (r) {
                              var i = void 0,
                                a = void 0,
                                s = this.model,
                                l = this.target,
                                c = s.attributes.valueFalse,
                                u = s.getName();
                              s.get('changeProp')
                                ? (a = i = l.get(u))
                                : (i = !(
                                    !(a = l.get('attributes')[u]) && '' !== a
                                  )),
                                (0, t.isUndefined)(c) || a !== c || (i = !1),
                                (o.checked = i);
                            }
                            return o;
                          }),
                          n
                        );
                      })(ls);
                      var vs =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ms = (function (t) {
                          function n(e) {
                            void 0 === e && (e = {});
                            var n = t.call(this, e) || this,
                              r = e.ppfx || '';
                            return (
                              (n.opts = e),
                              (n.ppfx = r),
                              (n.em = e.target || {}),
                              !e.onChange &&
                                n.listenTo(
                                  n.model,
                                  'change:value',
                                  n.handleModelChange
                                ),
                              n
                            );
                          }
                          return (
                            vs(n, t),
                            (n.prototype.template = function () {
                              return '<span class="'.concat(
                                this.holderClass(),
                                '"></span>'
                              );
                            }),
                            (n.prototype.inputClass = function () {
                              return ''.concat(this.ppfx, 'field');
                            }),
                            (n.prototype.holderClass = function () {
                              return ''.concat(this.ppfx, 'input-holder');
                            }),
                            (n.prototype.elementUpdated = function () {
                              this.model.trigger('el:change');
                            }),
                            (n.prototype.setValue = function (t, e) {
                              var n = this.model,
                                r = t || n.get('defaults'),
                                o = this.getInputEl();
                              o && (o.value = r);
                            }),
                            (n.prototype.handleModelChange = function (
                              t,
                              e,
                              n
                            ) {
                              this.setValue(e, n);
                            }),
                            (n.prototype.handleChange = function (t) {
                              t.stopPropagation();
                              var e = this.getInputEl().value;
                              this.__onInputChange(e), this.elementUpdated();
                            }),
                            (n.prototype.__onInputChange = function (t) {
                              this.model.set(
                                {
                                  value: t,
                                },
                                {
                                  fromInput: 1,
                                }
                              );
                            }),
                            (n.prototype.getInputEl = function () {
                              if (!this.inputEl) {
                                var t = this.model,
                                  n = this.opts.type || 'text',
                                  r =
                                    t.get('placeholder') ||
                                    t.get('defaults') ||
                                    t.get('default') ||
                                    '';
                                this.inputEl = (0, e['default'])(
                                  '<input type="'
                                    .concat(n, '" placeholder="')
                                    .concat(r, '">')
                                );
                              }
                              return this.inputEl.get(0);
                            }),
                            (n.prototype.render = function () {
                              this.inputEl = null;
                              var t = this.$el;
                              return (
                                t.addClass(this.inputClass()),
                                t.html(this.template()),
                                t
                                  .find('.'.concat(this.holderClass()))
                                  .append(this.getInputEl()),
                                this
                              );
                            }),
                            n
                          );
                        })(u.G7);
                      const ys = ms;
                      ms.prototype.events = {
                        change: 'handleChange',
                      };
                      var bs =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        _s = (function (e) {
                          function r(n) {
                            void 0 === n && (n = {});
                            var r = e.call(this, n) || this;
                            return (
                              (0, t.bindAll)(r, 'moveIncrement', 'upIncrement'),
                              (r.doc = document),
                              r.listenTo(
                                r.model,
                                'change:unit',
                                r.handleModelChange
                              ),
                              r
                            );
                          }
                          return (
                            bs(r, e),
                            (r.prototype.template = function () {
                              var t = this.ppfx;
                              return '\n      <span class="'
                                .concat(
                                  t,
                                  'input-holder"></span>\n      <span class="'
                                )
                                .concat(
                                  t,
                                  'field-units"></span>\n      <div class="'
                                )
                                .concat(
                                  t,
                                  'field-arrows" data-arrows>\n        <div class="'
                                )
                                .concat(
                                  t,
                                  'field-arrow-u" data-arrow-up></div>\n        <div class="'
                                )
                                .concat(
                                  t,
                                  'field-arrow-d" data-arrow-down></div>\n      </div>\n    '
                                );
                            }),
                            (r.prototype.inputClass = function () {
                              var t = this.ppfx;
                              return (
                                this.opts.contClass ||
                                ''
                                  .concat(t, 'field ')
                                  .concat(t, 'field-integer')
                              );
                            }),
                            (r.prototype.setValue = function (t, e) {
                              var n = e || {},
                                r = this.validateInputValue(t, {
                                  deepCheck: 1,
                                }),
                                o = {
                                  value: r.value,
                                  unit: '',
                                };
                              (r.unit || r.force) && (o.unit = r.unit),
                                this.model.set(o, n),
                                n.silent && this.handleModelChange();
                            }),
                            (r.prototype.handleChange = function (t) {
                              t.stopPropagation(),
                                this.setValue(this.getInputEl().value),
                                this.elementUpdated();
                            }),
                            (r.prototype.handleUnitChange = function (t) {
                              t.stopPropagation();
                              var e = this.getUnitEl().value;
                              this.model.set('unit', e), this.elementUpdated();
                            }),
                            (r.prototype.handleKeyDown = function (t) {
                              'ArrowUp' === t.key &&
                                (t.preventDefault(), this.upArrowClick()),
                                'ArrowDown' === t.key &&
                                  (t.preventDefault(), this.downArrowClick());
                            }),
                            (r.prototype.elementUpdated = function () {
                              this.model.trigger('el:change');
                            }),
                            (r.prototype.handleModelChange = function () {
                              var t = this.model;
                              this.getInputEl().value = t.get('value');
                              var e = this.getUnitEl();
                              e && (e.value = t.get('unit') || '');
                            }),
                            (r.prototype.getUnitEl = function () {
                              if (!this.unitEl) {
                                var t = this.model,
                                  e = t.get('units') || [];
                                if (e.length) {
                                  var n = [
                                    '<option value="" disabled hidden>-</option>',
                                  ];
                                  e.forEach(function (e) {
                                    var r =
                                      e == t.get('unit') ? 'selected' : '';
                                    n.push(
                                      '<option '
                                        .concat(r, '>')
                                        .concat(e, '</option>')
                                    );
                                  });
                                  var r = document.createElement('div');
                                  (r.innerHTML = '<select class="'
                                    .concat(this.ppfx, 'input-unit">')
                                    .concat(n.join(''), '</select>')),
                                    (this.unitEl = r.firstChild);
                                }
                              }
                              return this.unitEl;
                            }),
                            (r.prototype.upArrowClick = function () {
                              var t = this.model,
                                e = t.get('step'),
                                n = parseFloat(t.get('value'));
                              this.setValue(this.normalizeValue(n + e)),
                                this.elementUpdated();
                            }),
                            (r.prototype.downArrowClick = function () {
                              var t = this.model,
                                e = t.get('step'),
                                n = parseFloat(t.get('value'));
                              this.setValue(this.normalizeValue(n - e)),
                                this.elementUpdated();
                            }),
                            (r.prototype.downIncrement = function (t) {
                              t.preventDefault(), (this.moved = !1);
                              var e = this.model.get('value') || 0;
                              (e = this.normalizeValue(e)),
                                (this.current = {
                                  y: t.pageY,
                                  val: e,
                                }),
                                (0, n.on)(
                                  this.doc,
                                  'mousemove',
                                  this.moveIncrement
                                ),
                                (0, n.on)(
                                  this.doc,
                                  'mouseup',
                                  this.upIncrement
                                );
                            }),
                            (r.prototype.moveIncrement = function (t) {
                              this.moved = !0;
                              var e = this.model,
                                n = e.get('step'),
                                r = this.current,
                                o = this.normalizeValue(
                                  r.val + (r.y - t.pageY) * n
                                ),
                                i = this.validateInputValue(o),
                                a = i.value,
                                s = i.unit;
                              return (
                                (this.prValue = a),
                                e.set(
                                  {
                                    value: a,
                                    unit: s,
                                  },
                                  {
                                    avoidStore: 1,
                                  }
                                ),
                                !1
                              );
                            }),
                            (r.prototype.upIncrement = function () {
                              var t = this.model,
                                e = t.get('step');
                              if (
                                ((0, n.off)(
                                  this.doc,
                                  'mouseup',
                                  this.upIncrement
                                ),
                                (0, n.off)(
                                  this.doc,
                                  'mousemove',
                                  this.moveIncrement
                                ),
                                this.prValue && this.moved)
                              ) {
                                var r = this.prValue - e;
                                t
                                  .set('value', r, {
                                    avoidStore: 1,
                                  })
                                  .set('value', r + e),
                                  this.elementUpdated();
                              }
                            }),
                            (r.prototype.normalizeValue = function (t, e) {
                              void 0 === e && (e = 0);
                              var n = this.model.get('step'),
                                r = 0;
                              if (isNaN(t)) return e;
                              if (((t = parseFloat(t)), Math.floor(t) !== t)) {
                                var o = n.toString().split('.')[1];
                                r = o ? o.length : 0;
                              }
                              return r ? parseFloat(t.toFixed(r)) : t;
                            }),
                            (r.prototype.validateInputValue = function (e, n) {
                              void 0 === n && (n = {});
                              var r = 0,
                                o = n || {},
                                i = this.model,
                                a = '',
                                s = (0, t.isUndefined)(e) ? a : e,
                                l = n.units || i.get('units') || [],
                                c = i.get('unit') || (l.length && l[0]) || '',
                                u = (0, t.isUndefined)(n.max)
                                  ? i.get('max')
                                  : n.max,
                                p = (0, t.isUndefined)(n.min)
                                  ? i.get('min')
                                  : n.min,
                                d = !!i.get('limitlessMax'),
                                f = !!i.get('limitlessMin');
                              if (o.deepCheck) {
                                var h = i.get('fixedValues') || [];
                                if (('' === s && (c = ''), s)) {
                                  var g = new RegExp('^' + h.join('|'), 'g');
                                  if (h.length && g.test(s))
                                    (s = s.match(g)[0]), (c = ''), (r = 1);
                                  else {
                                    var v = s + '';
                                    (s += ''),
                                      (s = parseFloat(s.replace(',', '.'))),
                                      (s = isNaN(s) ? a : s);
                                    var m = v.replace(s, '');
                                    (0, t.indexOf)(l, m) >= 0 && (c = m);
                                  }
                                }
                              }
                              return (
                                d ||
                                  (0, t.isUndefined)(u) ||
                                  '' === u ||
                                  (s = s > u ? u : s),
                                f ||
                                  (0, t.isUndefined)(p) ||
                                  '' === p ||
                                  (s = s < p ? p : s),
                                {
                                  force: r,
                                  value: s,
                                  unit: c,
                                }
                              );
                            }),
                            (r.prototype.render = function () {
                              ys.prototype.render.call(this),
                                (this.unitEl = null);
                              var t = this.getUnitEl();
                              return (
                                t &&
                                  this.$el
                                    .find('.'.concat(this.ppfx, 'field-units'))
                                    .get(0)
                                    .appendChild(t),
                                this
                              );
                            }),
                            r
                          );
                        })(ys);
                      const ws = _s;
                      _s.prototype.events = {
                        'change input': 'handleChange',
                        'change select': 'handleUnitChange',
                        'click [data-arrow-up]': 'upArrowClick',
                        'click [data-arrow-down]': 'downArrowClick',
                        'mousedown [data-arrows]': 'downIncrement',
                        keydown: 'handleKeyDown',
                      };
                      var xs =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Cs = (function (e) {
                        function n() {
                          return (
                            (null !== e && e.apply(this, arguments)) || this
                          );
                        }
                        return (
                          xs(n, e),
                          (n.prototype.getValueForTarget = function () {
                            var e = this.model,
                              n = e.attributes,
                              r = n.value,
                              o = n.unit;
                            return (0, t.isUndefined)(r) || '' === r
                              ? e.get('default')
                              : r + o;
                          }),
                          (n.prototype.getInputEl = function () {
                            if (!this.input) {
                              var t = this.ppfx,
                                e = this.model,
                                n = this.getModelValue(),
                                r = new ws({
                                  contClass: ''.concat(t, 'field-int'),
                                  type: 'number',
                                  model: e,
                                  ppfx: t,
                                });
                              r.render(),
                                (this.$input = r.inputEl),
                                (this.$unit = r.unitEl),
                                e.set('value', n, {
                                  fromTarget: !0,
                                }),
                                this.$input.val(n),
                                (this.input = r.el);
                            }
                            return this.input;
                          }),
                          n
                        );
                      })(ls);
                      var Ss =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Os =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Os =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Os.apply(this, arguments)
                            );
                          };
                      e['default'] &&
                        (function (t, e) {
                          if ((0, n.hasWin)()) {
                            var r = {
                                beforeShow: T,
                                move: T,
                                change: T,
                                show: T,
                                hide: T,
                                color: !1,
                                flat: !1,
                                showInput: !1,
                                allowEmpty: !1,
                                showButtons: !0,
                                clickoutFiresChange: !0,
                                showInitial: !1,
                                showPalette: !1,
                                showPaletteOnly: !1,
                                hideAfterPaletteSelect: !1,
                                togglePaletteOnly: !1,
                                showSelectionPalette: !0,
                                localStorageKey: !1,
                                appendTo: 'body',
                                maxSelectionSize: 7,
                                cancelText: 'cancel',
                                chooseText: 'choose',
                                togglePaletteMoreText: 'more',
                                togglePaletteLessText: 'less',
                                clearText: 'Clear Color Selection',
                                noColorSelectedText: 'No Color Selected',
                                preferredFormat: !1,
                                className: '',
                                containerClassName: '',
                                replacerClassName: '',
                                showAlpha: !1,
                                theme: 'sp-light',
                                palette: [
                                  [
                                    '#ffffff',
                                    '#000000',
                                    '#ff0000',
                                    '#ff8000',
                                    '#ffff00',
                                    '#008000',
                                    '#0000ff',
                                    '#4b0082',
                                    '#9400d3',
                                  ],
                                ],
                                selectionPalette: [],
                                disabled: !1,
                                offset: null,
                              },
                              o = [],
                              i = !!/msie/i.exec(window.navigator.userAgent),
                              a = (function () {
                                function t(t, e) {
                                  return !!~('' + t).indexOf(e);
                                }
                                var e = document.createElement('div').style;
                                return (
                                  (e.cssText =
                                    'background-color:rgba(0,0,0,.5)'),
                                  t(e.backgroundColor, 'rgba') ||
                                    t(e.backgroundColor, 'hsla')
                                );
                              })(),
                              s = [
                                "<div class='sp-replacer'>",
                                "<div class='sp-preview'><div class='sp-preview-inner'></div></div>",
                                "<div class='sp-dd'>&#9660;</div>",
                                '</div>',
                              ].join(''),
                              l = (function () {
                                var t = '';
                                if (i)
                                  for (var e = 1; e <= 6; e++)
                                    t += "<div class='sp-" + e + "'></div>";
                                return [
                                  "<div class='sp-container sp-hidden'>",
                                  "<div class='sp-palette-container'>",
                                  "<div class='sp-palette sp-thumb sp-cf'></div>",
                                  "<div class='sp-palette-button-container sp-cf'>",
                                  "<button type='button' class='sp-palette-toggle'></button>",
                                  '</div>',
                                  '</div>',
                                  "<div class='sp-picker-container'>",
                                  "<div class='sp-top sp-cf'>",
                                  "<div class='sp-fill'></div>",
                                  "<div class='sp-top-inner'>",
                                  "<div class='sp-color'>",
                                  "<div class='sp-sat'>",
                                  "<div class='sp-val'>",
                                  "<div class='sp-dragger'></div>",
                                  '</div>',
                                  '</div>',
                                  '</div>',
                                  "<div class='sp-clear sp-clear-display'>",
                                  '</div>',
                                  "<div class='sp-hue'>",
                                  "<div class='sp-slider'></div>",
                                  t,
                                  '</div>',
                                  '</div>',
                                  "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>",
                                  '</div>',
                                  "<div class='sp-input-container sp-cf'>",
                                  "<input class='sp-input' type='text' spellcheck='false'  />",
                                  '</div>',
                                  "<div class='sp-initial sp-thumb sp-cf'></div>",
                                  "<div class='sp-button-container sp-cf'>",
                                  "<a class='sp-cancel' href='#'></a>",
                                  "<button type='button' class='sp-choose'></button>",
                                  '</div>',
                                  '</div>',
                                  '</div>',
                                ].join('');
                              })(),
                              c = 'spectrum.id';
                            (t.fn.spectrum = function (e, n) {
                              if ('string' == typeof e) {
                                var r = this,
                                  i = Array.prototype.slice.call(arguments, 1);
                                return (
                                  this.each(function () {
                                    var n = o[t(this).data(c)];
                                    if (n) {
                                      var a = n[e];
                                      if (!a)
                                        throw new Error(
                                          "Spectrum: no such method: '" +
                                            e +
                                            "'"
                                        );
                                      'get' == e
                                        ? (r = n.get())
                                        : 'container' == e
                                        ? (r = n.container)
                                        : 'option' == e
                                        ? (r = n.option.apply(n, i))
                                        : 'destroy' == e
                                        ? (n.destroy(), t(this).removeData(c))
                                        : a.apply(n, i);
                                    }
                                  }),
                                  r
                                );
                              }
                              return this.spectrum('destroy').each(function () {
                                var n = k(
                                  this,
                                  t.extend({}, e, t(this).data())
                                );
                                t(this).data(c, n.id);
                              });
                            }),
                              (t.fn.spectrum.load = !0),
                              (t.fn.spectrum.loadOpts = {}),
                              (t.fn.spectrum.draggable = A),
                              (t.fn.spectrum.defaults = r),
                              (t.fn.spectrum.inputTypeColorSupport =
                                function e() {
                                  if (void 0 === e._cachedResult) {
                                    var n = t("<input type='color'/>")[0];
                                    e._cachedResult =
                                      'color' === n.type && '' !== n.value;
                                  }
                                  return e._cachedResult;
                                }),
                              (t.spectrum = {}),
                              (t.spectrum.localization = {}),
                              (t.spectrum.palettes = {}),
                              (t.fn.spectrum.processNativeColorInputs =
                                function () {
                                  var e = t('input[type=color]');
                                  e.length &&
                                    !j() &&
                                    e.spectrum({
                                      preferredFormat: 'hex6',
                                    });
                                });
                            var u = /^[\s,#]+/,
                              p = /\s+$/,
                              d = 0,
                              f = Math,
                              h = f.round,
                              g = f.min,
                              v = f.max,
                              m = f.random,
                              y = function (t, e) {
                                if (((e = e || {}), (t = t || '') instanceof y))
                                  return t;
                                if (!(this instanceof y)) return new y(t, e);
                                var n = (function (t) {
                                  var e,
                                    n,
                                    r,
                                    o = {
                                      r: 0,
                                      g: 0,
                                      b: 0,
                                    },
                                    i = 1,
                                    a = !1,
                                    s = !1;
                                  return (
                                    'string' == typeof t &&
                                      (t = (function (t) {
                                        t = t
                                          .replace(u, '')
                                          .replace(p, '')
                                          .toLowerCase();
                                        var e,
                                          n = !1;
                                        if (x[t]) (t = x[t]), (n = !0);
                                        else if ('transparent' == t)
                                          return {
                                            r: 0,
                                            g: 0,
                                            b: 0,
                                            a: 0,
                                            format: 'name',
                                          };
                                        return (e = S.rgb.exec(t))
                                          ? {
                                              r: e[1],
                                              g: e[2],
                                              b: e[3],
                                            }
                                          : (e = S.rgba.exec(t))
                                          ? {
                                              r: e[1],
                                              g: e[2],
                                              b: e[3],
                                              a: e[4],
                                            }
                                          : (e = S.hsl.exec(t))
                                          ? {
                                              h: e[1],
                                              s: e[2],
                                              l: e[3],
                                            }
                                          : (e = S.hsla.exec(t))
                                          ? {
                                              h: e[1],
                                              s: e[2],
                                              l: e[3],
                                              a: e[4],
                                            }
                                          : (e = S.hsv.exec(t))
                                          ? {
                                              h: e[1],
                                              s: e[2],
                                              v: e[3],
                                            }
                                          : (e = S.hsva.exec(t))
                                          ? {
                                              h: e[1],
                                              s: e[2],
                                              v: e[3],
                                              a: e[4],
                                            }
                                          : (e = S.hex8.exec(t))
                                          ? {
                                              a: et(e[1]),
                                              r: J(e[2]),
                                              g: J(e[3]),
                                              b: J(e[4]),
                                              format: n ? 'name' : 'hex8',
                                            }
                                          : (e = S.hex6.exec(t))
                                          ? {
                                              r: J(e[1]),
                                              g: J(e[2]),
                                              b: J(e[3]),
                                              format: n ? 'name' : 'hex',
                                            }
                                          : !!(e = S.hex3.exec(t)) && {
                                              r: J(e[1] + '' + e[1]),
                                              g: J(e[2] + '' + e[2]),
                                              b: J(e[3] + '' + e[3]),
                                              format: n ? 'name' : 'hex',
                                            };
                                      })(t)),
                                    'object' == typeof t &&
                                      (t.hasOwnProperty('r') &&
                                      t.hasOwnProperty('g') &&
                                      t.hasOwnProperty('b')
                                        ? ((e = t.r),
                                          (n = t.g),
                                          (r = t.b),
                                          (o = {
                                            r: 255 * Y(e, 255),
                                            g: 255 * Y(n, 255),
                                            b: 255 * Y(r, 255),
                                          }),
                                          (a = !0),
                                          (s =
                                            '%' === String(t.r).substr(-1)
                                              ? 'prgb'
                                              : 'rgb'))
                                        : t.hasOwnProperty('h') &&
                                          t.hasOwnProperty('s') &&
                                          t.hasOwnProperty('v')
                                        ? ((t.s = tt(t.s)),
                                          (t.v = tt(t.v)),
                                          (o = (function (t, e, n) {
                                            (t = 6 * Y(t, 360)),
                                              (e = Y(e, 100)),
                                              (n = Y(n, 100));
                                            var r = f.floor(t),
                                              o = t - r,
                                              i = n * (1 - e),
                                              a = n * (1 - o * e),
                                              s = n * (1 - (1 - o) * e),
                                              l = r % 6;
                                            return {
                                              r: 255 * [n, a, i, i, s, n][l],
                                              g: 255 * [s, n, n, a, i, i][l],
                                              b: 255 * [i, i, s, n, n, a][l],
                                            };
                                          })(t.h, t.s, t.v)),
                                          (a = !0),
                                          (s = 'hsv'))
                                        : t.hasOwnProperty('h') &&
                                          t.hasOwnProperty('s') &&
                                          t.hasOwnProperty('l') &&
                                          ((t.s = tt(t.s)),
                                          (t.l = tt(t.l)),
                                          (o = (function (t, e, n) {
                                            var r, o, i;

                                            function a(t, e, n) {
                                              return (
                                                n < 0 && (n += 1),
                                                n > 1 && (n -= 1),
                                                n < 1 / 6
                                                  ? t + 6 * (e - t) * n
                                                  : n < 1 / 2
                                                  ? e
                                                  : n < 2 / 3
                                                  ? t +
                                                    (e - t) * (2 / 3 - n) * 6
                                                  : t
                                              );
                                            }
                                            if (
                                              ((t = Y(t, 360)),
                                              (e = Y(e, 100)),
                                              (n = Y(n, 100)),
                                              0 === e)
                                            )
                                              r = o = i = n;
                                            else {
                                              var s =
                                                  n < 0.5
                                                    ? n * (1 + e)
                                                    : n + e - n * e,
                                                l = 2 * n - s;
                                              (r = a(l, s, t + 1 / 3)),
                                                (o = a(l, s, t)),
                                                (i = a(l, s, t - 1 / 3));
                                            }
                                            return {
                                              r: 255 * r,
                                              g: 255 * o,
                                              b: 255 * i,
                                            };
                                          })(t.h, t.s, t.l)),
                                          (a = !0),
                                          (s = 'hsl')),
                                      t.hasOwnProperty('a') && (i = t.a)),
                                    (i = Z(i)),
                                    {
                                      ok: a,
                                      format: t.format || s,
                                      r: g(255, v(o.r, 0)),
                                      g: g(255, v(o.g, 0)),
                                      b: g(255, v(o.b, 0)),
                                      a: i,
                                    }
                                  );
                                })(t);
                                (this._originalInput = t),
                                  (this._r = n.r),
                                  (this._g = n.g),
                                  (this._b = n.b),
                                  (this._a = n.a),
                                  (this._roundA = h(100 * this._a) / 100),
                                  (this._format = e.format || n.format),
                                  (this._gradientType = e.gradientType),
                                  this._r < 1 && (this._r = h(this._r)),
                                  this._g < 1 && (this._g = h(this._g)),
                                  this._b < 1 && (this._b = h(this._b)),
                                  (this._ok = n.ok),
                                  (this._tc_id = d++);
                              };
                            (y.prototype = {
                              isDark: function () {
                                return this.getBrightness() < 128;
                              },
                              isLight: function () {
                                return !this.isDark();
                              },
                              isValid: function () {
                                return this._ok;
                              },
                              getOriginalInput: function () {
                                return this._originalInput;
                              },
                              getFormat: function () {
                                return this._format;
                              },
                              getAlpha: function () {
                                return this._a;
                              },
                              getBrightness: function () {
                                var t = this.toRgb();
                                return (
                                  (299 * t.r + 587 * t.g + 114 * t.b) / 1e3
                                );
                              },
                              setAlpha: function (t) {
                                return (
                                  (this._a = Z(t)),
                                  (this._roundA = h(100 * this._a) / 100),
                                  this
                                );
                              },
                              toHsv: function () {
                                var t = L(this._r, this._g, this._b);
                                return {
                                  h: 360 * t.h,
                                  s: t.s,
                                  v: t.v,
                                  a: this._a,
                                };
                              },
                              toHsvString: function () {
                                var t = L(this._r, this._g, this._b),
                                  e = h(360 * t.h),
                                  n = h(100 * t.s),
                                  r = h(100 * t.v);
                                return 1 == this._a
                                  ? 'hsv(' + e + ', ' + n + '%, ' + r + '%)'
                                  : 'hsva(' +
                                      e +
                                      ', ' +
                                      n +
                                      '%, ' +
                                      r +
                                      '%, ' +
                                      this._roundA +
                                      ')';
                              },
                              toHsl: function () {
                                var t = M(this._r, this._g, this._b);
                                return {
                                  h: 360 * t.h,
                                  s: t.s,
                                  l: t.l,
                                  a: this._a,
                                };
                              },
                              toHslString: function () {
                                var t = M(this._r, this._g, this._b),
                                  e = h(360 * t.h),
                                  n = h(100 * t.s),
                                  r = h(100 * t.l);
                                return 1 == this._a
                                  ? 'hsl(' + e + ', ' + n + '%, ' + r + '%)'
                                  : 'hsla(' +
                                      e +
                                      ', ' +
                                      n +
                                      '%, ' +
                                      r +
                                      '%, ' +
                                      this._roundA +
                                      ')';
                              },
                              toHex: function (t) {
                                return D(this._r, this._g, this._b, t);
                              },
                              toHexString: function (t) {
                                return '#' + this.toHex(t);
                              },
                              toHex8: function () {
                                return N(this._r, this._g, this._b, this._a);
                              },
                              toHex8String: function () {
                                return '#' + this.toHex8();
                              },
                              toRgb: function () {
                                return {
                                  r: h(this._r),
                                  g: h(this._g),
                                  b: h(this._b),
                                  a: this._a,
                                };
                              },
                              toRgbString: function () {
                                return 1 == this._a
                                  ? 'rgb(' +
                                      h(this._r) +
                                      ', ' +
                                      h(this._g) +
                                      ', ' +
                                      h(this._b) +
                                      ')'
                                  : 'rgba(' +
                                      h(this._r) +
                                      ', ' +
                                      h(this._g) +
                                      ', ' +
                                      h(this._b) +
                                      ', ' +
                                      this._roundA +
                                      ')';
                              },
                              toPercentageRgb: function () {
                                return {
                                  r: h(100 * Y(this._r, 255)) + '%',
                                  g: h(100 * Y(this._g, 255)) + '%',
                                  b: h(100 * Y(this._b, 255)) + '%',
                                  a: this._a,
                                };
                              },
                              toPercentageRgbString: function () {
                                return 1 == this._a
                                  ? 'rgb(' +
                                      h(100 * Y(this._r, 255)) +
                                      '%, ' +
                                      h(100 * Y(this._g, 255)) +
                                      '%, ' +
                                      h(100 * Y(this._b, 255)) +
                                      '%)'
                                  : 'rgba(' +
                                      h(100 * Y(this._r, 255)) +
                                      '%, ' +
                                      h(100 * Y(this._g, 255)) +
                                      '%, ' +
                                      h(100 * Y(this._b, 255)) +
                                      '%, ' +
                                      this._roundA +
                                      ')';
                              },
                              toName: function () {
                                return 0 === this._a
                                  ? 'transparent'
                                  : !(this._a < 1) &&
                                      (C[D(this._r, this._g, this._b, !0)] ||
                                        !1);
                              },
                              toFilter: function (t) {
                                var e =
                                    '#' + N(this._r, this._g, this._b, this._a),
                                  n = e,
                                  r = this._gradientType
                                    ? 'GradientType = 1, '
                                    : '';
                                return (
                                  t && (n = y(t).toHex8String()),
                                  'progid:DXImageTransform.Microsoft.gradient(' +
                                    r +
                                    'startColorstr=' +
                                    e +
                                    ',endColorstr=' +
                                    n +
                                    ')'
                                );
                              },
                              toString: function (t) {
                                var e = !!t;
                                t = t || this._format;
                                var n = !1,
                                  r = this._a < 1 && this._a >= 0;
                                return e ||
                                  !r ||
                                  ('hex' !== t &&
                                    'hex6' !== t &&
                                    'hex3' !== t &&
                                    'name' !== t)
                                  ? ('rgb' === t && (n = this.toRgbString()),
                                    'prgb' === t &&
                                      (n = this.toPercentageRgbString()),
                                    ('hex' !== t && 'hex6' !== t) ||
                                      (n = this.toHexString()),
                                    'hex3' === t && (n = this.toHexString(!0)),
                                    'hex8' === t && (n = this.toHex8String()),
                                    'name' === t && (n = this.toName()),
                                    'hsl' === t && (n = this.toHslString()),
                                    'hsv' === t && (n = this.toHsvString()),
                                    n || this.toHexString())
                                  : 'name' === t && 0 === this._a
                                  ? this.toName()
                                  : this.toRgbString();
                              },
                              _applyModification: function (t, e) {
                                var n = t.apply(
                                  null,
                                  [this].concat([].slice.call(e))
                                );
                                return (
                                  (this._r = n._r),
                                  (this._g = n._g),
                                  (this._b = n._b),
                                  this.setAlpha(n._a),
                                  this
                                );
                              },
                              lighten: function () {
                                return this._applyModification(z, arguments);
                              },
                              brighten: function () {
                                return this._applyModification(V, arguments);
                              },
                              darken: function () {
                                return this._applyModification(B, arguments);
                              },
                              desaturate: function () {
                                return this._applyModification(I, arguments);
                              },
                              saturate: function () {
                                return this._applyModification(F, arguments);
                              },
                              greyscale: function () {
                                return this._applyModification(R, arguments);
                              },
                              spin: function () {
                                return this._applyModification(H, arguments);
                              },
                              _applyCombination: function (t, e) {
                                return t.apply(
                                  null,
                                  [this].concat([].slice.call(e))
                                );
                              },
                              analogous: function () {
                                return this._applyCombination(q, arguments);
                              },
                              complement: function () {
                                return this._applyCombination(U, arguments);
                              },
                              monochromatic: function () {
                                return this._applyCombination(K, arguments);
                              },
                              splitcomplement: function () {
                                return this._applyCombination(G, arguments);
                              },
                              triad: function () {
                                return this._applyCombination(W, arguments);
                              },
                              tetrad: function () {
                                return this._applyCombination($, arguments);
                              },
                            }),
                              (y.fromRatio = function (t, e) {
                                if ('object' == typeof t) {
                                  var n = {};
                                  for (var r in t)
                                    t.hasOwnProperty(r) &&
                                      (n[r] = 'a' === r ? t[r] : tt(t[r]));
                                  t = n;
                                }
                                return y(t, e);
                              }),
                              (y.equals = function (t, e) {
                                return (
                                  !(!t || !e) &&
                                  y(t).toRgbString() == y(e).toRgbString()
                                );
                              }),
                              (y.random = function () {
                                return y.fromRatio({
                                  r: m(),
                                  g: m(),
                                  b: m(),
                                });
                              }),
                              (y.mix = function (t, e, n) {
                                n = 0 === n ? 0 : n || 50;
                                var r,
                                  o = y(t).toRgb(),
                                  i = y(e).toRgb(),
                                  a = n / 100,
                                  s = 2 * a - 1,
                                  l = i.a - o.a,
                                  c =
                                    1 -
                                    (r =
                                      ((r =
                                        s * l == -1
                                          ? s
                                          : (s + l) / (1 + s * l)) +
                                        1) /
                                      2),
                                  u = {
                                    r: i.r * r + o.r * c,
                                    g: i.g * r + o.g * c,
                                    b: i.b * r + o.b * c,
                                    a: i.a * a + o.a * (1 - a),
                                  };
                                return y(u);
                              }),
                              (y.readability = function (t, e) {
                                var n = y(t),
                                  r = y(e),
                                  o = n.toRgb(),
                                  i = r.toRgb(),
                                  a = n.getBrightness(),
                                  s = r.getBrightness(),
                                  l =
                                    Math.max(o.r, i.r) -
                                    Math.min(o.r, i.r) +
                                    Math.max(o.g, i.g) -
                                    Math.min(o.g, i.g) +
                                    Math.max(o.b, i.b) -
                                    Math.min(o.b, i.b);
                                return {
                                  brightness: Math.abs(a - s),
                                  color: l,
                                };
                              }),
                              (y.isReadable = function (t, e) {
                                var n = y.readability(t, e);
                                return n.brightness > 125 && n.color > 500;
                              }),
                              (y.mostReadable = function (t, e) {
                                for (
                                  var n = null, r = 0, o = !1, i = 0;
                                  i < e.length;
                                  i++
                                ) {
                                  var a = y.readability(t, e[i]),
                                    s = a.brightness > 125 && a.color > 500,
                                    l =
                                      3 * (a.brightness / 125) + a.color / 500;
                                  ((s && !o) ||
                                    (s && o && l > r) ||
                                    (!s && !o && l > r)) &&
                                    ((o = s), (r = l), (n = y(e[i])));
                                }
                                return n;
                              });
                            var b,
                              _,
                              w,
                              x = (y.names = {
                                aliceblue: 'f0f8ff',
                                antiquewhite: 'faebd7',
                                aqua: '0ff',
                                aquamarine: '7fffd4',
                                azure: 'f0ffff',
                                beige: 'f5f5dc',
                                bisque: 'ffe4c4',
                                black: '000',
                                blanchedalmond: 'ffebcd',
                                blue: '00f',
                                blueviolet: '8a2be2',
                                brown: 'a52a2a',
                                burlywood: 'deb887',
                                burntsienna: 'ea7e5d',
                                cadetblue: '5f9ea0',
                                chartreuse: '7fff00',
                                chocolate: 'd2691e',
                                coral: 'ff7f50',
                                cornflowerblue: '6495ed',
                                cornsilk: 'fff8dc',
                                crimson: 'dc143c',
                                cyan: '0ff',
                                darkblue: '00008b',
                                darkcyan: '008b8b',
                                darkgoldenrod: 'b8860b',
                                darkgray: 'a9a9a9',
                                darkgreen: '006400',
                                darkgrey: 'a9a9a9',
                                darkkhaki: 'bdb76b',
                                darkmagenta: '8b008b',
                                darkolivegreen: '556b2f',
                                darkorange: 'ff8c00',
                                darkorchid: '9932cc',
                                darkred: '8b0000',
                                darksalmon: 'e9967a',
                                darkseagreen: '8fbc8f',
                                darkslateblue: '483d8b',
                                darkslategray: '2f4f4f',
                                darkslategrey: '2f4f4f',
                                darkturquoise: '00ced1',
                                darkviolet: '9400d3',
                                deeppink: 'ff1493',
                                deepskyblue: '00bfff',
                                dimgray: '696969',
                                dimgrey: '696969',
                                dodgerblue: '1e90ff',
                                firebrick: 'b22222',
                                floralwhite: 'fffaf0',
                                forestgreen: '228b22',
                                fuchsia: 'f0f',
                                gainsboro: 'dcdcdc',
                                ghostwhite: 'f8f8ff',
                                gold: 'ffd700',
                                goldenrod: 'daa520',
                                gray: '808080',
                                green: '008000',
                                greenyellow: 'adff2f',
                                grey: '808080',
                                honeydew: 'f0fff0',
                                hotpink: 'ff69b4',
                                indianred: 'cd5c5c',
                                indigo: '4b0082',
                                ivory: 'fffff0',
                                khaki: 'f0e68c',
                                lavender: 'e6e6fa',
                                lavenderblush: 'fff0f5',
                                lawngreen: '7cfc00',
                                lemonchiffon: 'fffacd',
                                lightblue: 'add8e6',
                                lightcoral: 'f08080',
                                lightcyan: 'e0ffff',
                                lightgoldenrodyellow: 'fafad2',
                                lightgray: 'd3d3d3',
                                lightgreen: '90ee90',
                                lightgrey: 'd3d3d3',
                                lightpink: 'ffb6c1',
                                lightsalmon: 'ffa07a',
                                lightseagreen: '20b2aa',
                                lightskyblue: '87cefa',
                                lightslategray: '789',
                                lightslategrey: '789',
                                lightsteelblue: 'b0c4de',
                                lightyellow: 'ffffe0',
                                lime: '0f0',
                                limegreen: '32cd32',
                                linen: 'faf0e6',
                                magenta: 'f0f',
                                maroon: '800000',
                                mediumaquamarine: '66cdaa',
                                mediumblue: '0000cd',
                                mediumorchid: 'ba55d3',
                                mediumpurple: '9370db',
                                mediumseagreen: '3cb371',
                                mediumslateblue: '7b68ee',
                                mediumspringgreen: '00fa9a',
                                mediumturquoise: '48d1cc',
                                mediumvioletred: 'c71585',
                                midnightblue: '191970',
                                mintcream: 'f5fffa',
                                mistyrose: 'ffe4e1',
                                moccasin: 'ffe4b5',
                                navajowhite: 'ffdead',
                                navy: '000080',
                                oldlace: 'fdf5e6',
                                olive: '808000',
                                olivedrab: '6b8e23',
                                orange: 'ffa500',
                                orangered: 'ff4500',
                                orchid: 'da70d6',
                                palegoldenrod: 'eee8aa',
                                palegreen: '98fb98',
                                paleturquoise: 'afeeee',
                                palevioletred: 'db7093',
                                papayawhip: 'ffefd5',
                                peachpuff: 'ffdab9',
                                peru: 'cd853f',
                                pink: 'ffc0cb',
                                plum: 'dda0dd',
                                powderblue: 'b0e0e6',
                                purple: '800080',
                                rebeccapurple: '663399',
                                red: 'f00',
                                rosybrown: 'bc8f8f',
                                royalblue: '4169e1',
                                saddlebrown: '8b4513',
                                salmon: 'fa8072',
                                sandybrown: 'f4a460',
                                seagreen: '2e8b57',
                                seashell: 'fff5ee',
                                sienna: 'a0522d',
                                silver: 'c0c0c0',
                                skyblue: '87ceeb',
                                slateblue: '6a5acd',
                                slategray: '708090',
                                slategrey: '708090',
                                snow: 'fffafa',
                                springgreen: '00ff7f',
                                steelblue: '4682b4',
                                tan: 'd2b48c',
                                teal: '008080',
                                thistle: 'd8bfd8',
                                tomato: 'ff6347',
                                turquoise: '40e0d0',
                                violet: 'ee82ee',
                                wheat: 'f5deb3',
                                white: 'fff',
                                whitesmoke: 'f5f5f5',
                                yellow: 'ff0',
                                yellowgreen: '9acd32',
                              }),
                              C = (y.hexNames = (function (t) {
                                var e = {};
                                for (var n in t)
                                  t.hasOwnProperty(n) && (e[t[n]] = n);
                                return e;
                              })(x)),
                              S =
                                ((_ =
                                  '[\\s|\\(]+(' +
                                  (b =
                                    '(?:' +
                                    '[-\\+]?\\d*\\.\\d+%?' +
                                    ')|(?:' +
                                    '[-\\+]?\\d+%?' +
                                    ')') +
                                  ')[,|\\s]+(' +
                                  b +
                                  ')[,|\\s]+(' +
                                  b +
                                  ')\\s*\\)?'),
                                (w =
                                  '[\\s|\\(]+(' +
                                  b +
                                  ')[,|\\s]+(' +
                                  b +
                                  ')[,|\\s]+(' +
                                  b +
                                  ')[,|\\s]+(' +
                                  b +
                                  ')\\s*\\)?'),
                                {
                                  rgb: new RegExp('rgb' + _),
                                  rgba: new RegExp('rgba' + w),
                                  hsl: new RegExp('hsl' + _),
                                  hsla: new RegExp('hsla' + w),
                                  hsv: new RegExp('hsv' + _),
                                  hsva: new RegExp('hsva' + w),
                                  hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
                                  hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
                                  hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
                                });
                            (window.tinycolor = y),
                              t(function () {
                                t.fn.spectrum.load &&
                                  t.fn.spectrum.processNativeColorInputs();
                              });
                          }

                          function O(e, n, r, o) {
                            for (var i = [], s = 0; s < e.length; s++) {
                              var l = e[s];
                              if (l) {
                                var c = y(l),
                                  u =
                                    c.toHsl().l < 0.5
                                      ? 'sp-thumb-el sp-thumb-dark'
                                      : 'sp-thumb-el sp-thumb-light';
                                u += y.equals(n, l) ? ' sp-thumb-active' : '';
                                var p = c.toString(o.preferredFormat || 'rgb'),
                                  d = a
                                    ? 'background-color:' + c.toRgbString()
                                    : 'filter:' + c.toFilter();
                                i.push(
                                  '<span title="' +
                                    p +
                                    '" data-color="' +
                                    c.toRgbString() +
                                    '" class="' +
                                    u +
                                    '"><span class="sp-thumb-inner" style="' +
                                    d +
                                    ';"></span></span>'
                                );
                              } else
                                i.push(
                                  t('<div />')
                                    .append(
                                      t(
                                        '<span data-color="" style="background-color:transparent;" class="' +
                                          'sp-clear-display' +
                                          '"></span>'
                                      ).attr('title', o.noColorSelectedText)
                                    )
                                    .html()
                                );
                            }
                            return (
                              "<div class='sp-cf " +
                              r +
                              "'>" +
                              i.join('') +
                              '</div>'
                            );
                          }

                          function k(n, c) {
                            var u,
                              p,
                              d,
                              f,
                              h = (function (e, n) {
                                var o = t.extend({}, r, e);
                                return (
                                  (o.callbacks = {
                                    move: P(o.move, n),
                                    change: P(o.change, n),
                                    show: P(o.show, n),
                                    hide: P(o.hide, n),
                                    beforeShow: P(o.beforeShow, n),
                                  }),
                                  o
                                );
                              })(c, n),
                              g = h.flat,
                              v = h.showSelectionPalette,
                              m = h.localStorageKey,
                              b = h.theme,
                              _ = h.callbacks,
                              w =
                                ((u = $t),
                                (p = 10),
                                function () {
                                  var t = this,
                                    e = arguments;
                                  d && clearTimeout(f),
                                    (!d && f) ||
                                      (f = setTimeout(function () {
                                        (f = null), u.apply(t, e);
                                      }, p));
                                }),
                              x = !1,
                              C = !1,
                              S = !0,
                              k = 0,
                              T = 0,
                              M = 0,
                              L = 0,
                              D = 0,
                              N = 0,
                              I = 0,
                              F = 0,
                              R = 0,
                              z = 0,
                              V = 1,
                              B = [],
                              H = [],
                              U = {},
                              W = h.selectionPalette.slice(0),
                              $ = h.maxSelectionSize,
                              G = 'sp-dragging',
                              q = null,
                              K = n.ownerDocument,
                              Z = (K.body, t(n)),
                              Y = !1,
                              X = t(l, K).addClass(b),
                              J = X.find('.sp-picker-container'),
                              Q = X.find('.sp-color'),
                              tt = X.find('.sp-dragger'),
                              et = X.find('.sp-hue'),
                              nt = X.find('.sp-slider'),
                              rt = X.find('.sp-alpha-inner'),
                              ot = X.find('.sp-alpha'),
                              it = X.find('.sp-alpha-handle'),
                              at = X.find('.sp-input'),
                              st = X.find('.sp-palette'),
                              lt = X.find('.sp-initial'),
                              ct = X.find('.sp-cancel'),
                              ut = X.find('.sp-clear'),
                              pt = X.find('.sp-choose'),
                              dt = X.find('.sp-palette-toggle'),
                              ft = Z.is('input'),
                              ht = ft && 'color' === Z.attr('type') && j(),
                              gt = ft && !g,
                              vt = gt
                                ? t(s)
                                    .addClass(b)
                                    .addClass(h.className)
                                    .addClass(h.replacerClassName)
                                : t([]),
                              mt = gt ? vt : Z,
                              yt = vt.find('.sp-preview-inner'),
                              bt = h.color || (ft && Z.val()),
                              _t = !1,
                              wt = h.preferredFormat,
                              xt = !h.showButtons || h.clickoutFiresChange,
                              Ct = !bt,
                              St = h.allowEmpty && !ht;

                            function Ot() {
                              if (
                                (h.showPaletteOnly && (h.showPalette = !0),
                                dt.text(
                                  h.showPaletteOnly
                                    ? h.togglePaletteMoreText
                                    : h.togglePaletteLessText
                                ),
                                h.palette)
                              ) {
                                (B = h.palette.slice(0)),
                                  (H = t.isArray(B[0]) ? B : [B]),
                                  (U = {});
                                for (var e = 0; e < H.length; e++)
                                  for (var n = 0; n < H[e].length; n++) {
                                    var r = y(H[e][n]).toRgbString();
                                    U[r] = !0;
                                  }
                              }
                              X.toggleClass('sp-flat', g),
                                X.toggleClass(
                                  'sp-input-disabled',
                                  !h.showInput
                                ),
                                X.toggleClass('sp-alpha-enabled', h.showAlpha),
                                X.toggleClass('sp-clear-enabled', St),
                                X.toggleClass(
                                  'sp-buttons-disabled',
                                  !h.showButtons
                                ),
                                X.toggleClass(
                                  'sp-palette-buttons-disabled',
                                  !h.togglePaletteOnly
                                ),
                                X.toggleClass(
                                  'sp-palette-disabled',
                                  !h.showPalette
                                ),
                                X.toggleClass(
                                  'sp-palette-only',
                                  h.showPaletteOnly
                                ),
                                X.toggleClass(
                                  'sp-initial-disabled',
                                  !h.showInitial
                                ),
                                X.addClass(h.className).addClass(
                                  h.containerClassName
                                ),
                                $t();
                            }

                            function kt() {
                              if (m && window.localStorage) {
                                try {
                                  var e = window.localStorage[m].split(',#');
                                  e.length > 1 &&
                                    (delete window.localStorage[m],
                                    t.each(e, function (t, e) {
                                      Tt(e);
                                    }));
                                } catch (t) {}
                                try {
                                  W = window.localStorage[m].split(';');
                                } catch (t) {}
                              }
                            }

                            function Tt(e) {
                              if (v) {
                                var n = y(e).toRgbString();
                                if (!U[n] && -1 === t.inArray(n, W))
                                  for (W.push(n); W.length > $; ) W.shift();
                                if (m && window.localStorage)
                                  try {
                                    window.localStorage[m] = W.join(';');
                                  } catch (t) {}
                              }
                            }

                            function Et() {
                              var e = Vt(),
                                n = t.map(H, function (t, n) {
                                  return O(
                                    t,
                                    e,
                                    'sp-palette-row sp-palette-row-' + n,
                                    h
                                  );
                                });
                              kt(),
                                W &&
                                  n.push(
                                    O(
                                      (function () {
                                        var t = [];
                                        if (h.showPalette)
                                          for (var e = 0; e < W.length; e++) {
                                            var n = y(W[e]).toRgbString();
                                            U[n] || t.push(W[e]);
                                          }
                                        return t
                                          .reverse()
                                          .slice(0, h.maxSelectionSize);
                                      })(),
                                      e,
                                      'sp-palette-row sp-palette-row-selection',
                                      h
                                    )
                                  ),
                                st.html(n.join(''));
                            }

                            function Pt() {
                              if (h.showInitial) {
                                var t = _t,
                                  e = Vt();
                                lt.html(
                                  O([t, e], e, 'sp-palette-row-initial', h)
                                );
                              }
                            }

                            function At() {
                              (T <= 0 || k <= 0 || L <= 0) && $t(),
                                (C = !0),
                                X.addClass(G),
                                (q = null),
                                Z.trigger('dragstart.spectrum', [Vt()]);
                            }

                            function jt() {
                              (C = !1),
                                X.removeClass(G),
                                Z.trigger('dragstop.spectrum', [Vt()]);
                            }

                            function Mt() {
                              var t = at.val();
                              if ((null !== t && '' !== t) || !St) {
                                var e = y(t);
                                e.isValid()
                                  ? (zt(e), Wt(!0))
                                  : at.addClass('sp-validation-error');
                              } else zt(null), Wt(!0);
                            }

                            function Lt() {
                              x ? Ft() : Dt();
                            }

                            function Dt() {
                              var e = t.Event('beforeShow.spectrum');
                              if (x) $t();
                              else if (
                                (Z.trigger('beforeShow.spectrum', [Vt()]),
                                !1 !== _.beforeShow(Vt()) &&
                                  !e.isDefaultPrevented())
                              ) {
                                !(function () {
                                  for (var t = 0; t < o.length; t++)
                                    o[t] && o[t].hide();
                                })(),
                                  (x = !0);
                                var n = t(K);
                                n.bind('keydown.spectrum', Nt),
                                  n.bind('click.spectrum', It),
                                  t(window).bind('resize.spectrum', w),
                                  vt.addClass('sp-active'),
                                  X.removeClass('sp-hidden'),
                                  $t(),
                                  Ht(),
                                  (_t = Vt()),
                                  Pt(),
                                  _.show(_t),
                                  Z.trigger('show.spectrum', [_t]);
                              }
                            }

                            function Nt(t) {
                              27 === t.keyCode && Ft();
                            }

                            function It(t) {
                              2 != t.button &&
                                (C || (xt ? Wt(!0) : Rt(), Ft()));
                            }

                            function Ft() {
                              x &&
                                !g &&
                                ((x = !1),
                                t(K).unbind('keydown.spectrum', Nt),
                                t(K).unbind('click.spectrum', It),
                                t(window).unbind('resize.spectrum', w),
                                vt.removeClass('sp-active'),
                                X.addClass('sp-hidden'),
                                _.hide(Vt()),
                                Z.trigger('hide.spectrum', [Vt()]));
                            }

                            function Rt() {
                              zt(_t, !0);
                            }

                            function zt(t, e) {
                              var n, r;
                              y.equals(t, Vt())
                                ? Ht()
                                : (!t && St
                                    ? (Ct = !0)
                                    : ((Ct = !1),
                                      (S = !t),
                                      (r = (n = y(t)).toHsv()),
                                      (F = (r.h % 360) / 360),
                                      (R = r.s),
                                      (z = r.v),
                                      (V = r.a)),
                                  Ht(),
                                  n &&
                                    n.isValid() &&
                                    !e &&
                                    (wt = h.preferredFormat || n.getFormat()));
                            }

                            function Vt(t) {
                              return (
                                (t = t || {}),
                                St && Ct
                                  ? null
                                  : y.fromRatio(
                                      {
                                        h: F,
                                        s: R,
                                        v: z,
                                        a: Math.round(100 * V) / 100,
                                      },
                                      {
                                        format: t.format || wt,
                                      }
                                    )
                              );
                            }

                            function Bt() {
                              Ht(),
                                _.move(Vt()),
                                Z.trigger('move.spectrum', [Vt()]);
                            }

                            function Ht() {
                              at.removeClass('sp-validation-error'), Ut();
                              var t = y.fromRatio({
                                h: F,
                                s: 1,
                                v: 1,
                              });
                              Q.css('background-color', t.toHexString());
                              var e = wt;
                              V < 1 &&
                                (0 !== V || 'name' !== e) &&
                                (('hex' !== e &&
                                  'hex3' !== e &&
                                  'hex6' !== e &&
                                  'name' !== e) ||
                                  (e = 'rgb'));
                              var n = Vt({
                                  format: e,
                                }),
                                r = '';
                              if (
                                (yt.removeClass('sp-clear-display'),
                                yt.css('background-color', 'transparent'),
                                !n && St)
                              )
                                yt.addClass('sp-clear-display');
                              else {
                                var o = n.toHexString(),
                                  s = n.toRgbString();
                                if (
                                  (a || 1 === n.alpha
                                    ? yt.css('background-color', s)
                                    : (yt.css(
                                        'background-color',
                                        'transparent'
                                      ),
                                      yt.css('filter', n.toFilter())),
                                  h.showAlpha)
                                ) {
                                  var l = n.toRgb();
                                  l.a = 0;
                                  var c = y(l).toRgbString(),
                                    u =
                                      'linear-gradient(left, ' +
                                      c +
                                      ', ' +
                                      o +
                                      ')';
                                  i
                                    ? rt.css(
                                        'filter',
                                        y(c).toFilter(
                                          {
                                            gradientType: 1,
                                          },
                                          o
                                        )
                                      )
                                    : (rt.css('background', '-webkit-' + u),
                                      rt.css('background', '-moz-' + u),
                                      rt.css('background', '-ms-' + u),
                                      rt.css(
                                        'background',
                                        'linear-gradient(to right, ' +
                                          c +
                                          ', ' +
                                          o +
                                          ')'
                                      ));
                                }
                                r = n.toString(e);
                              }
                              h.showInput && at.val(r),
                                h.showPalette && Et(),
                                Pt();
                            }

                            function Ut() {
                              var t = R,
                                e = z;
                              if (St && Ct) it.hide(), nt.hide(), tt.hide();
                              else {
                                it.show(), nt.show(), tt.show();
                                var n = t * k,
                                  r = T - e * T;
                                (n = Math.max(-M, Math.min(k - M, n - M))),
                                  (r = Math.max(-M, Math.min(T - M, r - M))),
                                  tt.css({
                                    top: r + 'px',
                                    left: n + 'px',
                                  });
                                var o = V * D;
                                it.css({
                                  left: o - N / 2 + 'px',
                                });
                                var i = F * L;
                                nt.css({
                                  top: i - I + 'px',
                                });
                              }
                            }

                            function Wt(t) {
                              var e = Vt(),
                                n = '',
                                r = !!S || !y.equals(e, _t);
                              e && ((n = e.toString(wt)), !x && Tt(e)),
                                ft && Z.val(n),
                                t &&
                                  r &&
                                  (_.change(e), Z.trigger('change', [e]));
                            }

                            function $t() {
                              x &&
                                ((k = Q.width()),
                                (T = Q.height()),
                                (M = tt.height()),
                                et.width(),
                                (L = et.height()),
                                (I = nt.height()),
                                (D = ot.width()),
                                (N = it.width()),
                                g ||
                                  (X.css('position', 'absolute'),
                                  h.offset
                                    ? X.offset(h.offset)
                                    : X.offset(
                                        (function (e, n) {
                                          var r = 0,
                                            o = e.outerWidth(),
                                            i = e.outerHeight(),
                                            a = n.outerHeight(),
                                            s = e[0].ownerDocument,
                                            l = s.documentElement,
                                            c = l.clientWidth,
                                            u = l.clientHeight,
                                            p = c + t(s).scrollLeft(),
                                            d = u + t(s).scrollTop(),
                                            f = n.offset();
                                          return (
                                            (f.top += a),
                                            (f.left -= Math.min(
                                              f.left,
                                              f.left + o > p && p > o
                                                ? Math.abs(f.left + o - p)
                                                : 0
                                            )),
                                            (f.top -= Math.min(
                                              f.top,
                                              f.top + i > d && d > i
                                                ? Math.abs(i + a - r)
                                                : r
                                            )),
                                            f
                                          );
                                        })(X, mt)
                                      )),
                                Ut(),
                                h.showPalette && Et(),
                                Z.trigger('reflow.spectrum'));
                            }

                            function Gt() {
                              Ft(),
                                (Y = !0),
                                Z.attr('disabled', !0),
                                mt.addClass('sp-disabled');
                            }
                            !(function () {
                              if (
                                (i &&
                                  X.find('*:not(input)').attr(
                                    'unselectable',
                                    'on'
                                  ),
                                Ot(),
                                gt && Z.after(vt).hide(),
                                St || ut.hide(),
                                g)
                              )
                                Z.after(X).hide();
                              else {
                                var e =
                                  'parent' === h.appendTo
                                    ? Z.parent()
                                    : t(h.appendTo);
                                1 !== e.length && (e = t('body')), e.append(X);
                              }

                              function n(e) {
                                return (
                                  e.data && e.data.ignore
                                    ? (zt(
                                        t(e.target)
                                          .closest('.sp-thumb-el')
                                          .data('color')
                                      ),
                                      Bt())
                                    : (zt(
                                        t(e.target)
                                          .closest('.sp-thumb-el')
                                          .data('color')
                                      ),
                                      Bt(),
                                      h.hideAfterPaletteSelect &&
                                        (Wt(!0), Ft())),
                                  !1
                                );
                              }
                              kt(),
                                mt.bind(
                                  'click.spectrum touchstart.spectrum',
                                  function (e) {
                                    Y || Lt(),
                                      e.stopPropagation(),
                                      t(e.target).is('input') ||
                                        e.preventDefault();
                                  }
                                ),
                                (Z.is(':disabled') || !0 === h.disabled) &&
                                  Gt(),
                                X.click(E),
                                at.change(Mt),
                                at.bind('paste', function () {
                                  setTimeout(Mt, 1);
                                }),
                                at.keydown(function (t) {
                                  13 == t.keyCode && Mt();
                                }),
                                ct.text(h.cancelText),
                                ct.bind('click.spectrum', function (t) {
                                  t.stopPropagation(),
                                    t.preventDefault(),
                                    Rt(),
                                    Ft();
                                }),
                                ut.attr('title', h.clearText),
                                ut.bind('click.spectrum', function (t) {
                                  t.stopPropagation(),
                                    t.preventDefault(),
                                    (Ct = !0),
                                    Bt(),
                                    g && Wt(!0);
                                }),
                                pt.text(h.chooseText),
                                pt.bind('click.spectrum', function (t) {
                                  t.stopPropagation(),
                                    t.preventDefault(),
                                    i &&
                                      at.is(':focus') &&
                                      at.trigger('change'),
                                    at.hasClass('sp-validation-error') ||
                                      (Wt(!0), Ft());
                                }),
                                dt.text(
                                  h.showPaletteOnly
                                    ? h.togglePaletteMoreText
                                    : h.togglePaletteLessText
                                ),
                                dt.bind('click.spectrum', function (t) {
                                  t.stopPropagation(),
                                    t.preventDefault(),
                                    (h.showPaletteOnly = !h.showPaletteOnly),
                                    h.showPaletteOnly ||
                                      g ||
                                      X.css(
                                        'left',
                                        '-=' + (J.outerWidth(!0) + 5)
                                      ),
                                    Ot();
                                }),
                                A(
                                  ot,
                                  function (t, e, n) {
                                    (V = t / D),
                                      (Ct = !1),
                                      n.shiftKey &&
                                        (V = Math.round(10 * V) / 10),
                                      Bt();
                                  },
                                  At,
                                  jt
                                ),
                                A(
                                  et,
                                  function (t, e) {
                                    (F = parseFloat(e / L)),
                                      (Ct = !1),
                                      h.showAlpha || (V = 1),
                                      Bt();
                                  },
                                  At,
                                  jt
                                ),
                                A(
                                  Q,
                                  function (t, e, n) {
                                    if (n.shiftKey) {
                                      if (!q) {
                                        var r = R * k,
                                          o = T - z * T,
                                          i = Math.abs(t - r) > Math.abs(e - o);
                                        q = i ? 'x' : 'y';
                                      }
                                    } else q = null;
                                    var a = !q || 'y' === q;
                                    (!q || 'x' === q) &&
                                      (R = parseFloat(t / k)),
                                      a && (z = parseFloat((T - e) / T)),
                                      (Ct = !1),
                                      h.showAlpha || (V = 1),
                                      Bt();
                                  },
                                  At,
                                  jt
                                ),
                                bt
                                  ? (zt(bt),
                                    Ht(),
                                    (wt =
                                      h.preferredFormat || y(bt).getFormat()),
                                    Tt(bt))
                                  : Ht(),
                                g && Dt();
                              var r = i
                                ? 'mousedown.spectrum'
                                : 'click.spectrum touchstart.spectrum';
                              st.delegate('.sp-thumb-el', r, n),
                                lt.delegate(
                                  '.sp-thumb-el:nth-child(1)',
                                  r,
                                  {
                                    ignore: !0,
                                  },
                                  n
                                );
                            })();
                            var qt = {
                              show: Dt,
                              hide: Ft,
                              toggle: Lt,
                              reflow: $t,
                              option: function (n, r) {
                                return n === e
                                  ? t.extend({}, h)
                                  : r === e
                                  ? h[n]
                                  : ((h[n] = r),
                                    'preferredFormat' === n &&
                                      (wt = h.preferredFormat),
                                    void Ot());
                              },
                              enable: function () {
                                (Y = !1),
                                  Z.attr('disabled', !1),
                                  mt.removeClass('sp-disabled');
                              },
                              disable: Gt,
                              offset: function (t) {
                                (h.offset = t), $t();
                              },
                              set: function (t) {
                                zt(t), Wt();
                              },
                              get: Vt,
                              destroy: function () {
                                Z.show(),
                                  mt.unbind(
                                    'click.spectrum touchstart.spectrum'
                                  ),
                                  X.remove(),
                                  vt.remove(),
                                  (o[qt.id] = null);
                              },
                              container: X,
                            };
                            return (qt.id = o.push(qt) - 1), qt;
                          }

                          function T() {}

                          function E(t) {
                            t.stopPropagation();
                          }

                          function P(t, e) {
                            var n = Array.prototype.slice,
                              r = n.call(arguments, 2);
                            return function () {
                              return t.apply(e, r.concat(n.call(arguments)));
                            };
                          }

                          function A(e, n, r, o) {
                            (n = n || function () {}),
                              (r = r || function () {}),
                              (o = o || function () {});
                            var a = document,
                              s = !1,
                              l = {},
                              c = 0,
                              u = 0,
                              p = 'ontouchstart' in window,
                              d = {};

                            function f(t) {
                              t.stopPropagation && t.stopPropagation(),
                                t.preventDefault && t.preventDefault(),
                                (t.returnValue = !1);
                            }

                            function h(t) {
                              if (s) {
                                if (i && a.documentMode < 9 && !t.button)
                                  return g();
                                var r = t && t.touches && t.touches[0],
                                  o = (r && r.pageX) || t.pageX,
                                  d = (r && r.pageY) || t.pageY,
                                  h = Math.max(0, Math.min(o - l.left, u)),
                                  v = Math.max(0, Math.min(d - l.top, c));
                                p && f(t), n.apply(e, [h, v, t]);
                              }
                            }

                            function g() {
                              s &&
                                (t(a).unbind(d),
                                t(a.body).removeClass('sp-dragging'),
                                setTimeout(function () {
                                  o.apply(e, arguments);
                                }, 0)),
                                (s = !1);
                            }
                            (d['selectstart'] = f),
                              (d['dragstart'] = f),
                              (d['touchmove mousemove'] = h),
                              (d['touchend mouseup'] = g),
                              t(e).bind('touchstart mousedown', function (n) {
                                (n.which ? 3 == n.which : 2 == n.button) ||
                                  s ||
                                  (!1 !== r.apply(e, arguments) &&
                                    ((s = !0),
                                    (c = t(e).height()),
                                    (u = t(e).width()),
                                    (l = t(e).offset()),
                                    t(a).bind(d),
                                    t(a.body).addClass('sp-dragging'),
                                    h(n),
                                    f(n)));
                              });
                          }

                          function j() {
                            return t.fn.spectrum.inputTypeColorSupport();
                          }

                          function M(t, e, n) {
                            (t = Y(t, 255)), (e = Y(e, 255)), (n = Y(n, 255));
                            var r,
                              o,
                              i = v(t, e, n),
                              a = g(t, e, n),
                              s = (i + a) / 2;
                            if (i == a) r = o = 0;
                            else {
                              var l = i - a;
                              switch (
                                ((o = s > 0.5 ? l / (2 - i - a) : l / (i + a)),
                                i)
                              ) {
                                case t:
                                  r = (e - n) / l + (e < n ? 6 : 0);
                                  break;
                                case e:
                                  r = (n - t) / l + 2;
                                  break;
                                case n:
                                  r = (t - e) / l + 4;
                              }
                              r /= 6;
                            }
                            return {
                              h: r,
                              s: o,
                              l: s,
                            };
                          }

                          function L(t, e, n) {
                            (t = Y(t, 255)), (e = Y(e, 255)), (n = Y(n, 255));
                            var r,
                              o,
                              i = v(t, e, n),
                              a = g(t, e, n),
                              s = i,
                              l = i - a;
                            if (((o = 0 === i ? 0 : l / i), i == a)) r = 0;
                            else {
                              switch (i) {
                                case t:
                                  r = (e - n) / l + (e < n ? 6 : 0);
                                  break;
                                case e:
                                  r = (n - t) / l + 2;
                                  break;
                                case n:
                                  r = (t - e) / l + 4;
                              }
                              r /= 6;
                            }
                            return {
                              h: r,
                              s: o,
                              v: s,
                            };
                          }

                          function D(t, e, n, r) {
                            var o = [
                              Q(h(t).toString(16)),
                              Q(h(e).toString(16)),
                              Q(h(n).toString(16)),
                            ];
                            return r &&
                              o[0].charAt(0) == o[0].charAt(1) &&
                              o[1].charAt(0) == o[1].charAt(1) &&
                              o[2].charAt(0) == o[2].charAt(1)
                              ? o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0)
                              : o.join('');
                          }

                          function N(t, e, n, r) {
                            var o;
                            return [
                              Q(
                                ((o = r),
                                Math.round(255 * parseFloat(o)).toString(16))
                              ),
                              Q(h(t).toString(16)),
                              Q(h(e).toString(16)),
                              Q(h(n).toString(16)),
                            ].join('');
                          }

                          function I(t, e) {
                            e = 0 === e ? 0 : e || 10;
                            var n = y(t).toHsl();
                            return (n.s -= e / 100), (n.s = X(n.s)), y(n);
                          }

                          function F(t, e) {
                            e = 0 === e ? 0 : e || 10;
                            var n = y(t).toHsl();
                            return (n.s += e / 100), (n.s = X(n.s)), y(n);
                          }

                          function R(t) {
                            return y(t).desaturate(100);
                          }

                          function z(t, e) {
                            e = 0 === e ? 0 : e || 10;
                            var n = y(t).toHsl();
                            return (n.l += e / 100), (n.l = X(n.l)), y(n);
                          }

                          function V(t, e) {
                            e = 0 === e ? 0 : e || 10;
                            var n = y(t).toRgb();
                            return (
                              (n.r = v(0, g(255, n.r - h(255 * (-e / 100))))),
                              (n.g = v(0, g(255, n.g - h(255 * (-e / 100))))),
                              (n.b = v(0, g(255, n.b - h(255 * (-e / 100))))),
                              y(n)
                            );
                          }

                          function B(t, e) {
                            e = 0 === e ? 0 : e || 10;
                            var n = y(t).toHsl();
                            return (n.l -= e / 100), (n.l = X(n.l)), y(n);
                          }

                          function H(t, e) {
                            var n = y(t).toHsl(),
                              r = (h(n.h) + e) % 360;
                            return (n.h = r < 0 ? 360 + r : r), y(n);
                          }

                          function U(t) {
                            var e = y(t).toHsl();
                            return (e.h = (e.h + 180) % 360), y(e);
                          }

                          function W(t) {
                            var e = y(t).toHsl(),
                              n = e.h;
                            return [
                              y(t),
                              y({
                                h: (n + 120) % 360,
                                s: e.s,
                                l: e.l,
                              }),
                              y({
                                h: (n + 240) % 360,
                                s: e.s,
                                l: e.l,
                              }),
                            ];
                          }

                          function $(t) {
                            var e = y(t).toHsl(),
                              n = e.h;
                            return [
                              y(t),
                              y({
                                h: (n + 90) % 360,
                                s: e.s,
                                l: e.l,
                              }),
                              y({
                                h: (n + 180) % 360,
                                s: e.s,
                                l: e.l,
                              }),
                              y({
                                h: (n + 270) % 360,
                                s: e.s,
                                l: e.l,
                              }),
                            ];
                          }

                          function G(t) {
                            var e = y(t).toHsl(),
                              n = e.h;
                            return [
                              y(t),
                              y({
                                h: (n + 72) % 360,
                                s: e.s,
                                l: e.l,
                              }),
                              y({
                                h: (n + 216) % 360,
                                s: e.s,
                                l: e.l,
                              }),
                            ];
                          }

                          function q(t, e, n) {
                            (e = e || 6), (n = n || 30);
                            var r = y(t).toHsl(),
                              o = 360 / n,
                              i = [y(t)];
                            for (
                              r.h = (r.h - ((o * e) >> 1) + 720) % 360;
                              --e;

                            )
                              (r.h = (r.h + o) % 360), i.push(y(r));
                            return i;
                          }

                          function K(t, e) {
                            e = e || 6;
                            for (
                              var n = y(t).toHsv(),
                                r = n.h,
                                o = n.s,
                                i = n.v,
                                a = [],
                                s = 1 / e;
                              e--;

                            )
                              a.push(
                                y({
                                  h: r,
                                  s: o,
                                  v: i,
                                })
                              ),
                                (i = (i + s) % 1);
                            return a;
                          }

                          function Z(t) {
                            return (
                              (t = parseFloat(t)),
                              (isNaN(t) || t < 0 || t > 1) && (t = 1),
                              t
                            );
                          }

                          function Y(t, e) {
                            (function (t) {
                              return (
                                'string' == typeof t &&
                                -1 != t.indexOf('.') &&
                                1 === parseFloat(t)
                              );
                            })(t) && (t = '100%');
                            var n = (function (t) {
                              return (
                                'string' == typeof t && -1 != t.indexOf('%')
                              );
                            })(t);
                            return (
                              (t = g(e, v(0, parseFloat(t)))),
                              n && (t = parseInt(t * e, 10) / 100),
                              f.abs(t - e) < 1e-6 ? 1 : (t % e) / parseFloat(e)
                            );
                          }

                          function X(t) {
                            return g(1, v(0, t));
                          }

                          function J(t) {
                            return parseInt(t, 16);
                          }

                          function Q(t) {
                            return 1 == t.length ? '0' + t : '' + t;
                          }

                          function tt(t) {
                            return t <= 1 && (t = 100 * t + '%'), t;
                          }

                          function et(t) {
                            return J(t) / 255;
                          }
                        })(e['default']);
                      var ks = function (t) {
                        var e = 'name' === t.getFormat() && t.toName(),
                          n =
                            1 == t.getAlpha()
                              ? t.toHexString()
                              : t.toRgbString();
                        return e || n.replace(/ /g, '');
                      };
                      const Ts = (function (n) {
                        function r() {
                          return (
                            (null !== n && n.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Ss(r, n),
                          (r.prototype.template = function () {
                            var t = this.ppfx;
                            return '\n      <div class="'
                              .concat(
                                this.holderClass(),
                                '"></div>\n      <div class="'
                              )
                              .concat(t, 'field-colorp">\n        <div class="')
                              .concat(
                                t,
                                'field-colorp-c" data-colorp-c>\n          <div class="'
                              )
                              .concat(
                                t,
                                'checker-bg"></div>\n        </div>\n      </div>\n    '
                              );
                          }),
                          (r.prototype.inputClass = function () {
                            var t = this.ppfx;
                            return ''
                              .concat(t, 'field ')
                              .concat(t, 'field-color');
                          }),
                          (r.prototype.holderClass = function () {
                            return ''.concat(this.ppfx, 'input-holder');
                          }),
                          (r.prototype.remove = function () {
                            return (
                              n.prototype.remove.call(this),
                              this.colorEl.spectrum('destroy'),
                              this
                            );
                          }),
                          (r.prototype.handleChange = function (e) {
                            e.stopPropagation();
                            var n = e.target.value;
                            (0, t.isUndefined)(n) || this.__onInputChange(n);
                          }),
                          (r.prototype.__onInputChange = function (t) {
                            var e = this.model,
                              n = this.opts.onChange,
                              r = t,
                              o = this.getColorEl();
                            if (o) {
                              o.spectrum('set', r);
                              var i = o.spectrum('get'),
                                a = r && ks(i);
                              a && (r = a);
                            }
                            n
                              ? n(r)
                              : e.set(
                                  {
                                    value: r,
                                  },
                                  {
                                    fromInput: 1,
                                  }
                                );
                          }),
                          (r.prototype.setValue = function (e, n) {
                            void 0 === n && (n = {});
                            var r = this.model,
                              o = (0, t.isUndefined)(n.def)
                                ? r.get('defaults')
                                : n.def,
                              i = (0, t.isUndefined)(e)
                                ? (0, t.isUndefined)(o)
                                  ? ''
                                  : o
                                : e,
                              a = this.getInputEl(),
                              s = this.getColorEl(),
                              l = 'none' != i ? i : '';
                            (a.value = i),
                              (s.get(0).style.backgroundColor = l),
                              (n.fromTarget ||
                                (n.fromInput && !n.avoidStore)) &&
                                (s.spectrum('set', l),
                                (this.noneColor = 'none' == i),
                                (this.movedColor = l));
                          }),
                          (r.prototype.getColorEl = function () {
                            var t = this;
                            if (!this.colorEl) {
                              var n = this,
                                r = n.em,
                                o = n.model,
                                i = n.opts,
                                a = this.ppfx,
                                s = i.onChange,
                                l = (0, e['default'])(
                                  '<div class="'.concat(
                                    this.ppfx,
                                    'field-color-picker"></div>'
                                  )
                                ),
                                c = l.get(0).style,
                                u = r && r.config ? r.config.el : '',
                                p =
                                  (r &&
                                    r.getConfig &&
                                    r.getConfig().colorPicker) ||
                                  {};
                              this.movedColor = '';
                              var d,
                                f = !1;
                              this.$el.find('[data-colorp-c]').append(l);
                              var h = function (t, e) {
                                void 0 === e && (e = !0),
                                  s
                                    ? s(t, !e)
                                    : (e && o.setValueFromInput(0, !1),
                                      o.setValueFromInput(t, e));
                              };
                              l.spectrum(
                                Os(
                                  Os(
                                    Os(
                                      {
                                        color: o.getValue() || !1,
                                        containerClassName: ''
                                          .concat(a, 'one-bg ')
                                          .concat(a, 'two-color'),
                                        appendTo: u || 'body',
                                        maxSelectionSize: 8,
                                        showPalette: !0,
                                        showAlpha: !0,
                                        chooseText: 'Ok',
                                        cancelText: '⨯',
                                        palette: [],
                                      },
                                      p
                                    ),
                                    o.get('colorPicker') || {}
                                  ),
                                  {
                                    move: function (e) {
                                      var n = ks(e);
                                      (t.movedColor = n),
                                        (c.backgroundColor = n),
                                        h(n, !1);
                                    },
                                    change: function (e) {
                                      f = !0;
                                      var n = ks(e);
                                      (c.backgroundColor = n),
                                        h(n),
                                        (t.noneColor = !1);
                                    },
                                    show: function (e) {
                                      (f = !1),
                                        (t.movedColor = ''),
                                        (d = s
                                          ? o.getValue({
                                              noDefault: !0,
                                            })
                                          : ks(e));
                                    },
                                    hide: function () {
                                      f ||
                                        (!d && !s) ||
                                        (t.noneColor && (d = ''),
                                        (c.backgroundColor = d),
                                        l.spectrum('set', d),
                                        h(d, !1));
                                    },
                                  }
                                )
                              ),
                                r &&
                                  r.on &&
                                  this.listenTo(
                                    r,
                                    'component:selected',
                                    function () {
                                      t.movedColor && h(t.movedColor),
                                        (f = !0),
                                        (t.movedColor = ''),
                                        l.spectrum('hide');
                                    }
                                  ),
                                (this.colorEl = l);
                            }
                            return this.colorEl;
                          }),
                          (r.prototype.render = function () {
                            return (
                              ys.prototype.render.call(this),
                              this.getColorEl(),
                              this
                            );
                          }),
                          r
                        );
                      })(ys);
                      var Es =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Ps = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Es(e, t),
                          (e.prototype.templateInput = function () {
                            return '';
                          }),
                          (e.prototype.getInputEl = function () {
                            if (!this.input) {
                              var t = this.model,
                                e = this.getModelValue(),
                                n = new Ts({
                                  model: t,
                                  target: this.config.em,
                                  contClass: this.ppfx + 'field-color',
                                  ppfx: this.ppfx,
                                }).render();
                              n.setValue(e, {
                                fromTarget: 1,
                              }),
                                (this.input = n.el);
                            }
                            return this.input;
                          }),
                          e
                        );
                      })(ls);
                      var As =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        js = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            As(n, e),
                            (n.prototype.templateInput = function () {
                              return '';
                            }),
                            (n.prototype.onChange = function () {
                              this.handleClick();
                            }),
                            (n.prototype.handleClick = function () {
                              var e = this.model,
                                n = this.em,
                                r = e.get('command');
                              r &&
                                ((0, t.isString)(r)
                                  ? n.Commands.run(r)
                                  : r(n.Editor, e));
                            }),
                            (n.prototype.renderLabel = function () {
                              this.model.get('label') &&
                                ls.prototype.renderLabel.apply(this);
                            }),
                            (n.prototype.getInputEl = function () {
                              var t = this.model,
                                e = this.ppfx,
                                n = t.props(),
                                r = n.labelButton,
                                o = n.text,
                                i = n.full,
                                a = r || o,
                                s = ''.concat(e, 'btn');
                              return '<button type="button" class="'
                                .concat(s, '-prim')
                                .concat(i ? ' '.concat(s, '--full') : '', '">')
                                .concat(a, '</button>');
                            }),
                            n
                          );
                        })(ls);
                      const Ms = js;
                      js.prototype.eventCapture = ['click button'];
                      var Ls =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ds =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Ds =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Ds.apply(this, arguments)
                            );
                          },
                        Ns = 'trait',
                        Is = ''.concat(Ns, ':'),
                        Fs = ''.concat(Is, 'custom'),
                        Rs = {
                          text: ls,
                          number: Cs,
                          select: fs,
                          checkbox: gs,
                          color: Ps,
                          button: Ms,
                        },
                        zs = (function (e) {
                          function n(n) {
                            var r = e.call(this, n, 'TraitManager', rs) || this;
                            (r.TraitsView = ps),
                              (r.events = {
                                all: Ns,
                                custom: Fs,
                              });
                            var o = r.config,
                              i = new u.Hn();
                            r.model = i;
                            var a = o.pStylePrefix;
                            (r.types = Ds({}, Rs)),
                              a &&
                                (o.stylePrefix = ''
                                  .concat(a)
                                  .concat(o.stylePrefix));
                            var s = (0, t.debounce)(function () {
                              return r.__upSel();
                            }, 0);
                            i.listenTo(n, 'component:toggled', s);
                            var l = (0, t.debounce)(function () {
                              return r.__onUp();
                            }, 0);
                            return i.listenTo(n, 'trait:update', l), r;
                          }
                          return (
                            Ls(n, e),
                            (n.prototype.__upSel = function () {
                              this.select(this.em.getSelected());
                            }),
                            (n.prototype.__onUp = function () {
                              this.select(this.getSelected());
                            }),
                            (n.prototype.select = function (t) {
                              var e = t ? t.getTraits() : [];
                              this.model.set({
                                component: t,
                                traits: e,
                              }),
                                this.__trgCustom();
                            }),
                            (n.prototype.getSelected = function () {
                              return this.model.get('component') || null;
                            }),
                            (n.prototype.getCurrent = function () {
                              return this.model.get('traits') || [];
                            }),
                            (n.prototype.__trgCustom = function (t) {
                              void 0 === t && (t = {}),
                                (this.__ctn = this.__ctn || t.container),
                                this.em.trigger(this.events.custom, {
                                  container: this.__ctn,
                                });
                            }),
                            (n.prototype.postRender = function () {
                              this.__appendTo();
                            }),
                            (n.prototype.getTraitsViewer = function () {
                              return this.view;
                            }),
                            (n.prototype.addType = function (t, e) {
                              var n = this.getType('text');
                              this.types[t] = n.extend(e);
                            }),
                            (n.prototype.getType = function (t) {
                              return this.getTypes()[t];
                            }),
                            (n.prototype.getTypes = function () {
                              return this.types;
                            }),
                            (n.prototype.render = function () {
                              var t = this.view,
                                e = this.em,
                                n = this.getConfig(),
                                r = t && t.el;
                              return (
                                (t = new ps(
                                  {
                                    el: r,
                                    collection: [],
                                    editor: e,
                                    config: n,
                                  },
                                  this.getTypes()
                                )),
                                (this.view = t),
                                t.el
                              );
                            }),
                            (n.prototype.destroy = function () {
                              this.model.stopListening(), this.model.clear();
                            }),
                            n
                          );
                        })(y);
                      const Vs = zs,
                        Bs = {
                          stylePrefix: '',
                          appendTo: '',
                          sortable: !0,
                          hidable: !0,
                          hideTextnode: !0,
                          root: '',
                          showWrapper: !0,
                          showHover: !0,
                          scrollCanvas: {
                            behavior: 'smooth',
                            block: 'nearest',
                          },
                          scrollLayers: {
                            behavior: 'auto',
                            block: 'nearest',
                          },
                          highlightHover: !0,
                          custom: !1,
                          onInit: function () {},
                          onRender: function () {},
                          extend: {},
                        };
                      var Hs =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Us = (function (t) {
                          function e(e) {
                            void 0 === e && (e = {});
                            var n = t.call(this, e) || this;
                            (n.items = []), (n.opt = e);
                            var r = e.config || {};
                            (n.config = r), (n.parentView = e.parentView);
                            var o = r.stylePrefix || '',
                              i = r.pStylePrefix || '',
                              a = n.collection;
                            n.listenTo(a, 'add', n.addTo),
                              n.listenTo(a, 'reset resetNavigator', n.render),
                              n.listenTo(a, 'remove', n.removeChildren),
                              (n.className = ''.concat(o, 'layers'));
                            var s = r.em;
                            if (r.sortable && !n.opt.sorter) {
                              var l = s.Utils;
                              n.opt.sorter = new l.Sorter({
                                container: r.sortContainer || n.el,
                                containerSel: '.'.concat(n.className),
                                itemSel: '.'.concat(o, 'layer'),
                                ignoreViewChildren: 1,
                                onEndMove: function (t, e, n) {
                                  var r = e.getSourceModel();
                                  s.setSelected(r, {
                                    forceChange: 1,
                                  }),
                                    s.trigger(''.concat(Ke, ':end'), n);
                                },
                                avoidSelectOnEnd: 1,
                                nested: 1,
                                ppfx: i,
                                pfx: o,
                              });
                            }
                            return (
                              n.$el.data('collection', a),
                              e.parent && n.$el.data('model', e.parent),
                              n
                            );
                          }
                          return (
                            Hs(e, t),
                            (e.prototype.removeChildren = function (t) {
                              var e = t.viewLayer;
                              e && (e.remove(), delete t.viewLayer);
                            }),
                            (e.prototype.addTo = function (t) {
                              var e = this.collection.indexOf(t);
                              this.addToCollection(t, null, e);
                            }),
                            (e.prototype.addToCollection = function (t, e, n) {
                              var r = this,
                                o = r.parentView,
                                i = r.opt,
                                a = r.config,
                                s = i.ItemView,
                                l = i.opened,
                                c = i.module,
                                u = e || null,
                                p = new s({
                                  ItemView: s,
                                  level: i.level,
                                  model: t,
                                  parentView: o,
                                  config: a,
                                  sorter: i.sorter,
                                  opened: l,
                                  module: c,
                                }),
                                d = p.render().el;
                              if (u) u.appendChild(d);
                              else if (void 0 !== n) {
                                var f = 'before';
                                this.$el.children().length == n &&
                                  (n--, (f = 'after')),
                                  n < 0
                                    ? this.$el.append(d)
                                    : this.$el.children().eq(n)[f](d);
                              } else this.$el.append(d);
                              return this.items.push(p), d;
                            }),
                            (e.prototype.remove = function () {
                              for (var t = [], e = 0; e < arguments.length; e++)
                                t[e] = arguments[e];
                              return (
                                u.G7.prototype.remove.apply(this, t),
                                this.items.map(function (t) {
                                  return t.remove();
                                }),
                                this
                              );
                            }),
                            (e.prototype.render = function () {
                              var t = this,
                                e = document.createDocumentFragment(),
                                n = this.el;
                              return (
                                (n.innerHTML = ''),
                                this.collection.each(function (n) {
                                  return t.addToCollection(n, e);
                                }),
                                n.appendChild(e),
                                (n.className = this.className),
                                this
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const Ws = Us;
                      var $s =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Gs = 'contentEditable',
                        qs = (function (e) {
                          function r(n) {
                            var r = e.call(this, n) || this;
                            (0, t.bindAll)(r, '__render'),
                              (r.opt = n),
                              (r.module = n.module),
                              (r.config = n.config || {}),
                              (r.sorter = n.sorter || ''),
                              (r.parentView = n.parentView);
                            var o = r,
                              i = o.model,
                              a = o.pfx,
                              s = o.ppfx,
                              l = i.get('type') || 'default';
                            return (
                              (r.className = ''
                                .concat(a, 'layer ')
                                .concat(a, 'layer__t-')
                                .concat(l, ' no-select ')
                                .concat(s, 'two-color')),
                              (r.inputNameCls = ''.concat(s, 'layer-name')),
                              (r.clsTitleC = ''.concat(a, 'layer-title-c')),
                              (r.clsTitle = ''.concat(a, 'layer-title')),
                              (r.clsCaret = ''.concat(a, 'layer-caret')),
                              (r.clsCount = ''.concat(a, 'layer-count')),
                              (r.clsMove = ''.concat(a, 'layer-move')),
                              (r.clsChildren = ''.concat(a, 'layer-children')),
                              (r.clsNoChild = ''.concat(a, 'layer-no-chld')),
                              (r.clsEdit = ''.concat(r.inputNameCls, '--edit')),
                              (r.clsNoEdit = ''.concat(
                                r.inputNameCls,
                                '--no-edit'
                              )),
                              r.initComponent(),
                              r
                            );
                          }
                          return (
                            $s(r, e),
                            (r.prototype.events = function () {
                              return {
                                'mousedown [data-toggle-move]': 'startSort',
                                'touchstart [data-toggle-move]': 'startSort',
                                'click [data-toggle-visible]':
                                  'toggleVisibility',
                                'click [data-toggle-open]': 'toggleOpening',
                                'click [data-toggle-select]': 'handleSelect',
                                'mouseover [data-toggle-select]': 'handleHover',
                                'mouseout [data-toggle-select]':
                                  'handleHoverOut',
                                'dblclick [data-name]': 'handleEdit',
                                'keydown [data-name]': 'handleEditKey',
                                'focusout [data-name]': 'handleEditEnd',
                              };
                            }),
                            (r.prototype.template = function (t) {
                              var e = this,
                                n = e.pfx,
                                r = e.ppfx,
                                o = e.config,
                                i = e.clsNoEdit,
                                a = e.module,
                                s = e.opt,
                                l = e.em,
                                c = o.hidable,
                                u = a.getComponents(t).length,
                                p = u ? '' : this.clsNoChild,
                                d = ''.concat(this.clsTitle, ' ').concat(p),
                                f = ''
                                  .concat(this.clsTitleC, ' ')
                                  .concat(r, 'one-bg'),
                                h = ''
                                  .concat(this.inputNameCls, ' ')
                                  .concat(i, ' ')
                                  .concat(r, 'no-app'),
                                g = s.level + 1,
                                v = ''.concat(30 + 10 * g, 'px'),
                                m = t.getName(),
                                y = t.getIcon(),
                                b = ''.concat(n, 'layer'),
                                _ = (null == l ? void 0 : l.getConfig()).icons,
                                w = _.move,
                                x = _.eye,
                                C = _.eyeOff,
                                S = _.chevron;
                              return '\n      '
                                .concat(
                                  c
                                    ? '<i class="'
                                        .concat(
                                          n,
                                          'layer-vis" data-toggle-visible>\n            <i class="'
                                        )
                                        .concat(n, 'layer-vis-on">')
                                        .concat(
                                          x,
                                          '</i>\n            <i class="'
                                        )
                                        .concat(n, 'layer-vis-off">')
                                        .concat(C, '</i>\n          </i>')
                                    : '',
                                  '\n      <div class="'
                                )
                                .concat(f, '">\n        <div class="')
                                .concat(d, '" style="padding-left: ')
                                .concat(
                                  v,
                                  '" data-toggle-select>\n          <div class="'
                                )
                                .concat(n, 'layer-title-inn" title="')
                                .concat(m, '">\n            <i class="')
                                .concat(this.clsCaret, '" data-toggle-open>')
                                .concat(S, '</i>\n            ')
                                .concat(
                                  y
                                    ? '<span class="'
                                        .concat(b, '__icon">')
                                        .concat(y, '</span>')
                                    : '',
                                  '\n            <span class="'
                                )
                                .concat(h, '" data-name>')
                                .concat(
                                  m,
                                  '</span>\n          </div>\n        </div>\n      </div>\n      <div class="'
                                )
                                .concat(this.clsCount, '" data-count>')
                                .concat(u || '', '</div>\n      <div class="')
                                .concat(this.clsMove, '" data-toggle-move>')
                                .concat(w || '', '</div>\n      <div class="')
                                .concat(this.clsChildren, '"></div>');
                            }),
                            Object.defineProperty(r.prototype, 'em', {
                              get: function () {
                                return this.module.em;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(r.prototype, 'ppfx', {
                              get: function () {
                                return this.em.getConfig().stylePrefix;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(r.prototype, 'pfx', {
                              get: function () {
                                return this.config.stylePrefix;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (r.prototype.initComponent = function () {
                              var t = this,
                                e = this.model,
                                n = this.config.onInit,
                                r = e.components();
                              this.listenTo(
                                r,
                                'remove add reset',
                                this.checkChildren
                              ),
                                [
                                  ['change:status', this.updateStatus],
                                  ['change:open', this.updateOpening],
                                  ['change:layerable', this.updateLayerable],
                                  [
                                    'change:style:display',
                                    this.updateVisibility,
                                  ],
                                  ['rerender:layer', this.render],
                                  [
                                    'change:name change:custom-name',
                                    this.updateName,
                                  ],
                                ].forEach(function (n) {
                                  return t.listenTo(e, n[0], n[1]);
                                }),
                                this.$el.data('model', e),
                                this.$el.data('collection', r),
                                (e.viewLayer = this),
                                n.bind(this)({
                                  component: e,
                                  render: this.__render,
                                  listenTo: this.listenTo,
                                });
                            }),
                            (r.prototype.updateName = function () {
                              this.getInputName().innerText =
                                this.model.getName();
                            }),
                            (r.prototype.getVisibilityEl = function () {
                              return (
                                this.eyeEl ||
                                  (this.eyeEl = this.$el.children(
                                    '.'.concat(this.pfx, 'layer-vis')
                                  )),
                                this.eyeEl
                              );
                            }),
                            (r.prototype.updateVisibility = function () {
                              var t = this,
                                e = t.pfx,
                                n = t.model,
                                r = t.module,
                                o = ''.concat(e, 'layer-hidden'),
                                i = r.isVisible(n) ? 'removeClass' : 'addClass';
                              this.$el[i](o),
                                this.getVisibilityEl()[i](
                                  ''.concat(e, 'layer-off')
                                );
                            }),
                            (r.prototype.toggleVisibility = function (t) {
                              null == t || t.stopPropagation();
                              var e = this.module,
                                n = this.model;
                              e.setVisible(n, !e.isVisible(n));
                            }),
                            (r.prototype.handleEdit = function (t) {
                              null == t || t.stopPropagation();
                              var e = this,
                                n = e.em,
                                r = e.$el,
                                o = e.clsNoEdit,
                                i = e.clsEdit,
                                a = this.getInputName();
                              (a[Gs] = 'true'),
                                a.focus(),
                                document.execCommand('selectAll', !1),
                                n.setEditing(!0),
                                r
                                  .find('.'.concat(this.inputNameCls))
                                  .removeClass(o)
                                  .addClass(i);
                            }),
                            (r.prototype.handleEditKey = function (t) {
                              t.stopPropagation(),
                                ((0, n.isEscKey)(t) || (0, n.isEnterKey)(t)) &&
                                  this.handleEditEnd(t);
                            }),
                            (r.prototype.handleEditEnd = function (t) {
                              null == t || t.stopPropagation();
                              var e = this,
                                n = e.em,
                                r = e.$el,
                                o = e.clsNoEdit,
                                i = e.clsEdit,
                                a = this.getInputName(),
                                s = a.textContent;
                              (a.scrollLeft = 0),
                                (a[Gs] = 'false'),
                                this.setName(s, {
                                  component: this.model,
                                  propName: 'custom-name',
                                }),
                                n.setEditing(!1),
                                r
                                  .find('.'.concat(this.inputNameCls))
                                  .addClass(o)
                                  .removeClass(i),
                                this.updateName();
                            }),
                            (r.prototype.setName = function (t, e) {
                              var n = e.propName;
                              this.model.set(n, t);
                            }),
                            (r.prototype.getInputName = function () {
                              return (
                                this.inputName ||
                                  (this.inputName = this.el.querySelector(
                                    '.'.concat(this.inputNameCls)
                                  )),
                                this.inputName
                              );
                            }),
                            (r.prototype.updateOpening = function () {
                              var t = this,
                                e = t.$el,
                                n = t.model,
                                r = t.pfx,
                                o = 'open',
                                i = ''.concat(r, 'layer-open'),
                                a = this.getCaret();
                              this.module.isOpen(n)
                                ? (e.addClass(o), a.addClass(i))
                                : (e.removeClass(o), a.removeClass(i));
                            }),
                            (r.prototype.toggleOpening = function (t) {
                              var e = this.model,
                                n = this.module;
                              null == t || t.stopImmediatePropagation(),
                                e.get('components').length &&
                                  n.setOpen(e, !n.isOpen(e));
                            }),
                            (r.prototype.handleSelect = function (t) {
                              null == t || t.stopPropagation();
                              var e = this.module,
                                n = this.model;
                              e.setLayerData(
                                n,
                                {
                                  selected: !0,
                                },
                                {
                                  event: t,
                                }
                              );
                            }),
                            (r.prototype.handleHover = function (t) {
                              null == t || t.stopPropagation();
                              var e = this.module,
                                n = this.model;
                              e.setLayerData(n, {
                                hovered: !0,
                              });
                            }),
                            (r.prototype.handleHoverOut = function (t) {
                              null == t || t.stopPropagation();
                              var e = this.module,
                                n = this.model;
                              e.setLayerData(n, {
                                hovered: !1,
                              });
                            }),
                            (r.prototype.startSort = function (t) {
                              t.stopPropagation();
                              var e = this.em,
                                n = this.sorter;
                              (t.button && 0 !== t.button) ||
                                (n &&
                                  ((n.onStart = function (t) {
                                    return e.trigger(
                                      ''.concat(Ke, ':start'),
                                      t
                                    );
                                  }),
                                  (n.onMoveClb = function (t) {
                                    return e.trigger(Ke, t);
                                  }),
                                  n.startSort(t.target)));
                            }),
                            (r.prototype.updateStatus = function () {
                              cn.prototype.updateStatus.apply(this, [
                                {
                                  avoidHover: !this.config.highlightHover,
                                  noExtHl: !0,
                                },
                              ]);
                            }),
                            (r.prototype.checkChildren = function () {
                              var t = this,
                                e = t.model,
                                n = t.clsNoChild,
                                r = t.$el,
                                o = t.module,
                                i = o.getComponents(e).length,
                                a = r
                                  .children('.'.concat(this.clsTitleC))
                                  .children('.'.concat(this.clsTitle)),
                                s = this.cnt;
                              s ||
                                ((s = r.children('[data-count]').get(0)),
                                (this.cnt = s)),
                                a[i ? 'removeClass' : 'addClass'](n),
                                s && (s.innerHTML = i || ''),
                                !i && o.setOpen(e, !1);
                            }),
                            (r.prototype.getCaret = function () {
                              return (
                                (this.caret && this.caret.length) ||
                                  (this.caret = this.$el
                                    .children('.'.concat(this.clsTitleC))
                                    .find('.'.concat(this.clsCaret))),
                                this.caret
                              );
                            }),
                            (r.prototype.setRoot = function (e) {
                              e = (0, t.isString)(e)
                                ? this.em.getWrapper().find(e)[0]
                                : e;
                              var r = (0, n.getModel)(e, 0);
                              r &&
                                (this.stopListening(),
                                (this.model = r),
                                this.initComponent(),
                                this._rendered && this.render());
                            }),
                            (r.prototype.updateLayerable = function () {
                              (this.parentView || this).render();
                            }),
                            (r.prototype.__clearItems = function () {
                              var t;
                              null === (t = this.items) ||
                                void 0 === t ||
                                t.remove();
                            }),
                            (r.prototype.remove = function () {
                              for (var t = [], e = 0; e < arguments.length; e++)
                                t[e] = arguments[e];
                              return (
                                u.G7.prototype.remove.apply(this, t),
                                this.__clearItems(),
                                this
                              );
                            }),
                            (r.prototype.render = function () {
                              var t = this,
                                e = t.model,
                                n = t.config,
                                r = t.pfx,
                                o = t.ppfx,
                                i = t.opt,
                                a = t.sorter;
                              this.__clearItems();
                              var s = i.opened,
                                l = i.module,
                                c = i.ItemView,
                                u = !l.__isLayerable(e),
                                p = this.$el.empty(),
                                d = i.level + 1;
                              delete this.inputName,
                                (this.items = new Ws({
                                  ItemView: c,
                                  collection: e.get('components'),
                                  config: n,
                                  sorter: a,
                                  opened: s,
                                  parentView: this,
                                  parent: e,
                                  level: d,
                                  module: l,
                                }));
                              var f = this.items.render().$el;
                              return (
                                n.showWrapper || 1 !== d
                                  ? (p.html(this.template(e)),
                                    p
                                      .find('.'.concat(this.clsChildren))
                                      .append(f))
                                  : p.append(f),
                                (e.get('draggable') && n.sortable) ||
                                  p.children('.'.concat(this.clsMove)).remove(),
                                !l.isVisible(e) &&
                                  (this.className += ' '.concat(r, 'hide')),
                                u &&
                                  (this.className += ' '.concat(o, 'hidden')),
                                p.attr('class', this.className),
                                this.updateStatus(),
                                this.updateOpening(),
                                this.updateVisibility(),
                                this.__render(),
                                (this._rendered = !0),
                                this
                              );
                            }),
                            (r.prototype.__render = function () {
                              var t = this,
                                e = t.model,
                                n = t.config,
                                r = {
                                  component: e,
                                  el: t.el,
                                };
                              n.onRender.bind(this)(r),
                                this.em.trigger('layer:render', r);
                            }),
                            r
                          );
                        })(u.G7);
                      const Ks = qs;
                      var Zs =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ys =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Ys =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Ys.apply(this, arguments)
                            );
                          },
                        Xs = 'layer',
                        Js = ''.concat(Xs, ':'),
                        Qs = ''.concat(Js, 'root'),
                        tl = ''.concat(Js, 'component'),
                        el = ''.concat(Js, 'custom'),
                        nl = {
                          all: Xs,
                          root: Qs,
                          component: tl,
                          custom: el,
                        },
                        rl = {
                          mediaText: '',
                        },
                        ol = [
                          'open',
                          'status',
                          'locked',
                          'custom-name',
                          'components',
                          'classes',
                        ]
                          .map(function (t) {
                            return 'component:update:'.concat(t);
                          })
                          .join(' '),
                        il = (function (e) {
                          function r(n) {
                            var r = e.call(this, n, 'LayerManager', Bs) || this;
                            return (
                              (r.events = nl),
                              (0, t.bindAll)(
                                r,
                                'componentChanged',
                                '__onRootChange',
                                '__onComponent'
                              ),
                              (r.model = new x(r, {
                                opened: {},
                              })),
                              (r.config.stylePrefix = r.config.pStylePrefix),
                              r
                            );
                          }
                          return (
                            Zs(r, e),
                            (r.prototype.onLoad = function () {
                              var t = this,
                                e = this,
                                n = e.em,
                                r = e.config,
                                o = e.model;
                              o.listenTo(
                                n,
                                'component:selected',
                                this.componentChanged
                              ),
                                o.on('change:root', this.__onRootChange),
                                o.listenTo(n, ol, this.__onComponent),
                                this.componentChanged(),
                                o.listenToOnce(n, 'load', function () {
                                  t.setRoot(r.root), t.__appendTo();
                                });
                            }),
                            (r.prototype.setRoot = function (e) {
                              var r = this.em.getWrapper(),
                                o = (0, n.isComponent)(e) ? e : r;
                              return (
                                e &&
                                  (0, t.isString)(e) &&
                                  (0, n.hasWin)() &&
                                  (o = r.find(e)[0] || r),
                                this.model.set('root', o),
                                o
                              );
                            }),
                            (r.prototype.getRoot = function () {
                              return this.model.get('root');
                            }),
                            (r.prototype.getComponents = function (t) {
                              var e = this;
                              return t.components().filter(function (t) {
                                return e.__isLayerable(t);
                              });
                            }),
                            (r.prototype.setOpen = function (t, e) {
                              t.set('open', e);
                            }),
                            (r.prototype.isOpen = function (t) {
                              return !!t.get('open');
                            }),
                            (r.prototype.setVisible = function (t, e) {
                              var n = '__prev-display',
                                r = t.getStyle(rl),
                                o = r.display;
                              if (e) {
                                var i = t.get(n);
                                delete r.display,
                                  i && ((r.display = i), t.unset(n));
                              } else o && t.set(n, o), (r.display = 'none');
                              t.setStyle(r, rl),
                                this.updateLayer(t),
                                this.em.trigger('component:toggled');
                            }),
                            (r.prototype.isVisible = function (t) {
                              return (
                                void 0 === (e = t.getStyle(rl)) && (e = {}),
                                !(
                                  0 === (e.display || '').trim().indexOf('none')
                                )
                              );
                              var e;
                            }),
                            (r.prototype.setLocked = function (t, e) {
                              t.set('locked', e);
                            }),
                            (r.prototype.isLocked = function (t) {
                              return t.get('locked');
                            }),
                            (r.prototype.setName = function (t, e) {
                              t.set('custom-name', e);
                            }),
                            (r.prototype.getName = function (t) {
                              return t.getName();
                            }),
                            (r.prototype.getLayerData = function (t) {
                              var e = t.get('status');
                              return {
                                name: t.getName(),
                                open: this.isOpen(t),
                                selected: 'selected' === e,
                                hovered: 'hovered' === e,
                                visible: this.isVisible(t),
                                locked: this.isLocked(t),
                                components: this.getComponents(t),
                              };
                            }),
                            (r.prototype.setLayerData = function (t, e, r) {
                              var o;
                              void 0 === r && (r = {});
                              var i = this.em,
                                a = this.config,
                                s = e.open,
                                l = e.selected,
                                c = e.hovered,
                                u = e.visible,
                                p = e.locked,
                                d = e.name,
                                f = Ys(
                                  {
                                    fromLayers: !0,
                                  },
                                  r
                                );
                              if (
                                ((0, n.isDef)(s) && this.setOpen(t, s),
                                (0, n.isDef)(l))
                              )
                                if (l) {
                                  i.setSelected(t, f);
                                  var h = a.scrollCanvas;
                                  h &&
                                    (null === (o = t.views) ||
                                      void 0 === o ||
                                      o.forEach(function (t) {
                                        return t.scrollIntoView(h);
                                      }));
                                } else i.removeSelected(t, f);
                              (0, n.isDef)(c) &&
                                a.showHover &&
                                (c
                                  ? i.setHovered(t, f)
                                  : i.setHovered(null, f)),
                                (0, n.isDef)(u) &&
                                  u !== this.isVisible(t) &&
                                  this.setVisible(t, u),
                                (0, n.isDef)(p) && this.setLocked(t, p),
                                (0, n.isDef)(d) && this.setName(t, d);
                            }),
                            (r.prototype.componentChanged = function (t, e) {
                              var n;
                              if ((void 0 === e && (e = {}), !e.fromLayers)) {
                                var r = this.em,
                                  o = this.config.scrollLayers,
                                  i = this.model.get('opened'),
                                  a = r.getSelected(),
                                  s = null == a ? void 0 : a.parent();
                                for (var l in i)
                                  i[l].set('open', !1), delete i[l];
                                for (; s; )
                                  s.set('open', !0),
                                    (i[s.cid] = s),
                                    (s = s.parent());
                                if (a && o) {
                                  var c =
                                    null === (n = a.viewLayer) || void 0 === n
                                      ? void 0
                                      : n.el;
                                  null == c || c.scrollIntoView(o);
                                }
                              }
                            }),
                            (r.prototype.getAll = function () {
                              return this.view;
                            }),
                            (r.prototype.render = function () {
                              var t,
                                e,
                                n = this.config,
                                r = this.model,
                                o = Ks.extend(n.extend);
                              return (
                                (this.view = new o({
                                  el:
                                    null === (t = this.view) || void 0 === t
                                      ? void 0
                                      : t.el,
                                  ItemView: o,
                                  level: 0,
                                  config: n,
                                  opened: r.get('opened'),
                                  model: this.getRoot(),
                                  module: this,
                                })),
                                null === (e = this.view) || void 0 === e
                                  ? void 0
                                  : e.render().el
                              );
                            }),
                            (r.prototype.destroy = function () {
                              var t;
                              null === (t = this.view) ||
                                void 0 === t ||
                                t.remove();
                            }),
                            (r.prototype.__onRootChange = function () {
                              var t,
                                e = this.getRoot();
                              null === (t = this.view) ||
                                void 0 === t ||
                                t.setRoot(e),
                                this.em.trigger(Qs, e);
                            }),
                            (r.prototype.__onComponent = function (t) {
                              this.updateLayer(t);
                            }),
                            (r.prototype.__isLayerable = function (t) {
                              var e = t.get('tagName');
                              return (
                                (!this.config.hideTextnode ||
                                  (!t.is('textnode') && 'br' !== e)) &&
                                t.get('layerable')
                              );
                            }),
                            (r.prototype.__trgCustom = function (t) {
                              this.em.trigger(this.events.custom, {
                                container: t.container,
                                root: this.getRoot(),
                              });
                            }),
                            (r.prototype.updateLayer = function (t, e) {
                              this.em.trigger(tl, t, e);
                            }),
                            r
                          );
                        })(y);
                      const al = il,
                        sl = {
                          assets: [],
                          noAssets: '',
                          stylePrefix: 'am-',
                          upload: '',
                          uploadName: 'files',
                          headers: {},
                          params: {},
                          credentials: 'include',
                          multiUpload: !0,
                          autoAdd: !0,
                          customFetch: void 0,
                          uploadFile: void 0,
                          embedAsBase64: !0,
                          handleAdd: void 0,
                          beforeUpload: void 0,
                          showUrlInput: !0,
                          custom: !1,
                          dropzone: !1,
                          openAssetsOnDrop: !0,
                          dropzoneContent: '',
                        };
                      var ll =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        cl = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            ll(n, e),
                            (n.getDefaults = function () {
                              return (0, t.result)(this.prototype, 'defaults');
                            }),
                            (n.prototype.defaults = function () {
                              return {
                                type: '',
                                src: '',
                              };
                            }),
                            (n.prototype.getType = function () {
                              return this.get('type');
                            }),
                            (n.prototype.getSrc = function () {
                              return this.get('src');
                            }),
                            (n.prototype.getFilename = function () {
                              return this.get('src')
                                .split('/')
                                .pop()
                                .split('?')
                                .shift();
                            }),
                            (n.prototype.getExtension = function () {
                              return this.getFilename().split('.').pop();
                            }),
                            n
                          );
                        })(u.Hn);
                      const ul = cl;
                      cl.prototype.idAttribute = 'src';
                      var pl =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        dl =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (dl =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              dl.apply(this, arguments)
                            );
                          };
                      const fl = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          pl(e, t),
                          (e.prototype.defaults = function () {
                            return dl(dl({}, ul.getDefaults()), {
                              type: 'image',
                              unitDim: 'px',
                              height: 0,
                              width: 0,
                            });
                          }),
                          e
                        );
                      })(ul);
                      var hl =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        gl = (function (e) {
                          function n(t) {
                            var n = e.call(this, t) || this;
                            (n.options = t), (n.collection = t.collection);
                            var r = t.config || {};
                            (n.config = r),
                              (n.pfx = r.stylePrefix || ''),
                              (n.ppfx = r.pStylePrefix || ''),
                              (n.em = r.em),
                              (n.className = n.pfx + 'asset'),
                              n.listenTo(n.model, 'destroy remove', n.remove),
                              (n.model.view = n);
                            var o = n.init && n.init.bind(n);
                            return o && o(t), n;
                          }
                          return (
                            hl(n, e),
                            (n.prototype.__getBhv = function () {
                              var t = this.em,
                                e = null == t ? void 0 : t.Assets;
                              return (
                                (null == e ? void 0 : e.__getBehaviour()) || {}
                              );
                            }),
                            (n.prototype.template = function (t, e) {
                              var n = this.pfx;
                              return '\n      <div class="'
                                .concat(n, 'preview-cont">\n        ')
                                .concat(
                                  this.getPreview(),
                                  '\n      </div>\n      <div class="'
                                )
                                .concat(n, 'meta">\n        ')
                                .concat(
                                  this.getInfo(),
                                  '\n      </div>\n      <div class="'
                                )
                                .concat(
                                  n,
                                  'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    '
                                );
                            }),
                            (n.prototype.updateTarget = function (e) {
                              e &&
                                e.set &&
                                (e.set(
                                  'attributes',
                                  (0, t.clone)(e.get('attributes'))
                                ),
                                e.set('src', this.model.get('src')));
                            }),
                            (n.prototype.getPreview = function () {
                              return '';
                            }),
                            (n.prototype.getInfo = function () {
                              return '';
                            }),
                            (n.prototype.render = function () {
                              var t = this.el;
                              return (
                                (t.innerHTML = this.template(this, this.model)),
                                (t.className = this.className),
                                this
                              );
                            }),
                            n
                          );
                        })(u.G7);
                      const vl = gl;
                      var ml =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        yl =
                          (void 0 && (void 0).__makeTemplateObject) ||
                          function (t, e) {
                            return (
                              Object.defineProperty
                                ? Object.defineProperty(t, 'raw', {
                                    value: e,
                                  })
                                : (t.raw = e),
                              t
                            );
                          },
                        bl = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            ml(n, e),
                            (n.prototype.getPreview = function () {
                              var t = this,
                                e = t.pfx,
                                n = t.ppfx,
                                r = t.model.get('src');
                              return i(
                                wl ||
                                  (wl = yl(
                                    [
                                      '\n      <div class="',
                                      'preview" style="background-image: url(\'',
                                      '\');"></div>\n      <div class="',
                                      'preview-bg ',
                                      'checker-bg"></div>\n    ',
                                    ],
                                    [
                                      '\n      <div class="',
                                      'preview" style="background-image: url(\'',
                                      '\');"></div>\n      <div class="',
                                      'preview-bg ',
                                      'checker-bg"></div>\n    ',
                                    ]
                                  )),
                                e,
                                r,
                                e,
                                n
                              );
                            }),
                            (n.prototype.getInfo = function () {
                              var t = this.pfx,
                                e = this.model,
                                n = e.get('name'),
                                r = e.get('width'),
                                o = e.get('height'),
                                a = e.get('unitDim'),
                                s =
                                  r && o
                                    ? ''.concat(r, 'x').concat(o).concat(a)
                                    : '';
                              return (
                                (n = n || e.getFilename()),
                                i(
                                  xl ||
                                    (xl = yl(
                                      [
                                        '\n      <div class="',
                                        'name">',
                                        '</div>\n      <div class="',
                                        'dimensions">',
                                        '</div>\n    ',
                                      ],
                                      [
                                        '\n      <div class="',
                                        'name">',
                                        '</div>\n      <div class="',
                                        'dimensions">',
                                        '</div>\n    ',
                                      ]
                                    )),
                                  t,
                                  n,
                                  t,
                                  s
                                )
                              );
                            }),
                            (n.prototype.init = function (t) {
                              var e = this.pfx;
                              this.className += ' '.concat(e, 'asset-image');
                            }),
                            (n.prototype.onClick = function () {
                              var e = this.model,
                                n = this.pfx,
                                r = this.__getBhv().select,
                                o = this.config.onClick,
                                i = this.collection;
                              i.trigger('deselectAll'),
                                this.$el.addClass(n + 'highlight'),
                                (0, t.isFunction)(r)
                                  ? r(e, !1)
                                  : (0, t.isFunction)(o)
                                  ? o(e)
                                  : this.updateTarget(i.target);
                            }),
                            (n.prototype.onDblClick = function () {
                              var e = this.em,
                                n = this.model,
                                r = this.__getBhv().select,
                                o = this.config.onDblClick,
                                i = this.collection,
                                a = i.target,
                                s = i.onSelect;
                              (0, t.isFunction)(r)
                                ? r(n, !0)
                                : (0, t.isFunction)(o)
                                ? o(n)
                                : (this.updateTarget(a),
                                  null == e || e.Modal.close()),
                                (0, t.isFunction)(s) && s(n);
                            }),
                            (n.prototype.onRemove = function (t) {
                              t.stopImmediatePropagation(),
                                this.model.collection.remove(this.model);
                            }),
                            n
                          );
                        })(vl);
                      const _l = bl;
                      var wl, xl;
                      bl.prototype.events = {
                        'click [data-toggle=asset-remove]': 'onRemove',
                        click: 'onClick',
                        dblclick: 'onDblClick',
                      };
                      var Cl =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Cl =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Cl.apply(this, arguments)
                            );
                          },
                        Sl = {
                          types: [],
                          initialize: function (t, e) {
                            var n = this;
                            void 0 === e && (e = {});
                            var r = e.em;
                            (this.em = r),
                              (this.opts = e),
                              (this.model = function (t, e) {
                                var o, i, a;
                                if (
                                  (void 0 === t && (t = {}),
                                  void 0 === e && (e = {}),
                                  t && t.type)
                                ) {
                                  var s = n.getBaseType();
                                  (o = (a = n.getType(t.type))
                                    ? a.model
                                    : s.model),
                                    (i = a ? a.view : s.view);
                                } else {
                                  var l = n.recognizeType(t);
                                  (o = (a = l.type).model),
                                    (i = a.view),
                                    (t = l.attributes);
                                }
                                var c = new o(
                                  t,
                                  Cl(Cl({}, e), {
                                    em: r,
                                  })
                                );
                                return (c.typeView = i), c;
                              });
                            var o = this.init && this.init.bind(this);
                            o && o();
                          },
                          recognizeType: function (t) {
                            for (
                              var e = this.getTypes(), n = 0;
                              n < e.length;
                              n++
                            ) {
                              var r = e[n],
                                o = r.isType(t);
                              if (
                                (o =
                                  'boolean' == typeof o && o
                                    ? {
                                        type: r.id,
                                      }
                                    : o)
                              )
                                return {
                                  type: r,
                                  attributes: o,
                                };
                            }
                            return {
                              type: this.getBaseType(),
                              attributes: t,
                            };
                          },
                          getBaseType: function () {
                            var t = this.getTypes();
                            return t[t.length - 1];
                          },
                          getTypes: function () {
                            return this.types;
                          },
                          getType: function (t) {
                            for (
                              var e = this.getTypes(), n = 0;
                              n < e.length;
                              n++
                            ) {
                              var r = e[n];
                              if (r.id === t) return r;
                            }
                          },
                          addType: function (e, n) {
                            var r = this.getType(e),
                              o = this.getBaseType(),
                              i = r ? r.model : o.model,
                              a = r ? r.view : o.view,
                              s = n.model,
                              l = n.view,
                              c = n.isType;
                            (s =
                              s instanceof u.Hn || (0, t.isFunction)(s)
                                ? s
                                : i.extend(s || {})),
                              (l =
                                l instanceof u.G7 || (0, t.isFunction)(l)
                                  ? l
                                  : a.extend(l || {})),
                              !this.extendViewApi ||
                                n.model ||
                                n.view ||
                                (l = l.extend(n)),
                              r
                                ? ((r.model = s),
                                  (r.view = l),
                                  (r.isType = c || r.isType))
                                : ((n.id = e),
                                  (n.model = s),
                                  (n.view = l),
                                  (n.isType =
                                    c ||
                                    function (t) {
                                      if (t && t.type == e) return !0;
                                    }),
                                  this.getTypes().unshift(n));
                          },
                        };
                      const Ol = Sl;
                      var kl =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Tl = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return kl(e, t), e;
                        })(u.FE.extend(Ol));
                      const El = Tl;
                      Tl.prototype.types = [
                        {
                          id: 'image',
                          model: fl,
                          view: _l,
                          isType: function (t) {
                            return 'string' == typeof t
                              ? {
                                  type: 'image',
                                  src: t,
                                }
                              : t;
                          },
                        },
                      ];
                      var Pl =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Al = (function (t) {
                          function e(e) {
                            void 0 === e && (e = {});
                            var n = t.call(this, e) || this;
                            (n.options = e),
                              (n.config = e.config),
                              (n.pfx = n.config.stylePrefix || ''),
                              (n.ppfx = n.config.pStylePrefix || ''),
                              (n.em = n.config.em);
                            var r = n.collection;
                            return (
                              n.listenTo(r, 'reset', n.renderAssets),
                              n.listenTo(r, 'add', n.addToAsset),
                              n.listenTo(r, 'remove', n.removedAsset),
                              n.listenTo(r, 'deselectAll', n.deselectAll),
                              n
                            );
                          }
                          return (
                            Pl(e, t),
                            (e.prototype.template = function (t) {
                              var e = t.pfx,
                                n = t.ppfx,
                                r = t.em,
                                o = '';
                              return (
                                this.config.showUrlInput &&
                                  (o = '\n          <form class="'
                                    .concat(
                                      e,
                                      'add-asset">\n            <div class="'
                                    )
                                    .concat(n, 'field ')
                                    .concat(
                                      e,
                                      'add-field">\n              <input placeholder="'
                                    )
                                    .concat(
                                      null == r
                                        ? void 0
                                        : r.t('assetManager.inputPlh'),
                                      '"/>\n            </div>\n            <button class="'
                                    )
                                    .concat(n, 'btn-prim">')
                                    .concat(
                                      null == r
                                        ? void 0
                                        : r.t('assetManager.addButton'),
                                      '</button>\n            <div style="clear:both"></div>\n          </form>\n      '
                                    )),
                                '\n    <div class="'
                                  .concat(
                                    e,
                                    'assets-cont">\n      <div class="'
                                  )
                                  .concat(e, 'assets-header">\n        ')
                                  .concat(
                                    o,
                                    '\n      </div>\n      <div class="'
                                  )
                                  .concat(
                                    e,
                                    'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    '
                                  )
                              );
                            }),
                            (e.prototype.handleSubmit = function (t) {
                              t.preventDefault();
                              var e = this.getAddInput(),
                                n = e && e.value.trim(),
                                r = this.config.handleAdd;
                              if (n) {
                                e.value = '';
                                var o = this.getAssetsEl();
                                o && (o.scrollTop = 0),
                                  r
                                    ? r.bind(this)(n)
                                    : this.options.globalCollection.add(n, {
                                        at: 0,
                                      });
                              }
                            }),
                            (e.prototype.getAssetsEl = function () {
                              return this.el.querySelector(
                                '.'.concat(this.pfx, 'assets')
                              );
                            }),
                            (e.prototype.getAddInput = function () {
                              return (
                                (this.inputUrl && this.inputUrl.value) ||
                                  (this.inputUrl = this.el.querySelector(
                                    '.'.concat(this.pfx, 'add-asset input')
                                  )),
                                this.inputUrl
                              );
                            }),
                            (e.prototype.removedAsset = function (t) {
                              this.collection.length || this.toggleNoAssets();
                            }),
                            (e.prototype.addToAsset = function (t) {
                              1 == this.collection.length &&
                                this.toggleNoAssets(!0),
                                this.addAsset(t);
                            }),
                            (e.prototype.addAsset = function (t, e) {
                              void 0 === e && (e = null);
                              var n = e,
                                r = this.collection,
                                o = this.config,
                                i = new t.typeView({
                                  model: t,
                                  collection: r,
                                  config: o,
                                }).render().el;
                              if (n) n.appendChild(i);
                              else {
                                var a = this.getAssetsEl();
                                a && a.insertBefore(i, a.firstChild);
                              }
                              return i;
                            }),
                            (e.prototype.toggleNoAssets = function (t) {
                              void 0 === t && (t = !1);
                              var e = this.$el.find(
                                '.'.concat(this.pfx, 'assets')
                              );
                              if (t) e.empty();
                              else {
                                var n = this.config.noAssets;
                                n && e.append(n);
                              }
                            }),
                            (e.prototype.deselectAll = function () {
                              var t = this.pfx;
                              this.$el
                                .find('.'.concat(t, 'highlight'))
                                .removeClass(''.concat(t, 'highlight'));
                            }),
                            (e.prototype.renderAssets = function () {
                              var t = this,
                                e = document.createDocumentFragment(),
                                n = this.$el.find(
                                  '.'.concat(this.pfx, 'assets')
                                );
                              n.empty(),
                                this.toggleNoAssets(!!this.collection.length),
                                this.collection.each(function (n) {
                                  return t.addAsset(n, e);
                                }),
                                n.append(e);
                            }),
                            (e.prototype.render = function () {
                              var t = this.options.fu.render().el;
                              return (
                                this.$el.empty(),
                                this.$el.append(t).append(this.template(this)),
                                (this.el.className = ''.concat(
                                  this.ppfx,
                                  'asset-manager'
                                )),
                                this.renderAssets(),
                                this
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const jl = Al;
                      Al.prototype.events = {
                        submit: 'handleSubmit',
                      };
                      var Ml =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ll =
                          (void 0 && (void 0).__makeTemplateObject) ||
                          function (t, e) {
                            return (
                              Object.defineProperty
                                ? Object.defineProperty(t, 'raw', {
                                    value: e,
                                  })
                                : (t.raw = e),
                              t
                            );
                          },
                        Dl = (function (t) {
                          function e(n) {
                            void 0 === n && (n = {});
                            var r = t.call(this, n) || this;
                            r.options = n;
                            var o = n.config || {};
                            (r.module = n.module),
                              (r.config = o),
                              (r.em = r.config.em),
                              (r.pfx = o.stylePrefix || ''),
                              (r.ppfx = o.pStylePrefix || ''),
                              (r.target = r.options.globalCollection || {}),
                              (r.uploadId = r.pfx + 'uploadFile'),
                              (r.disabled =
                                void 0 !== o.disableUpload
                                  ? o.disableUpload
                                  : !o.upload && !o.embedAsBase64),
                              (r.multiUpload =
                                void 0 === o.multiUpload || o.multiUpload);
                            var i = o.uploadFile;
                            return (
                              i
                                ? (r.uploadFile = i.bind(r))
                                : !o.upload &&
                                  o.embedAsBase64 &&
                                  (r.uploadFile = e.embedAsBase64),
                              r.delegateEvents(),
                              r
                            );
                          }
                          return (
                            Ml(e, t),
                            (e.prototype.template = function (t) {
                              var e = t.pfx,
                                n = t.title,
                                r = t.uploadId,
                                o = t.disabled,
                                a = t.multiUpload;
                              return i(
                                Il ||
                                  (Il = Ll(
                                    [
                                      '\n      <form>\n        <div id="',
                                      'title">',
                                      '</div>\n        <input\n          data-input\n          type="file"\n          id="',
                                      '"\n          name="file"\n          accept="*/*"\n          ',
                                      '\n          ',
                                      '\n        />\n        <div style="clear:both;"></div>\n      </form>\n    ',
                                    ],
                                    [
                                      '\n      <form>\n        <div id="',
                                      'title">',
                                      '</div>\n        <input\n          data-input\n          type="file"\n          id="',
                                      '"\n          name="file"\n          accept="*/*"\n          ',
                                      '\n          ',
                                      '\n        />\n        <div style="clear:both;"></div>\n      </form>\n    ',
                                    ]
                                  )),
                                e,
                                n,
                                r,
                                o ? 'disabled' : '',
                                a ? 'multiple' : ''
                              );
                            }),
                            (e.prototype.events = function () {
                              return {
                                'change [data-input]': 'uploadFile',
                              };
                            }),
                            (e.prototype.onUploadStart = function () {
                              var t = this.module;
                              t && t.__propEv('asset:upload:start');
                            }),
                            (e.prototype.onUploadEnd = function (t) {
                              var e = this.$el,
                                n = this.module;
                              n && n.__propEv('asset:upload:end', t);
                              var r = e.find('input');
                              r && r.val('');
                            }),
                            (e.prototype.onUploadError = function (t) {
                              var e = this.module;
                              console.error(t),
                                this.onUploadEnd(t),
                                e && e.__propEv('asset:upload:error', t);
                            }),
                            (e.prototype.onUploadResponse = function (t, e) {
                              var n,
                                r = this,
                                o = r.module,
                                i = r.config,
                                a = r.target;
                              try {
                                n = 'string' == typeof t ? JSON.parse(t) : t;
                              } catch (e) {
                                n = t;
                              }
                              o && o.__propEv('asset:upload:response', n),
                                i.autoAdd &&
                                  a &&
                                  a.add(n.data, {
                                    at: 0,
                                  }),
                                this.onUploadEnd(t),
                                null == e || e(n);
                            }),
                            (e.prototype.uploadFile = function (t, e) {
                              var n = this,
                                r = t.dataTransfer
                                  ? t.dataTransfer.files
                                  : t.target.files,
                                o = this.config,
                                i = o.beforeUpload;
                              if (!1 !== (i && i(r))) {
                                var a = new FormData(),
                                  s = o.params,
                                  l = o.customFetch;
                                for (var c in s) a.append(c, s[c]);
                                if (this.multiUpload)
                                  for (var u = 0; u < r.length; u++)
                                    a.append(
                                      ''.concat(o.uploadName, '[]'),
                                      r[u]
                                    );
                                else r.length && a.append(o.uploadName, r[0]);
                                this.target;
                                var p = o.upload,
                                  d = o.headers,
                                  f = 'X-Requested-With';
                                if (
                                  (void 0 === d[f] && (d[f] = 'XMLHttpRequest'),
                                  p)
                                ) {
                                  this.onUploadStart();
                                  var h = {
                                    method: 'post',
                                    credentials: o.credentials || 'include',
                                    headers: d,
                                    body: a,
                                  };
                                  return (
                                    l
                                      ? l(p, h)
                                      : Va(p, h).then(function (t) {
                                          return 1 == ((t.status / 200) | 0)
                                            ? t.text()
                                            : t.text().then(function (t) {
                                                return Promise.reject(t);
                                              });
                                        })
                                  )
                                    .then(function (t) {
                                      return n.onUploadResponse(t, e);
                                    })
                                    .catch(function (t) {
                                      return n.onUploadError(t);
                                    });
                                }
                              }
                            }),
                            (e.prototype.initDrop = function () {
                              var t = this;
                              if (!this.uploadForm) {
                                this.uploadForm = this.$el.find('form').get(0);
                                var e = this.uploadForm;
                                'draggable' in e &&
                                  ((this.uploadForm.ondragover = function () {
                                    return (e.className = t.pfx + 'hover'), !1;
                                  }),
                                  (this.uploadForm.ondragleave = function () {
                                    return (e.className = ''), !1;
                                  }),
                                  (this.uploadForm.ondrop = function (n) {
                                    (e.className = ''),
                                      n.preventDefault(),
                                      t.uploadFile(n);
                                  }));
                              }
                            }),
                            (e.prototype.initDropzone = function (t) {
                              var e = this,
                                n = 0,
                                r = this.config,
                                o = t.model,
                                i = t.el,
                                a = o.Editor,
                                s = o.Canvas.getBody(),
                                l = this.ppfx,
                                c = ''.concat(l, 'dropzone-active'),
                                u = ''.concat(l, 'dropzone'),
                                p = function () {
                                  (i.className = i.className
                                    .replace(c, '')
                                    .trim()),
                                    (n = 0);
                                },
                                d = function () {
                                  return (
                                    n ||
                                      ((i.className += ' '.concat(c)), (n = 1)),
                                    !1
                                  );
                                },
                                f = function () {
                                  return p(), !1;
                                },
                                h = function (t) {
                                  if (
                                    (p(),
                                    t.preventDefault(),
                                    t.stopPropagation(),
                                    e.uploadFile(t),
                                    r.openAssetsOnDrop && a)
                                  ) {
                                    var n = a.getSelected();
                                    a.runCommand('open-assets', {
                                      target: n,
                                      onSelect: function () {
                                        a.Modal.close(),
                                          a.AssetManager.setTarget(null);
                                      },
                                    });
                                  }
                                  return !1;
                                };
                              t.$el.append(
                                '<div class="'
                                  .concat(u, '">')
                                  .concat(r.dropzoneContent, '</div>')
                              ),
                                p(),
                                'draggable' in i &&
                                  [i, s].forEach(function (t) {
                                    (t.ondragover = d),
                                      (t.ondragleave = f),
                                      (t.ondrop = h);
                                  });
                            }),
                            (e.prototype.render = function () {
                              var t = this,
                                e = t.$el,
                                n = t.pfx,
                                r = t.em;
                              return (
                                e.html(
                                  this.template({
                                    title: r && r.t('assetManager.uploadTitle'),
                                    uploadId: this.uploadId,
                                    disabled: this.disabled,
                                    multiUpload: this.multiUpload,
                                    pfx: n,
                                  })
                                ),
                                this.initDrop(),
                                e.attr('class', n + 'file-uploader'),
                                this
                              );
                            }),
                            (e.embedAsBase64 = function (t, e) {
                              var n = this,
                                r = t.dataTransfer
                                  ? t.dataTransfer.files
                                  : t.target.files,
                                o = {
                                  data: [],
                                };
                              if (FileReader) {
                                for (
                                  var i = [],
                                    a = /^(.+)\/(.+)$/,
                                    s = function (t) {
                                      var e = new Promise(function (e, n) {
                                        var r = new FileReader();
                                        r.addEventListener(
                                          'load',
                                          function (o) {
                                            var i,
                                              s = t.name,
                                              l = a.exec(t.type);
                                            if (
                                              'image' ===
                                              (i = l ? l[1] : t.type)
                                            ) {
                                              var c = {
                                                  src: r.result,
                                                  name: s,
                                                  type: i,
                                                  height: 0,
                                                  width: 0,
                                                },
                                                u = new Image();
                                              u.addEventListener(
                                                'error',
                                                function (t) {
                                                  n(t);
                                                }
                                              ),
                                                u.addEventListener(
                                                  'load',
                                                  function () {
                                                    (c.height = u.height),
                                                      (c.width = u.width),
                                                      e(c);
                                                  }
                                                ),
                                                (u.src = c.src);
                                            } else
                                              e(
                                                i
                                                  ? {
                                                      src: r.result,
                                                      name: s,
                                                      type: i,
                                                    }
                                                  : r.result
                                              );
                                          }
                                        ),
                                          r.addEventListener(
                                            'error',
                                            function (t) {
                                              n(t);
                                            }
                                          ),
                                          r.addEventListener(
                                            'abort',
                                            function (t) {
                                              n('Aborted');
                                            }
                                          ),
                                          r.readAsDataURL(t);
                                      });
                                      i.push(e);
                                    },
                                    l = 0,
                                    c = r;
                                  l < c.length;
                                  l++
                                )
                                  s(c[l]);
                                return Promise.all(i).then(
                                  function (t) {
                                    (o.data = t), n.onUploadResponse(o, e);
                                  },
                                  function (t) {
                                    n.onUploadError(t);
                                  }
                                );
                              }
                              this.onUploadError(
                                new Error(
                                  'Unsupported platform, FileReader is not defined'
                                )
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const Nl = Dl;
                      var Il,
                        Fl =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Rl =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Rl =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Rl.apply(this, arguments)
                            );
                          },
                        zl =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        Vl = 'asset',
                        Bl = ''.concat(Vl, ':'),
                        Hl = ''.concat(Bl, 'select'),
                        Ul = ''.concat(Bl, 'update'),
                        Wl = ''.concat(Bl, 'add'),
                        $l = ''.concat(Bl, 'remove'),
                        Gl = ''.concat($l, ':before'),
                        ql = ''.concat(Bl, 'custom'),
                        Kl = ''.concat(Bl, 'open'),
                        Zl = ''.concat(Bl, 'close'),
                        Yl = ''.concat(Bl, 'upload'),
                        Xl = ''.concat(Yl, ':start'),
                        Jl = ''.concat(Yl, ':end'),
                        Ql = ''.concat(Yl, ':error'),
                        tc = ''.concat(Yl, ':response'),
                        ec = 'open-assets',
                        nc = {
                          all: Vl,
                          select: Hl,
                          update: Ul,
                          add: Wl,
                          remove: $l,
                          removeBefore: Gl,
                          custom: ql,
                          open: Kl,
                          close: Zl,
                          uploadStart: Xl,
                          uploadEnd: Jl,
                          uploadError: Ql,
                          uploadResponse: tc,
                        },
                        rc = (function (e) {
                          function n(n) {
                            var r =
                              e.call(
                                this,
                                n,
                                'AssetManager',
                                new El([], n),
                                nc,
                                sl
                              ) || this;
                            (r.storageKey = 'assets'),
                              (r.Asset = ul),
                              (r.Assets = El);
                            var o = r,
                              i = o.all,
                              a = o.config;
                            r.assetsVis = new El([]);
                            var s = a.pStylePrefix;
                            return (
                              s &&
                                (a.stylePrefix = ''
                                  .concat(s)
                                  .concat(a.stylePrefix)),
                              i.on('add', function (t) {
                                return r.getAllVisible().add(t);
                              }),
                              i.on('remove', function (t) {
                                return r.getAllVisible().remove(t);
                              }),
                              (r.__onAllEvent = (0, t.debounce)(function () {
                                return r.__trgCustom();
                              }, 0)),
                              r
                            );
                          }
                          return (
                            Fl(n, e),
                            (n.prototype.__propEv = function (t) {
                              for (
                                var e, n, r = [], o = 1;
                                o < arguments.length;
                                o++
                              )
                                r[o - 1] = arguments[o];
                              (e = this.em).trigger.apply(e, zl([t], r, !1)),
                                (n = this.getAll()).trigger.apply(
                                  n,
                                  zl([t], r, !1)
                                );
                            }),
                            (n.prototype.__trgCustom = function () {
                              var t = this.__getBehaviour(),
                                e = this.getConfig().custom;
                              (t.container || e.open) &&
                                this.em.trigger(
                                  this.events.custom,
                                  this.__customData()
                                );
                            }),
                            (n.prototype.__customData = function () {
                              var e = this,
                                n = this.__getBehaviour();
                              return {
                                am: this,
                                open: this.isOpen(),
                                assets: this.getAll().models,
                                types: n.types || [],
                                container: n.container,
                                close: function () {
                                  return e.close();
                                },
                                remove: function (t, n) {
                                  return e.remove(t, n);
                                },
                                select: function (r, o) {
                                  var i = e.add(r);
                                  (0, t.isFunction)(n.select) && n.select(i, o);
                                },
                                options: n.options || {},
                              };
                            }),
                            (n.prototype.open = function (t) {
                              void 0 === t && (t = {}),
                                this.em.Commands.run(
                                  ec,
                                  Rl(
                                    {
                                      types: ['image'],
                                      select: function () {},
                                    },
                                    t
                                  )
                                );
                            }),
                            (n.prototype.close = function () {
                              this.em.Commands.stop(ec);
                            }),
                            (n.prototype.isOpen = function () {
                              var t = this.em.Commands;
                              return !!(null == t ? void 0 : t.isActive(ec));
                            }),
                            (n.prototype.add = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                void 0 === e.at && (e.at = 0),
                                this.all.add(t, e)
                              );
                            }),
                            (n.prototype.get = function (t) {
                              return (
                                this.all.where({
                                  src: t,
                                })[0] || null
                              );
                            }),
                            (n.prototype.getAll = function () {
                              return this.all;
                            }),
                            (n.prototype.getAllVisible = function () {
                              return this.assetsVis;
                            }),
                            (n.prototype.remove = function (t, e) {
                              return this.__remove(t, e);
                            }),
                            (n.prototype.store = function () {
                              return this.getProjectData();
                            }),
                            (n.prototype.load = function (t) {
                              return this.loadProjectData(t);
                            }),
                            (n.prototype.getContainer = function () {
                              var t;
                              return (
                                this.__getBehaviour().container ||
                                (null === (t = this.am) || void 0 === t
                                  ? void 0
                                  : t.el)
                              );
                            }),
                            (n.prototype.getAssetsEl = function () {
                              var t;
                              return null === (t = this.am) || void 0 === t
                                ? void 0
                                : t.el.querySelector('[data-el=assets]');
                            }),
                            (n.prototype.render = function (t) {
                              if (!this.getConfig().custom) {
                                var e = t || this.getAll().models;
                                if (!this.am) {
                                  var n = this.__viewParams();
                                  (n.fu = this.FileUploader()),
                                    (this.am = new jl(Rl({}, n))),
                                    this.am.render();
                                }
                                return (
                                  this.assetsVis.reset(e), this.getContainer()
                                );
                              }
                            }),
                            (n.prototype.__viewParams = function () {
                              return {
                                collection: this.assetsVis,
                                globalCollection: this.all,
                                config: this.config,
                                module: this,
                                fu: void 0,
                              };
                            }),
                            (n.prototype.addType = function (t, e) {
                              this.getAll().addType(t, e);
                            }),
                            (n.prototype.getType = function (t) {
                              return this.getAll().getType(t);
                            }),
                            (n.prototype.getTypes = function () {
                              return this.getAll().getTypes();
                            }),
                            (n.prototype.AssetsView = function () {
                              return this.am;
                            }),
                            (n.prototype.FileUploader = function () {
                              return (
                                this.fu ||
                                  (this.fu = new Nl(this.__viewParams())),
                                this.fu
                              );
                            }),
                            (n.prototype.onLoad = function () {
                              var t = this;
                              this.getAll().reset(this.config.assets);
                              var e = this.em,
                                n = this.events;
                              e.on('run:'.concat(ec), function () {
                                return t.__propEv(n.open);
                              }),
                                e.on('stop:'.concat(ec), function () {
                                  return t.__propEv(n.close);
                                });
                            }),
                            (n.prototype.postRender = function (t) {
                              var e;
                              this.config.dropzone &&
                                (null === (e = this.fu) ||
                                  void 0 === e ||
                                  e.initDropzone(t));
                            }),
                            (n.prototype.setTarget = function (t) {
                              this.assetsVis.target = t;
                            }),
                            (n.prototype.onSelect = function (t) {
                              this.assetsVis.onSelect = t;
                            }),
                            (n.prototype.onClick = function (t) {
                              this.config.onClick = t;
                            }),
                            (n.prototype.onDblClick = function (t) {
                              this.config.onDblClick = t;
                            }),
                            (n.prototype.__behaviour = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                (this._bhv = Rl(Rl({}, this._bhv || {}), t))
                              );
                            }),
                            (n.prototype.__getBehaviour = function (t) {
                              return void 0 === t && (t = {}), this._bhv || {};
                            }),
                            (n.prototype.destroy = function () {
                              var t, e;
                              this.all.stopListening(),
                                this.all.reset(),
                                this.assetsVis.stopListening(),
                                this.assetsVis.reset(),
                                null === (t = this.fu) ||
                                  void 0 === t ||
                                  t.remove(),
                                null === (e = this.am) ||
                                  void 0 === e ||
                                  e.remove(),
                                (this._bhv = {});
                            }),
                            n
                          );
                        })(b);
                      const oc = rc;
                      var ic = {
                        placeholder: 'eg. Text here',
                      };
                      const ac = {
                        locale: 'en',
                        localeFallback: 'en',
                        detectLocale: !0,
                        debug: !1,
                        messages: {
                          en: {
                            assetManager: {
                              addButton: 'Add image',
                              inputPlh: 'http://path/to/the/image.jpg',
                              modalTitle: 'Select Image',
                              uploadTitle: 'Drop files here or click to upload',
                            },
                            blockManager: {
                              labels: {},
                              categories: {},
                            },
                            domComponents: {
                              names: {
                                '': 'Box',
                                wrapper: 'Body',
                                text: 'Text',
                                comment: 'Comment',
                                image: 'Image',
                                video: 'Video',
                                label: 'Label',
                                link: 'Link',
                                map: 'Map',
                                tfoot: 'Table foot',
                                tbody: 'Table body',
                                thead: 'Table head',
                                table: 'Table',
                                row: 'Table row',
                                cell: 'Table cell',
                              },
                            },
                            deviceManager: {
                              device: 'Device',
                              devices: {
                                desktop: 'Desktop',
                                tablet: 'Tablet',
                                mobileLandscape: 'Mobile Landscape',
                                mobilePortrait: 'Mobile Portrait',
                              },
                            },
                            panels: {
                              buttons: {
                                titles: {
                                  preview: 'Preview',
                                  fullscreen: 'Fullscreen',
                                  'sw-visibility': 'View components',
                                  'export-template': 'View code',
                                  'open-sm': 'Open Style Manager',
                                  'open-tm': 'Settings',
                                  'open-layers': 'Open Layer Manager',
                                  'open-blocks': 'Open Blocks',
                                },
                              },
                            },
                            selectorManager: {
                              label: 'Classes',
                              selected: 'Selected',
                              emptyState: '- State -',
                              states: {
                                hover: 'Hover',
                                active: 'Click',
                                'nth-of-type(2n)': 'Even/Odd',
                              },
                            },
                            styleManager: {
                              empty:
                                'Select an element before using Style Manager',
                              layer: 'Layer',
                              fileButton: 'Images',
                              sectors: {
                                general: 'General',
                                layout: 'Layout',
                                typography: 'Typography',
                                decorations: 'Decorations',
                                extra: 'Extra',
                                flex: 'Flex',
                                dimension: 'Dimension',
                              },
                              properties: {
                                'text-shadow-h': 'X',
                                'text-shadow-v': 'Y',
                                'text-shadow-blur': 'Blur',
                                'text-shadow-color': 'Color',
                                'box-shadow-h': 'X',
                                'box-shadow-v': 'Y',
                                'box-shadow-blur': 'Blur',
                                'box-shadow-spread': 'Spread',
                                'box-shadow-color': 'Color',
                                'box-shadow-type': 'Type',
                                'margin-top-sub': 'Top',
                                'margin-right-sub': 'Right',
                                'margin-bottom-sub': 'Bottom',
                                'margin-left-sub': 'Left',
                                'padding-top-sub': 'Top',
                                'padding-right-sub': 'Right',
                                'padding-bottom-sub': 'Bottom',
                                'padding-left-sub': 'Left',
                                'border-width-sub': 'Width',
                                'border-style-sub': 'Style',
                                'border-color-sub': 'Color',
                                'border-top-left-radius-sub': 'Top Left',
                                'border-top-right-radius-sub': 'Top Right',
                                'border-bottom-right-radius-sub':
                                  'Bottom Right',
                                'border-bottom-left-radius-sub': 'Bottom Left',
                                'transform-rotate-x': 'Rotate X',
                                'transform-rotate-y': 'Rotate Y',
                                'transform-rotate-z': 'Rotate Z',
                                'transform-scale-x': 'Scale X',
                                'transform-scale-y': 'Scale Y',
                                'transform-scale-z': 'Scale Z',
                                'transition-property-sub': 'Property',
                                'transition-duration-sub': 'Duration',
                                'transition-timing-function-sub': 'Timing',
                                'background-image-sub': 'Image',
                                'background-repeat-sub': 'Repeat',
                                'background-position-sub': 'Position',
                                'background-attachment-sub': 'Attachment',
                                'background-size-sub': 'Size',
                              },
                            },
                            traitManager: {
                              empty:
                                'Select an element before using Trait Manager',
                              label: 'Component settings',
                              traits: {
                                labels: {},
                                attributes: {
                                  id: ic,
                                  alt: ic,
                                  title: ic,
                                  href: {
                                    placeholder: 'eg. https://google.com',
                                  },
                                },
                                options: {
                                  target: {
                                    false: 'This window',
                                    _blank: 'New window',
                                  },
                                },
                              },
                            },
                            storageManager: {
                              recover:
                                'Do you want to recover unsaved changes?',
                            },
                          },
                        },
                        messagesAdd: void 0,
                      };
                      var sc =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        lc = (function (e) {
                          function r(t) {
                            var n = e.call(this, t, 'I18n', ac) || this,
                              r = n.config.messagesAdd;
                            return (
                              r && n.addMessages(r),
                              n.config.detectLocale &&
                                (n.config.locale = n._localLang()),
                              n
                            );
                          }
                          return (
                            sc(r, e),
                            (r.prototype.setLocale = function (t) {
                              var e = this.em,
                                n = this.config,
                                r = {
                                  value: t,
                                  valuePrev: n.locale,
                                };
                              return (
                                e && e.trigger('i18n:locale', r),
                                (n.locale = t),
                                this
                              );
                            }),
                            (r.prototype.getLocale = function () {
                              return this.config.locale;
                            }),
                            (r.prototype.getMessages = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.config.messages;
                              return (
                                t &&
                                  !n[t] &&
                                  this._debug(
                                    "'".concat(t, "' i18n lang not found"),
                                    e
                                  ),
                                t ? n[t] : n
                              );
                            }),
                            (r.prototype.setMessages = function (t) {
                              var e = this.em;
                              return (
                                (this.config.messages = t),
                                e && e.trigger('i18n:update', t),
                                this
                              );
                            }),
                            (r.prototype.addMessages = function (t) {
                              var e = this.em,
                                r = this.config.messages;
                              return (
                                e && e.trigger('i18n:add', t),
                                this.setMessages((0, n.deepMerge)(r, t)),
                                this
                              );
                            }),
                            (r.prototype.t = function (e, n) {
                              void 0 === n && (n = {});
                              var r = this.config,
                                o = n.params || {},
                                i = n.l || this.getLocale(),
                                a = n.lFlb || r.localeFallback,
                                s = this._getMsg(e, i, n);
                              return (
                                s || (s = this._getMsg(e, a, n)),
                                !s &&
                                  this._debug(
                                    "'"
                                      .concat(e, "' i18n key not found in '")
                                      .concat(i, "' lang"),
                                    n
                                  ),
                                s && (0, t.isString)(s)
                                  ? this._addParams(s, o)
                                  : s
                              );
                            }),
                            (r.prototype._localLang = function () {
                              var t =
                                  ((0, n.hasWin)() && window.navigator) || {},
                                e = t.language || t.userLanguage;
                              return e ? e.split('-')[0] : 'en';
                            }),
                            (r.prototype._addParams = function (t, e) {
                              var n = new RegExp('{([\\w\\d-]*)}', 'g');
                              return t
                                .replace(n, function (t, n) {
                                  return e[n] || '';
                                })
                                .trim();
                            }),
                            (r.prototype._getMsg = function (e, n, r) {
                              void 0 === r && (r = {});
                              var o = this.getMessages(n, r);
                              if (o) {
                                var i = o[e];
                                return (
                                  !i &&
                                    e.indexOf('.') > 0 &&
                                    (i = e.split('.').reduce(function (e, n) {
                                      if (!(0, t.isUndefined)(e)) return e[n];
                                    }, o)),
                                  i
                                );
                              }
                            }),
                            (r.prototype._debug = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.em,
                                r = this.config;
                              (e.debug || r.debug) && n && n.logWarning(t);
                            }),
                            (r.prototype.destroy = function () {}),
                            r
                          );
                        })(y);
                      const cc = lc;
                      var uc =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        pc =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (pc =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              pc.apply(this, arguments)
                            );
                          },
                        dc = function () {},
                        fc = (function (r) {
                          function o() {
                            return (
                              (null !== r && r.apply(this, arguments)) || this
                            );
                          }
                          return (
                            uc(o, r),
                            (o.prototype.initialize = function (n) {
                              void 0 === n && (n = {}),
                                (this.opt = n || {}),
                                (0, t.bindAll)(
                                  this,
                                  'startSort',
                                  'onMove',
                                  'endMove',
                                  'rollback',
                                  'updateOffset',
                                  'moveDragHelper'
                                );
                              var r = n || {};
                              (this.elT = 0),
                                (this.elL = 0),
                                (this.borderOffset = r.borderOffset || 10);
                              var o = r.container;
                              (this.el =
                                'string' == typeof o
                                  ? document.querySelector(o)
                                  : o),
                                (this.$el = (0, e['default'])(this.el)),
                                (this.containerSel = r.containerSel || 'div'),
                                (this.itemSel = r.itemSel || 'div'),
                                (this.draggable = r.draggable || !0),
                                (this.nested = !!r.nested),
                                (this.pfx = r.pfx || ''),
                                (this.ppfx = r.ppfx || ''),
                                (this.freezeClass =
                                  r.freezeClass || this.pfx + 'freezed'),
                                (this.onStart = r.onStart || dc),
                                (this.onEndMove = r.onEndMove),
                                (this.customTarget = r.customTarget),
                                (this.onEnd = r.onEnd),
                                (this.direction = r.direction || 'v'),
                                (this.onMoveClb = r.onMove),
                                (this.relative = r.relative || !1),
                                (this.ignoreViewChildren =
                                  !!r.ignoreViewChildren),
                                (this.plh = r.placer),
                                (this.wmargin = r.wmargin || 0),
                                (this.offTop = r.offsetTop || 0),
                                (this.offLeft = r.offsetLeft || 0),
                                (this.document = r.document || document),
                                (this.em = r.em),
                                (this.canvasRelative = !!r.canvasRelative),
                                (this.selectOnEnd = !r.avoidSelectOnEnd),
                                (this.scale = r.scale),
                                this.em &&
                                  this.em.on &&
                                  (this.em.on(
                                    'change:canvasOffset',
                                    this.updateOffset
                                  ),
                                  this.updateOffset());
                            }),
                            (o.prototype.getScale = function () {
                              return (0, t.result)(this, 'scale') || 1;
                            }),
                            (o.prototype.getContainerEl = function (t) {
                              if ((t && (this.el = t), !this.el)) {
                                var n = this.opt.container;
                                (this.el =
                                  'string' == typeof n
                                    ? document.querySelector(n)
                                    : n),
                                  (this.$el = (0, e['default'])(this.el));
                              }
                              return this.el;
                            }),
                            (o.prototype.getDocuments = function (t) {
                              var e = this.em,
                                n = t
                                  ? t.ownerDocument
                                  : null == e
                                  ? void 0
                                  : e.Canvas.getBody().ownerDocument,
                                r = [document];
                              return n && r.push(n), r;
                            }),
                            (o.prototype.updateOffset = function () {
                              var t,
                                e =
                                  (null === (t = this.em) || void 0 === t
                                    ? void 0
                                    : t.get('canvasOffset')) || {};
                              (this.offTop = e.top), (this.offLeft = e.left);
                            }),
                            (o.prototype.setDropContent = function (t) {
                              delete this.dropModel, (this.dropContent = t);
                            }),
                            (o.prototype.updateTextViewCursorPosition =
                              function (t) {
                                var e = this.em;
                                if (e) {
                                  var r = e.get('Canvas'),
                                    o = r.getDocument(),
                                    i = null;
                                  if (o.caretRangeFromPoint) {
                                    var a = (0, n.getPointerEvent)(t);
                                    i = o.caretRangeFromPoint(
                                      a.clientX,
                                      a.clientY
                                    );
                                  } else
                                    t.rangeParent &&
                                      (i = o.createRange()).setStart(
                                        t.rangeParent,
                                        t.rangeOffset
                                      );
                                  var s = r.getWindow().getSelection();
                                  r.getFrameEl().focus(),
                                    s.removeAllRanges(),
                                    i && s.addRange(i),
                                    this.setContentEditable(
                                      this.activeTextModel,
                                      !0
                                    );
                                }
                              }),
                            (o.prototype.setContentEditable = function (t, e) {
                              if (t) {
                                var n = t.getEl();
                                n.contentEditable != e &&
                                  (n.contentEditable = e);
                              }
                            }),
                            (o.prototype.toggleSortCursor = function (t) {
                              var e = this.em,
                                n = e && e.get('Canvas');
                              n &&
                                (t ? n.startAutoscroll() : n.stopAutoscroll());
                            }),
                            (o.prototype.setDragHelper = function (t, n) {
                              for (
                                var r = n || '',
                                  o = t.cloneNode(!0),
                                  i = t.getBoundingClientRect(),
                                  a = getComputedStyle(t),
                                  s = '',
                                  l = 0;
                                l < a.length;
                                l++
                              ) {
                                var c = a[l];
                                s += ''
                                  .concat(c, ':')
                                  .concat(a.getPropertyValue(c), ';');
                              }
                              document.body.appendChild(o),
                                (o.className += ' '.concat(this.pfx, 'bdrag')),
                                o.setAttribute('style', s),
                                (this.dragHelper = o),
                                (o.style.width = ''.concat(i.width, 'px')),
                                (o.style.height = ''.concat(i.height, 'px')),
                                r && this.moveDragHelper(r),
                                this.em &&
                                  (0, e['default'])(
                                    this.em.Canvas.getBody().ownerDocument
                                  )
                                    .off('mousemove', this.moveDragHelper)
                                    .on('mousemove', this.moveDragHelper),
                                (0, e['default'])(document)
                                  .off('mousemove', this.moveDragHelper)
                                  .on('mousemove', this.moveDragHelper);
                            }),
                            (o.prototype.moveDragHelper = function (t) {
                              var e = t.target.ownerDocument;
                              if (this.dragHelper && e) {
                                var n = t.pageY,
                                  r = t.pageX,
                                  o = 0,
                                  i = 0,
                                  a = (e.defaultView || e.parentWindow)
                                    .frameElement,
                                  s = this.dragHelper.style;
                                if (a) {
                                  var l = a.getBoundingClientRect();
                                  (o =
                                    l.top + document.documentElement.scrollTop),
                                    (i =
                                      l.left +
                                      document.documentElement.scrollLeft),
                                    (n = t.clientY),
                                    (r = t.clientX);
                                }
                                (s.top = n + o + 'px'), (s.left = r + i + 'px');
                              }
                            }),
                            (o.prototype.matches = function (t, e) {
                              return n.matches.call(t, e);
                            }),
                            (o.prototype.closest = function (t, e) {
                              if (t)
                                for (
                                  var n = t.parentNode;
                                  n && 1 === n.nodeType;

                                ) {
                                  if (this.matches(n, e)) return n;
                                  n = n.parentNode;
                                }
                            }),
                            (o.prototype.offset = function (t) {
                              var e = t.getBoundingClientRect();
                              return {
                                top: e.top + document.body.scrollTop,
                                left: e.left + document.body.scrollLeft,
                              };
                            }),
                            (o.prototype.createPlaceholder = function () {
                              var t = this.pfx,
                                e = document.createElement('div'),
                                n = document.createElement('div');
                              return (
                                (e.className = t + 'placeholder'),
                                (e.style.display = 'none'),
                                (e.style.pointerEvents = 'none'),
                                (n.className = t + 'placeholder-int'),
                                e.appendChild(n),
                                e
                              );
                            }),
                            (o.prototype.startSort = function (t, e) {
                              var r, o;
                              void 0 === e && (e = {});
                              var i,
                                a = this,
                                s = a.em,
                                l = a.itemSel,
                                c = a.containerSel,
                                u = a.plh,
                                p = this.getContainerEl(e.container),
                                d = this.getDocuments(t);
                              delete this.dropModel,
                                delete this.target,
                                delete this.prevTarget,
                                (this.moved = !1),
                                t &&
                                  !this.matches(
                                    t,
                                    ''.concat(l, ', ').concat(c)
                                  ) &&
                                  (t = this.closest(t, l)),
                                (this.sourceEl = t),
                                u ||
                                  ((this.plh = this.createPlaceholder()),
                                  p.appendChild(this.plh)),
                                t &&
                                  ((i = this.getSourceModel(t)) &&
                                    i.set &&
                                    i.set('status', 'freezed'),
                                  (this.srcModel = i)),
                                (0, n.on)(p, 'mousemove dragover', this.onMove),
                                (0, n.on)(
                                  d,
                                  'mouseup dragend touchend',
                                  this.endMove
                                ),
                                (0, n.on)(d, 'keydown', this.rollback),
                                this.onStart({
                                  sorter: this,
                                  target: i,
                                  parent:
                                    i &&
                                    (null === (r = i.parent) || void 0 === r
                                      ? void 0
                                      : r.call(i)),
                                  index:
                                    i &&
                                    (null === (o = i.index) || void 0 === o
                                      ? void 0
                                      : o.call(i)),
                                }),
                                null == s || s.clearSelection(),
                                this.toggleSortCursor(!0),
                                null == s ||
                                  s.trigger('sorter:drag:start', t, i);
                            }),
                            (o.prototype.getTargetModel = function (t) {
                              var n = t || this.target;
                              return (0, e['default'])(n).data('model');
                            }),
                            (o.prototype.getSourceModel = function (t, n) {
                              var r = this,
                                o = void 0 === n ? {} : n,
                                i = o.target,
                                a = o.avoidChildren,
                                s = void 0 === a ? 1 : a,
                                l = this.em,
                                c = this.sourceEl,
                                u = t || c,
                                p = this.dropModel,
                                d = this.dropContent,
                                f = function (t) {
                                  return (
                                    t &&
                                    i &&
                                    t.opt &&
                                    t.opt.avoidChildren &&
                                    r.isTextableActive(t, i)
                                  );
                                };
                              if (d && l) {
                                if ((f(p) && (p = void 0), !p)) {
                                  var h = l.Components.getComponents(),
                                    g = {
                                      avoidChildren: s,
                                      avoidStore: 1,
                                      avoidUpdateStyle: 1,
                                    },
                                    v = h.add(
                                      d,
                                      pc(pc({}, g), {
                                        temporary: !0,
                                      })
                                    );
                                  if (
                                    ((p =
                                      (p = h.remove(v, g)) instanceof Array
                                        ? p[0]
                                        : p),
                                    (this.dropModel = p),
                                    f(p))
                                  )
                                    return this.getSourceModel(u, {
                                      target: i,
                                      avoidChildren: 0,
                                    });
                                }
                                return p;
                              }
                              return u && (0, e['default'])(u).data('model');
                            }),
                            (o.prototype.selectTargetModel = function (t, e) {
                              if (!(t instanceof u.FE || (e && e === t))) {
                                var n = this.targetModel;
                                n && n !== this.srcModel && n.set('status', ''),
                                  t &&
                                    t.set &&
                                    (t.set('status', 'selected-parent'),
                                    (this.targetModel = t));
                              }
                            }),
                            (o.prototype.onMove = function (n) {
                              var r = n,
                                o = this,
                                i = o.em,
                                a = o.onMoveClb,
                                s = o.plh,
                                l = o.customTarget;
                              this.moved = !0;
                              var c = s.style.display;
                              (c && 'none' !== c) ||
                                (s.style.display = 'block');
                              var u = this.offset(this.el);
                              (this.elT = this.wmargin
                                ? Math.abs(u.top)
                                : u.top),
                                (this.elL = this.wmargin
                                  ? Math.abs(u.left)
                                  : u.left);
                              var p = n.pageY - this.elT + this.el.scrollTop,
                                d = n.pageX - this.elL + this.el.scrollLeft;
                              if (this.canvasRelative && i) {
                                var f = i
                                  .get('Canvas')
                                  .getMouseRelativeCanvas(n, {
                                    noScroll: 1,
                                  });
                                (d = f.x), (p = f.y);
                              }
                              (this.rX = d),
                                (this.rY = p),
                                (this.eventMove = n);
                              var h = this.getSourceModel(),
                                g = l
                                  ? l({
                                      sorter: this,
                                      event: n,
                                    })
                                  : n.target,
                                v = this.dimsFromTarget(g, d, p),
                                m = this.target,
                                y = m && this.getTargetModel(m);
                              if (
                                (this.selectTargetModel(y, h),
                                y || (s.style.display = 'none'),
                                m)
                              ) {
                                this.lastDims = v;
                                var b = this.findPosition(v, d, p);
                                this.isTextableActive(h, y)
                                  ? ((this.activeTextModel = y),
                                    (s.style.display = 'none'),
                                    (this.lastPos = b),
                                    this.updateTextViewCursorPosition(r))
                                  : (this.disableTextable(),
                                    delete this.activeTextModel,
                                    (this.lastPos &&
                                      this.lastPos.index == b.index &&
                                      this.lastPos.method == b.method) ||
                                      (this.movePlaceholder(
                                        this.plh,
                                        v,
                                        b,
                                        this.prevTargetDim
                                      ),
                                      this.$plh ||
                                        (this.$plh = (0, e['default'])(
                                          this.plh
                                        )),
                                      this.canvasRelative ||
                                        (this.offTop &&
                                          this.$plh.css(
                                            'top',
                                            '+=' + this.offTop + 'px'
                                          ),
                                        this.offLeft &&
                                          this.$plh.css(
                                            'left',
                                            '+=' + this.offLeft + 'px'
                                          )),
                                      (this.lastPos = b))),
                                  (0, t.isFunction)(a) &&
                                    a({
                                      event: n,
                                      target: h,
                                      parent: y,
                                      index:
                                        b.index + ('after' == b.method ? 1 : 0),
                                    }),
                                  i &&
                                    i.trigger('sorter:drag', {
                                      target: m,
                                      targetModel: y,
                                      sourceModel: h,
                                      dims: v,
                                      pos: b,
                                      x: d,
                                      y: p,
                                    });
                              }
                            }),
                            (o.prototype.isTextableActive = function (t, e) {
                              var n;
                              return (
                                (null === (n = null == t ? void 0 : t.get) ||
                                void 0 === n
                                  ? void 0
                                  : n.call(t, 'textable')) &&
                                (null == e ? void 0 : e.isInstanceOf('text'))
                              );
                            }),
                            (o.prototype.disableTextable = function () {
                              var t = this.activeTextModel;
                              null == t || t.getView().disableEditing(),
                                this.setContentEditable(t, !1);
                            }),
                            (o.prototype.isInFlow = function (t, e) {
                              if (!t) return !1;
                              e = e || document.body;
                              var n = t;
                              return n.offsetHeight, !!this.styleInFlow(n, e);
                            }),
                            (o.prototype.styleInFlow = function (t, r) {
                              if (!(0, n.isTextNode)(t)) {
                                var o = t.style || {},
                                  i = (0, e['default'])(t),
                                  a = r && (0, e['default'])(r);
                                if (!o.overflow || 'visible' === o.overflow) {
                                  var s = i.css('float');
                                  if (
                                    !(
                                      (s && 'none' !== s) ||
                                      (a &&
                                        'flex' == a.css('display') &&
                                        'column' !== a.css('flex-direction'))
                                    )
                                  ) {
                                    switch (o.position) {
                                      case 'static':
                                      case 'relative':
                                      case '':
                                        break;
                                      default:
                                        return;
                                    }
                                    switch (t.tagName) {
                                      case 'TR':
                                      case 'TBODY':
                                      case 'THEAD':
                                      case 'TFOOT':
                                        return !0;
                                    }
                                    switch (i.css('display')) {
                                      case 'block':
                                      case 'list-item':
                                      case 'table':
                                      case 'flex':
                                        return !0;
                                    }
                                  }
                                }
                              }
                            }),
                            (o.prototype.validTarget = function (e, n) {
                              var r = this.getTargetModel(e),
                                o = this.getSourceModel(n, {
                                  target: r,
                                }),
                                i = {
                                  valid: !0,
                                  src: (n = o && o.view && o.view.el),
                                  srcModel: o,
                                  trg: (e = r && r.view && r.view.el),
                                  trgModel: r,
                                  draggable: !1,
                                  droppable: !1,
                                  dragInfo: '',
                                  dropInfo: '',
                                };
                              if (!n || !e) return (i.valid = !1), i;
                              var a = o.get('draggable');
                              if ((0, t.isFunction)(a)) {
                                var s = a(o, r);
                                (i.dragInfo = s), (i.draggable = s), (a = s);
                              } else
                                (a = a instanceof Array ? a.join(', ') : a),
                                  (i.dragInfo = a),
                                  (a = (0, t.isString)(a)
                                    ? this.matches(e, a)
                                    : a),
                                  (i.draggable = a);
                              var l = r.get('droppable');
                              return (
                                (0, t.isFunction)(l)
                                  ? ((s = l(o, r)),
                                    (i.droppable = s),
                                    (i.dropInfo = s),
                                    (l = s))
                                  : ((l =
                                      (l = l instanceof u.FE ? 1 : l) instanceof
                                      Array
                                        ? l.join(', ')
                                        : l),
                                    (i.dropInfo = l),
                                    (l = (0, t.isString)(l)
                                      ? this.matches(n, l)
                                      : l),
                                    (l =
                                      a && this.isTextableActive(o, r) ? 1 : l),
                                    (i.droppable = l)),
                                (l && a) || (i.valid = !1),
                                i
                              );
                            }),
                            (o.prototype.dimsFromTarget = function (t, e, n) {
                              var r = this.em,
                                o = [];
                              if (!t) return o;
                              if (
                                (this.matches(
                                  t,
                                  ''
                                    .concat(this.itemSel, ', ')
                                    .concat(this.containerSel)
                                ) || (t = this.closest(t, this.itemSel)),
                                this.draggable instanceof Array &&
                                  (t = this.closest(
                                    t,
                                    this.draggable.join(',')
                                  )),
                                !t)
                              )
                                return o;
                              if (
                                (this.prevTarget &&
                                  this.prevTarget != t &&
                                  delete this.prevTarget,
                                !this.prevTarget)
                              ) {
                                this.targetP = this.closest(
                                  t,
                                  this.containerSel
                                );
                                var i = this.validTarget(t);
                                if (
                                  (r && r.trigger('sorter:drag:validation', i),
                                  !i.valid && this.targetP)
                                )
                                  return this.dimsFromTarget(
                                    this.targetP,
                                    e,
                                    n
                                  );
                                (this.prevTarget = t),
                                  (this.prevTargetDim = this.getDim(t)),
                                  (this.cacheDimsP = this.getChildrenDim(
                                    this.targetP
                                  )),
                                  (this.cacheDims = this.getChildrenDim(t));
                              }
                              if (
                                (this.prevTarget == t && (o = this.cacheDims),
                                (this.target = this.prevTarget),
                                this.nearBorders(this.prevTargetDim, e, n) ||
                                  (!this.nested && !this.cacheDims.length))
                              ) {
                                var a = this.targetP;
                                a &&
                                  this.validTarget(a).valid &&
                                  ((o = this.cacheDimsP), (this.target = a));
                              }
                              return delete this.lastPos, o;
                            }),
                            (o.prototype.getTargetFromEl = function (t) {
                              var e,
                                n = t,
                                r = this.targetPrev,
                                o = this.em,
                                i = this.containerSel,
                                a = this.itemSel;
                              if (
                                (this.matches(
                                  n,
                                  ''.concat(a, ', ').concat(i)
                                ) || (n = this.closest(n, a)),
                                this.draggable instanceof Array &&
                                  (n = this.closest(
                                    n,
                                    this.draggable.join(',')
                                  )),
                                r && r != n && delete this.targetPrev,
                                !this.targetPrev)
                              ) {
                                e = this.closest(n, i);
                                var s = this.validTarget(n);
                                if (
                                  (o && o.trigger('sorter:drag:validation', s),
                                  !s.valid && e)
                                )
                                  return this.getTargetFromEl(e);
                                this.targetPrev = n;
                              }
                              return (
                                this.nearElBorders(n) &&
                                  (e = this.closest(n, i)) &&
                                  this.validTarget(e).valid &&
                                  (n = e),
                                n
                              );
                            }),
                            (o.prototype.nearElBorders = function (t) {
                              var e = 10,
                                n = t.getBoundingClientRect(),
                                r = t.ownerDocument.body,
                                o = this.getCurrentPos(),
                                i = o.x,
                                a = o.y,
                                s = n.top + r.scrollTop,
                                l = n.left + r.scrollLeft,
                                c = n.width,
                                u = n.height;
                              if (
                                a < s + e ||
                                a > s + u - e ||
                                i < l + e ||
                                i > l + c - e
                              )
                                return 1;
                            }),
                            (o.prototype.getCurrentPos = function () {
                              var t = this.eventMove;
                              return {
                                x: (null == t ? void 0 : t.pageX) || 0,
                                y: (null == t ? void 0 : t.pageY) || 0,
                              };
                            }),
                            (o.prototype.getDim = function (t) {
                              var e,
                                n,
                                r,
                                o,
                                i = this.em,
                                a = this.canvasRelative,
                                s = null == i ? void 0 : i.Canvas,
                                l = s ? s.getElementOffsets(t) : {};
                              if (a && i) {
                                var c = s.getElementPos(t, {
                                  noScroll: 1,
                                });
                                (e = c.top),
                                  (n = c.left),
                                  (r = c.height),
                                  (o = c.width);
                              } else {
                                var u = this.offset(t);
                                (e = this.relative
                                  ? t.offsetTop
                                  : u.top - (this.wmargin ? -1 : 1) * this.elT),
                                  (n = this.relative
                                    ? t.offsetLeft
                                    : u.left -
                                      (this.wmargin ? -1 : 1) * this.elL),
                                  (r = t.offsetHeight),
                                  (o = t.offsetWidth);
                              }
                              return {
                                top: e,
                                left: n,
                                height: r,
                                width: o,
                                offsets: l,
                              };
                            }),
                            (o.prototype.getChildrenDim = function (r) {
                              var o = this,
                                i = [];
                              if (!r) return i;
                              var a = this.getTargetModel(r);
                              if (a && a.view && !this.ignoreViewChildren) {
                                var s = a.getCurrentView
                                  ? a.getCurrentView()
                                  : a.view;
                                r = s.getChildrenContainer();
                              }
                              return (
                                (0, t.each)(r.children, function (t, a) {
                                  var s = t,
                                    l = (0, n.getModel)(s, e['default']),
                                    c = l && l.index ? l.index() : a;
                                  if (
                                    (0, n.isTextNode)(s) ||
                                    o.matches(s, o.itemSel)
                                  ) {
                                    var u,
                                      p = o.getDim(s),
                                      d = o.direction;
                                    (u =
                                      'v' == d ||
                                      ('h' != d && o.isInFlow(s, r))),
                                      (p.dir = u),
                                      (p.el = s),
                                      (p.indexEl = c),
                                      i.push(p);
                                  }
                                }),
                                i
                              );
                            }),
                            (o.prototype.nearBorders = function (t, e, n) {
                              var r = !1,
                                o = this.borderOffset,
                                i = e || 0,
                                a = n || 0,
                                s = t.top,
                                l = t.left,
                                c = t.height,
                                u = t.width;
                              return (
                                (s + o > a ||
                                  a > s + c - o ||
                                  l + o > i ||
                                  i > l + u - o) &&
                                  (r = !0),
                                r
                              );
                            }),
                            (o.prototype.findPosition = function (t, e, n) {
                              for (
                                var r,
                                  o = {
                                    index: 0,
                                    indexEl: 0,
                                    method: 'before',
                                  },
                                  i = 0,
                                  a = 0,
                                  s = 0,
                                  l = 0,
                                  c = 0,
                                  u = 0,
                                  p = 0,
                                  d = t.length;
                                p < d;
                                p++
                              ) {
                                var f = (r = t[p]).top,
                                  h = r.left,
                                  g = r.height,
                                  v = r.width;
                                if (
                                  ((u = f + g),
                                  (l = h + v / 2),
                                  (c = f + g / 2),
                                  !(
                                    (a && h > a) ||
                                    (s && c >= s) ||
                                    (i && h + v < i)
                                  ))
                                )
                                  if (
                                    ((o.index = p),
                                    (o.indexEl = r.indexEl),
                                    r.dir)
                                  ) {
                                    if (n < c) {
                                      o.method = 'before';
                                      break;
                                    }
                                    o.method = 'after';
                                  } else
                                    n < u && (s = u),
                                      e < l
                                        ? ((a = l), (o.method = 'before'))
                                        : ((i = l), (o.method = 'after'));
                              }
                              return o;
                            }),
                            (o.prototype.movePlaceholder = function (
                              t,
                              e,
                              n,
                              r
                            ) {
                              var o = 0,
                                i = 0,
                                a = 0,
                                s = '',
                                l = '',
                                c = 'px',
                                u = 5,
                                p = n.method,
                                d = e[n.index];
                              if (
                                (t.classList.remove('vertical'),
                                t.classList.add('horizontal'),
                                d)
                              ) {
                                var f = d.top,
                                  h = d.left,
                                  g = d.height,
                                  v = d.width;
                                d.dir
                                  ? ((s = v + c),
                                    (l = 'auto'),
                                    (i = 'before' == p ? f - o : f + g - o),
                                    (a = h))
                                  : ((s = 'auto'),
                                    (l = g - 2 * o + c),
                                    (i = f + o),
                                    (a = 'before' == p ? h - o : h + v - o),
                                    t.classList.remove('horizontal'),
                                    t.classList.add('vertical'));
                              } else {
                                if (!this.nested)
                                  return void (t.style.display = 'none');
                                if (r) {
                                  var m = r.offsets || {},
                                    y = m.paddingTop || u,
                                    b = m.paddingLeft || u;
                                  (i = r.top + y),
                                    (a = r.left + b),
                                    (s =
                                      parseInt(''.concat(r.width)) - 2 * b + c),
                                    (l = 'auto');
                                }
                              }
                              (t.style.top = i + c),
                                (t.style.left = a + c),
                                s && (t.style.width = s),
                                l && (t.style.height = l);
                            }),
                            (o.prototype.parents = function (t) {
                              return t
                                ? [t].concat(this.parents(t.parent()))
                                : [];
                            }),
                            (o.prototype.sort = function (t, e) {
                              var n = t.parents.filter(function (t) {
                                return e.parents.includes(t);
                              })[0];
                              if (!n) return e.model.index() - t.model.index();
                              var r = t.parents[t.parents.indexOf(n) - 1];
                              return (
                                e.parents[e.parents.indexOf(n) - 1].index() -
                                r.index()
                              );
                            }),
                            (o.prototype.endMove = function () {
                              var e,
                                r = this,
                                o = this.sourceEl,
                                i = [],
                                a = this.getDocuments(),
                                s = this.getContainerEl(),
                                l = this.onEndMove,
                                c = this.onEnd,
                                u = this.target,
                                p = this.lastPos;
                              if (
                                ((0, n.off)(
                                  s,
                                  'mousemove dragover',
                                  this.onMove
                                ),
                                (0, n.off)(
                                  a,
                                  'mouseup dragend touchend',
                                  this.endMove
                                ),
                                (0, n.off)(a, 'keydown', this.rollback),
                                (this.plh.style.display = 'none'),
                                o &&
                                  ((e = this.getSourceModel()),
                                  this.selectOnEnd &&
                                    e &&
                                    e.set &&
                                    (e.set('status', ''),
                                    e.set('status', 'selected'))),
                                this.moved && u)
                              ) {
                                var d = this.toMove,
                                  f = (0, t.isArray)(d) ? d : d ? [d] : [o],
                                  h = 0;
                                1 === f.length
                                  ? i.push(this.move(u, f[0], p))
                                  : f
                                      .map(function (t) {
                                        return {
                                          model: t,
                                          parents: r.parents(t),
                                        };
                                      })
                                      .sort(this.sort)
                                      .forEach(function (t) {
                                        var e = t.model,
                                          n = e.index(),
                                          o = e.parent().getEl();
                                        i.push(
                                          r.move(
                                            u,
                                            e,
                                            pc(pc({}, p), {
                                              indexEl: p.indexEl - h,
                                              index: p.index - h,
                                            })
                                          )
                                        ),
                                          o === u && n <= p.index && h++;
                                      });
                              }
                              this.plh && (this.plh.style.display = 'none');
                              var g = this.dragHelper;
                              if (
                                (g &&
                                  (g.parentNode.removeChild(g),
                                  delete this.dragHelper),
                                this.disableTextable(),
                                this.selectTargetModel(),
                                this.toggleSortCursor(),
                                delete this.toMove,
                                delete this.eventMove,
                                delete this.dropModel,
                                (0, t.isFunction)(l))
                              ) {
                                var v = {
                                  target: e,
                                  parent: e && e.parent(),
                                  index: e && e.index(),
                                };
                                i.length
                                  ? i.forEach(function (t) {
                                      return l(t, r, v);
                                    })
                                  : l(
                                      null,
                                      this,
                                      pc(pc({}, v), {
                                        cancelled: 1,
                                      })
                                    );
                              }
                              (0, t.isFunction)(c) &&
                                c({
                                  sorter: this,
                                });
                            }),
                            (o.prototype.move = function (r, o, i) {
                              var a,
                                s,
                                l = this.em,
                                c = this.dropContent,
                                p = (0, n.getElement)(o),
                                d = [],
                                f =
                                  'after' === i.method
                                    ? i.indexEl + 1
                                    : i.indexEl,
                                h = this.validTarget(r, p),
                                g = (0, e['default'])(r).data('collection'),
                                v = h.trgModel,
                                m = h.srcModel,
                                y = h.draggable,
                                b = v instanceof u.FE ? 1 : h.droppable;
                              if (g && b && y) {
                                var _ = {
                                    at: f,
                                    action: 'move-component',
                                  },
                                  w = this.isTextableActive(m, v);
                                if (c)
                                  (a = (0, t.isFunction)(c) ? c() : c),
                                    (_.avoidUpdateStyle = !0),
                                    (_.action = 'add-component');
                                else {
                                  var x = m.collection.indexOf(m),
                                    C = g === m.collection;
                                  (!C || (x !== f && x !== f - 1) || w) &&
                                    ((a = m.collection.remove(m, {
                                      temporary: !0,
                                    })),
                                    C && f > x && (_.at = f - 1));
                                }
                                a &&
                                  (w
                                    ? (delete _.at,
                                      (s = v.getView().insertComponent(a, _)))
                                    : (s = g.add(a, _))),
                                  delete this.dropContent,
                                  delete this.prevTarget;
                              } else if (l) {
                                var S =
                                    h.dropInfo ||
                                    (null == v ? void 0 : v.get('droppable')),
                                  O =
                                    h.dragInfo ||
                                    (null == m ? void 0 : m.get('draggable'));
                                !g && d.push('Target collection not found'),
                                  !b &&
                                    S &&
                                    d.push(
                                      'Target is not droppable, accepts ['.concat(
                                        S,
                                        ']'
                                      )
                                    ),
                                  !y &&
                                    O &&
                                    d.push(
                                      'Component not draggable, acceptable by ['.concat(
                                        O,
                                        ']'
                                      )
                                    ),
                                  l.logWarning('Invalid target position', {
                                    errors: d,
                                    model: m,
                                    context: 'sorter',
                                    target: v,
                                  });
                              }
                              return (
                                null == l ||
                                  l.trigger('sorter:drag:end', {
                                    targetCollection: g,
                                    modelToDrop: a,
                                    warns: d,
                                    validResult: h,
                                    dst: r,
                                    srcEl: p,
                                  }),
                                s
                              );
                            }),
                            (o.prototype.rollback = function (t) {
                              (0, n.off)(
                                this.getDocuments(),
                                'keydown',
                                this.rollback
                              ),
                                27 == (t.which || t.keyCode) &&
                                  ((this.moved = !1), this.endMove());
                            }),
                            o
                          );
                        })(u.G7);
                      const hc = fc;
                      var gc =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (gc =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              gc.apply(this, arguments)
                            );
                          },
                        vc = (function () {
                          function e(e) {
                            void 0 === e && (e = {}),
                              (this.defOpts = {
                                ratioDefault: !1,
                                onUpdateContainer: function () {},
                                step: 1,
                                minDim: 10,
                                maxDim: 1 / 0,
                                unitHeight: 'px',
                                unitWidth: 'px',
                                keyHeight: 'height',
                                keyWidth: 'width',
                                currentUnit: !0,
                                silentFrames: !1,
                                avoidContainerUpdate: !1,
                                keepAutoHeight: !1,
                                keepAutoWidth: !1,
                                autoHeight: !1,
                                autoWidth: !1,
                                tl: !0,
                                tc: !0,
                                tr: !0,
                                cl: !0,
                                cr: !0,
                                bl: !0,
                                bc: !0,
                                br: !0,
                              }),
                              (this.opts = gc({}, this.defOpts)),
                              this.setOptions(e),
                              (0, t.bindAll)(
                                this,
                                'handleKeyDown',
                                'handleMouseDown',
                                'move',
                                'stop'
                              );
                          }
                          return (
                            (e.prototype.getConfig = function () {
                              return this.opts;
                            }),
                            (e.prototype.setOptions = function (t, e) {
                              void 0 === t && (t = {}),
                                (this.opts = gc(
                                  gc({}, e ? this.defOpts : this.opts),
                                  t
                                )),
                                this.setup();
                            }),
                            (e.prototype.setup = function () {
                              var t = this.opts,
                                e = t.prefix || '',
                                n = t.appendTo || document.body,
                                r = this.container;
                              for (
                                r ||
                                (((r =
                                  document.createElement('div')).className =
                                  ''.concat(e, 'resizer-c')),
                                n.appendChild(r),
                                (this.container = r));
                                r.firstChild;

                              )
                                r.removeChild(r.firstChild);
                              var o = {};
                              for (var i in ([
                                'tl',
                                'tc',
                                'tr',
                                'cl',
                                'cr',
                                'bl',
                                'bc',
                                'br',
                              ].forEach(function (e) {
                                return (o[e] = t[e]
                                  ? (function (t, e) {
                                      void 0 === e && (e = {});
                                      var n = e.prefix || '',
                                        r = document.createElement('i');
                                      return (
                                        (r.className =
                                          n +
                                          'resizer-h ' +
                                          n +
                                          'resizer-h-' +
                                          t),
                                        r.setAttribute(
                                          'data-' + n + 'handler',
                                          t
                                        ),
                                        r
                                      );
                                    })(e, t)
                                  : null);
                              }),
                              o)) {
                                var a = o[i];
                                a && r.appendChild(a);
                              }
                              (this.handlers = o),
                                (this.mousePosFetcher = t.mousePosFetcher),
                                (this.updateTarget = t.updateTarget),
                                (this.posFetcher = t.posFetcher),
                                (this.onStart = t.onStart),
                                (this.onMove = t.onMove),
                                (this.onEnd = t.onEnd),
                                (this.onUpdateContainer = t.onUpdateContainer);
                            }),
                            (e.prototype.toggleFrames = function (e) {
                              if (this.opts.silentFrames) {
                                var n = document.querySelectorAll('iframe');
                                (0, t.each)(n, function (t) {
                                  return (t.style.pointerEvents = e
                                    ? 'none'
                                    : '');
                                });
                              }
                            }),
                            (e.prototype.isHandler = function (t) {
                              var e = this.handlers;
                              for (var n in e) if (e[n] === t) return !0;
                              return !1;
                            }),
                            (e.prototype.getFocusedEl = function () {
                              return this.el;
                            }),
                            (e.prototype.getParentEl = function () {
                              var t;
                              return null === (t = this.el) || void 0 === t
                                ? void 0
                                : t.parentElement;
                            }),
                            (e.prototype.getDocumentEl = function () {
                              return [this.el.ownerDocument, document];
                            }),
                            (e.prototype.getElementPos = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.posFetcher;
                              return n
                                ? n(t, e)
                                : (function (t, e) {
                                    var n = void 0 || window,
                                      r = t.getBoundingClientRect();
                                    return {
                                      left: r.left + n.pageXOffset,
                                      top: r.top + n.pageYOffset,
                                      width: r.width,
                                      height: r.height,
                                    };
                                  })(t);
                            }),
                            (e.prototype.focus = function (t) {
                              (t && t === this.el) ||
                                ((this.el = t),
                                this.updateContainer({
                                  forceShow: !0,
                                }),
                                (0, n.on)(
                                  this.getDocumentEl(),
                                  'pointerdown',
                                  this.handleMouseDown
                                ));
                            }),
                            (e.prototype.blur = function () {
                              (this.container.style.display = 'none'),
                                this.el &&
                                  ((0, n.off)(
                                    this.getDocumentEl(),
                                    'pointerdown',
                                    this.handleMouseDown
                                  ),
                                  delete this.el);
                            }),
                            (e.prototype.start = function (e) {
                              var r = e;
                              if (0 === r.button) {
                                r.preventDefault(), r.stopPropagation();
                                var o = this.el,
                                  i = this.getParentEl(),
                                  a = this.opts || {},
                                  s = this.mousePosFetcher,
                                  l = 'data-' + a.prefix + 'handler',
                                  c = this.getElementPos(o, {
                                    target: 'el',
                                  }),
                                  u = this.getElementPos(i),
                                  p = r.target;
                                (this.handlerAttr = p.getAttribute(l)),
                                  (this.clickedHandler = p),
                                  (this.startDim = {
                                    t: c.top,
                                    l: c.left,
                                    w: c.width,
                                    h: c.height,
                                  }),
                                  (this.rectDim = {
                                    t: c.top,
                                    l: c.left,
                                    w: c.width,
                                    h: c.height,
                                  }),
                                  (this.startPos = s
                                    ? s(r)
                                    : {
                                        x: r.clientX,
                                        y: r.clientY,
                                      }),
                                  (this.parentDim = {
                                    t: u.top,
                                    l: u.left,
                                    w: u.width,
                                    h: u.height,
                                  });
                                var d = this.getDocumentEl();
                                (this.docs = d),
                                  (0, n.on)(d, 'pointermove', this.move),
                                  (0, n.on)(d, 'keydown', this.handleKeyDown),
                                  (0, n.on)(d, 'pointerup', this.stop),
                                  (0, t.isFunction)(this.onStart) &&
                                    this.onStart(r, {
                                      docs: d,
                                      config: a,
                                      el: o,
                                      resizer: this,
                                    }),
                                  this.toggleFrames(!0),
                                  this.move(r);
                              }
                            }),
                            (e.prototype.move = function (t) {
                              var e = t,
                                n = this.onMove,
                                r = this.mousePosFetcher,
                                o = r
                                  ? r(e)
                                  : {
                                      x: e.clientX,
                                      y: e.clientY,
                                    };
                              (this.currentPos = o),
                                (this.delta = {
                                  x: o.x - this.startPos.x,
                                  y: o.y - this.startPos.y,
                                }),
                                (this.keys = {
                                  shift: e.shiftKey,
                                  ctrl: e.ctrlKey,
                                  alt: e.altKey,
                                }),
                                (this.rectDim = this.calc(this)),
                                this.updateRect(!1),
                                n && n(e);
                            }),
                            (e.prototype.stop = function (e) {
                              var r = this.el,
                                o = this.opts,
                                i = this.docs || this.getDocumentEl();
                              (0, n.off)(i, 'pointermove', this.move),
                                (0, n.off)(i, 'keydown', this.handleKeyDown),
                                (0, n.off)(i, 'pointerup', this.stop),
                                this.updateRect(!0),
                                this.toggleFrames(),
                                (0, t.isFunction)(this.onEnd) &&
                                  this.onEnd(e, {
                                    docs: i,
                                    config: o,
                                    el: r,
                                    resizer: this,
                                  }),
                                delete this.docs;
                            }),
                            (e.prototype.updateRect = function (e) {
                              var n = this.el,
                                r = this.opts,
                                o = this.rectDim,
                                i = this.updateTarget,
                                a = this.getSelectedHandler(),
                                s = r.unitHeight,
                                l = r.unitWidth,
                                c = r.keyWidth,
                                u = r.keyHeight;
                              if ((0, t.isFunction)(i))
                                i(n, o, {
                                  store: e,
                                  selectedHandler: a,
                                  resizer: this,
                                  config: r,
                                });
                              else {
                                var p = n.style;
                                (p[c] = o.w + l), (p[u] = o.h + s);
                              }
                              this.updateContainer();
                            }),
                            (e.prototype.updateContainer = function (t) {
                              var e;
                              void 0 === t && (t = {});
                              var n = this,
                                r = n.opts,
                                o = n.container,
                                i = n.el,
                                a = o.style;
                              !r.avoidContainerUpdate &&
                                i &&
                                t.forceShow &&
                                (a.display = 'block'),
                                null === (e = this.onUpdateContainer) ||
                                  void 0 === e ||
                                  e.call(this, {
                                    el: o,
                                    resizer: this,
                                    opts: gc(gc({}, r), t),
                                  });
                            }),
                            (e.prototype.getSelectedHandler = function () {
                              var t = this.handlers;
                              if (this.selectedHandler)
                                for (var e in t)
                                  if (t[e] === this.selectedHandler) return e;
                            }),
                            (e.prototype.handleKeyDown = function (t) {
                              27 === t.keyCode &&
                                ((this.rectDim = this.startDim), this.stop(t));
                            }),
                            (e.prototype.handleMouseDown = function (t) {
                              var e = t.target;
                              this.isHandler(e)
                                ? ((this.selectedHandler = e), this.start(t))
                                : e !== this.el &&
                                  (delete this.selectedHandler, this.blur());
                            }),
                            (e.prototype.calc = function (t) {
                              var e,
                                r = this.opts || {},
                                o = r.step,
                                i = this.startDim,
                                a = r.minDim,
                                s = r.maxDim,
                                l = t.delta.x,
                                c = t.delta.y,
                                u = this.parentDim.w,
                                p = this.parentDim.h,
                                d = this.opts.unitWidth,
                                f = this.opts.unitHeight,
                                h = '%' === d ? (i.w / 100) * u : i.w,
                                g = '%' === f ? (i.h / 100) * p : i.h,
                                v = {
                                  t: 0,
                                  l: 0,
                                  w: h,
                                  h: g,
                                };
                              if (t) {
                                var m = t.handlerAttr;
                                ~m.indexOf('r') &&
                                  ((e =
                                    '%' === d
                                      ? (0, n.normalizeFloat)(
                                          ((h + l * o) / u) * 100,
                                          0.01
                                        )
                                      : (0, n.normalizeFloat)(h + l * o, o)),
                                  (e = Math.max(a, e)),
                                  s && (e = Math.min(s, e)),
                                  (v.w = e)),
                                  ~m.indexOf('b') &&
                                    ((e =
                                      '%' === f
                                        ? (0, n.normalizeFloat)(
                                            ((g + c * o) / p) * 100,
                                            0.01
                                          )
                                        : (0, n.normalizeFloat)(g + c * o, o)),
                                    (e = Math.max(a, e)),
                                    s && (e = Math.min(s, e)),
                                    (v.h = e)),
                                  ~m.indexOf('l') &&
                                    ((e =
                                      '%' === d
                                        ? (0, n.normalizeFloat)(
                                            ((h - l * o) / u) * 100,
                                            0.01
                                          )
                                        : (0, n.normalizeFloat)(h - l * o, o)),
                                    (e = Math.max(a, e)),
                                    s && (e = Math.min(s, e)),
                                    (v.w = e)),
                                  ~m.indexOf('t') &&
                                    ((e =
                                      '%' === f
                                        ? (0, n.normalizeFloat)(
                                            ((g - c * o) / p) * 100,
                                            0.01
                                          )
                                        : (0, n.normalizeFloat)(g - c * o, o)),
                                    (e = Math.max(a, e)),
                                    s && (e = Math.min(s, e)),
                                    (v.h = e));
                                var y = r.ratioDefault
                                  ? !t.keys.shift
                                  : t.keys.shift;
                                if (m.indexOf('c') < 0 && y) {
                                  var b = i.w / i.h;
                                  v.w / v.h > b
                                    ? (v.h = Math.round(v.w / b))
                                    : (v.w = Math.round(v.h * b));
                                }
                                return (
                                  ~m.indexOf('l') && (v.l = i.w - v.w),
                                  ~m.indexOf('t') && (v.t = i.h - v.h),
                                  v
                                );
                              }
                            }),
                            e
                          );
                        })();
                      const mc = vc;
                      var yc =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        bc =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (bc =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              bc.apply(this, arguments)
                            );
                          };
                      const _c = (function (t) {
                        function e(e) {
                          var r = t.call(this, e, 'Utils') || this;
                          return (
                            (r.Sorter = hc),
                            (r.Resizer = mc),
                            (r.Dragger = Kt.Z),
                            (r.helpers = bc({}, n)),
                            r
                          );
                        }
                        return (
                          yc(e, t), (e.prototype.destroy = function () {}), e
                        );
                      })(y);
                      var wc,
                        xc = {},
                        Cc = {
                          16: !1,
                          18: !1,
                          17: !1,
                          91: !1,
                        },
                        Sc = 'all',
                        Oc = {
                          '⇧': 16,
                          shift: 16,
                          '⌥': 18,
                          alt: 18,
                          option: 18,
                          '⌃': 17,
                          ctrl: 17,
                          control: 17,
                          '⌘': 91,
                          command: 91,
                        },
                        kc = {
                          backspace: 8,
                          tab: 9,
                          clear: 12,
                          enter: 13,
                          return: 13,
                          esc: 27,
                          escape: 27,
                          space: 32,
                          left: 37,
                          up: 38,
                          right: 39,
                          down: 40,
                          del: 46,
                          delete: 46,
                          home: 36,
                          end: 35,
                          pageup: 33,
                          pagedown: 34,
                          ',': 188,
                          '.': 190,
                          '/': 191,
                          '`': 192,
                          '-': 189,
                          '=': 187,
                          ';': 186,
                          "'": 222,
                          '[': 219,
                          ']': 221,
                          '\\': 220,
                        },
                        Tc = function (t) {
                          return kc[t] || t.toUpperCase().charCodeAt(0);
                        },
                        Ec = [];
                      for (wc = 1; wc < 20; wc++) kc['f' + wc] = 111 + wc;

                      function Pc(t, e) {
                        for (var n = t.length; n--; ) if (t[n] === e) return n;
                        return -1;
                      }

                      function Ac(t, e) {
                        if (t.length != e.length) return !1;
                        for (var n = 0; n < t.length; n++)
                          if (t[n] !== e[n]) return !1;
                        return !0;
                      }
                      var jc = {
                        16: 'shiftKey',
                        18: 'altKey',
                        17: 'ctrlKey',
                        91: 'metaKey',
                      };

                      function Mc(t) {
                        var e,
                          n = t.keyCode,
                          r = Pc(Ec, n);
                        if (
                          (r >= 0 && Ec.splice(r, 1),
                          (93 != n && 224 != n) || (n = 91),
                          n in Cc)
                        )
                          for (e in ((Cc[n] = !1), Oc))
                            Oc[e] == n && (Dc[e] = !1);
                      }

                      function Lc() {
                        for (wc in Cc) Cc[wc] = !1;
                        for (wc in Oc) Dc[wc] = !1;
                      }

                      function Dc(t, e, n) {
                        var r, o;
                        (r = Ic(t)), void 0 === n && ((n = e), (e = 'all'));
                        for (var i = 0; i < r.length; i++)
                          (o = []),
                            (t = r[i].split('+')).length > 1 &&
                              ((o = Fc(t)), (t = [t[t.length - 1]])),
                            (t = t[0]),
                            (t = Tc(t)) in xc || (xc[t] = []),
                            xc[t].push({
                              shortcut: r[i],
                              scope: e,
                              method: n,
                              key: r[i],
                              mods: o,
                            });
                      }
                      for (wc in Oc) Dc[wc] = !1;

                      function Nc() {
                        return Sc || 'all';
                      }

                      function Ic(t) {
                        var e;
                        return (
                          '' ==
                            (e = (t = t.replace(/\s/g, '')).split(','))[
                              e.length - 1
                            ] && (e[e.length - 2] += ','),
                          e
                        );
                      }

                      function Fc(t) {
                        for (
                          var e = t.slice(0, t.length - 1), n = 0;
                          n < e.length;
                          n++
                        )
                          e[n] = Oc[e[n]];
                        return e;
                      }

                      function Rc(t, e, n) {
                        t.addEventListener
                          ? t.addEventListener(e, n, !1)
                          : t.attachEvent &&
                            t.attachEvent('on' + e, function () {
                              n(window.event);
                            });
                      }
                      (Dc.setScope = function (t) {
                        Sc = t || 'all';
                      }),
                        (Dc.getScope = Nc),
                        (Dc.deleteScope = function (t) {
                          var e, n, r;
                          for (e in xc)
                            for (n = xc[e], r = 0; r < n.length; )
                              n[r].scope === t ? n.splice(r, 1) : r++;
                        }),
                        (Dc.filter = function (t) {
                          var e = (t.target || t.srcElement).tagName;
                          return !(
                            'INPUT' == e ||
                            'SELECT' == e ||
                            'TEXTAREA' == e
                          );
                        }),
                        (Dc.isPressed = function (t) {
                          return (
                            'string' == typeof t && (t = Tc(t)), -1 != Pc(Ec, t)
                          );
                        }),
                        (Dc.getPressedKeyCodes = function () {
                          return Ec.slice(0);
                        }),
                        (Dc.unbind = function (t, e) {
                          var n,
                            r,
                            o,
                            i,
                            a,
                            s = [];
                          for (n = Ic(t), i = 0; i < n.length; i++) {
                            if (
                              ((r = n[i].split('+')).length > 1 && (s = Fc(r)),
                              (t = r[r.length - 1]),
                              (t = Tc(t)),
                              void 0 === e && (e = Nc()),
                              !xc[t])
                            )
                              return;
                            for (o = 0; o < xc[t].length; o++)
                              (a = xc[t][o]).scope === e &&
                                Ac(a.mods, s) &&
                                (xc[t][o] = {});
                          }
                        }),
                        (Dc.handlers = xc),
                        (Dc.init = function (t) {
                          Rc(t.document, 'keydown', function (t) {
                            !(function (t) {
                              var e, n, r, o, i, a;
                              if (
                                ((e = t.keyCode),
                                -1 == Pc(Ec, e) && Ec.push(e),
                                (93 != e && 224 != e) || (e = 91),
                                e in Cc)
                              )
                                for (r in ((Cc[e] = !0), Oc))
                                  Oc[r] == e && (Dc[r] = !0);
                              else if (
                                ((function (t) {
                                  for (wc in Cc) Cc[wc] = t[jc[wc]];
                                })(t),
                                Dc.filter.call(this, t) && e in xc)
                              )
                                for (a = Nc(), o = 0; o < xc[e].length; o++)
                                  if (
                                    (n = xc[e][o]).scope == a ||
                                    'all' == n.scope
                                  ) {
                                    for (r in ((i = n.mods.length > 0), Cc))
                                      ((!Cc[r] && Pc(n.mods, +r) > -1) ||
                                        (Cc[r] && -1 == Pc(n.mods, +r))) &&
                                        (i = !1);
                                    ((0 != n.mods.length ||
                                      Cc[16] ||
                                      Cc[18] ||
                                      Cc[17] ||
                                      Cc[91]) &&
                                      !i) ||
                                      (!1 === n.method(t, n) &&
                                        (t.preventDefault
                                          ? t.preventDefault()
                                          : (t.returnValue = !1),
                                        t.stopPropagation &&
                                          t.stopPropagation(),
                                        t.cancelBubble &&
                                          (t.cancelBubble = !0)));
                                  }
                            })(t);
                          }),
                            Rc(t.document, 'keyup', Mc),
                            Rc(t, 'focus', Lc);
                        });
                      const zc = Dc,
                        Vc = {
                          defaults: {
                            'core:undo': {
                              keys: '⌘+z, ctrl+z',
                              handler: 'core:undo',
                            },
                            'core:redo': {
                              keys: '⌘+shift+z, ctrl+shift+z',
                              handler: 'core:redo',
                            },
                            'core:copy': {
                              keys: '⌘+c, ctrl+c',
                              handler: 'core:copy',
                            },
                            'core:paste': {
                              keys: '⌘+v, ctrl+v',
                              handler: 'core:paste',
                            },
                            'core:component-next': {
                              keys: 's',
                              handler: 'core:component-next',
                            },
                            'core:component-prev': {
                              keys: 'w',
                              handler: 'core:component-prev',
                            },
                            'core:component-enter': {
                              keys: 'd',
                              handler: 'core:component-enter',
                            },
                            'core:component-exit': {
                              keys: 'a',
                              handler: 'core:component-exit',
                            },
                            'core:component-delete': {
                              keys: 'backspace, delete',
                              handler: 'core:component-delete',
                              opts: {
                                prevent: !0,
                              },
                            },
                          },
                        };
                      var Bc =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Hc =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          };
                      (0, n.hasWin)() && zc.init(window);
                      var Uc = (function (e) {
                        function n(t) {
                          var n = e.call(this, t, 'Keymaps', Vc) || this;
                          return (n.keymaster = zc), (n.keymaps = {}), n;
                        }
                        return (
                          Bc(n, e),
                          (n.prototype.onLoad = function () {
                            var t = this.config.defaults;
                            for (var e in t) {
                              var n = t[e];
                              this.add(e, n.keys, n.handler, n.opts || {});
                            }
                          }),
                          (n.prototype.add = function (e, n, r, o) {
                            void 0 === o && (o = {});
                            var i = this.em,
                              a = i.Commands,
                              s = i.getEditor(),
                              l = i.Canvas,
                              c = {
                                id: e,
                                keys: n,
                                handler: r,
                              };
                            return (
                              this.keymaps[e] && this.remove(e),
                              (this.keymaps[e] = c),
                              zc(
                                n,
                                function (n, c) {
                                  var u = {
                                      event: n,
                                      h: c,
                                    },
                                    p = (0, t.isString)(r) ? a.get(r) : r;
                                  if (
                                    (!i.isEditing() &&
                                      !s.Canvas.isInputFocused()) ||
                                    o.force
                                  ) {
                                    o.prevent &&
                                      l.getCanvasView().preventDefault(n),
                                      (0, t.isFunction)(p)
                                        ? p(s, 0, u)
                                        : a.runCommand(p, u);
                                    var d = [e, c.shortcut, n];
                                    i.trigger.apply(
                                      i,
                                      Hc(['keymap:emit'], d, !1)
                                    ),
                                      i.trigger.apply(
                                        i,
                                        Hc(['keymap:emit:'.concat(e)], d, !1)
                                      );
                                  }
                                },
                                void 0
                              ),
                              i.trigger('keymap:add', c),
                              c
                            );
                          }),
                          (n.prototype.get = function (t) {
                            return this.keymaps[t];
                          }),
                          (n.prototype.getAll = function () {
                            return this.keymaps;
                          }),
                          (n.prototype.remove = function (t) {
                            var e = this.em,
                              n = this.get(t);
                            if (n)
                              return (
                                delete this.keymaps[t],
                                n.keys.split(', ').forEach(function (t) {
                                  zc.unbind(t.trim());
                                }),
                                null == e || e.trigger('keymap:remove', n),
                                n
                              );
                          }),
                          (n.prototype.removeAll = function () {
                            var t = this;
                            return (
                              Object.keys(this.keymaps).forEach(function (e) {
                                return t.remove(e);
                              }),
                              (zc.handlers = {}),
                              this
                            );
                          }),
                          (n.prototype.destroy = function () {
                            this.removeAll(), (this.keymaps = {});
                          }),
                          n
                        );
                      })(y);
                      const Wc = Uc,
                        $c = {
                          stylePrefix: 'mdl-',
                          title: '',
                          content: '',
                          backdrop: !0,
                          custom: !1,
                          extend: {},
                        };
                      var Gc =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const qc = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Gc(e, t),
                          (e.prototype.defaults = function () {
                            return {
                              title: '',
                              content: '',
                              attributes: {},
                              open: !1,
                            };
                          }),
                          (e.prototype.open = function () {
                            this.set('open', !0);
                          }),
                          (e.prototype.close = function () {
                            this.set('open', !1);
                          }),
                          e
                        );
                      })(x);
                      var Kc =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Zc =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Zc =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Zc.apply(this, arguments)
                            );
                          };
                      const Yc = (function (t) {
                        function e(e) {
                          var n = t.call(this, e) || this,
                            r = n.model;
                          return (
                            n.listenTo(r, 'change:open', n.updateOpen),
                            n.listenTo(r, 'change:title', n.updateTitle),
                            n.listenTo(r, 'change:content', n.updateContent),
                            n
                          );
                        }
                        return (
                          Kc(e, t),
                          (e.prototype.template = function (t) {
                            var e = t.pfx,
                              n = t.ppfx,
                              r = t.content,
                              o = t.title;
                            return '<div class="'
                              .concat(e, 'dialog ')
                              .concat(n, 'one-bg ')
                              .concat(n, 'two-color">\n      <div class="')
                              .concat(e, 'header">\n        <div class="')
                              .concat(e, 'title">')
                              .concat(o, '</div>\n        <div class="')
                              .concat(
                                e,
                                'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="'
                              )
                              .concat(e, 'content">\n        <div id="')
                              .concat(e, 'c">')
                              .concat(
                                r,
                                '</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="'
                              )
                              .concat(
                                e,
                                'collector" style="display: none"></div>'
                              );
                          }),
                          (e.prototype.events = function () {
                            return {
                              click: 'onClick',
                              'click [data-close-modal]': 'hide',
                            };
                          }),
                          (e.prototype.onClick = function (t) {
                            this.config.backdrop &&
                              t.target === this.el &&
                              this.hide();
                          }),
                          (e.prototype.getCollector = function () {
                            return (
                              this.$collector ||
                                (this.$collector = this.$el.find(
                                  '.' + this.pfx + 'collector'
                                )),
                              this.$collector
                            );
                          }),
                          (e.prototype.getContent = function () {
                            var t = this.pfx;
                            return (
                              this.$content ||
                                (this.$content = this.$el.find(
                                  '.'.concat(t, 'content #').concat(t, 'c')
                                )),
                              this.$content
                            );
                          }),
                          (e.prototype.getTitle = function (t) {
                            return (
                              void 0 === t && (t = {}),
                              this.$title ||
                                (this.$title = this.$el.find(
                                  '.' + this.pfx + 'title'
                                )),
                              t.$ ? this.$title : this.$title.get(0)
                            );
                          }),
                          (e.prototype.updateContent = function () {
                            var t = this.getContent(),
                              e = t.children(),
                              n = this.getCollector(),
                              r = this.model.get('content');
                            e.length && n.append(e), t.empty().append(r);
                          }),
                          (e.prototype.updateTitle = function () {
                            var t = this.getTitle({
                              $: !0,
                            });
                            t && t.empty().append(this.model.get('title'));
                          }),
                          (e.prototype.updateOpen = function () {
                            this.el.style.display = this.model.get('open')
                              ? ''
                              : 'none';
                          }),
                          (e.prototype.hide = function () {
                            this.model.close();
                          }),
                          (e.prototype.show = function () {
                            this.model.open();
                          }),
                          (e.prototype.updateAttr = function (t) {
                            var e = this,
                              n = e.pfx,
                              r = e.$el,
                              o = e.el,
                              i = [].slice.call(o.attributes).map(function (t) {
                                return t.name;
                              });
                            r.removeAttr(i.join(' ')),
                              r.attr(
                                Zc(Zc({}, t || {}), {
                                  class: ''
                                    .concat(n, 'container ')
                                    .concat((t && t.class) || '')
                                    .trim(),
                                })
                              );
                          }),
                          (e.prototype.render = function () {
                            var t = this.$el,
                              e = this.model.toJSON();
                            return (
                              (e.pfx = this.pfx),
                              (e.ppfx = this.ppfx),
                              t.html(this.template(e)),
                              this.updateAttr(),
                              this.updateOpen(),
                              this
                            );
                          }),
                          e
                        );
                      })(Et);
                      var Xc =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Jc = (function (e) {
                        function n(n) {
                          var r = e.call(this, n, 'Modal', $c) || this;
                          return (
                            (r.model = new qc(r)),
                            r.model.on('change:open', function (t, e) {
                              n.trigger('modal:'.concat(e ? 'open' : 'close'));
                            }),
                            r.model.on(
                              'change',
                              (0, t.debounce)(function () {
                                var e = r._evData(),
                                  o = r.config.custom;
                                (0, t.isFunction)(o) && o(e),
                                  n.trigger('modal', e);
                              }, 0)
                            ),
                            r
                          );
                        }
                        return (
                          Xc(n, e),
                          (n.prototype._evData = function () {
                            var e = this,
                              n = this.getTitle(),
                              r = this.getContent(),
                              o = this.model.attributes;
                            return {
                              open: o.open,
                              attributes: o.attributes,
                              title: (0, t.isString)(n) ? (0, Pt.rw)(n) : n,
                              content: (0, t.isString)(r)
                                ? (0, Pt.rw)(r)
                                : r.get
                                ? r.get(0)
                                : r,
                              close: function () {
                                e.close();
                              },
                            };
                          }),
                          (n.prototype.postRender = function (t) {
                            var e = t.model.config.el || t.el,
                              n = this.render();
                            n && (null == e || e.appendChild(n));
                          }),
                          (n.prototype.open = function (t) {
                            void 0 === t && (t = {});
                            var e = t.attributes || {};
                            return (
                              t.title && this.setTitle(t.title),
                              t.content && this.setContent(t.content),
                              this.model.set('attributes', e),
                              this.model.open(),
                              this.modal && this.modal.updateAttr(e),
                              this
                            );
                          }),
                          (n.prototype.close = function () {
                            return this.model.close(), this;
                          }),
                          (n.prototype.onceClose = function (t) {
                            return this.em.once('modal:close', t), this;
                          }),
                          (n.prototype.onceOpen = function (t) {
                            return this.em.once('modal:open', t), this;
                          }),
                          (n.prototype.isOpen = function () {
                            return !!this.model.get('open');
                          }),
                          (n.prototype.setTitle = function (t) {
                            return this.model.set('title', t), this;
                          }),
                          (n.prototype.getTitle = function () {
                            return this.model.get('title');
                          }),
                          (n.prototype.setContent = function (t) {
                            return (
                              this.model.set('content', ' '),
                              this.model.set('content', t),
                              this
                            );
                          }),
                          (n.prototype.getContent = function () {
                            return this.model.get('content');
                          }),
                          (n.prototype.getContentEl = function () {
                            var t;
                            return null === (t = this.modal) || void 0 === t
                              ? void 0
                              : t.getContent().get(0);
                          }),
                          (n.prototype.getModel = function () {
                            return this.model;
                          }),
                          (n.prototype.render = function () {
                            var t;
                            if (!this.config.custom) {
                              var e = Yc.extend(this.config.extend),
                                n = this.modal && this.modal.el;
                              return (
                                (this.modal = new e({
                                  el: n,
                                  model: this.model,
                                  config: this.config,
                                })),
                                null === (t = this.modal) || void 0 === t
                                  ? void 0
                                  : t.render().el
                              );
                            }
                          }),
                          (n.prototype.destroy = function () {
                            var t;
                            null === (t = this.modal) ||
                              void 0 === t ||
                              t.remove();
                          }),
                          n
                        );
                      })(y);
                      var Qc = 'sw-visibility',
                        tu = 'export-template',
                        eu = 'open-sm',
                        nu = 'open-tm',
                        ru = 'open-layers',
                        ou = 'open-blocks',
                        iu = 'fullscreen',
                        au = 'preview';
                      const su = {
                        stylePrefix: 'pn-',
                        defaults: [
                          {
                            id: 'commands',
                            buttons: [{}],
                          },
                          {
                            id: 'options',
                            buttons: [
                              {
                                active: !0,
                                id: Qc,
                                className: 'fa fa-square-o',
                                command: 'core:component-outline',
                                context: Qc,
                                attributes: {
                                  title: 'View components',
                                },
                              },
                              {
                                id: au,
                                className: 'fa fa-eye',
                                command: au,
                                context: au,
                                attributes: {
                                  title: 'Preview Current Page',
                                },
                              },
                              {
                                id: iu,
                                className: 'fa fa-arrows-alt',
                                command: iu,
                                context: iu,
                                attributes: {
                                  title: 'Fullscreen',
                                },
                              },
                              {
                                id: tu,
                                className: 'fa fa-code',
                                command: tu,
                                attributes: {
                                  title: 'View code',
                                },
                              },
                            ],
                          },
                          {
                            id: 'views',
                            buttons: [
                              {
                                id: eu,
                                className: 'fa fa-paint-brush',
                                command: eu,
                                active: !0,
                                togglable: !1,
                                attributes: {
                                  title: 'Open Style Manager',
                                },
                              },
                              {
                                id: nu,
                                className: 'fa fa-cog',
                                command: nu,
                                togglable: !1,
                                attributes: {
                                  title: 'Settings',
                                },
                              },
                              {
                                id: ru,
                                className: 'fa fa-bars',
                                command: ru,
                                togglable: !1,
                                attributes: {
                                  title: 'Open Layer Manager',
                                },
                              },
                              {
                                id: ou,
                                className: 'fa fa-th-large',
                                command: ou,
                                togglable: !1,
                                attributes: {
                                  title: 'Open Blocks',
                                },
                              },
                            ],
                          },
                        ],
                      };
                      var lu =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const cu = (function (t) {
                        function e(e, n) {
                          var r = t.call(this, e, n) || this;
                          return (
                            r.get('buttons').length &&
                              r.set(
                                'buttons',
                                new du(r.module, r.get('buttons'))
                              ),
                            r
                          );
                        }
                        return (
                          lu(e, t),
                          (e.prototype.defaults = function () {
                            return {
                              id: '',
                              label: '',
                              tagName: 'span',
                              className: '',
                              command: '',
                              context: '',
                              buttons: [],
                              attributes: {},
                              options: {},
                              active: !1,
                              dragDrop: !1,
                              togglable: !0,
                              runDefaultCommand: !0,
                              stopDefaultCommand: !1,
                              disable: !1,
                            };
                          }),
                          Object.defineProperty(e.prototype, 'className', {
                            get: function () {
                              return this.get('className');
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'command', {
                            get: function () {
                              return this.get('command');
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'active', {
                            get: function () {
                              return this.get('active');
                            },
                            set: function (t) {
                              this.set('active', t);
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(e.prototype, 'togglable', {
                            get: function () {
                              return this.get('togglable');
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          Object.defineProperty(
                            e.prototype,
                            'runDefaultCommand',
                            {
                              get: function () {
                                return this.get('runDefaultCommand');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }
                          ),
                          Object.defineProperty(
                            e.prototype,
                            'stopDefaultCommand',
                            {
                              get: function () {
                                return this.get('stopDefaultCommand');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }
                          ),
                          Object.defineProperty(e.prototype, 'disable', {
                            get: function () {
                              return this.get('disable');
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          e
                        );
                      })(x);
                      var uu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        pu = (function (t) {
                          function e(e, n) {
                            return t.call(this, e, n, cu) || this;
                          }
                          return (
                            uu(e, t),
                            (e.prototype.deactivateAllExceptOne = function (
                              t,
                              e
                            ) {
                              this.forEach(function (n, r) {
                                n !== t &&
                                  (n.set('active', !1),
                                  e &&
                                    n.get('buttons').length &&
                                    n
                                      .get('buttons')
                                      .deactivateAllExceptOne(t, e));
                              });
                            }),
                            (e.prototype.deactivateAll = function (t, e) {
                              var n = t || '';
                              this.forEach(function (t) {
                                t.get('context') == n &&
                                  t !== e &&
                                  t.set('active', !1, {
                                    fromCollection: !0,
                                  });
                              });
                            }),
                            (e.prototype.disableAllButtons = function (t) {
                              var e = t || '';
                              this.forEach(function (t, n) {
                                t.get('context') == e && t.set('disable', !0);
                              });
                            }),
                            (e.prototype.disableAllButtonsExceptOne = function (
                              t,
                              e
                            ) {
                              this.forEach(function (n, r) {
                                n !== t &&
                                  (n.set('disable', !0),
                                  e &&
                                    n.get('buttons').length &&
                                    n
                                      .get('buttons')
                                      .disableAllButtonsExceptOne(t, e));
                              });
                            }),
                            e
                          );
                        })(S);
                      const du = pu;
                      pu.prototype.model = cu;
                      var fu =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const hu = (function (t) {
                        function e(e, n) {
                          var r = t.call(this, e, n) || this,
                            o = r.get('buttons') || [];
                          return (r.buttons = new du(e, o)), r;
                        }
                        return (
                          fu(e, t),
                          (e.prototype.defaults = function () {
                            return {
                              id: '',
                              content: '',
                              visible: !0,
                              buttons: [],
                              attributes: {},
                            };
                          }),
                          Object.defineProperty(e.prototype, 'buttons', {
                            get: function () {
                              return this.get('buttons');
                            },
                            set: function (t) {
                              this.set('buttons', t);
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          e
                        );
                      })(x);
                      var gu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        vu = (function (t) {
                          function e(e, n) {
                            return t.call(this, e, n, hu) || this;
                          }
                          return gu(e, t), e;
                        })(S);
                      const mu = vu;
                      vu.prototype.model = hu;
                      var yu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        bu =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (bu =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              bu.apply(this, arguments)
                            );
                          },
                        _u = (function (e) {
                          function n(n) {
                            var r = e.call(this, n) || this,
                              o = r,
                              i = o.model,
                              a = o.em,
                              s = o.pfx,
                              l = o.ppfx,
                              c = i.className,
                              u = i.attributes,
                              p = u.command,
                              d = u.listen;
                            if (
                              ((r.id = s + i.get('id')),
                              (r.activeCls = ''
                                .concat(s, 'active ')
                                .concat(l, 'four-color')),
                              (r.disableCls = ''.concat(l, 'disabled')),
                              (r.btnsVisCls = ''.concat(s, 'visible')),
                              (r.className = s + 'btn' + (c ? ' ' + c : '')),
                              r.listenTo(i, 'change', r.render),
                              r.listenTo(
                                i,
                                'change:active updateActive',
                                r.updateActive
                              ),
                              r.listenTo(i, 'checkActive', r.checkActive),
                              r.listenTo(i, 'change:bntsVis', r.updateBtnsVis),
                              r.listenTo(
                                i,
                                'change:attributes',
                                r.updateAttributes
                              ),
                              r.listenTo(
                                i,
                                'change:className',
                                r.updateClassName
                              ),
                              r.listenTo(i, 'change:disable', r.updateDisable),
                              a && (0, t.isString)(p) && d)
                            ) {
                              var f = {
                                fromListen: !0,
                              };
                              r.listenTo(a, 'run:'.concat(p), function () {
                                return i.set('active', !0, f);
                              }),
                                r.listenTo(a, 'stop:'.concat(p), function () {
                                  return i.set('active', !1, f);
                                });
                            }
                            return (
                              a && a.get && (r.commands = a.get('Commands')), r
                            );
                          }
                          return (
                            yu(n, e),
                            (n.prototype.tagName = function () {
                              return this.model.get('tagName');
                            }),
                            (n.prototype.events = function () {
                              return {
                                click: 'clicked',
                              };
                            }),
                            (n.prototype.updateClassName = function () {
                              var t = this.model,
                                e = this.pfx,
                                n = t.className,
                                r = t.get('attributes').class,
                                o = ''
                                  .concat(r || '', ' ')
                                  .concat(e, 'btn ')
                                  .concat(n || '');
                              this.$el.attr('class', o.trim());
                            }),
                            (n.prototype.updateAttributes = function () {
                              var t = this,
                                e = t.em,
                                n = t.model,
                                r = t.$el,
                                o = n.get('attributes') || {},
                                i =
                                  e &&
                                  e.t &&
                                  e.t('panels.buttons.titles.'.concat(n.id));
                              r.attr(o),
                                i &&
                                  r.attr({
                                    title: i,
                                  }),
                                this.updateClassName();
                            }),
                            (n.prototype.updateBtnsVis = function () {
                              this.$buttons &&
                                (this.model.get('bntsVis')
                                  ? this.$buttons.addClass(this.btnsVisCls)
                                  : this.$buttons.removeClass(this.btnsVisCls));
                            }),
                            (n.prototype.updateActive = function (e, n, r) {
                              var o;
                              void 0 === r && (r = {});
                              var i = this,
                                a = i.model,
                                s = i.commands,
                                l = i.$el,
                                c = i.activeCls,
                                u = r.fromCollection,
                                p = r.fromListen,
                                d = a.get('context'),
                                f = a.get('options'),
                                h = a.command,
                                g = {};
                              h &&
                                (s && (0, t.isString)(h)
                                  ? (g = s.get(h) || {})
                                  : (0, t.isFunction)(h)
                                  ? (g = s.create({
                                      run: h,
                                    }))
                                  : null !== h &&
                                    (0, t.isObject)(h) &&
                                    (g = s.create(h)),
                                a.active
                                  ? (!u &&
                                      (null === (o = a.collection) ||
                                        void 0 === o ||
                                        o.deactivateAll(d, a)),
                                    a
                                      .set('active', !0, {
                                        silent: !0,
                                      })
                                      .trigger('checkActive'),
                                    !p &&
                                      s.runCommand(
                                        g,
                                        bu(bu({}, f), {
                                          sender: a,
                                        })
                                      ),
                                    g.noStop && a.set('active', !1))
                                  : (l.removeClass(c),
                                    !p &&
                                      s.stopCommand(
                                        g,
                                        bu(bu({}, f), {
                                          sender: a,
                                          force: 1,
                                        })
                                      )));
                            }),
                            (n.prototype.updateDisable = function () {
                              var t = this.disableCls,
                                e = this.model.disable;
                              this.$el[e ? 'addClass' : 'removeClass'](t);
                            }),
                            (n.prototype.checkActive = function () {
                              var t = this,
                                e = t.model,
                                n = t.$el,
                                r = t.activeCls;
                              e.active ? n.addClass(r) : n.removeClass(r);
                            }),
                            (n.prototype.clicked = function (t) {
                              var e = this.model;
                              e.get('bntsVis') ||
                                e.disable ||
                                !e.command ||
                                this.toggleActive();
                            }),
                            (n.prototype.toggleActive = function () {
                              var t = this.model,
                                e = this.em,
                                n = t.active,
                                r = t.togglable;
                              (n && !r) ||
                                ((t.active = !n),
                                n
                                  ? t.runDefaultCommand && e.runDefault()
                                  : t.stopDefaultCommand && e.stopDefault());
                            }),
                            (n.prototype.render = function () {
                              var t = this.model,
                                e = t.get('label'),
                                n = this.$el;
                              return (
                                !t.get('el') && n.empty(),
                                this.updateAttributes(),
                                e && n.append(e),
                                this.checkActive(),
                                this.updateDisable(),
                                this
                              );
                            }),
                            n
                          );
                        })(Et);
                      const wu = _u;
                      var xu =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Cu = (function (e) {
                        function n(t) {
                          var n =
                            e.call(this, {
                              collection: t,
                            }) || this;
                          return (
                            n.listenTo(n.collection, 'add', n.addTo),
                            n.listenTo(n.collection, 'reset remove', n.render),
                            (n.className = n.pfx + 'buttons'),
                            n
                          );
                        }
                        return (
                          xu(n, e),
                          (n.prototype.addTo = function (t) {
                            this.addToCollection(t);
                          }),
                          (n.prototype.addToCollection = function (t, e) {
                            var n = e || null,
                              r = t.get('el'),
                              o = new wu({
                                el: r,
                                model: t,
                              }).render().el;
                            return n ? n.appendChild(o) : this.$el.append(o), o;
                          }),
                          (n.prototype.render = function () {
                            var e = this,
                              n = document.createDocumentFragment();
                            return (
                              this.$el.empty(),
                              this.collection.each(function (t) {
                                return e.addToCollection(t, n);
                              }),
                              this.$el.append(n),
                              this.$el.attr(
                                'class',
                                (0, t.result)(this, 'className')
                              ),
                              this
                            );
                          }),
                          n
                        );
                      })(Et);
                      var Su =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ou =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Ou =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Ou.apply(this, arguments)
                            );
                          },
                        ku = (function (t) {
                          function e(e) {
                            var n =
                              t.call(this, {
                                model: e,
                                el: e.get('el'),
                              }) || this;
                            return (
                              (n.className = n.pfx + 'panel'),
                              (n.id = n.pfx + e.get('id')),
                              n.listenTo(
                                e,
                                'change:appendContent',
                                n.appendContent
                              ),
                              n.listenTo(e, 'change:content', n.updateContent),
                              n.listenTo(e, 'change:visible', n.toggleVisible),
                              (e.view = n),
                              n
                            );
                          }
                          return (
                            Su(e, t),
                            (e.prototype.appendContent = function () {
                              this.$el.append(this.model.get('appendContent'));
                            }),
                            (e.prototype.updateContent = function () {
                              this.$el.html(this.model.get('content'));
                            }),
                            (e.prototype.toggleVisible = function () {
                              this.model.get('visible')
                                ? this.$el.removeClass(
                                    ''.concat(this.ppfx, 'hidden')
                                  )
                                : this.$el.addClass(
                                    ''.concat(this.ppfx, 'hidden')
                                  );
                            }),
                            (e.prototype.attributes = function () {
                              return this.model.get('attributes');
                            }),
                            (e.prototype.initResize = function () {
                              var t = this.em,
                                e = null == t ? void 0 : t.Editor,
                                n = this.model.get('resizable');
                              if (e && n) {
                                var r,
                                  o,
                                  i,
                                  a = !0 === n ? [1, 1, 1, 1] : n,
                                  s = a.length,
                                  l = 0;
                                2 == s
                                  ? ((r = a[0]),
                                    (i = a[0]),
                                    (o = a[1]),
                                    (l = a[1]))
                                  : 4 == s &&
                                    ((r = a[0]),
                                    (o = a[1]),
                                    (i = a[2]),
                                    (l = a[3]));
                                var c = new e.Utils.Resizer(
                                  Ou(
                                    {
                                      tc: r,
                                      cr: o,
                                      bc: i,
                                      cl: l,
                                      tl: 0,
                                      tr: 0,
                                      bl: 0,
                                      br: 0,
                                      appendTo: this.el,
                                      silentFrames: 1,
                                      avoidContainerUpdate: 1,
                                      prefix: e.getConfig().stylePrefix,
                                      onEnd: function () {
                                        t && t.trigger('change:canvasOffset');
                                      },
                                      posFetcher: function (t, e) {
                                        var n = e.target,
                                          r = t.style,
                                          o = c.getConfig(),
                                          i = o.keyWidth,
                                          a = o.keyHeight,
                                          s = t.getBoundingClientRect(),
                                          l = 'container' == n,
                                          u = r[i],
                                          p = r[a];
                                        return {
                                          left: 0,
                                          top: 0,
                                          width:
                                            u && !l ? parseFloat(u) : s.width,
                                          height:
                                            p && !l ? parseFloat(p) : s.height,
                                        };
                                      },
                                    },
                                    n
                                  )
                                );
                                (c.blur = function () {}), c.focus(this.el);
                              }
                            }),
                            (e.prototype.render = function () {
                              var t = this.model.buttons,
                                e = this.$el,
                                n = this.ppfx,
                                r = ''
                                  .concat(this.className, ' ')
                                  .concat(this.id, ' ')
                                  .concat(n, 'one-bg ')
                                  .concat(n, 'two-color');
                              if (
                                (e.addClass(r), this.toggleVisible(), t.length)
                              ) {
                                var o = new Cu(t);
                                e.append(o.render().el);
                              }
                              return e.append(this.model.get('content')), this;
                            }),
                            e
                          );
                        })(Et);
                      const Tu = ku;
                      var Eu =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Pu = (function (t) {
                        function e(e) {
                          var n =
                            t.call(this, {
                              collection: e,
                            }) || this;
                          return (
                            n.listenTo(e, 'add', n.addTo),
                            n.listenTo(e, 'reset', n.render),
                            n.listenTo(e, 'remove', n.onRemove),
                            (n.className = n.pfx + 'panels'),
                            n
                          );
                        }
                        return (
                          Eu(e, t),
                          (e.prototype.onRemove = function (t) {
                            var e = t.view;
                            e && e.remove();
                          }),
                          (e.prototype.addTo = function (t) {
                            this.addToCollection(t);
                          }),
                          (e.prototype.addToCollection = function (t, e) {
                            var n = e || null,
                              r = (this.config, t.get('el')),
                              o = new Tu(t),
                              i = o.render().el,
                              a = t.get('appendTo');
                            return (
                              r ||
                                (a
                                  ? document.querySelector(a).appendChild(i)
                                  : n
                                  ? n.appendChild(i)
                                  : this.$el.append(i)),
                              o.initResize(),
                              i
                            );
                          }),
                          (e.prototype.render = function () {
                            var t = this,
                              e = this.$el,
                              n = document.createDocumentFragment();
                            return (
                              e.empty(),
                              this.collection.each(function (e) {
                                return t.addToCollection(e, n);
                              }),
                              e.append(n),
                              e.attr('class', this.className),
                              this
                            );
                          }),
                          e
                        );
                      })(Et);
                      var Au =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const ju = (function (t) {
                          function e(e) {
                            var n = t.call(this, e, 'Panels', su) || this;
                            for (var r in ((n.panels = new mu(
                              n,
                              n.config.defaults
                            )),
                            su))
                              r in n.config || (n.config[r] = su[r]);
                            return n;
                          }
                          return (
                            Au(e, t),
                            (e.prototype.getPanels = function () {
                              return this.panels;
                            }),
                            (e.prototype.getPanelsEl = function () {
                              return (
                                this.PanelsViewObj && this.PanelsViewObj.el
                              );
                            }),
                            (e.prototype.addPanel = function (t) {
                              return this.panels.add(t);
                            }),
                            (e.prototype.removePanel = function (t) {
                              return this.panels.remove(t);
                            }),
                            (e.prototype.getPanel = function (t) {
                              var e = this.panels.where({
                                id: t,
                              });
                              return e.length ? e[0] : null;
                            }),
                            (e.prototype.addButton = function (t, e) {
                              var n = this.getPanel(t);
                              return n ? n.get('buttons').add(e) : null;
                            }),
                            (e.prototype.removeButton = function (t, e) {
                              var n = this.getPanel(t);
                              return n && n.get('buttons').remove(e);
                            }),
                            (e.prototype.getButton = function (t, e) {
                              var n = this.getPanel(t);
                              if (n) {
                                var r = n.get('buttons').where({
                                  id: e,
                                });
                                return r.length ? r[0] : null;
                              }
                              return null;
                            }),
                            (e.prototype.render = function () {
                              return (
                                this.PanelsViewObj &&
                                  this.PanelsViewObj.remove(),
                                (this.PanelsViewObj = new Pu(this.panels)),
                                this.PanelsViewObj.render().el
                              );
                            }),
                            (e.prototype.active = function () {
                              this.getPanels().each(function (t) {
                                t.get('buttons').each(function (t) {
                                  t.get('active') && t.trigger('updateActive');
                                });
                              });
                            }),
                            (e.prototype.disableButtons = function () {
                              this.getPanels().each(function (t) {
                                t.get('buttons').each(function (t) {
                                  t.get('disable') &&
                                    t.trigger('change:disable');
                                });
                              });
                            }),
                            (e.prototype.destroy = function () {
                              this.panels.reset(),
                                this.panels.stopListening(),
                                this.PanelsViewObj &&
                                  this.PanelsViewObj.remove();
                            }),
                            e
                          );
                        })(y),
                        Mu = {
                          stylePrefix: 'cm-',
                          inlineCss: !1,
                        };
                      var Lu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Du =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          };
                      const Nu = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Lu(e, t),
                          (e.prototype.build = function (t, e) {
                            void 0 === e && (e = {});
                            var n = e.em,
                              r = Du(e, ['em']);
                            if (e.cleanId && n) {
                              var o = n.Css.getAll()
                                .toJSON()
                                .map(function (t) {
                                  var e = t.selectors,
                                    n = e && 1 === e.length && e.models[0];
                                  return n && n.isId() && n.get('name');
                                })
                                .filter(Boolean);
                              r.attributes ||
                                (r.attributes = function (t, e) {
                                  var n = e.id;
                                  return (
                                    n &&
                                      'i' === n[0] &&
                                      !t.get('script') &&
                                      !t.get('attributes').id &&
                                      o.indexOf(n) < 0 &&
                                      delete e.id,
                                    e
                                  );
                                });
                            }
                            return t.toHTML(r);
                          }),
                          e
                        );
                      })(u.Hn);
                      var Iu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Fu = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Iu(n, e),
                            (n.prototype.build = function (e) {
                              var n = this,
                                r = e.toJSON();
                              return (
                                this.beforeEach(r),
                                (0, t.each)(r, function (t, e) {
                                  var o = r[e];
                                  if (o instanceof u.Hn) r[e] = n.build(o);
                                  else if (o instanceof u.FE) {
                                    var i = o;
                                    (r[e] = []),
                                      i.length &&
                                        i.forEach(function (t, o) {
                                          r[e][o] = n.build(t);
                                        });
                                  }
                                }),
                                r
                              );
                            }),
                            (n.prototype.beforeEach = function (t) {
                              delete t.status;
                            }),
                            n
                          );
                        })(u.Hn);
                      const Ru = Fu;
                      var zu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Vu = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            zu(n, e),
                            (n.prototype.mapModel = function (e) {
                              var n,
                                r = this,
                                o = '',
                                i = e.get('script-export') || e.get('script'),
                                a = e.get('type'),
                                s = e.get('components'),
                                l = e.getId();
                              if (i) {
                                var c = e.get('attributes');
                                (c = (0, t.extend)({}, c, {
                                  id: l,
                                })),
                                  e.set('attributes', c, {
                                    silent: !0,
                                  });
                                var u = e.getScriptString(i),
                                  p = e.get('script-props');
                                if (e.get('scriptUpdated') && !p)
                                  this.mapJs[a + '-' + l] = {
                                    ids: [l],
                                    code: u,
                                  };
                                else {
                                  var d = void 0,
                                    f = this.mapJs[a];
                                  if ((p && (d = e.__getScriptProps()), f))
                                    f.ids.push(l), d && (f.props[l] = d);
                                  else {
                                    var h = {
                                      ids: [l],
                                      code: u,
                                    };
                                    d && (h.props = (((n = {})[l] = d), n)),
                                      (this.mapJs[a] = h);
                                  }
                                }
                              }
                              return (
                                s.forEach(function (t) {
                                  o += r.mapModel(t);
                                }),
                                o
                              );
                            }),
                            (n.prototype.build = function (t) {
                              (this.mapJs = {}), this.mapModel(t);
                              var e,
                                n = '';
                              for (var r in this.mapJs) {
                                var o = this.mapJs[r];
                                if (o.code)
                                  if (o.props) {
                                    if (
                                      0 ===
                                      (
                                        (null ===
                                          (e = o.code
                                            .toString()
                                            .match(/\{([\s\S]*)\}/m)) ||
                                        void 0 === e
                                          ? void 0
                                          : e[1]) || ''
                                      )
                                        .replace(/^\s*\/\/.*$/gm, '')
                                        .trim().length
                                    )
                                      continue;
                                    n += '\n          var props = '
                                      .concat(
                                        JSON.stringify(o.props),
                                        ";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            ("
                                      )
                                      .concat(
                                        o.code,
                                        '.bind(el))(props[el.id]);\n          }'
                                      );
                                  } else {
                                    var i = '#' + o.ids.join(', #');
                                    n +=
                                      "\n          var items = document.querySelectorAll('"
                                        .concat(
                                          i,
                                          "');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n"
                                        )
                                        .concat(
                                          o.code,
                                          '\n}.bind(items[i]))();\n          }'
                                        );
                                  }
                              }
                              return n;
                            }),
                            n
                          );
                        })(u.Hn);
                      const Bu = Vu;
                      var Hu,
                        Uu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Wu =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Wu =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Wu.apply(this, arguments)
                            );
                          };
                      (0, n.hasWin)() &&
                        ((Hu = r(631)), r(531), r(629), r(210));
                      var $u = (function (e) {
                        function n() {
                          return (
                            (null !== e && e.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Uu(n, e),
                          (n.prototype.defaults = function () {
                            return {
                              input: '',
                              label: '',
                              codeName: '',
                              theme: 'hopscotch',
                              readOnly: !0,
                              lineNumbers: !0,
                            };
                          }),
                          (n.prototype.init = function (e) {
                            return (
                              (0, t.bindAll)(this, 'onChange'),
                              (this.editor = Hu.fromTextArea(
                                e,
                                Wu(
                                  {
                                    dragDrop: !1,
                                    lineWrapping: !0,
                                    mode: this.get('codeName'),
                                  },
                                  this.attributes
                                )
                              )),
                              (this.element = e),
                              this.editor.on('change', this.onChange),
                              this
                            );
                          }),
                          (n.prototype.onChange = function () {
                            this.trigger('update', this);
                          }),
                          (n.prototype.getEditor = function () {
                            return this.editor;
                          }),
                          (n.prototype.getElement = function () {
                            return this.element;
                          }),
                          (n.prototype.setElement = function (t) {
                            return (this.element = t), this;
                          }),
                          (n.prototype.refresh = function () {
                            return this.getEditor().refresh(), this;
                          }),
                          (n.prototype.focus = function () {
                            return this.getEditor().focus(), this;
                          }),
                          (n.prototype.getContent = function () {
                            var t = this.getEditor();
                            return t && t.getValue();
                          }),
                          (n.prototype.setContent = function (t, e) {
                            var n = this;
                            void 0 === e && (e = {});
                            var r = this.editor;
                            r &&
                              (r.setValue(t),
                              r.autoFormatRange &&
                                (Hu.commands.selectAll(r),
                                r.autoFormatRange(
                                  r.getCursor(!0),
                                  r.getCursor(!1)
                                ),
                                Hu.commands.goDocStart(r)),
                              !e.noRefresh &&
                                setTimeout(function () {
                                  return n.refresh();
                                }));
                          }),
                          n
                        );
                      })(u.Hn);
                      const Gu = $u;
                      $u.prototype.CodeMirror = Hu;
                      var qu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ku =
                          (void 0 && (void 0).__makeTemplateObject) ||
                          function (t, e) {
                            return (
                              Object.defineProperty
                                ? Object.defineProperty(t, 'raw', {
                                    value: e,
                                  })
                                : (t.raw = e),
                              t
                            );
                          };
                      const Zu = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          qu(e, t),
                          (e.prototype.template = function (t) {
                            var e = t.pfx,
                              n = t.codeName,
                              r = t.label;
                            return i(
                              Yu ||
                                (Yu = Ku(
                                  [
                                    '\n      <div class="',
                                    'editor" id="',
                                    '',
                                    '">\n        <div id="',
                                    'title">',
                                    '</div>\n        <div id="',
                                    'code"></div>\n      </div>\n    ',
                                  ],
                                  [
                                    '\n      <div class="',
                                    'editor" id="',
                                    '',
                                    '">\n        <div id="',
                                    'title">',
                                    '</div>\n        <div id="',
                                    'code"></div>\n      </div>\n    ',
                                  ]
                                )),
                              e,
                              e,
                              n,
                              e,
                              r,
                              e
                            );
                          }),
                          (e.prototype.initialize = function (t) {
                            (this.config = t.config || {}),
                              (this.pfx = this.config.stylePrefix);
                          }),
                          (e.prototype.render = function () {
                            var t = this,
                              e = t.model,
                              n = t.pfx,
                              r = t.$el,
                              o = e.toJSON();
                            return (
                              (o.pfx = n),
                              r.html(this.template(o)),
                              r.attr('class', ''.concat(n, 'editor-c')),
                              r
                                .find('#'.concat(n, 'code'))
                                .append(e.get('input')),
                              this
                            );
                          }),
                          e
                        );
                      })(u.G7);
                      var Yu,
                        Xu =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ju = 'CodeMirror',
                        Qu = (function (e) {
                          function n(t) {
                            var n = e.call(this, t, 'CodeManager', Mu) || this;
                            n.EditorView = Zu;
                            var r = n.config,
                              o = r.pStylePrefix;
                            return (
                              o && (r.stylePrefix = o + r.stylePrefix),
                              (n.generators = {}),
                              (n.viewers = {}),
                              (n.defGenerators = {
                                html: new Nu(),
                                css: new Mo(),
                                json: new Ru(),
                                js: new Bu(),
                              }),
                              (n.defViewers = {
                                CodeMirror: new Gu(),
                              }),
                              n.loadDefaultGenerators().loadDefaultViewers(),
                              n
                            );
                          }
                          return (
                            Xu(n, e),
                            (n.prototype.addGenerator = function (t, e) {
                              return (this.generators[t] = e), this;
                            }),
                            (n.prototype.getGenerator = function (t) {
                              return this.generators[t];
                            }),
                            (n.prototype.getGenerators = function () {
                              return this.generators;
                            }),
                            (n.prototype.addViewer = function (t, e) {
                              return (this.viewers[t] = e), this;
                            }),
                            (n.prototype.getViewer = function (t) {
                              return this.viewers[t];
                            }),
                            (n.prototype.getViewers = function () {
                              return this.viewers;
                            }),
                            (n.prototype.createViewer = function (e) {
                              void 0 === e && (e = {});
                              var n = (0, t.isUndefined)(e.type) ? Ju : e.type,
                                r =
                                  this.getViewer(n) &&
                                  this.getViewer(n).clone(),
                                o = document.createElement('div'),
                                i = document.createElement('textarea');
                              return (
                                o.appendChild(i),
                                r.set(e),
                                r.init(i),
                                r.setElement(o),
                                r
                              );
                            }),
                            (n.prototype.updateViewer = function (t, e) {
                              t.setContent(e);
                            }),
                            (n.prototype.getCode = function (t, e, n) {
                              void 0 === n && (n = {}), (n.em = this.em);
                              var r = this.getGenerator(e);
                              return r ? r.build(t, n) : '';
                            }),
                            (n.prototype.loadDefaultGenerators = function () {
                              for (var t in this.defGenerators)
                                this.addGenerator(t, this.defGenerators[t]);
                              return this;
                            }),
                            (n.prototype.loadDefaultViewers = function () {
                              for (var t in this.defViewers)
                                this.addViewer(t, this.defViewers[t]);
                              return this;
                            }),
                            (n.prototype.destroy = function () {}),
                            n
                          );
                        })(y);
                      const tp = Qu;
                      var ep = r(410),
                        np = r.n(ep);
                      const rp = {
                        maximumStackLength: 500,
                        trackSelection: !0,
                      };
                      var op =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ip =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (ip =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              ip.apply(this, arguments)
                            );
                          },
                        ap =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        sp = function (t) {
                          return t.avoidStore || t.noUndo;
                        },
                        lp = function (t) {
                          return Object.keys(t.changedAttributes());
                        },
                        cp = (function (e) {
                          function n(n) {
                            var r = e.call(this, n, 'UndoManager', rp) || this;
                            r.config._disable &&
                              (r.config.maximumStackLength = 0);
                            var o = !0;
                            return (
                              (r.um = new (np())(
                                ip(
                                  {
                                    track: !0,
                                    register: [],
                                  },
                                  r.config
                                )
                              )),
                              r.um.changeUndoType('change', {
                                condition: function (e) {
                                  var n = e.get('_undo');
                                  if (n) {
                                    var r = e.get('_undoexc');
                                    if (
                                      (0, t.isArray)(r) &&
                                      lp(e).some(function (t) {
                                        return r.indexOf(t) >= 0;
                                      })
                                    )
                                      return !1;
                                    if ((0, t.isBoolean)(n)) return !0;
                                    if (
                                      (0, t.isArray)(n) &&
                                      lp(e).some(function (t) {
                                        return n.indexOf(t) >= 0;
                                      })
                                    )
                                      return !0;
                                  }
                                  return !1;
                                },
                                on: function (e, n, r) {
                                  var i = this;
                                  !this.beforeCache &&
                                    (this.beforeCache = e.previousAttributes());
                                  var a = r || n || {};
                                  if (
                                    (a.noUndo &&
                                      setTimeout(function () {
                                        i.beforeCache = null;
                                      }),
                                    !sp(a))
                                  ) {
                                    var s = e.toJSON({
                                        fromUndo: o,
                                      }),
                                      l = {
                                        object: e,
                                        before: this.beforeCache,
                                        after: s,
                                      };
                                    if (
                                      ((this.beforeCache = null),
                                      !(0, t.isEmpty)(s))
                                    )
                                      return l;
                                  }
                                },
                              }),
                              r.um.changeUndoType('add', {
                                on: function (t, e, n) {
                                  if (
                                    (void 0 === n && (n = {}),
                                    !sp(n) && r.isRegistered(e))
                                  )
                                    return {
                                      object: e,
                                      before: void 0,
                                      after: t,
                                      options: ip(ip({}, n), {
                                        fromUndo: o,
                                      }),
                                    };
                                },
                              }),
                              r.um.changeUndoType('remove', {
                                on: function (t, e, n) {
                                  if (
                                    (void 0 === n && (n = {}),
                                    !sp(n) && r.isRegistered(e))
                                  )
                                    return {
                                      object: e,
                                      before: t,
                                      after: void 0,
                                      options: ip(ip({}, n), {
                                        fromUndo: o,
                                      }),
                                    };
                                },
                              }),
                              r.um.changeUndoType('reset', {
                                undo: function (t, e) {
                                  t.reset(e, {
                                    fromUndo: o,
                                  });
                                },
                                redo: function (t, e, n) {
                                  t.reset(n, {
                                    fromUndo: o,
                                  });
                                },
                                on: function (t, e) {
                                  if (
                                    (void 0 === e && (e = {}),
                                    !sp(e) && r.isRegistered(t))
                                  )
                                    return {
                                      object: t,
                                      before: e.previousModels,
                                      after: ap([], t.models, !0),
                                      options: ip(ip({}, e), {
                                        fromUndo: o,
                                      }),
                                    };
                                },
                              }),
                              r.um.on('undo redo', function () {
                                n.trigger('change:canvasOffset'),
                                  n.getSelectedAll().map(function (t) {
                                    return t.trigger('rerender:layer');
                                  });
                              }),
                              ['undo', 'redo'].forEach(function (t) {
                                return r.um.on(t, function () {
                                  return n.trigger(t);
                                });
                              }),
                              r
                            );
                          }
                          return (
                            op(n, e),
                            (n.prototype.postLoad = function () {
                              var t = this.config,
                                e = this.em;
                              t.trackSelection &&
                                e &&
                                this.add(e.get('selected'));
                            }),
                            (n.prototype.add = function (t) {
                              return this.um.register(t), this;
                            }),
                            (n.prototype.remove = function (t) {
                              return this.um.unregister(t), this;
                            }),
                            (n.prototype.removeAll = function () {
                              return this.um.unregisterAll(), this;
                            }),
                            (n.prototype.start = function () {
                              return this.um.startTracking(), this;
                            }),
                            (n.prototype.stop = function () {
                              return this.um.stopTracking(), this;
                            }),
                            (n.prototype.undo = function (t) {
                              void 0 === t && (t = !0);
                              var e = this.em,
                                n = this.um;
                              return !e.isEditing() && n.undo(t), this;
                            }),
                            (n.prototype.undoAll = function () {
                              return this.um.undoAll(), this;
                            }),
                            (n.prototype.redo = function (t) {
                              void 0 === t && (t = !0);
                              var e = this.em,
                                n = this.um;
                              return !e.isEditing() && n.redo(t), this;
                            }),
                            (n.prototype.redoAll = function () {
                              return this.um.redoAll(), this;
                            }),
                            (n.prototype.hasUndo = function () {
                              return !!this.um.isAvailable('undo');
                            }),
                            (n.prototype.hasRedo = function () {
                              return !!this.um.isAvailable('redo');
                            }),
                            (n.prototype.isRegistered = function (t) {
                              return !!this.getInstance().objectRegistry.isRegistered(
                                t
                              );
                            }),
                            (n.prototype.getStack = function () {
                              return this.um.stack;
                            }),
                            (n.prototype.getStackGroup = function () {
                              var t = [],
                                e = [];
                              return (
                                this.getStack().forEach(function (n) {
                                  var r = n.get('magicFusionIndex');
                                  e.indexOf(r) < 0 && (e.push(r), t.push(n));
                                }),
                                t
                              );
                            }),
                            (n.prototype.skip = function (t) {
                              this.stop(), t(), this.start();
                            }),
                            (n.prototype.getGroupedStack = function () {
                              var e = {};
                              return (
                                this.getStack().forEach(function (t, n) {
                                  var r = t.get('magicFusionIndex'),
                                    o = (function (t, e) {
                                      var n = t.attributes,
                                        r = n.type,
                                        o = n.after,
                                        i = n.before,
                                        a = n.object,
                                        s = n.options;
                                      return {
                                        index: e,
                                        type: r,
                                        after: o,
                                        before: i,
                                        object: a,
                                        options: void 0 === s ? {} : s,
                                      };
                                    })(t, n);
                                  e[r] ? e[r].push(o) : (e[r] = [o]);
                                }),
                                Object.keys(e).map(function (n) {
                                  var r = e[n];
                                  return {
                                    index: r[r.length - 1].index,
                                    actions: r,
                                    labels: (0, t.unique)(
                                      r.reduce(function (t, e) {
                                        var n,
                                          r =
                                            null === (n = e.options) ||
                                            void 0 === n
                                              ? void 0
                                              : n.action;
                                        return r && t.push(r), t;
                                      }, [])
                                    ),
                                  };
                                })
                              );
                            }),
                            (n.prototype.goToGroup = function (e) {
                              var n = this;
                              if (e) {
                                var r = this.getPointer(),
                                  o = e.index - r;
                                (0, t.times)(Math.abs(o), function () {
                                  n[o < 0 ? 'undo' : 'redo'](!1);
                                });
                              }
                            }),
                            (n.prototype.getPointer = function () {
                              return this.getStack().pointer;
                            }),
                            (n.prototype.clear = function () {
                              return this.um.clear(), this;
                            }),
                            (n.prototype.getInstance = function () {
                              return this.um;
                            }),
                            (n.prototype.destroy = function () {
                              this.clear().removeAll();
                            }),
                            n
                          );
                        })(y);
                      const up = cp;
                      var pp =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (pp =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              pp.apply(this, arguments)
                            );
                          },
                        dp = '_rte',
                        fp = 1,
                        hp = 0,
                        gp = -1,
                        vp = function (t, e) {
                          void 0 === e && (e = 'A');
                          var n = t.selection() || {},
                            r = n.anchorNode,
                            o = n.focusNode,
                            i = null == r ? void 0 : r.parentNode,
                            a = null == o ? void 0 : o.parentNode;
                          return (
                            (null == i ? void 0 : i.nodeName) == e ||
                            (null == a ? void 0 : a.nodeName) == e
                          );
                        },
                        mp = 'data-selectme',
                        yp = {
                          bold: {
                            name: 'bold',
                            icon: '<b>B</b>',
                            attributes: {
                              title: 'Bold',
                            },
                            result: function (t) {
                              return t.exec('bold');
                            },
                          },
                          italic: {
                            name: 'italic',
                            icon: '<i>I</i>',
                            attributes: {
                              title: 'Italic',
                            },
                            result: function (t) {
                              return t.exec('italic');
                            },
                          },
                          underline: {
                            name: 'underline',
                            icon: '<u>U</u>',
                            attributes: {
                              title: 'Underline',
                            },
                            result: function (t) {
                              return t.exec('underline');
                            },
                          },
                          strikethrough: {
                            name: 'strikethrough',
                            icon: '<s>S</s>',
                            attributes: {
                              title: 'Strike-through',
                            },
                            result: function (t) {
                              return t.exec('strikeThrough');
                            },
                          },
                          link: {
                            icon: '<svg viewBox="0 0 24 24">\n          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />\n        </svg>',
                            name: 'link',
                            attributes: {
                              style: 'font-size:1.4rem;padding:0 4px 2px;',
                              title: 'Link',
                            },
                            state: function (t) {
                              return t && t.selection() && vp(t) ? fp : hp;
                            },
                            result: function (t) {
                              vp(t)
                                ? t.exec('unlink')
                                : t.insertHTML(
                                    '<a href="" '
                                      .concat(mp, '>')
                                      .concat(t.selection(), '</a>'),
                                    {
                                      select: !0,
                                    }
                                  );
                            },
                          },
                          wrap: {
                            name: 'wrap',
                            icon: '<svg viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />\n        </svg>',
                            attributes: {
                              title: 'Wrap for style',
                            },
                            state: function (t) {
                              return (null == t ? void 0 : t.selection()) &&
                                vp(t, 'SPAN')
                                ? gp
                                : hp;
                            },
                            result: function (t) {
                              !vp(t, 'SPAN') &&
                                t.insertHTML(
                                  '<span '
                                    .concat(mp, '>')
                                    .concat(t.selection(), '</span>'),
                                  {
                                    select: !0,
                                  }
                                );
                            },
                          },
                        },
                        bp = (function () {
                          function e(e, n, r) {
                            void 0 === r && (r = {});
                            var o = this;
                            if (((this.em = e), (this.settings = r), n[dp]))
                              return n[dp];
                            (n[dp] = this),
                              this.setEl(n),
                              (this.updateActiveActions =
                                this.updateActiveActions.bind(this)),
                              (this.__onKeydown = this.__onKeydown.bind(this)),
                              (this.__onPaste = this.__onPaste.bind(this));
                            var i = (r.actions || []).map(function (e) {
                                var n = e;
                                return (
                                  (0, t.isString)(e)
                                    ? (n = pp({}, yp[e]))
                                    : yp[e.name] &&
                                      (n = pp(pp({}, yp[e.name]), e)),
                                  n
                                );
                              }),
                              a = i.length
                                ? i
                                : Object.keys(yp).map(function (t) {
                                    return yp[t];
                                  });
                            r.classes = pp(
                              {
                                actionbar: 'actionbar',
                                button: 'action',
                                active: 'active',
                                disabled: 'disabled',
                                inactive: 'inactive',
                              },
                              r.classes
                            );
                            var s = r.classes,
                              l = r.actionbar;
                            if (
                              ((this.actionbar = l),
                              (this.classes = s),
                              (this.actions = a),
                              !l)
                            ) {
                              var c = r.actionbarContainer;
                              ((l = document.createElement('div')).className =
                                s.actionbar),
                                null == c || c.appendChild(l),
                                (this.actionbar = l),
                                a.forEach(function (t) {
                                  return o.addAction(t);
                                });
                            }
                            return (
                              r.styleWithCSS && this.exec('styleWithCSS'), this
                            );
                          }
                          return (
                            (e.prototype.destroy = function () {}),
                            (e.prototype.setEl = function (t) {
                              (this.el = t), (this.doc = t.ownerDocument);
                            }),
                            (e.prototype.updateActiveActions = function () {
                              var t = this;
                              this.getActions().forEach(function (e) {
                                var n = e.update,
                                  r = e.btn,
                                  o = t.classes,
                                  i = o.active,
                                  a = o.inactive,
                                  s = o.disabled,
                                  l = e.state,
                                  c = e.name,
                                  u = t.doc;
                                if (
                                  ((r.className = r.className
                                    .replace(i, '')
                                    .trim()),
                                  (r.className = r.className
                                    .replace(a, '')
                                    .trim()),
                                  (r.className = r.className
                                    .replace(s, '')
                                    .trim()),
                                  l)
                                )
                                  switch (l(t, u)) {
                                    case fp:
                                      r.className += ' '.concat(i);
                                      break;
                                    case hp:
                                      r.className += ' '.concat(a);
                                      break;
                                    case gp:
                                      r.className += ' '.concat(s);
                                  }
                                else
                                  u.queryCommandSupported(c) &&
                                    u.queryCommandState(c) &&
                                    (r.className += ' '.concat(i));
                                null == n || n(t, e);
                              });
                            }),
                            (e.prototype.enable = function (t) {
                              return this.enabled
                                ? this
                                : this.__toggleEffects(!0, t);
                            }),
                            (e.prototype.disable = function () {
                              return this.__toggleEffects(!1);
                            }),
                            (e.prototype.__toggleEffects = function (t, e) {
                              void 0 === t && (t = !1),
                                void 0 === e && (e = {});
                              var r = t ? n.on : n.off,
                                o = this.el,
                                i = this.doc;
                              if (
                                ((this.actionbarEl().style.display = t
                                  ? ''
                                  : 'none'),
                                (o.contentEditable = ''.concat(!!t)),
                                r(o, 'mouseup keyup', this.updateActiveActions),
                                r(i, 'keydown', this.__onKeydown),
                                r(i, 'paste', this.__onPaste),
                                (this.enabled = t),
                                t)
                              ) {
                                var a = e.event;
                                if (
                                  (this.syncActions(),
                                  this.updateActiveActions(),
                                  a)
                                ) {
                                  var s = null;
                                  if (i.caretRangeFromPoint) {
                                    var l = (0, n.getPointerEvent)(a);
                                    s = i.caretRangeFromPoint(
                                      l.clientX,
                                      l.clientY
                                    );
                                  } else
                                    a.rangeParent &&
                                      (s = i.createRange()).setStart(
                                        a.rangeParent,
                                        a.rangeOffset
                                      );
                                  var c = i.getSelection();
                                  null == c || c.removeAllRanges(),
                                    s && (null == c || c.addRange(s));
                                }
                                o.focus();
                              }
                              return this;
                            }),
                            (e.prototype.__onKeydown = function (t) {
                              var e = t,
                                n = this.doc;
                              'Enter' !== e.key ||
                                [
                                  'insertOrderedList',
                                  'insertUnorderedList',
                                ].some(function (t) {
                                  return n.queryCommandState(t);
                                }) ||
                                (n.execCommand('insertLineBreak'),
                                e.preventDefault());
                            }),
                            (e.prototype.__onPaste = function (t) {
                              var e = t.clipboardData || window.clipboardData,
                                n = e.getData('text'),
                                r = e.getData('text/html');
                              if (n && !r) {
                                t.preventDefault();
                                var o = n.replace(/(?:\r\n|\r|\n)/g, '<br/>');
                                this.doc.execCommand('insertHTML', !1, o);
                              }
                            }),
                            (e.prototype.syncActions = function () {
                              var t = this;
                              this.getActions().forEach(function (e) {
                                if (
                                  t.actionbar &&
                                  (!e.state ||
                                    (e.state && e.state(t, t.doc) >= 0))
                                ) {
                                  var n = e.event || 'click';
                                  e.btn['on'.concat(n)] = function () {
                                    e.result(t, e), t.updateActiveActions();
                                  };
                                }
                              });
                            }),
                            (e.prototype.addAction = function (t, e) {
                              void 0 === e && (e = {});
                              var n = e.sync,
                                r = document.createElement('span'),
                                o = t.icon,
                                i = t.attributes || {};
                              for (var a in ((r.className =
                                this.classes.button),
                              (t.btn = r),
                              i))
                                r.setAttribute(a, i[a]);
                              'string' == typeof o
                                ? (r.innerHTML = o)
                                : r.appendChild(o),
                                this.actionbarEl().appendChild(r),
                                n && (this.actions.push(t), this.syncActions());
                            }),
                            (e.prototype.getActions = function () {
                              return this.actions;
                            }),
                            (e.prototype.selection = function () {
                              return this.doc.getSelection();
                            }),
                            (e.prototype.exec = function (t, e) {
                              this.doc.execCommand(t, !1, e);
                            }),
                            (e.prototype.actionbarEl = function () {
                              return this.actionbar;
                            }),
                            (e.prototype.insertHTML = function (e, r) {
                              var o = (void 0 === r ? {} : r).select,
                                i = this,
                                a = i.em,
                                s = i.doc,
                                l = i.el,
                                c = s.getSelection();
                              if (c && c.rangeCount) {
                                var u = (0, n.getModel)(l),
                                  p = s.createElement('div'),
                                  d = c.getRangeAt(0);
                                d.deleteContents(),
                                  (0, t.isString)(e)
                                    ? (p.innerHTML = e)
                                    : e && p.appendChild(e),
                                  Array.prototype.slice
                                    .call(p.childNodes)
                                    .forEach(function (t) {
                                      d.insertNode(t);
                                    }),
                                  c.removeAllRanges(),
                                  c.addRange(d),
                                  l.focus(),
                                  o &&
                                    u &&
                                    (u.once('rte:disable', function () {
                                      var t = u.find('['.concat(mp, ']'))[0];
                                      t &&
                                        (a.setSelected(t),
                                        t.removeAttributes(mp));
                                    }),
                                    u.trigger('disable'));
                              }
                            }),
                            e
                          );
                        })();
                      const _p = bp,
                        wp = {
                          stylePrefix: 'rte-',
                          adjustToolbar: !0,
                          actions: [
                            'bold',
                            'italic',
                            'underline',
                            'strikethrough',
                            'link',
                            'wrap',
                          ],
                        };
                      var xp =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Cp =
                          (void 0 && (void 0).__awaiter) ||
                          function (t, e, n, r) {
                            return new (n || (n = Promise))(function (o, i) {
                              function a(t) {
                                try {
                                  l(r.next(t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function s(t) {
                                try {
                                  l(r['throw'](t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function l(t) {
                                var e;
                                t.done
                                  ? o(t.value)
                                  : ((e = t.value),
                                    e instanceof n
                                      ? e
                                      : new n(function (t) {
                                          t(e);
                                        })).then(a, s);
                              }
                              l((r = r.apply(t, e || [])).next());
                            });
                          },
                        Sp =
                          (void 0 && (void 0).__generator) ||
                          function (t, e) {
                            var n,
                              r,
                              o,
                              i,
                              a = {
                                label: 0,
                                sent: function () {
                                  if (1 & o[0]) throw o[1];
                                  return o[1];
                                },
                                trys: [],
                                ops: [],
                              };
                            return (
                              (i = {
                                next: s(0),
                                throw: s(1),
                                return: s(2),
                              }),
                              'function' == typeof Symbol &&
                                (i[Symbol.iterator] = function () {
                                  return this;
                                }),
                              i
                            );

                            function s(s) {
                              return function (l) {
                                return (function (s) {
                                  if (n)
                                    throw new TypeError(
                                      'Generator is already executing.'
                                    );
                                  for (; i && ((i = 0), s[0] && (a = 0)), a; )
                                    try {
                                      if (
                                        ((n = 1),
                                        r &&
                                          (o =
                                            2 & s[0]
                                              ? r['return']
                                              : s[0]
                                              ? r['throw'] ||
                                                ((o = r['return']) && o.call(r),
                                                0)
                                              : r.next) &&
                                          !(o = o.call(r, s[1])).done)
                                      )
                                        return o;
                                      switch (
                                        ((r = 0),
                                        o && (s = [2 & s[0], o.value]),
                                        s[0])
                                      ) {
                                        case 0:
                                        case 1:
                                          o = s;
                                          break;
                                        case 4:
                                          return (
                                            a.label++,
                                            {
                                              value: s[1],
                                              done: !1,
                                            }
                                          );
                                        case 5:
                                          a.label++, (r = s[1]), (s = [0]);
                                          continue;
                                        case 7:
                                          (s = a.ops.pop()), a.trys.pop();
                                          continue;
                                        default:
                                          if (
                                            !(
                                              (o =
                                                (o = a.trys).length > 0 &&
                                                o[o.length - 1]) ||
                                              (6 !== s[0] && 2 !== s[0])
                                            )
                                          ) {
                                            a = 0;
                                            continue;
                                          }
                                          if (
                                            3 === s[0] &&
                                            (!o || (s[1] > o[0] && s[1] < o[3]))
                                          ) {
                                            a.label = s[1];
                                            break;
                                          }
                                          if (6 === s[0] && a.label < o[1]) {
                                            (a.label = o[1]), (o = s);
                                            break;
                                          }
                                          if (o && a.label < o[2]) {
                                            (a.label = o[2]), a.ops.push(s);
                                            break;
                                          }
                                          o[2] && a.ops.pop(), a.trys.pop();
                                          continue;
                                      }
                                      s = e.call(t, a);
                                    } catch (t) {
                                      (s = [6, t]), (r = 0);
                                    } finally {
                                      n = o = 0;
                                    }
                                  if (5 & s[0]) throw s[1];
                                  return {
                                    value: s[0] ? s[1] : void 0,
                                    done: !0,
                                  };
                                })([s, l]);
                              };
                            }
                          },
                        Op =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        kp =
                          'change:canvasOffset frame:scroll component:update',
                        Tp = (function (t) {
                          function e(e) {
                            var r =
                                t.call(this, e, 'RichTextEditor', wp) || this,
                              o = r.config,
                              i = o.pStylePrefix;
                            if (
                              (i && (o.stylePrefix = i + o.stylePrefix),
                              (r.pfx = o.stylePrefix),
                              (r.actions = o.actions || []),
                              !(0, n.hasWin)())
                            )
                              return r;
                            var a = document.createElement('div');
                            return (
                              (a.className = ''
                                .concat(i, 'rte-toolbar ')
                                .concat(i, 'one-bg')),
                              (r.toolbar = a),
                              r.initRte(document.createElement('div')),
                              (0, n.on)(a, 'mousedown', function (t) {
                                return t.stopPropagation();
                              }),
                              r
                            );
                          }
                          return (
                            xp(e, t),
                            (e.prototype.destroy = function () {
                              var t, e, n;
                              null === (t = this.globalRte) ||
                                void 0 === t ||
                                t.destroy(),
                                null ===
                                  (n =
                                    null === (e = this.customRte) ||
                                    void 0 === e
                                      ? void 0
                                      : e.destroy) ||
                                  void 0 === n ||
                                  n.call(e),
                                (0, Pt.L_)(this.toolbar);
                            }),
                            (e.prototype.postRender = function (t) {
                              var e = t.model.get('Canvas');
                              (this.toolbar.style.pointerEvents = 'all'),
                                this.hideToolbar(),
                                e.getToolsEl().appendChild(this.toolbar);
                            }),
                            (e.prototype.initRte = function (t) {
                              var e = this.globalRte,
                                n = this,
                                r = n.em,
                                o = n.pfx,
                                i = n.actionbar,
                                a = n.config,
                                s = this.actions || Op([], a.actions, !0),
                                l = {
                                  actionbar: ''.concat(o, 'actionbar'),
                                  button: ''.concat(o, 'action'),
                                  active: ''.concat(o, 'active'),
                                  inactive: ''.concat(o, 'inactive'),
                                  disabled: ''.concat(o, 'disabled'),
                                };
                              return (
                                e
                                  ? ((e.em = r), e.setEl(t))
                                  : ((e = new _p(r, t, {
                                      classes: l,
                                      actions: s,
                                      actionbar: i,
                                      actionbarContainer: this.toolbar,
                                    })),
                                    (this.globalRte = e)),
                                e.actionbar && (this.actionbar = e.actionbar),
                                e.actions && (this.actions = e.actions),
                                e
                              );
                            }),
                            (e.prototype.add = function (t, e) {
                              var n;
                              void 0 === e && (e = {}),
                                (e.name = t),
                                null === (n = this.globalRte) ||
                                  void 0 === n ||
                                  n.addAction(e, {
                                    sync: !0,
                                  });
                            }),
                            (e.prototype.get = function (t) {
                              var e, n;
                              return (
                                null === (e = this.globalRte) ||
                                  void 0 === e ||
                                  e.getActions().forEach(function (e) {
                                    e.name == t && (n = e);
                                  }),
                                n
                              );
                            }),
                            (e.prototype.getAll = function () {
                              var t;
                              return (
                                (null === (t = this.globalRte) || void 0 === t
                                  ? void 0
                                  : t.getActions()) || []
                              );
                            }),
                            (e.prototype.remove = function (t) {
                              var e,
                                n = this.getAll(),
                                r = this.get(t);
                              if (r) {
                                var o = r.btn,
                                  i = n.indexOf(r);
                                null ===
                                  (e = null == o ? void 0 : o.parentNode) ||
                                  void 0 === e ||
                                  e.removeChild(o),
                                  n.splice(i, 1);
                              }
                              return r;
                            }),
                            (e.prototype.getToolbarEl = function () {
                              return this.toolbar;
                            }),
                            (e.prototype.updatePosition = function () {
                              var t = this.em,
                                e = this.toolbar,
                                n = 'px',
                                r = t.Canvas,
                                o = e.style,
                                i = r.getTargetToElementFixed(this.lastEl, e, {
                                  event: 'rteToolbarPosUpdate',
                                  left: 0,
                                });
                              (o.top = (i.top || 0) + n),
                                (o.left = (i.left || 0) + n);
                            }),
                            (e.prototype.enable = function (t, e, n) {
                              return (
                                void 0 === n && (n = {}),
                                Cp(this, void 0, void 0, function () {
                                  var r, o, i, a, s;
                                  return Sp(this, function (l) {
                                    switch (l.label) {
                                      case 0:
                                        return (
                                          (this.lastEl = t.el),
                                          (o = (r = this).customRte),
                                          (i = r.em),
                                          (a = t.getChildrenContainer()),
                                          (this.toolbar.style.display = ''),
                                          [
                                            4,
                                            o
                                              ? o.enable(a, e)
                                              : this.initRte(a).enable(n),
                                          ]
                                        );
                                      case 1:
                                        return (
                                          (s = l.sent()),
                                          i &&
                                            (setTimeout(
                                              this.updatePosition.bind(this),
                                              0
                                            ),
                                            i.off(
                                              kp,
                                              this.updatePosition,
                                              this
                                            ),
                                            i.on(kp, this.updatePosition, this),
                                            i.trigger('rte:enable', t, s)),
                                          [2, s]
                                        );
                                    }
                                  });
                                })
                              );
                            }),
                            (e.prototype.hideToolbar = function () {
                              var t = this.toolbar.style,
                                e = '-1000px';
                              (t.top = e), (t.left = e), (t.display = 'none');
                            }),
                            (e.prototype.disable = function (t, e) {
                              var n = this.em,
                                r = this.customRte,
                                o = t.getChildrenContainer();
                              r ? r.disable(o, e) : e && e.disable(),
                                this.hideToolbar(),
                                n &&
                                  (n.off(kp, this.updatePosition, this),
                                  n.trigger('rte:disable', t, e));
                            }),
                            e
                          );
                        })(y);
                      const Ep = Tp;
                      var Pp = r(790);
                      const Ap = {
                        stylePrefix: 'com-',
                        defaults: {},
                        strict: !0,
                      };
                      var jp =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Mp =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Mp =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Mp.apply(this, arguments)
                            );
                          },
                        Lp =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        Dp = [
                          ['preview', 'Preview', 'preview'],
                          ['resize', 'Resize', 'resize'],
                          ['fullscreen', 'Fullscreen', 'fullscreen'],
                          ['copy', 'CopyComponent'],
                          ['paste', 'PasteComponent'],
                          ['canvas-move', 'CanvasMove'],
                          ['canvas-clear', 'CanvasClear'],
                          ['open-code', 'ExportTemplate', 'export-template'],
                          ['open-layers', 'OpenLayers', 'open-layers'],
                          ['open-styles', 'OpenStyleManager', 'open-sm'],
                          ['open-traits', 'OpenTraitManager', 'open-tm'],
                          ['open-blocks', 'OpenBlocks', 'open-blocks'],
                          ['open-assets', 'OpenAssets', 'open-assets'],
                          [
                            'component-select',
                            'SelectComponent',
                            'select-comp',
                          ],
                          [
                            'component-outline',
                            'SwitchVisibility',
                            'sw-visibility',
                          ],
                          ['component-offset', 'ShowOffset', 'show-offset'],
                          ['component-move', 'MoveComponent', 'move-comp'],
                          ['component-next', 'ComponentNext'],
                          ['component-prev', 'ComponentPrev'],
                          ['component-enter', 'ComponentEnter'],
                          ['component-exit', 'ComponentExit', 'select-parent'],
                          ['component-delete', 'ComponentDelete'],
                          ['component-style-clear', 'ComponentStyleClear'],
                          ['component-drag', 'ComponentDrag'],
                        ],
                        Np = (function (e) {
                          function n(n) {
                            var o = e.call(this, n, 'Commands', Ap) || this;
                            (o.CommandAbstract = Pp['default']),
                              (o.defaultCommands = {}),
                              (o.commands = {}),
                              (o.active = {});
                            var i = o.config,
                              a = i.pStylePrefix,
                              s = o.defaultCommands;
                            for (var l in (a &&
                              (i.stylePrefix = a + i.stylePrefix),
                            Object.keys(i.defaults).forEach(function (t) {
                              var e = i.defaults[t];
                              e.id && o.add(e.id, e);
                            }),
                            (s['tlb-delete'] = {
                              run: function (t) {
                                return t.runCommand('core:component-delete');
                              },
                            }),
                            (s['tlb-clone'] = {
                              run: function (t) {
                                t.runCommand('core:copy'),
                                  t.runCommand('core:paste', {
                                    action: 'clone-component',
                                  });
                              },
                            }),
                            (s['tlb-move'] = {
                              run: function (e, n, r) {
                                void 0 === r && (r = {});
                                var o = e.getModel(),
                                  i = r && r.event,
                                  a = r.target,
                                  s = a || e.getSelected(),
                                  l = a ? [a] : Lp([], e.getSelectedAll(), !0),
                                  c = i && 'dragstart' == i.type,
                                  u = {
                                    preserveSelected: 1,
                                  };
                                if (!s || !s.get('draggable'))
                                  return o.logWarning(
                                    'The element is not draggable'
                                  );
                                var p = s.get('dmode') || o.get('dmode'),
                                  d = function () {
                                    return o.stopDefault(u);
                                  },
                                  f = (0, t.includes)(
                                    ['absolute', 'translate'],
                                    p
                                  );
                                l.forEach(function (t) {
                                  return t.trigger('disable');
                                }),
                                  c ? setTimeout(d, 0) : d();
                                var h = function (t) {
                                    o.trigger(''.concat(Ke, ':start'), t);
                                  },
                                  g = function (t) {
                                    o.trigger(Ke, t);
                                  },
                                  v = function (t, n, r) {
                                    l.forEach(function (t) {
                                      return t.set('status', 'selected');
                                    }),
                                      e.select(l),
                                      s.emitUpdate(),
                                      o.trigger(''.concat(Ke, ':end'), r),
                                      setTimeout(function () {
                                        return o.runDefault(u);
                                      }),
                                      (f || r.cancelled) &&
                                        o.set('_cmpDrag', 1);
                                  };
                                if (f)
                                  e.runCommand('core:component-drag', {
                                    guidesInfo: 1,
                                    mode: p,
                                    target: s,
                                    onStart: h,
                                    onDrag: g,
                                    onEnd: v,
                                    event: i,
                                  });
                                else {
                                  c &&
                                    i.dataTransfer.setDragImage(
                                      s.view.el,
                                      0,
                                      0
                                    );
                                  var m = e.Commands.get('move-comp');
                                  (m.onStart = h),
                                    (m.onDrag = g),
                                    (m.onEndMoveFromModel = v),
                                    m.initSorterFromModels(l);
                                }
                                l.forEach(function (t) {
                                  return t.set('status', 'freezed-selected');
                                });
                              },
                            }),
                            (s['core:undo'] = function (t) {
                              return t.UndoManager.undo();
                            }),
                            (s['core:redo'] = function (t) {
                              return t.UndoManager.redo();
                            }),
                            Dp.forEach(function (t) {
                              var e = t[2],
                                o = r(828)('./'.concat(t[1])).default,
                                i = 'core:'.concat(t[0]);
                              (s[i] = o),
                                e &&
                                  ((s[e] = o),
                                  ['run', 'stop'].forEach(function (t) {
                                    n.on(
                                      ''.concat(t, ':').concat(e),
                                      function () {
                                        for (
                                          var e = [], r = 0;
                                          r < arguments.length;
                                          r++
                                        )
                                          e[r] = arguments[r];
                                        return n.trigger.apply(
                                          n,
                                          Lp(
                                            [''.concat(t, ':').concat(i)],
                                            e,
                                            !1
                                          )
                                        );
                                      }
                                    );
                                  }));
                            }),
                            (i.model = n.Canvas),
                            s))
                              o.add(l, s[l]);
                            return o;
                          }
                          return (
                            jp(n, e),
                            (n.prototype.add = function (e, n) {
                              var r = (0, t.isFunction)(n)
                                ? {
                                    run: n,
                                  }
                                : n;
                              return (
                                r.stop || (r.noStop = !0),
                                delete r.initialize,
                                (r.id = e),
                                (this.commands[e] = Pp['default'].extend(r)),
                                this
                              );
                            }),
                            (n.prototype.get = function (e) {
                              var n = this.commands[e];
                              return (
                                (0, t.isFunction)(n)
                                  ? ((n = new n(this.config)),
                                    (this.commands[e] = n))
                                  : n ||
                                    this.em.logWarning(
                                      "'".concat(e, "' command not found")
                                    ),
                                n
                              );
                            }),
                            (n.prototype.extend = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.get(t);
                              if (n) {
                                var r = Mp(Mp({}, n.constructor.prototype), e);
                                this.add(t, r);
                                var o = Dp.filter(function (e) {
                                  return 'core:'.concat(e[0]) === t && e[2];
                                })[0];
                                o && this.add(o[2], r);
                              }
                              return this;
                            }),
                            (n.prototype.has = function (t) {
                              return !!this.commands[t];
                            }),
                            (n.prototype.getAll = function () {
                              return this.commands;
                            }),
                            (n.prototype.run = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.runCommand(this.get(t), e)
                              );
                            }),
                            (n.prototype.stop = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.stopCommand(this.get(t), e)
                              );
                            }),
                            (n.prototype.isActive = function (t) {
                              return this.getActive().hasOwnProperty(t);
                            }),
                            (n.prototype.getActive = function () {
                              return this.active;
                            }),
                            (n.prototype.runCommand = function (t, e) {
                              var n;
                              if ((void 0 === e && (e = {}), t && t.run)) {
                                var r = this.em,
                                  o = this.config,
                                  i = t.id,
                                  a = r.Editor;
                                (this.isActive(i) && !e.force && o.strict) ||
                                  ((n = a && t.callRun(a, e)),
                                  i &&
                                    t.stop &&
                                    !t.noStop &&
                                    !e.abort &&
                                    (this.active[i] = n));
                              }
                              return n;
                            }),
                            (n.prototype.stopCommand = function (t, e) {
                              var n;
                              if ((void 0 === e && (e = {}), t && t.run)) {
                                var r = this.em,
                                  o = this.config,
                                  i = t.id,
                                  a = r.Editor;
                                (this.isActive(i) || e.force || !o.strict) &&
                                  (i && delete this.active[i],
                                  (n = t.callStop(a, e)));
                              }
                              return n;
                            }),
                            (n.prototype.create = function (t) {
                              return (
                                t.stop || (t.noStop = !0),
                                new (Pp['default'].extend(t))(this.config)
                              );
                            }),
                            (n.prototype.destroy = function () {
                              (this.defaultCommands = {}),
                                (this.commands = {}),
                                (this.active = {});
                            }),
                            n
                          );
                        })(y);
                      const Ip = Np,
                        Fp = {
                          sectors: [
                            {
                              name: 'General',
                              open: !1,
                              properties: [
                                'display',
                                'float',
                                'position',
                                'top',
                                'right',
                                'left',
                                'bottom',
                              ],
                            },
                            {
                              name: 'Flex',
                              open: !1,
                              properties: [
                                'flex-direction',
                                'flex-wrap',
                                'justify-content',
                                'align-items',
                                'align-content',
                                'order',
                                'flex-basis',
                                'flex-grow',
                                'flex-shrink',
                                'align-self',
                              ],
                            },
                            {
                              name: 'Dimension',
                              open: !1,
                              properties: [
                                'width',
                                'height',
                                'max-width',
                                'min-height',
                                'margin',
                                'padding',
                              ],
                            },
                            {
                              name: 'Typography',
                              open: !1,
                              properties: [
                                'font-family',
                                'font-size',
                                'font-weight',
                                'letter-spacing',
                                'color',
                                'line-height',
                                'text-align',
                                'text-shadow',
                              ],
                            },
                            {
                              name: 'Decorations',
                              open: !1,
                              properties: [
                                'background-color',
                                'border-radius',
                                'border',
                                'box-shadow',
                                'background',
                              ],
                            },
                            {
                              name: 'Extra',
                              open: !1,
                              properties: [
                                'opacity',
                                'transition',
                                'transform',
                              ],
                            },
                          ],
                          appendTo: '',
                          stylePrefix: 'sm-',
                          custom: !1,
                          hideNotStylable: !0,
                          highlightChanged: !0,
                          highlightComputed: !0,
                          showComputed: !0,
                          clearProperties: !0,
                          avoidComputed: ['width', 'height'],
                        };
                      var Rp =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        zp =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (zp =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              zp.apply(this, arguments)
                            );
                          },
                        Vp =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          },
                        Bp =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        Hp = (function (e) {
                          function r() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Rp(r, e),
                            (r.getDefaults = function () {
                              return (0, t.result)(this.prototype, 'defaults');
                            }),
                            (r.prototype.defaults = function () {
                              return {
                                name: '',
                                property: '',
                                type: '',
                                defaults: '',
                                info: '',
                                value: '',
                                icon: '',
                                functionName: '',
                                status: '',
                                visible: !0,
                                fixedValues: ['initial', 'inherit'],
                                full: !1,
                                important: !1,
                                toRequire: !1,
                                requires: void 0,
                                requiresParent: null,
                                parentTarget: null,
                              };
                            }),
                            (r.prototype.initialize = function (t, e) {
                              void 0 === t && (t = {}),
                                void 0 === e && (e = {}),
                                (this.em = e.em);
                              var o = this.getId() || '',
                                i = this.get('name') || this.get('label') || '';
                              !this.get('property') &&
                                this.set(
                                  'property',
                                  (i || o).replace(/ /g, '-')
                                );
                              var a = this.get('property');
                              !this.get('id') && this.set('id', a),
                                !i &&
                                  this.set(
                                    'name',
                                    (0, n.capitalize)(a).replace(/-/g, ' ')
                                  ),
                                this.on('change', this.__upTargets),
                                r.callInit(this, t, e);
                            }),
                            (r.prototype.__getParentProp = function () {
                              var t, e;
                              return null ===
                                (e =
                                  null === (t = this.collection) || void 0 === t
                                    ? void 0
                                    : t.opts) || void 0 === e
                                ? void 0
                                : e.parentProp;
                            }),
                            (r.prototype.__upTargets = function (e, n) {
                              var r,
                                o = this;
                              void 0 === n && (n = {});
                              var i = this.em.Styles,
                                a = this.getName(),
                                s = n.__clear,
                                l = s ? '' : this.__getFullValue(n),
                                c = this.__getParentProp(),
                                u = this.changedAttributes(),
                                p = (0, t.keys)(u).reduce(function (t, e) {
                                  return (t[e] = o.previous(e)), t;
                                }, {}),
                                d = Bp(
                                  Bp(
                                    [],
                                    (0, t.keys)(this.__getClearProps()),
                                    !0
                                  ),
                                  ['__p'],
                                  !1
                                ),
                                f = (0, t.keys)(u),
                                h =
                                  !n.__up &&
                                  !c &&
                                  (s ||
                                    d.some(function (t) {
                                      return f.indexOf(t) >= 0;
                                    })),
                                g = this.get('onChange'),
                                v = {
                                  property: this,
                                  from: p,
                                  to: u,
                                  value: l,
                                  opts: n,
                                };
                              i.__trgEv(i.events.propertyUpdate, v),
                                g && g(v),
                                h &&
                                  this.__upTargetsStyle(
                                    (((r = {})[a] = l), r),
                                    n
                                  );
                            }),
                            (r.prototype.__upTargetsStyle = function (t, e) {
                              var n,
                                r =
                                  null === (n = this.em) || void 0 === n
                                    ? void 0
                                    : n.get('StyleManager');
                              null == r ||
                                r.addStyleTargets(
                                  zp(zp({}, t), {
                                    __p: !!e.avoidStore,
                                  }),
                                  e
                                );
                            }),
                            (r.prototype._up = function (t, e) {
                              void 0 === e && (e = {}),
                                e.noTarget && (e.__up = !0);
                              var n = e.partial,
                                r = Vp(e, ['partial']);
                              return (
                                (t.__p = !(!r.avoidStore && !n)),
                                this.set(
                                  t,
                                  zp(zp({}, r), {
                                    avoidStore: t.__p,
                                  })
                                )
                              );
                            }),
                            (r.prototype.up = function (t, e) {
                              void 0 === e && (e = {}),
                                this.set(
                                  t,
                                  zp(zp({}, e), {
                                    __up: !0,
                                  })
                                );
                            }),
                            (r.prototype.init = function () {}),
                            (r.prototype.getId = function () {
                              return this.get('id');
                            }),
                            (r.prototype.getType = function () {
                              return this.get('type');
                            }),
                            (r.prototype.getName = function () {
                              return this.get('property');
                            }),
                            (r.prototype.getLabel = function (t) {
                              var e;
                              void 0 === t && (t = {});
                              var n = t.locale,
                                r = void 0 === n || n,
                                o = this.getId(),
                                i = this.get('name') || this.get('label');
                              return (
                                (r &&
                                  (null === (e = this.em) || void 0 === e
                                    ? void 0
                                    : e.t(
                                        'styleManager.properties.'.concat(o)
                                      ))) ||
                                i
                              );
                            }),
                            (r.prototype.getValue = function (t) {
                              void 0 === t && (t = {});
                              var e = t.noDefault,
                                n = this.get('value');
                              return this.hasValue() || e
                                ? n
                                : this.getDefaultValue();
                            }),
                            (r.prototype.hasValue = function (e) {
                              void 0 === e && (e = {});
                              var n = e.noParent && this.getParentTarget(),
                                r = this.get('value');
                              return !(0, t.isUndefined)(r) && '' !== r && !n;
                            }),
                            (r.prototype.hasValueParent = function () {
                              return (
                                this.hasValue() &&
                                !this.hasValue({
                                  noParent: !0,
                                })
                              );
                            }),
                            (r.prototype.getStyle = function (t) {
                              var e;
                              void 0 === t && (t = {});
                              var r = this.getName();
                              return (
                                ((e = {})[
                                  t.camelCase ? (0, n.camelCase)(r) : r
                                ] = this.__getFullValue(t)),
                                e
                              );
                            }),
                            (r.prototype.getDefaultValue = function () {
                              var e = this.get('default');
                              return ''.concat(
                                (0, t.isUndefined)(e) ? this.get('defaults') : e
                              );
                            }),
                            (r.prototype.upValue = function (t, e) {
                              void 0 === e && (e = {});
                              var n =
                                null === t || '' === t
                                  ? this.__getClearProps()
                                  : this.__parseValue(t, e);
                              return this._up(n, e);
                            }),
                            (r.prototype.isVisible = function () {
                              return !!this.get('visible');
                            }),
                            (r.prototype.clear = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                this._up(
                                  this.__getClearProps(),
                                  zp(zp({}, t), {
                                    __clear: !0,
                                  })
                                ),
                                this
                              );
                            }),
                            (r.prototype.canClear = function () {
                              var t = this.getParent();
                              return t
                                ? t.__canClearProp(this)
                                : this.hasValue({
                                    noParent: !0,
                                  });
                            }),
                            (r.prototype.getParent = function () {
                              return this.__getParentProp() || null;
                            }),
                            (r.prototype.isFull = function () {
                              return !!this.get('full');
                            }),
                            (r.prototype.__parseValue = function (t, e) {
                              return this.parseValue(t, e);
                            }),
                            (r.prototype.__getClearProps = function () {
                              return {
                                value: '',
                              };
                            }),
                            (r.prototype.setValue = function (t, e, n) {
                              void 0 === e && (e = !0),
                                void 0 === n && (n = {});
                              var r = this.parseValue(t),
                                o = !e;
                              !o &&
                                this.set(
                                  {
                                    value: void 0,
                                  },
                                  {
                                    avoidStore: o,
                                    silent: !0,
                                  }
                                ),
                                this.set(
                                  r,
                                  zp(
                                    {
                                      avoidStore: o,
                                    },
                                    n
                                  )
                                );
                            }),
                            (r.prototype.setValueFromInput = function (
                              t,
                              e,
                              n
                            ) {
                              void 0 === n && (n = {}),
                                this.setValue(
                                  t,
                                  e,
                                  zp(zp({}, n), {
                                    fromInput: 1,
                                  })
                                );
                            }),
                            (r.prototype.parseValue = function (e, n) {
                              void 0 === n && (n = {});
                              var r = {
                                  value: e,
                                },
                                o = '!important';
                              if (
                                ((0, t.isString)(e) &&
                                  -1 !== e.indexOf(o) &&
                                  ((r.value = e.replace(o, '').trim()),
                                  (r.important = !0)),
                                !this.get('functionName') && !n.complete)
                              )
                                return r;
                              var i = [],
                                a = ''.concat(r.value),
                                s = a.indexOf('(') + 1,
                                l = a.lastIndexOf(')'),
                                c = a.substring(0, s - 1);
                              if (
                                (c && (r.functionName = c),
                                i.push(s),
                                l >= 0 && i.push(l),
                                (r.value = String.prototype.substring.apply(
                                  a,
                                  i
                                )),
                                n.numeric)
                              ) {
                                var u = parseFloat(r.value);
                                (r.unit = r.value.replace(u, '')),
                                  (r.value = u);
                              }
                              return r;
                            }),
                            (r.prototype.__getFullValue = function (t) {
                              var e = (void 0 === t ? {} : t).withDefault;
                              return !this.hasValue() && e
                                ? this.getDefaultValue()
                                : this.getFullValue();
                            }),
                            (r.prototype.getFullValue = function (e, n) {
                              void 0 === n && (n = {});
                              var r = this.get('functionName'),
                                o = this.getDefaultValue(),
                                i = (0, t.isUndefined)(e)
                                  ? this.get('value')
                                  : e,
                                a = !(0, t.isUndefined)(i) && '' !== i;
                              if (i && o && i === o) return o;
                              if (r && a) {
                                var s =
                                  'url' === r
                                    ? "'".concat(i.replace(/'|"/g, ''), "'")
                                    : i;
                                i = ''.concat(r, '(').concat(s, ')');
                              }
                              return (
                                a &&
                                  this.get('important') &&
                                  !n.skipImportant &&
                                  (i = ''.concat(i, ' !important')),
                                i || ''
                              );
                            }),
                            (r.prototype.__setParentTarget = function (t) {
                              this.up({
                                parentTarget: t,
                              });
                            }),
                            (r.prototype.getParentTarget = function () {
                              return this.get('parentTarget') || null;
                            }),
                            (r.prototype.__parseFn = function (t) {
                              void 0 === t && (t = '');
                              var e = t.indexOf('(') + 1,
                                n = t.lastIndexOf(')');
                              return {
                                name: t.substring(0, e - 1).trim(),
                                value: String.prototype.substring
                                  .apply(t, [e, n >= 0 ? n : void 0])
                                  .trim(),
                              };
                            }),
                            (r.prototype.__checkVisibility = function (e) {
                              var r = e.target,
                                o = e.component,
                                i = e.sectors,
                                a = o || r;
                              if (!a) return !1;
                              var s = this.getId(),
                                l = this.getName(),
                                c = this.get('toRequire'),
                                u = this.get('requires'),
                                p = this.get('requiresParent'),
                                d = a.get('unstylable'),
                                f = a.get('stylable-require'),
                                h = a.get('stylable');
                              if (
                                ((0, t.isArray)(h) && (h = h.indexOf(l) >= 0),
                                (0, t.isArray)(d) && (h = d.indexOf(l) < 0),
                                c &&
                                  (h =
                                    !r ||
                                    (f &&
                                      (f.indexOf(s) >= 0 ||
                                        f.indexOf(l) >= 0))),
                                i && u)
                              ) {
                                var g = (0, t.keys)(u);
                                i.forEach(function (e) {
                                  e.getProperties().forEach(function (e) {
                                    if ((0, t.includes)(g, e.id)) {
                                      var n = u[e.id];
                                      h =
                                        h && (0, t.includes)(n, e.get('value'));
                                    }
                                  });
                                });
                              }
                              if (p) {
                                var v = o && o.parent(),
                                  m = v && v.getEl();
                                if (m) {
                                  var y = (0, n.hasWin)()
                                    ? window.getComputedStyle(m)
                                    : {};
                                  (0, t.each)(p, function (e, n) {
                                    h = h && y[n] && (0, t.includes)(e, y[n]);
                                  });
                                } else h = !1;
                              }
                              return !!h;
                            }),
                            r
                          );
                        })(u.Hn);
                      const Up = Hp;
                      (Hp.callParentInit = function (t, e, n, r) {
                        void 0 === r && (r = {}),
                          t.prototype.initialize.apply(e, [
                            n,
                            zp(zp({}, r), {
                              skipInit: 1,
                            }),
                          ]);
                      }),
                        (Hp.callInit = function (t, e, n) {
                          void 0 === n && (n = {}), !n.skipInit && t.init(e, n);
                        });
                      var Wp =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        $p =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              ($p =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              $p.apply(this, arguments)
                            );
                          },
                        Gp =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        qp = function (t) {
                          return 'integer' === t || 'number' === t;
                        },
                        Kp = (function (e) {
                          function r() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Wp(r, e),
                            (r.prototype.defaults = function () {
                              return $p($p({}, Up.getDefaults()), {
                                detached: !1,
                                properties: [],
                                separator: ' ',
                                join: null,
                                fromStyle: null,
                                toStyle: null,
                                full: !0,
                              });
                            }),
                            (r.prototype.initialize = function (t, e) {
                              void 0 === t && (t = {}),
                                void 0 === e && (e = {}),
                                Up.callParentInit(Up, this, t, e);
                              var n = this.em,
                                r = new sf(this.get('properties') || [], {
                                  em: n,
                                  parentProp: this,
                                });
                              this.set('properties', r, {
                                silent: !0,
                              }),
                                this.listenTo(r, 'change', this.__upProperties),
                                Up.callInit(this, t, e);
                            }),
                            Object.defineProperty(r.prototype, 'properties', {
                              get: function () {
                                return this.get('properties') || [];
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (r.prototype.getProperties = function () {
                              return Gp([], this.get('properties').models, !0);
                            }),
                            (r.prototype.getProperty = function (t) {
                              return this.properties.filter(function (e) {
                                return e.getId() === t || e.getName() === t;
                              })[0];
                            }),
                            (r.prototype.getPropertyAt = function (t) {
                              return this.get('properties').at(t);
                            }),
                            (r.prototype.isDetached = function () {
                              return !!this.get('detached');
                            }),
                            (r.prototype.getValues = function (t) {
                              var e = (void 0 === t ? {} : t).byName;
                              return this.getProperties().reduce(function (
                                t,
                                n
                              ) {
                                return (
                                  (t[e ? n.getName() : n.getId()] = ''.concat(
                                    n.__getFullValue()
                                  )),
                                  t
                                );
                              },
                              {});
                            }),
                            (r.prototype.getSeparator = function () {
                              return this.getSplitSeparator();
                            }),
                            (r.prototype.getJoin = function () {
                              return this.__getJoin();
                            }),
                            (r.prototype.getStyleFromProps = function (t) {
                              var e;
                              void 0 === t && (t = {});
                              var r = this.getName(),
                                o = this.__getJoin(),
                                i = this.get('toStyle'),
                                a = this.getValues(),
                                s = {};
                              if (i)
                                s = i(a, {
                                  join: o,
                                  name: r,
                                  property: this,
                                });
                              else if (
                                ((a = this.getValues({
                                  byName: !0,
                                })),
                                this.isDetached())
                              )
                                s = a;
                              else {
                                var l = this.getProperties()
                                  .map(function (t) {
                                    return t.__getFullValue({
                                      withDefault: 1,
                                    });
                                  })
                                  .filter(Boolean)
                                  .join(o);
                                ((e = {})[r] = l), (s = e);
                              }
                              return (
                                this.isDetached()
                                  ? (s[r] = '')
                                  : ((s[r] = s[r] || ''),
                                    (s = $p(
                                      $p({}, s),
                                      this.getProperties().reduce(function (
                                        t,
                                        e
                                      ) {
                                        return (t[e.getName()] = ''), t;
                                      },
                                      {})
                                    ))),
                                t.camelCase
                                  ? Object.keys(s).reduce(function (t, e) {
                                      return (t[(0, n.camelCase)(e)] = s[e]), t;
                                    }, {})
                                  : s
                              );
                            }),
                            (r.prototype.getSplitSeparator = function () {
                              return new RegExp(
                                ''.concat(
                                  this.get('separator'),
                                  '(?![^\\(]*\\))'
                                )
                              );
                            }),
                            (r.prototype.__upProperties = function (t, e) {
                              if (
                                (void 0 === e && (e = {}),
                                !e.__up && !e.__clearIn)
                              ) {
                                var n = this.__getParentProp();
                                if (n) return n.__upProperties(this, e);
                                this.__upTargetsStyleProps(e, t);
                              }
                            }),
                            (r.prototype.__upTargetsStyleProps = function (
                              t,
                              e
                            ) {
                              var n;
                              void 0 === t && (t = {});
                              var r = this.getStyleFromProps();
                              if (this.isDetached() && e) {
                                var o = e.getName();
                                ((n = {})[o] = r[o]), (r = n);
                              }
                              this.__upTargetsStyle(r, t);
                            }),
                            (r.prototype._up = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.__setProperties(
                                  this.__getSplitValue(t.value),
                                  e
                                ),
                                Up.prototype._up.call(this, t, e),
                                this
                              );
                            }),
                            (r.prototype.getStyle = function (t) {
                              return this.getStyleFromProps(t);
                            }),
                            (r.prototype.__getFullValue = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                this.isDetached() || t.__clear
                                  ? ''
                                  : this.getStyleFromProps()[this.getName()] ||
                                    ''
                              );
                            }),
                            (r.prototype.__getJoin = function () {
                              var e = this.get('join');
                              return (0, t.isString)(e)
                                ? e
                                : this.get('separator');
                            }),
                            (r.prototype.__styleHasProps = function (e) {
                              void 0 === e && (e = {});
                              var n = this.getName(),
                                r = this.getProperties().map(function (t) {
                                  return t.getName();
                                });
                              return Gp([n], r, !0).some(function (n) {
                                return !(0, t.isUndefined)(e[n]) && '' !== e[n];
                              });
                            }),
                            (r.prototype.__splitValue = function (t, e) {
                              return t
                                .split(e)
                                .map(function (t) {
                                  return t.trim();
                                })
                                .filter(Boolean);
                            }),
                            (r.prototype.__splitStyleName = function (t, e, n) {
                              return this.__splitValue(t[e] || '', n);
                            }),
                            (r.prototype.__getSplitValue = function (e, n) {
                              void 0 === e && (e = '');
                              var r = (void 0 === n ? {} : n).byName,
                                o = this.getProperties(),
                                i =
                                  4 === o.length &&
                                  o.every(function (t) {
                                    return qp(t.getType());
                                  }),
                                a = this.__splitValue(
                                  e,
                                  this.getSplitSeparator()
                                ),
                                s = {};
                              return (
                                o.forEach(function (e, n) {
                                  var o = a[n],
                                    l = (0, t.isUndefined)(o) ? '' : o;
                                  if (i) {
                                    var c = a.length;
                                    l =
                                      a[n] ||
                                      a[(n % c) + (1 != c && c % 2 ? 1 : 0)] ||
                                      l;
                                  }
                                  var u = r ? e.getName() : e.getId();
                                  s[u] = l || '';
                                }),
                                s
                              );
                            }),
                            (r.prototype.__getPropsFromStyle = function (e, n) {
                              if (
                                (void 0 === e && (e = {}),
                                void 0 === n && (n = {}),
                                !this.__styleHasProps(e))
                              )
                                return null;
                              var r = n.byName,
                                o = this.getName(),
                                i = this.getProperties(),
                                a = this.getSplitSeparator(),
                                s = this.get('fromStyle'),
                                l = s
                                  ? s(e, {
                                      property: this,
                                      name: o,
                                      separator: a,
                                    })
                                  : {};
                              return (
                                s ||
                                  ((l = this.__getSplitValue(e[o] || '', {
                                    byName: r,
                                  })),
                                  i.forEach(function (n) {
                                    var o = e[n.getName()],
                                      i = r ? n.getName() : n.getId();
                                    (0, t.isUndefined)(o) ||
                                      '' === o ||
                                      (l[i] = o);
                                  })),
                                l
                              );
                            }),
                            (r.prototype.__setProperties = function (e, n) {
                              void 0 === e && (e = {}),
                                void 0 === n && (n = {}),
                                this.getProperties().forEach(function (t) {
                                  var r = e[t.getId()];
                                  t.__getFullValue() !== r && t.upValue(r, n);
                                });
                              var r = (0, t.keys)(e)
                                .map(function (t) {
                                  return e[t];
                                })
                                .join(' ');
                              this.set('value', r, {
                                silent: !0,
                              });
                            }),
                            (r.prototype.clear = function () {
                              var t = this;
                              return (
                                this.getProperties().map(function (e) {
                                  return e.clear({
                                    __clearIn: !t.isDetached(),
                                  });
                                }),
                                Up.prototype.clear.call(this),
                                this
                              );
                            }),
                            (r.prototype.hasValue = function (t) {
                              return this.getProperties().some(function (e) {
                                return e.hasValue(t);
                              });
                            }),
                            (r.prototype.getFullValue = function () {
                              return this.__getFullValue();
                            }),
                            (r.prototype.__canClearProp = function (t) {
                              return (
                                this.isDetached() &&
                                t.hasValue({
                                  noParent: !0,
                                })
                              );
                            }),
                            r
                          );
                        })(Up);
                      const Zp = Kp;
                      var Yp =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Xp =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Xp =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Xp.apply(this, arguments)
                            );
                          },
                        Jp = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Yp(e, t),
                            (e.prototype.defaults = function () {
                              return {
                                values: {},
                              };
                            }),
                            (e.prototype.initialize = function () {
                              var t = this.collection;
                              this.prop = null == t ? void 0 : t.prop;
                            }),
                            (e.prototype.getId = function () {
                              return this.cid;
                            }),
                            (e.prototype.getIndex = function () {
                              var t = this.collection;
                              return t ? t.indexOf(this) : -1;
                            }),
                            (e.prototype.getValues = function (t) {
                              void 0 === t && (t = {});
                              var e = this.get('values');
                              return t.camelCase
                                ? Object.keys(e).reduce(function (t, r) {
                                    return (t[(0, n.camelCase)(r)] = e[r]), t;
                                  }, {})
                                : e;
                            }),
                            (e.prototype.getLabel = function () {
                              var t;
                              return null === (t = this.prop) || void 0 === t
                                ? void 0
                                : t.getLayerLabel(this);
                            }),
                            (e.prototype.isSelected = function () {
                              var t;
                              return (
                                (null === (t = this.prop) || void 0 === t
                                  ? void 0
                                  : t.getSelectedLayer()) === this
                              );
                            }),
                            (e.prototype.select = function () {
                              var t;
                              return null === (t = this.prop) || void 0 === t
                                ? void 0
                                : t.selectLayer(this);
                            }),
                            (e.prototype.remove = function () {
                              var t;
                              return null === (t = this.prop) || void 0 === t
                                ? void 0
                                : t.removeLayer(this);
                            }),
                            (e.prototype.move = function (t) {
                              var e;
                              return null === (e = this.prop) || void 0 === e
                                ? void 0
                                : e.moveLayer(this, t);
                            }),
                            (e.prototype.getStylePreview = function (t) {
                              var e;
                              return (
                                void 0 === t && (t = {}),
                                null === (e = this.prop) || void 0 === e
                                  ? void 0
                                  : e.getStylePreview(this, t)
                              );
                            }),
                            (e.prototype.hasPreview = function () {
                              var t;
                              return !!(null === (t = this.prop) || void 0 === t
                                ? void 0
                                : t.get('preview'));
                            }),
                            (e.prototype.upValues = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                this.set(
                                  'values',
                                  Xp(Xp({}, this.getValues()), t)
                                )
                              );
                            }),
                            e
                          );
                        })(u.Hn);
                      const Qp = Jp;
                      var td =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ed = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            td(e, t),
                            (e.prototype.initialize = function (t, e) {
                              void 0 === e && (e = {}), (this.prop = e.prop);
                            }),
                            e
                          );
                        })(u.FE);
                      const nd = ed;
                      ed.prototype.model = Qp;
                      var rd =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        od =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (od =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              od.apply(this, arguments)
                            );
                          },
                        id =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          },
                        ad = /,(?![^\(]*\))/,
                        sd = /\s(?![^(]*\))/,
                        ld = (function (e) {
                          function r() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            rd(r, e),
                            (r.prototype.defaults = function () {
                              return od(od({}, Zp.getDefaults()), {
                                layers: [],
                                layerSeparator: ', ',
                                layerJoin: '',
                                prepend: 0,
                                preview: !1,
                                layerLabel: null,
                                selectedLayer: null,
                              });
                            }),
                            (r.prototype.initialize = function (t, e) {
                              void 0 === t && (t = {}),
                                void 0 === e && (e = {}),
                                Zp.callParentInit(Zp, this, t, e);
                              var n = this.get('layers'),
                                r = new nd(n, {
                                  prop: this,
                                });
                              (r.property = this),
                                (r.properties = this.get('properties')),
                                this.set('layers', r, {
                                  silent: !0,
                                }),
                                this.on(
                                  'change:selectedLayer',
                                  this.__upSelected
                                ),
                                this.listenTo(r, 'add remove', this.__upLayers),
                                Zp.callInit(this, t, e);
                            }),
                            (r.prototype.getLayers = function () {
                              return this.__getLayers().models;
                            }),
                            (r.prototype.__getLayers = function () {
                              return this.get('layers');
                            }),
                            (r.prototype.getLayer = function (t) {
                              return (
                                void 0 === t && (t = 0),
                                this.__getLayers().at(t) || void 0
                              );
                            }),
                            (r.prototype.getSelectedLayer = function () {
                              var t = this.get('selectedLayer');
                              return t && t.getIndex() >= 0 ? t : void 0;
                            }),
                            (r.prototype.selectLayer = function (t) {
                              return this.set('selectedLayer', t, {
                                __select: !0,
                              });
                            }),
                            (r.prototype.selectLayerAt = function (t) {
                              void 0 === t && (t = 0);
                              var e = this.getLayer(t);
                              return e && this.selectLayer(e);
                            }),
                            (r.prototype.moveLayer = function (e, n) {
                              void 0 === n && (n = 0);
                              var r = e ? e.getIndex() : -1;
                              r >= 0 &&
                                (0, t.isNumber)(n) &&
                                n >= 0 &&
                                n < this.getLayers().length &&
                                r !== n &&
                                (this.removeLayer(e),
                                this.__getLayers().add(e, {
                                  at: n,
                                }));
                            }),
                            (r.prototype.addLayer = function (e, n) {
                              void 0 === e && (e = {}),
                                void 0 === n && (n = {});
                              var r = {};
                              return (
                                this.getProperties().forEach(function (n) {
                                  var o = n.getId(),
                                    i = e[o];
                                  r[o] = (0, t.isUndefined)(i)
                                    ? n.getDefaultValue()
                                    : i;
                                }),
                                this.__getLayers().push(
                                  {
                                    values: r,
                                  },
                                  n
                                )
                              );
                            }),
                            (r.prototype.removeLayer = function (t) {
                              return this.__getLayers().remove(t);
                            }),
                            (r.prototype.removeLayerAt = function (t) {
                              void 0 === t && (t = 0);
                              var e = this.getLayer(t);
                              return e ? this.removeLayer(e) : null;
                            }),
                            (r.prototype.getLayerLabel = function (t) {
                              var e = '';
                              if (t) {
                                var n = this.get('layerLabel'),
                                  r = t.getValues(),
                                  o = t.getIndex();
                                if (n)
                                  e = n(t, {
                                    index: o,
                                    values: r,
                                    property: this,
                                  });
                                else {
                                  var i = [];
                                  this.getProperties().map(function (t) {
                                    i.push(r[t.getId()]);
                                  }),
                                    (e = i.filter(Boolean).join(' '));
                                }
                              }
                              return e;
                            }),
                            (r.prototype.getStyleFromLayer = function (e, r) {
                              var o;
                              void 0 === r && (r = {});
                              var i,
                                a = this.__getJoin(),
                                s = this.__getJoinLayers(),
                                l = this.get('toStyle'),
                                c = this.getName(),
                                u = e.getValues();
                              if (l)
                                i = l(u, {
                                  join: a,
                                  joinLayers: s,
                                  name: c,
                                  layer: e,
                                  property: this,
                                });
                              else {
                                var p = this.getProperties().map(function (e) {
                                  var n = e.getName(),
                                    o = u[e.getId()],
                                    i = (0, t.isUndefined)(o)
                                      ? e.getDefaultValue()
                                      : o;
                                  if (r.number && qp(e.getType())) {
                                    var a = e.parseValue(o, r.number);
                                    i = ''.concat(a.value).concat(a.unit);
                                  }
                                  return {
                                    name: n,
                                    value: i,
                                  };
                                });
                                i = this.isDetached()
                                  ? p.reduce(function (t, e) {
                                      return (t[e.name] = e.value), t;
                                    }, {})
                                  : (((o = {})[this.getName()] = p
                                      .map(function (t) {
                                        return t.value;
                                      })
                                      .join(a)),
                                    o);
                              }
                              return r.camelCase
                                ? Object.keys(i).reduce(function (t, e) {
                                    return (t[(0, n.camelCase)(e)] = i[e]), t;
                                  }, {})
                                : i;
                            }),
                            (r.prototype.getStylePreview = function (t, e) {
                              void 0 === e && (e = {});
                              var n = {};
                              return (
                                this.get('preview') &&
                                  (n = this.getStyleFromLayer(t, e)),
                                n
                              );
                            }),
                            (r.prototype.getLayerSeparator = function () {
                              var e = this.get('layerSeparator');
                              return (0, t.isString)(e)
                                ? new RegExp(''.concat(e, '(?![^\\(]*\\))'))
                                : e;
                            }),
                            (r.prototype.__upProperties = function (t, e) {
                              var n;
                              void 0 === e && (e = {});
                              var r = this.getSelectedLayer();
                              r &&
                                (r.upValues(
                                  (((n = {})[t.getId()] = t.__getFullValue()),
                                  n)
                                ),
                                e.__up || this.__upTargetsStyleProps(e));
                            }),
                            (r.prototype.__upLayers = function (t, e, n) {
                              this.__upTargetsStyleProps(n || e);
                            }),
                            (r.prototype.__upTargets = function (t, e) {
                              if ((void 0 === e && (e = {}), !e.__select))
                                return Up.prototype.__upTargets.call(
                                  this,
                                  t,
                                  e
                                );
                            }),
                            (r.prototype.__upTargetsStyleProps = function (t) {
                              void 0 === t && (t = {}),
                                this.__upTargetsStyle(
                                  this.getStyleFromLayers(),
                                  t
                                );
                            }),
                            (r.prototype.__upTargetsStyle = function (t, e) {
                              return Up.prototype.__upTargetsStyle.call(
                                this,
                                t,
                                e
                              );
                            }),
                            (r.prototype.__upSelected = function (t, e) {
                              var n = (void 0 === t ? {} : t).noEvent;
                              void 0 === e && (e = {});
                              var r = this.em.Styles,
                                o = this.getSelectedLayer(),
                                i = null == o ? void 0 : o.getValues();
                              i &&
                                this.getProperties().forEach(function (t) {
                                  var n,
                                    r =
                                      null !== (n = i[t.getId()]) &&
                                      void 0 !== n
                                        ? n
                                        : '';
                                  t.__getFullValue() !== r &&
                                    t.upValue(
                                      r,
                                      od(od({}, e), {
                                        __up: !0,
                                      })
                                    );
                                }),
                                !n &&
                                  r.__trgEv(r.events.layerSelect, {
                                    property: this,
                                  });
                            }),
                            (r.prototype._up = function (t, e) {
                              void 0 === e && (e = {});
                              var n = t.__layers,
                                r = void 0 === n ? [] : n,
                                o = id(t, ['__layers']);
                              return (
                                !this.isDetached() && this.__setLayers(r),
                                this.__upSelected(
                                  {
                                    noEvent: !0,
                                  },
                                  e
                                ),
                                Up.prototype._up.call(this, o, e),
                                this
                              );
                            }),
                            (r.prototype.__setLayers = function (t) {
                              void 0 === t && (t = []);
                              var e = this.__getLayers(),
                                n = t.map(function (t) {
                                  return {
                                    values: t,
                                  };
                                });
                              e.length === n.length
                                ? n.map(function (t, n) {
                                    var r;
                                    return null === (r = e.at(n)) ||
                                      void 0 === r
                                      ? void 0
                                      : r.upValues(t.values);
                                  })
                                : this.__getLayers().reset(n),
                                this.__upSelected({
                                  noEvent: !0,
                                });
                            }),
                            (r.prototype.__parseValue = function (t) {
                              var e = this,
                                n = this.parseValue(t);
                              return (
                                (n.__layers = t
                                  .split(ad)
                                  .map(function (t) {
                                    return t.trim();
                                  })
                                  .map(function (t) {
                                    return e.__parseLayer(t);
                                  })
                                  .filter(Boolean)),
                                n
                              );
                            }),
                            (r.prototype.__parseLayer = function (e) {
                              var n = this.get('parseLayer'),
                                r = e.split(sd),
                                o = this.getProperties();
                              return n
                                ? n({
                                    value: e,
                                    values: r,
                                  })
                                : o.reduce(function (e, n, o) {
                                    var i = r[o];
                                    return (
                                      (e[n.getId()] = (0, t.isUndefined)(i)
                                        ? n.getDefaultValue()
                                        : i),
                                      e
                                    );
                                  }, {});
                            }),
                            (r.prototype.__getLayersFromStyle = function (e) {
                              var n = this;
                              if (
                                (void 0 === e && (e = {}),
                                !this.__styleHasProps(e))
                              )
                                return null;
                              var r = this.getName(),
                                o = this.getProperties(),
                                i = this.getLayerSeparator(),
                                a = this.get('fromStyle'),
                                s = a
                                  ? a(e, {
                                      property: this,
                                      name: r,
                                      separatorLayers: i,
                                    })
                                  : [];
                              if (!a) {
                                var l = this.__splitStyleName(e, r, i)
                                  .map(function (t) {
                                    return t.split(n.getSplitSeparator());
                                  })
                                  .map(function (e) {
                                    var n = {};
                                    return (
                                      o.forEach(function (r, o) {
                                        var i = e[o];
                                        n[r.getId()] = (0, t.isUndefined)(i)
                                          ? r.getDefaultValue()
                                          : i;
                                      }),
                                      n
                                    );
                                  });
                                o.forEach(function (t) {
                                  var r = t.getId();
                                  n.__splitStyleName(e, t.getName(), i)
                                    .map(function (e) {
                                      var n;
                                      return (
                                        ((n = {})[r] =
                                          e || t.getDefaultValue()),
                                        n
                                      );
                                    })
                                    .forEach(function (t, e) {
                                      l[e] = l[e] ? od(od({}, l[e]), t) : t;
                                    });
                                }),
                                  (s = l);
                              }
                              return (0, t.isArray)(s) ? s : [s];
                            }),
                            (r.prototype.getStyle = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                this.getStyleFromLayers(t)
                              );
                            }),
                            (r.prototype.getStyleFromLayers = function (e) {
                              var n = this;
                              void 0 === e && (e = {});
                              var r = {},
                                o = this.getName(),
                                i = this.getLayers(),
                                a = this.getProperties();
                              if (
                                (i
                                  .map(function (t) {
                                    return n.getStyleFromLayer(t, e);
                                  })
                                  .forEach(function (e) {
                                    (0, t.keys)(e).map(function (t) {
                                      r[t] || (r[t] = []), r[t].push(e[t]);
                                    });
                                  }),
                                (0, t.keys)(r).map(function (t) {
                                  r[t] = r[t].join(n.__getJoinLayers());
                                }),
                                this.isDetached())
                              )
                                (r[o] = ''),
                                  !i.length &&
                                    a.map(function (t) {
                                      r[t.getName()] = '';
                                    });
                              else {
                                var s = a.reduce(function (t, e) {
                                  return (t[e.getName()] = ''), t;
                                }, {});
                                (r[o] = r[o] || ''), (r = od(od({}, r), s));
                              }
                              return r;
                            }),
                            (r.prototype.__getJoinLayers = function () {
                              var e = this.get('layerJoin'),
                                n = this.get('layerSeparator');
                              return e || ((0, t.isString)(n) ? n : e);
                            }),
                            (r.prototype.__getFullValue = function () {
                              return this.get('detached')
                                ? ''
                                : this.getStyleFromLayers()[this.getName()];
                            }),
                            (r.prototype.hasValue = function (t) {
                              void 0 === t && (t = {});
                              var e = t.noParent && this.getParentTarget();
                              return this.getLayers().length > 0 && !e;
                            }),
                            (r.prototype.clear = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                this.__getLayers().reset(),
                                this.__upTargetsStyleProps(t),
                                Up.prototype.clear.call(this),
                                this
                              );
                            }),
                            (r.prototype.__canClearProp = function () {
                              return !1;
                            }),
                            r
                          );
                        })(Zp);
                      const cd = ld;
                      var ud =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        pd =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (pd =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              pd.apply(this, arguments)
                            );
                          },
                        dd =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          },
                        fd =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        hd = 'data-clear-style',
                        gd = (function (e) {
                          function r(n) {
                            void 0 === n && (n = {});
                            var r = e.call(this, n) || this;
                            (0, t.bindAll)(r, '__change', '__updateStyle');
                            var o = n.config || {},
                              i = o.em;
                            (r.config = o),
                              (r.em = i),
                              (r.pfx = o.stylePrefix || ''),
                              (r.ppfx = o.pStylePrefix || ''),
                              (r.__destroyFn = r.destroy
                                ? r.destroy.bind(r)
                                : function () {});
                            var a = r.model;
                            (a.view = r),
                              (r.onValueChange = (0, t.debounce)(
                                r.onValueChange.bind(r),
                                10
                              )),
                              (r.updateStatus = (0, t.debounce)(
                                r.updateStatus.bind(r),
                                0
                              )),
                              r.listenTo(a, 'destroy remove', r.remove),
                              r.listenTo(
                                a,
                                'change:visible',
                                r.updateVisibility
                              ),
                              r.listenTo(
                                a,
                                'change:name change:className change:full',
                                r.render
                              ),
                              r.listenTo(a, 'change:value', r.onValueChange),
                              r.listenTo(
                                a,
                                'change:parentTarget',
                                r.updateStatus
                              ),
                              r.listenTo(i, 'change:device', r.onValueChange);
                            var s = r.init && r.init.bind(r);
                            return s && s(), r;
                          }
                          return (
                            ud(r, e),
                            (r.prototype.events = function () {
                              var t;
                              return (
                                ((t = {
                                  change: 'inputValueChanged',
                                })['click ['.concat(hd, ']')] = 'clear'),
                                t
                              );
                            }),
                            (r.prototype.template = function (t) {
                              var e = this.pfx,
                                n = this.ppfx;
                              return '\n      <div class="'
                                .concat(
                                  e,
                                  'label" data-sm-label></div>\n      <div class="'
                                )
                                .concat(
                                  n,
                                  'fields" data-sm-fields></div>\n    '
                                );
                            }),
                            (r.prototype.templateLabel = function (t) {
                              var e = this.pfx,
                                n = this.em,
                                r = t.parent,
                                o = t.attributes,
                                i = o.icon,
                                a = void 0 === i ? '' : i,
                                s = o.info,
                                l = void 0 === s ? '' : s,
                                c = null == n ? void 0 : n.getConfig().icons,
                                u = (null == c ? void 0 : c.close) || '';
                              return '\n      <span class="'
                                .concat(e, 'icon ')
                                .concat(a, '" title="')
                                .concat(l, '">\n        ')
                                .concat(t.getLabel(), '\n      </span>\n      ')
                                .concat(
                                  r
                                    ? ''
                                    : '<div class="'
                                        .concat(
                                          e,
                                          'clear" style="display: none" '
                                        )
                                        .concat(hd, '>')
                                        .concat(u, '</div>'),
                                  '\n    '
                                );
                            }),
                            (r.prototype.templateInput = function (t) {
                              return '\n      <div class="'
                                .concat(
                                  this.ppfx,
                                  'field">\n        <input placeholder="'
                                )
                                .concat(
                                  t.getDefaultValue(),
                                  '"/>\n      </div>\n    '
                                );
                            }),
                            (r.prototype.remove = function () {
                              var t = this;
                              return (
                                u.G7.prototype.remove.apply(this, arguments),
                                ['em', 'input', '$input', 'view'].forEach(
                                  function (e) {
                                    return (t[e] = null);
                                  }
                                ),
                                this.__destroyFn(this._getClbOpts()),
                                this
                              );
                            }),
                            (r.prototype.updateStatus = function () {
                              var t,
                                e = this,
                                n = e.model,
                                r = e.pfx,
                                o = e.ppfx,
                                i = e.config,
                                a = ''.concat(o, 'four-color'),
                                s = ''.concat(o, 'color-warn'),
                                l = this.$el.children('.'.concat(r, 'label')),
                                c = this.getClearEl(),
                                u = c ? c.style : {};
                              l.removeClass(''.concat(a, ' ').concat(s)),
                                (u.display = 'none'),
                                n.hasValue({
                                  noParent: !0,
                                }) && i.highlightChanged
                                  ? (l.addClass(a),
                                    i.clearProperties && (u.display = ''))
                                  : n.hasValue() &&
                                    i.highlightComputed &&
                                    l.addClass(s),
                                null === (t = this.parent) ||
                                  void 0 === t ||
                                  t.updateStatus();
                            }),
                            (r.prototype.clear = function (t) {
                              t && t.stopPropagation(), this.model.clear();
                            }),
                            (r.prototype.getClearEl = function () {
                              return (
                                this.clearEl ||
                                  (this.clearEl = this.el.querySelector(
                                    '['.concat(hd, ']')
                                  )),
                                this.clearEl
                              );
                            }),
                            (r.prototype.inputValueChanged = function (t) {
                              t && t.stopPropagation(),
                                this.emit || this.model.upValue(t.target.value);
                            }),
                            (r.prototype.onValueChange = function (t, e, n) {
                              void 0 === n && (n = {}),
                                this.setValue(
                                  this.model.getFullValue(void 0, {
                                    skipImportant: !0,
                                  })
                                ),
                                this.updateStatus();
                            }),
                            (r.prototype.setValue = function (e) {
                              var n = this.model,
                                r =
                                  (0, t.isUndefined)(e) || '' === e
                                    ? n.getDefaultValue()
                                    : e;
                              if (this.update) return this.__update(r);
                              this.__setValueInput(r);
                            }),
                            (r.prototype.__setValueInput = function (t) {
                              var e = this.getInputEl();
                              e && (e.value = t);
                            }),
                            (r.prototype.getInputEl = function () {
                              return (
                                this.input ||
                                  (this.input = this.el.querySelector('input')),
                                this.input
                              );
                            }),
                            (r.prototype.updateVisibility = function () {
                              this.el.style.display = this.model.isVisible()
                                ? ''
                                : 'none';
                            }),
                            (r.prototype.clearCached = function () {
                              delete this.clearEl,
                                delete this.input,
                                delete this.$input;
                            }),
                            (r.prototype.__unset = function () {
                              var t = this.unset && this.unset.bind(this);
                              t && t(this._getClbOpts());
                            }),
                            (r.prototype.__update = function (t) {
                              var e = this.update && this.update.bind(this);
                              e &&
                                e(
                                  pd(pd({}, this._getClbOpts()), {
                                    value: t,
                                  })
                                );
                            }),
                            (r.prototype.__change = function () {
                              for (var t = [], e = 0; e < arguments.length; e++)
                                t[e] = arguments[e];
                              var n = this.emit && this.emit.bind(this);
                              n &&
                                n.apply(
                                  void 0,
                                  fd([this._getClbOpts()], t, !1)
                                );
                            }),
                            (r.prototype.__updateStyle = function (t, e) {
                              void 0 === e && (e = {});
                              var r = e.complete,
                                o = e.partial,
                                i =
                                  (dd(e, ['complete', 'partial']), this.model),
                                a = !1 !== r && !0 !== o;
                              (0, n.isObject)(t)
                                ? i.__upTargetsStyle(t, {
                                    avoidStore: !a,
                                  })
                                : i.upValue(t, {
                                    partial: !a,
                                  });
                            }),
                            (r.prototype._getClbOpts = function () {
                              var t = this,
                                e = t.model;
                              return {
                                el: t.el,
                                createdEl: t.createdEl,
                                property: e,
                                props: e.attributes,
                                change: this.__change,
                                updateStyle: this.__updateStyle,
                              };
                            }),
                            (r.prototype.render = function () {
                              this.clearCached();
                              var t = this,
                                e = t.pfx,
                                n = t.model,
                                r = t.el,
                                o = t.$el,
                                i = n.getName(),
                                a = n.getType(),
                                s = n.get('className') || '',
                                l = ''.concat(e, 'property'),
                                c =
                                  'number' === a
                                    ? ''
                                        .concat(e)
                                        .concat(a, ' ')
                                        .concat(e, 'integer')
                                    : ''.concat(e).concat(a);
                              this.createdEl &&
                                this.__destroyFn(this._getClbOpts()),
                                o.empty().append(this.template(n)),
                                o
                                  .find('[data-sm-label]')
                                  .append(this.templateLabel(n));
                              var u = this.create && this.create.bind(this);
                              (this.createdEl = u && u(this._getClbOpts())),
                                o
                                  .find('[data-sm-fields]')
                                  .append(
                                    this.createdEl || this.templateInput(n)
                                  ),
                                (r.className = ''
                                  .concat(l, ' ')
                                  .concat(c, ' ')
                                  .concat(l, '__')
                                  .concat(i, ' ')
                                  .concat(s)
                                  .trim()),
                                (r.className += n.isFull()
                                  ? ' '.concat(l, '--full')
                                  : '');
                              var p = this.onRender && this.onRender.bind(this);
                              return (
                                p && p(), this.setValue(n.getValue()), this
                              );
                            }),
                            (r.prototype.onRender = function () {}),
                            r
                          );
                        })(u.G7);
                      const vd = gd;
                      var md =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        yd = (function (t) {
                          function e(e) {
                            var n = t.call(this, e) || this;
                            (n.config = e.config || {}),
                              (n.pfx = n.config.stylePrefix || ''),
                              (n.properties = []),
                              (n.parent = e.parent);
                            var r = n.collection;
                            return (
                              n.listenTo(r, 'add', n.addTo),
                              n.listenTo(r, 'reset', n.render),
                              n
                            );
                          }
                          return (
                            md(e, t),
                            (e.prototype.addTo = function (t, e, n) {
                              this.add(t, null, n);
                            }),
                            (e.prototype.add = function (t, e, n) {
                              void 0 === n && (n = {});
                              var r = this.parent,
                                o = this.config,
                                i = e || this.el,
                                a = new t.typeView({
                                  model: t,
                                  config: o,
                                });
                              r && (a.parent = r), a.render();
                              var s = a.el;
                              this.properties.push(a), (0, Pt.$Q)(i, s, n.at);
                            }),
                            (e.prototype.remove = function () {
                              return (
                                u.G7.prototype.remove.apply(this, arguments),
                                this.clearItems(),
                                this
                              );
                            }),
                            (e.prototype.clearItems = function () {
                              this.properties.forEach(function (t) {
                                return t.remove();
                              }),
                                (this.properties = []);
                            }),
                            (e.prototype.render = function () {
                              var t = this,
                                e = this.$el,
                                n = this.pfx;
                              this.clearItems();
                              var r = document.createDocumentFragment();
                              return (
                                this.collection.forEach(function (e) {
                                  return t.add(e, r);
                                }),
                                e.empty(),
                                e.append(r),
                                e.attr('class', ''.concat(n, 'properties')),
                                this
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const bd = yd;
                      var _d =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        wd =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (wd =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              wd.apply(this, arguments)
                            );
                          };
                      const xd = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          _d(e, t),
                          (e.prototype.templateInput = function () {
                            var t = this.pfx;
                            return '\n      <div class="'
                              .concat(t, 'field ')
                              .concat(t, 'composite">\n        <span id="')
                              .concat(
                                t,
                                'input-holder"></span>\n      </div>\n    '
                              );
                          }),
                          (e.prototype.remove = function () {
                            var t;
                            return (
                              null === (t = this.props) ||
                                void 0 === t ||
                                t.remove(),
                              vd.prototype.remove.apply(this, arguments),
                              this
                            );
                          }),
                          (e.prototype.onValueChange = function () {}),
                          (e.prototype.onRender = function () {
                            var t = this.pfx,
                              e = this.model,
                              n = e.get('properties');
                            if (n.length && !this.props) {
                              var r = e.isDetached(),
                                o = new bd({
                                  config: wd(wd({}, this.config), {
                                    highlightComputed: r,
                                    highlightChanged: r,
                                  }),
                                  collection: n,
                                  parent: this,
                                });
                              o.render(),
                                this.$el
                                  .find('#'.concat(t, 'input-holder'))
                                  .append(o.el),
                                (this.props = o);
                            }
                          }),
                          (e.prototype.clearCached = function () {
                            vd.prototype.clearCached.apply(this, arguments),
                              delete this.props;
                          }),
                          e
                        );
                      })(vd);
                      var Cd =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Sd = (function (e) {
                          function n() {
                            return (
                              (null !== e && e.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Cd(n, e),
                            (n.prototype.events = function () {
                              return {
                                click: 'select',
                                'click [data-close-layer]': 'removeItem',
                                'mousedown [data-move-layer]': 'initSorter',
                                'touchstart [data-move-layer]': 'initSorter',
                              };
                            }),
                            (n.prototype.template = function () {
                              var t = this,
                                e = t.pfx,
                                n = t.ppfx,
                                r = t.em,
                                o = null == r ? void 0 : r.getConfig().icons,
                                i = (null == o ? void 0 : o.close) || '',
                                a = (null == o ? void 0 : o.move) || '';
                              return '\n      <div class="'
                                .concat(e, 'label-wrp">\n        <div id="')
                                .concat(e, 'move" class="')
                                .concat(
                                  n,
                                  'no-touch-actions" data-move-layer>\n          '
                                )
                                .concat(
                                  a,
                                  '\n        </div>\n        <div id="'
                                )
                                .concat(
                                  e,
                                  'label" data-label></div>\n        <div id="'
                                )
                                .concat(e, 'preview-box" class="')
                                .concat(
                                  e,
                                  'layer-preview" style="display: none" data-preview-box>\n          <div id="'
                                )
                                .concat(e, 'preview" class="')
                                .concat(
                                  e,
                                  'layer-preview-cnt" data-preview></div>\n        </div>\n        <div id="'
                                )
                                .concat(e, 'close-layer" class="')
                                .concat(
                                  e,
                                  'btn-close" data-close-layer>\n          '
                                )
                                .concat(
                                  i,
                                  '\n        </div>\n      </div>\n      <div id="'
                                )
                                .concat(
                                  e,
                                  'inputs" data-properties></div>\n    '
                                );
                            }),
                            (n.prototype.initialize = function (t) {
                              void 0 === t && (t = {});
                              var e = this.model,
                                n = t.config || {};
                              (this.em = n.em),
                                (this.config = n),
                                (this.sorter = t.sorter),
                                (this.pfx = n.stylePrefix || ''),
                                (this.ppfx = n.pStylePrefix || ''),
                                (this.propertyView = t.propertyView);
                              var r = this.propertyView.model;
                              this.listenTo(e, 'destroy remove', this.remove),
                                this.listenTo(
                                  e,
                                  'change:values',
                                  this.updateLabel
                                ),
                                this.listenTo(
                                  r,
                                  'change:selectedLayer',
                                  this.updateVisibility
                                ),
                                (e.view = this),
                                e.set({
                                  droppable: 0,
                                  draggable: 1,
                                }),
                                this.$el.data('model', e);
                            }),
                            (n.prototype.initSorter = function () {
                              var t;
                              null === (t = this.sorter) ||
                                void 0 === t ||
                                t.startSort(this.el);
                            }),
                            (n.prototype.removeItem = function (t) {
                              t && t.stopPropagation(), this.model.remove();
                            }),
                            (n.prototype.select = function () {
                              this.model.select();
                            }),
                            (n.prototype.getPropertiesWrapper = function () {
                              return (
                                this.propsWrapEl ||
                                  (this.propsWrapEl =
                                    this.el.querySelector('[data-properties]')),
                                this.propsWrapEl
                              );
                            }),
                            (n.prototype.getPreviewEl = function () {
                              return (
                                this.previewEl ||
                                  (this.previewEl =
                                    this.el.querySelector('[data-preview]')),
                                this.previewEl
                              );
                            }),
                            (n.prototype.getLabelEl = function () {
                              return (
                                this.labelEl ||
                                  (this.labelEl =
                                    this.el.querySelector('[data-label]')),
                                this.labelEl
                              );
                            }),
                            (n.prototype.updateLabel = function () {
                              var e = this.model,
                                n = e.getLabel();
                              if (
                                ((this.getLabelEl().innerHTML = n),
                                e.hasPreview())
                              ) {
                                var r = this.getPreviewEl(),
                                  o = e.getStylePreview({
                                    number: {
                                      min: -3,
                                      max: 3,
                                    },
                                  }),
                                  i = (0, t.keys)(o)
                                    .map(function (t) {
                                      return ''.concat(t, ':').concat(o[t]);
                                    })
                                    .join(';');
                                r.setAttribute('style', i);
                              }
                            }),
                            (n.prototype.updateVisibility = function () {
                              var t,
                                e = this,
                                n = e.pfx,
                                r = e.model,
                                o = e.propertyView,
                                i = this.getPropertiesWrapper(),
                                a = r.isSelected();
                              (i.style.display = a ? '' : 'none'),
                                this.$el[a ? 'addClass' : 'removeClass'](
                                  ''.concat(n, 'active')
                                ),
                                a &&
                                  i.appendChild(
                                    null === (t = o.props) || void 0 === t
                                      ? void 0
                                      : t.el
                                  );
                            }),
                            (n.prototype.render = function () {
                              var t = this,
                                e = t.el,
                                n = t.pfx,
                                r = t.model;
                              return (
                                (e.innerHTML = this.template()),
                                (e.className = ''.concat(n, 'layer')),
                                r.hasPreview() &&
                                  (e.querySelector(
                                    '[data-preview-box]'
                                  ).style.display = ''),
                                this.updateLabel(),
                                this.updateVisibility(),
                                this
                              );
                            }),
                            n
                          );
                        })(u.G7);
                      const Od = Sd;
                      var kd =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Td = (function (t) {
                          function e(e) {
                            var n = t.call(this, e) || this,
                              r = n.collection,
                              o = e.config || {},
                              i = o.em,
                              a = o.stylePrefix || '',
                              s = o.pStylePrefix || '';
                            (n.config = o),
                              (n.pfx = a),
                              (n.ppfx = s),
                              (n.propertyView = e.propertyView),
                              (n.className = ''
                                .concat(a, 'layers ')
                                .concat(s, 'field')),
                              n.listenTo(r, 'add', n.addTo),
                              n.listenTo(r, 'reset', n.reset),
                              (n.items = []);
                            var l = null == i ? void 0 : i.Utils;
                            return (
                              (n.sorter = l
                                ? new l.Sorter({
                                    container: n.el,
                                    ignoreViewChildren: 1,
                                    containerSel: '.'.concat(a, 'layers'),
                                    itemSel: '.'.concat(a, 'layer'),
                                    pfx: o.pStylePrefix,
                                  })
                                : ''),
                              (r.view = n),
                              n.$el.data('model', r),
                              n.$el.data('collection', r),
                              n
                            );
                          }
                          return (
                            kd(e, t),
                            (e.prototype.addTo = function (t) {
                              var e = this.collection.indexOf(t);
                              this.addToCollection(t, null, e);
                            }),
                            (e.prototype.addToCollection = function (t, e, n) {
                              var r = e || null,
                                o = this,
                                i = o.propertyView,
                                a = o.config,
                                s = o.sorter,
                                l = o.$el,
                                c = new Od({
                                  model: t,
                                  config: a,
                                  sorter: s,
                                  propertyView: i,
                                }),
                                u = c.render().el;
                              if ((this.items.push(c), r)) r.appendChild(u);
                              else if (void 0 !== n) {
                                var p = 'before';
                                l.children().length === n &&
                                  (n--, (p = 'after')),
                                  n < 0
                                    ? l.append(u)
                                    : l.children().eq(n)[p](u);
                              } else l.append(u);
                              return u;
                            }),
                            (e.prototype.reset = function (t, e) {
                              this.clearItems(), this.render();
                            }),
                            (e.prototype.remove = function () {
                              return (
                                this.clearItems(),
                                u.G7.prototype.remove.apply(this, arguments),
                                this
                              );
                            }),
                            (e.prototype.clearItems = function () {
                              this.items.forEach(function (t) {
                                return t.remove();
                              }),
                                (this.items = []);
                            }),
                            (e.prototype.render = function () {
                              var t = this,
                                e = this.$el,
                                n = this.sorter,
                                r = document.createDocumentFragment();
                              return (
                                e.empty(),
                                this.collection.forEach(function (e) {
                                  return t.addToCollection(e, r);
                                }),
                                e.append(r),
                                e.attr('class', this.className),
                                n && (n.plh = null),
                                this
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const Ed = Td;
                      var Pd =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ad =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Ad =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Ad.apply(this, arguments)
                            );
                          },
                        jd = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            Pd(e, t),
                            (e.prototype.events = function () {
                              return Ad(Ad({}, xd.prototype.events()), {
                                'click [data-add-layer]': 'addLayer',
                                change: '',
                              });
                            }),
                            (e.prototype.templateInput = function () {
                              var t = this.pfx,
                                e = this.em,
                                n = null == e ? void 0 : e.getConfig().icons,
                                r = (null == n ? void 0 : n.plus) || '+';
                              return '\n      <div class="'
                                .concat(t, 'field ')
                                .concat(
                                  t,
                                  'stack">\n        <button type="button" id="'
                                )
                                .concat(t, 'add" data-add-layer>\n          ')
                                .concat(
                                  r,
                                  '\n        </button>\n        <div data-layers-wrapper></div>\n      </div>\n    '
                                );
                            }),
                            (e.prototype.init = function () {
                              var t = this.model;
                              this.listenTo(
                                t.__getLayers(),
                                'change reset',
                                this.updateStatus
                              );
                            }),
                            (e.prototype.addLayer = function () {
                              this.model.addLayer(
                                {},
                                {
                                  at: 0,
                                }
                              );
                            }),
                            (e.prototype.setValue = function () {}),
                            (e.prototype.remove = function () {
                              var t;
                              return (
                                null === (t = this.layersView) ||
                                  void 0 === t ||
                                  t.remove(),
                                xd.prototype.remove.apply(this, arguments),
                                this
                              );
                            }),
                            (e.prototype.clearCached = function () {
                              xd.prototype.clearCached.apply(this, arguments),
                                delete this.layersView;
                            }),
                            (e.prototype.onRender = function () {
                              var t = this,
                                e = t.model,
                                n = t.el,
                                r = t.config,
                                o = e.get('properties');
                              if (o.length && !this.props) {
                                var i = new bd({
                                  config: Ad(Ad({}, r), {
                                    highlightComputed: !1,
                                    highlightChanged: !1,
                                  }),
                                  collection: o,
                                  parent: this,
                                });
                                i.render();
                                var a = new Ed({
                                  collection: e.__getLayers(),
                                  config: r,
                                  propertyView: this,
                                });
                                a.render(),
                                  n
                                    .querySelector('[data-layers-wrapper]')
                                    .appendChild(a.el),
                                  (this.props = i),
                                  (this.layersView = a);
                              }
                            }),
                            e
                          );
                        })(xd);
                      const Md = jd;
                      var Ld =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Dd =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Dd =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Dd.apply(this, arguments)
                            );
                          };
                      const Nd = (function (e) {
                        function n() {
                          return (
                            (null !== e && e.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Ld(n, e),
                          (n.prototype.events = function () {
                            return Dd(Dd({}, vd.prototype.events()), {
                              'click [data-clear-asset]': 'clear',
                              'click [data-open-assets]': 'openAssetManager',
                            });
                          }),
                          (n.prototype.templateInput = function () {
                            var t,
                              e = this.pfx,
                              n = this.em,
                              r =
                                null === (t = this.em) || void 0 === t
                                  ? void 0
                                  : t.getConfig().icons,
                              o = null == r ? void 0 : r.close;
                            return '\n      <div class="'
                              .concat(e, 'field ')
                              .concat(e, 'file">\n        <div id=\'')
                              .concat(
                                e,
                                'input-holder\'>\n          <div class="'
                              )
                              .concat(e, 'btn-c">\n            <button class="')
                              .concat(e, 'btn" id="')
                              .concat(
                                e,
                                'images" type="button" data-open-assets>\n              '
                              )
                              .concat(
                                n.t('styleManager.fileButton'),
                                '\n            </button>\n          </div>\n          <div style="clear:both;"></div>\n        </div>\n        <div id="'
                              )
                              .concat(e, 'preview-box" class="')
                              .concat(
                                e,
                                'preview-file" data-preview-box>\n          <div id="'
                              )
                              .concat(e, 'preview-file" class="')
                              .concat(
                                e,
                                'preview-file-cnt" data-preview></div>\n          <div id="'
                              )
                              .concat(e, 'close" class="')
                              .concat(
                                e,
                                'preview-file-close" data-clear-asset>'
                              )
                              .concat(
                                o,
                                '</div>\n        </div>\n      </div>\n    '
                              );
                          }),
                          (n.prototype.__setValueInput = function (t) {
                            var e = this.model,
                              n = this.el,
                              r = e.getDefaultValue(),
                              o = n.querySelector('[data-preview-box]'),
                              i = n.querySelector('[data-preview]');
                            (o.style.display = t && t !== r ? '' : 'none'),
                              (i.style.backgroundImage =
                                t || e.getDefaultValue());
                          }),
                          (n.prototype.openAssetManager = function () {
                            var e,
                              n = this,
                              r =
                                null === (e = this.em) || void 0 === e
                                  ? void 0
                                  : e.Assets;
                            null == r ||
                              r.open({
                                select: function (e, o) {
                                  var i = (0, t.isString)(e) ? e : e.get('src');
                                  n.model.upValue(i, {
                                    partial: !o,
                                  }),
                                    o && r.close();
                                },
                                types: ['image'],
                                accept: 'image/*',
                              });
                          }),
                          n
                        );
                      })(vd);
                      var Id =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Fd = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Id(e, t),
                          (e.prototype.templateInput = function (t) {
                            return '';
                          }),
                          (e.prototype.init = function () {
                            var t = this.model;
                            this.listenTo(t, 'change:unit', this.onValueChange),
                              this.listenTo(t, 'change:units', this.render);
                          }),
                          (e.prototype.setValue = function (t) {}),
                          (e.prototype.onRender = function () {
                            var t = this,
                              e = t.ppfx,
                              n = t.model,
                              r = t.el;
                            if (!this.inputInst) {
                              var o = n.input;
                              (o.ppfx = e),
                                o.render(),
                                r
                                  .querySelector('.'.concat(e, 'fields'))
                                  .appendChild(o.el),
                                (this.input = o.inputEl.get(0)),
                                (this.inputInst = o);
                            }
                          }),
                          (e.prototype.clearCached = function () {
                            vd.prototype.clearCached.apply(this, arguments),
                              (this.inputInst = null);
                          }),
                          e
                        );
                      })(vd);
                      var Rd =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const zd = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Rd(e, t),
                          (e.prototype.setValue = function (t) {
                            var e;
                            null === (e = this.inputInst) ||
                              void 0 === e ||
                              e.setValue(t, {
                                fromTarget: 1,
                                def: this.model.getDefaultValue(),
                              });
                          }),
                          (e.prototype.remove = function () {
                            var t = this;
                            Fd.prototype.remove.apply(this, arguments);
                            var e = this.inputInst;
                            return (
                              e && e.remove && e.remove(),
                              ['inputInst', '$color'].forEach(function (e) {
                                return (t[e] = null);
                              }),
                              this
                            );
                          }),
                          (e.prototype.__handleChange = function (t, e) {
                            this.model.upValue(t, {
                              partial: e,
                            });
                          }),
                          (e.prototype.onRender = function () {
                            var t;
                            if (!this.inputInst) {
                              this.__handleChange =
                                this.__handleChange.bind(this);
                              var e = this,
                                n = e.ppfx,
                                r = e.model,
                                o = e.em,
                                i = e.el,
                                a = new Ts({
                                  target: o,
                                  model: r,
                                  ppfx: n,
                                  onChange: this.__handleChange,
                                }).render();
                              i
                                .querySelector('.'.concat(n, 'fields'))
                                .appendChild(a.el),
                                (this.input =
                                  null === (t = a.inputEl) || void 0 === t
                                    ? void 0
                                    : t.get(0)),
                                (this.inputInst = a);
                            }
                          }),
                          e
                        );
                      })(Fd);
                      var Vd =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Bd =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Bd =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Bd.apply(this, arguments)
                            );
                          },
                        Hd =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          };
                      const Ud = (function (e) {
                        function r() {
                          return (
                            (null !== e && e.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Vd(r, e),
                          (r.prototype.defaults = function () {
                            return Bd(Bd({}, Up.getDefaults()), {
                              options: [],
                              full: 0,
                            });
                          }),
                          (r.prototype.getOptions = function () {
                            var t = this.attributes,
                              e = t.options,
                              n = t.list;
                            return (e && e.length ? e : n) || [];
                          }),
                          (r.prototype.getOption = function (t) {
                            var e = this,
                              r = (0, n.isDef)(t) ? t : this.getValue();
                            return (
                              this.getOptions().filter(function (t) {
                                return e.getOptionId(t) === r;
                              })[0] || null
                            );
                          }),
                          (r.prototype.setOptions = function (t) {
                            return (
                              void 0 === t && (t = []),
                              this.set('options', t),
                              this
                            );
                          }),
                          (r.prototype.addOption = function (t) {
                            if (t) {
                              var e = this.getOptions();
                              this.setOptions(Hd(Hd([], e, !0), [t], !1));
                            }
                            return this;
                          }),
                          (r.prototype.getOptionId = function (t) {
                            return (0, n.isDef)(t.id) ? t.id : t.value;
                          }),
                          (r.prototype.getOptionLabel = function (e, n) {
                            var r;
                            void 0 === n && (n = {});
                            var o = n.locale,
                              i = void 0 === o || o,
                              a =
                                ((0, t.isString)(e) ? this.getOption(e) : e) ||
                                {},
                              s = this.getOptionId(a),
                              l = a.label || a.name || s,
                              c = n.property || this.getId();
                            return (
                              (i &&
                                (null === (r = this.em) || void 0 === r
                                  ? void 0
                                  : r.t(
                                      'styleManager.options.'
                                        .concat(c, '.')
                                        .concat(s)
                                    ))) ||
                              l
                            );
                          }),
                          (r.prototype.initialize = function () {
                            for (var t = [], e = 0; e < arguments.length; e++)
                              t[e] = arguments[e];
                            Up.prototype.initialize.apply(this, t),
                              this.listenTo(
                                this,
                                'change:options',
                                this.__onOptionChange
                              );
                          }),
                          (r.prototype.__onOptionChange = function () {
                            this.set('list', this.get('options'));
                          }),
                          r
                        );
                      })(Up);
                      var Wd =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const $d = (function (t) {
                        function e(e) {
                          var n = t.call(this, e) || this;
                          return (
                            n.listenTo(
                              n.model,
                              'change:options',
                              n.updateOptions
                            ),
                            n
                          );
                        }
                        return (
                          Wd(e, t),
                          (e.prototype.templateInput = function () {
                            var t = this.pfx,
                              e = this.ppfx;
                            return '\n      <div class="'
                              .concat(e, 'field ')
                              .concat(e, 'select">\n        <span id="')
                              .concat(
                                t,
                                'input-holder"></span>\n        <div class="'
                              )
                              .concat(e, 'sel-arrow">\n          <div class="')
                              .concat(
                                e,
                                'd-s-arrow"></div>\n        </div>\n      </div>\n    '
                              );
                          }),
                          (e.prototype.updateOptions = function () {
                            delete this.input, this.onRender();
                          }),
                          (e.prototype.onRender = function () {
                            var t = this.pfx,
                              e = this.model,
                              n = e.getOptions();
                            if (!this.input) {
                              var r = [];
                              n.forEach(function (t) {
                                var n = e.getOptionId(t),
                                  o = e.getOptionLabel(n),
                                  i = t.style
                                    ? t.style.replace(/"/g, '&quot;')
                                    : '',
                                  a = i ? 'style="'.concat(i, '"') : '',
                                  s = n.replace(/"/g, '&quot;');
                                r.push(
                                  '<option value="'
                                    .concat(s, '" ')
                                    .concat(a, '>')
                                    .concat(o, '</option>')
                                );
                              });
                              var o = this.el.querySelector(
                                '#'.concat(t, 'input-holder')
                              );
                              (o.innerHTML = '<select>'.concat(
                                r.join(''),
                                '</select>'
                              )),
                                (this.input = o.firstChild);
                            }
                          }),
                          (e.prototype.__setValueInput = function (t) {
                            var e = this.model,
                              n = this.getInputEl(),
                              r = e.getOptions()[0],
                              o = r ? e.getOptionId(r) : '';
                            n && (n.value = t || o);
                          }),
                          e
                        );
                      })(vd);
                      var Gd =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        qd =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (qd =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              qd.apply(this, arguments)
                            );
                          };
                      const Kd = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Gd(e, t),
                          (e.prototype.defaults = function () {
                            return qd(qd({}, Ud.getDefaults()), {
                              full: 1,
                            });
                          }),
                          e
                        );
                      })(Ud);
                      var Zd =
                        (void 0 && (void 0).__extends) ||
                        (function () {
                          var t = function (e, n) {
                            return (
                              (t =
                                Object.setPrototypeOf ||
                                ({
                                  __proto__: [],
                                } instanceof Array &&
                                  function (t, e) {
                                    t.__proto__ = e;
                                  }) ||
                                function (t, e) {
                                  for (var n in e)
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      n
                                    ) && (t[n] = e[n]);
                                }),
                              t(e, n)
                            );
                          };
                          return function (e, n) {
                            if ('function' != typeof n && null !== n)
                              throw new TypeError(
                                'Class extends value ' +
                                  String(n) +
                                  ' is not a constructor or null'
                              );

                            function r() {
                              this.constructor = e;
                            }
                            t(e, n),
                              (e.prototype =
                                null === n
                                  ? Object.create(n)
                                  : ((r.prototype = n.prototype), new r()));
                          };
                        })();
                      const Yd = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Zd(e, t),
                          (e.prototype.templateInput = function () {
                            var t = this.ppfx;
                            return '<div class="'
                              .concat(t, 'field ')
                              .concat(t, 'field-radio"></div>');
                          }),
                          (e.prototype.onRender = function () {
                            var t = this.pfx,
                              e = this.ppfx,
                              n = this.model,
                              r = ''.concat(e, 'radio-item-label'),
                              o = n.getName(),
                              i = n.getOptions(),
                              a = ''
                                .concat(t, 'radio ')
                                .concat(t, 'radio-')
                                .concat(o),
                              s = n.cid;
                            if (!this.input) {
                              var l = [];
                              i.forEach(function (i) {
                                var c = i.className
                                    ? ''
                                        .concat(i.className, ' ')
                                        .concat(t, 'icon ')
                                        .concat(r)
                                    : '',
                                  u = n.getOptionId(i),
                                  p = ''
                                    .concat(o, '-')
                                    .concat(u, '-')
                                    .concat(s),
                                  d = c ? '' : n.getOptionLabel(u),
                                  f = i.title
                                    ? 'title="'.concat(i.title, '"')
                                    : '',
                                  h = n.getValue() === u ? 'checked' : '';
                                l.push(
                                  '\n          <div class="'
                                    .concat(
                                      e,
                                      'radio-item">\n            <input type="radio" class="'
                                    )
                                    .concat(a, '" id="')
                                    .concat(p, '" name="')
                                    .concat(o, '-')
                                    .concat(s, '" value="')
                                    .concat(u, '" ')
                                    .concat(h, '/>\n            <label class="')
                                    .concat(c || r, '" ')
                                    .concat(f, ' for="')
                                    .concat(p, '">')
                                    .concat(
                                      d,
                                      '</label>\n          </div>\n        '
                                    )
                                );
                              });
                              var c = this.el.querySelector(
                                '.'.concat(e, 'field')
                              );
                              (c.innerHTML = '<div class="'
                                .concat(e, 'radio-items">')
                                .concat(l.join(''), '</div>')),
                                (this.input = c.firstChild);
                            }
                          }),
                          (e.prototype.__setValueInput = function (t) {
                            var e,
                              n = this.model,
                              r = t || n.getDefaultValue(),
                              o =
                                null === (e = this.getInputEl()) || void 0 === e
                                  ? void 0
                                  : e.querySelector('[value="'.concat(r, '"]'));
                            o && (o.checked = !0);
                          }),
                          e
                        );
                      })($d);
                      var Xd =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Jd =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Jd =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Jd.apply(this, arguments)
                            );
                          };
                      const Qd = (function (e) {
                        function r() {
                          return (
                            (null !== e && e.apply(this, arguments)) || this
                          );
                        }
                        return (
                          Xd(r, e),
                          (r.prototype.defaults = function () {
                            return Jd(Jd({}, Up.getDefaults()), {
                              units: [],
                              unit: '',
                              min: '',
                              max: '',
                              step: 1,
                            });
                          }),
                          (r.prototype.getUnits = function () {
                            return this.get('units') || [];
                          }),
                          (r.prototype.getUnit = function () {
                            return this.get('unit');
                          }),
                          (r.prototype.getMin = function () {
                            return this.get('min');
                          }),
                          (r.prototype.getMax = function () {
                            return this.get('max');
                          }),
                          (r.prototype.getStep = function () {
                            return this.get('step');
                          }),
                          (r.prototype.upUnit = function (t, e) {
                            return (
                              void 0 === e && (e = {}),
                              this._up(
                                {
                                  unit: t,
                                },
                                e
                              )
                            );
                          }),
                          (r.prototype.initialize = function (t, e) {
                            void 0 === t && (t = {}),
                              void 0 === e && (e = {}),
                              Up.callParentInit(Up, this, t, e);
                            var r = this.get('unit'),
                              o = this.getUnits();
                            (this.input = (0, n.hasWin)()
                              ? new ws({
                                  model: this,
                                })
                              : void 0),
                              o.length &&
                                !r &&
                                this.set('unit', o[0], {
                                  silent: !0,
                                }),
                              Up.callInit(this, t, e);
                          }),
                          (r.prototype.__getClearProps = function () {
                            return Jd(Jd({}, Up.prototype.__getClearProps()), {
                              unit: '',
                            });
                          }),
                          (r.prototype.parseValue = function (t, e) {
                            void 0 === e && (e = {});
                            var n = Up.prototype.parseValue.apply(
                                this,
                                arguments
                              ),
                              r = this.input.validateInputValue(
                                n.value,
                                Jd(
                                  {
                                    deepCheck: 1,
                                  },
                                  e
                                )
                              ),
                              o = r.value,
                              i = r.unit;
                            return (n.value = o), (n.unit = i), n;
                          }),
                          (r.prototype.getFullValue = function () {
                            var e = this.get('value'),
                              n = this.get('unit'),
                              r = (0, t.isUndefined)(e) ? '' : ''.concat(e),
                              o = !(0, t.isUndefined)(n) && r ? n : '',
                              i = ''.concat(r).concat(o);
                            return Up.prototype.getFullValue.apply(this, [i]);
                          }),
                          r
                        );
                      })(Up);
                      var tf =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        ef =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (ef =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              ef.apply(this, arguments)
                            );
                          };
                      const nf = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          tf(e, t),
                          (e.prototype.defaults = function () {
                            return ef(ef({}, Qd.getDefaults()), {
                              showInput: 1,
                            });
                          }),
                          e
                        );
                      })(Qd);
                      var rf =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        of =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (of =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              of.apply(this, arguments)
                            );
                          };
                      const af = (function (t) {
                          function e() {
                            return (
                              (null !== t && t.apply(this, arguments)) || this
                            );
                          }
                          return (
                            rf(e, t),
                            (e.prototype.events = function () {
                              return of(of({}, Fd.prototype.events()), {
                                'change [type=range]': 'inputValueChanged',
                                'input [type=range]': 'inputValueChangedSoft',
                                change: '',
                              });
                            }),
                            (e.prototype.templateInput = function (t) {
                              var e = this.ppfx;
                              return '\n      <div class="'
                                .concat(e, 'field ')
                                .concat(
                                  e,
                                  'field-range">\n        <input type="range" min="'
                                )
                                .concat(t.get('min'), '" max="')
                                .concat(t.get('max'), '" step="')
                                .concat(
                                  t.get('step'),
                                  '"/>\n      </div>\n    '
                                );
                            }),
                            (e.prototype.getSliderEl = function () {
                              return (
                                this.slider ||
                                  (this.slider =
                                    this.el.querySelector('input[type=range]')),
                                this.slider
                              );
                            }),
                            (e.prototype.inputValueChanged = function () {
                              this.model.upValue(this.getSliderEl().value);
                            }),
                            (e.prototype.inputValueChangedSoft = function () {
                              this.model.upValue(this.getSliderEl().value, {
                                partial: !0,
                              });
                            }),
                            (e.prototype.setValue = function (t) {
                              var e = this.model,
                                n = e.parseValue(t);
                              (this.getSliderEl().value =
                                '' === t
                                  ? e.getDefaultValue()
                                  : parseFloat(n.value)),
                                Fd.prototype.setValue.apply(this, arguments);
                            }),
                            (e.prototype.onRender = function () {
                              Fd.prototype.onRender.apply(this, arguments),
                                this.model.get('showInput') ||
                                  (this.inputInst.el.style.display = 'none');
                            }),
                            (e.prototype.clearCached = function () {
                              Fd.prototype.clearCached.apply(this, arguments),
                                delete this.slider;
                            }),
                            e
                          );
                        })(Fd),
                        sf = u.FE.extend(Ol).extend({
                          extendViewApi: 1,
                          init: function () {
                            var t = this.opts,
                              e = this.em,
                              n =
                                t.module ||
                                (null == e ? void 0 : e.get('StyleManager'));
                            n &&
                              (n.__listenAdd(this, n.events.propertyAdd),
                              n.__listenRemove(this, n.events.propertyRemove));
                          },
                          types: [
                            {
                              id: 'stack',
                              model: cd,
                              view: Md,
                              isType: function (t) {
                                if (t && 'stack' == t.type) return t;
                              },
                            },
                            {
                              id: 'composite',
                              model: Zp,
                              view: xd,
                              isType: function (t) {
                                if (t && 'composite' == t.type) return t;
                              },
                            },
                            {
                              id: 'file',
                              model: Up,
                              view: Nd,
                              isType: function (t) {
                                if (t && 'file' == t.type) return t;
                              },
                            },
                            {
                              id: 'color',
                              model: Up,
                              view: zd,
                              isType: function (t) {
                                if (t && 'color' == t.type) return t;
                              },
                            },
                            {
                              id: 'select',
                              model: Ud,
                              view: $d,
                              isType: function (t) {
                                if (t && 'select' == t.type) return t;
                              },
                            },
                            {
                              id: 'radio',
                              model: Kd,
                              view: Yd,
                              isType: function (t) {
                                if (t && 'radio' == t.type) return t;
                              },
                            },
                            {
                              id: 'slider',
                              model: nf,
                              view: af,
                              isType: function (t) {
                                if (t && 'slider' == t.type) return t;
                              },
                            },
                            {
                              id: 'integer',
                              model: Qd,
                              view: Fd,
                              isType: function (t) {
                                if (t && 'integer' == t.type) return t;
                              },
                            },
                            {
                              id: 'number',
                              model: Qd,
                              view: Fd,
                              isType: function (t) {
                                if (t && 'number' == t.type) return t;
                              },
                            },
                            {
                              id: 'base',
                              model: Up,
                              view: vd,
                              isType: function (t) {
                                return (t.type = 'base'), t;
                              },
                            },
                          ],
                        });
                      var lf =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        cf =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (cf =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              cf.apply(this, arguments)
                            );
                          },
                        uf =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          },
                        pf =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          };
                      const df = (function (e) {
                        function n(n, r) {
                          void 0 === r && (r = {});
                          var o = e.call(this, n) || this,
                            i = r.em;
                          o.em = i;
                          var a = n || {},
                            s = o.buildProperties(a.buildProps),
                            l = o.get('name') || '',
                            c = [];
                          !o.get('id') &&
                            o.set('id', l.replace(/ /g, '_').toLowerCase()),
                            (c = (c = s
                              ? o.extendProperties(s)
                              : o
                                  .get('properties')
                                  .map(function (e) {
                                    return (0, t.isString)(e)
                                      ? o.buildProperties(e)[0]
                                      : e;
                                  })
                                  .filter(Boolean)).map(function (t) {
                              return o.checkExtend(t);
                            }));
                          var u = new sf(c, {
                            em: i,
                          });
                          return (u.sector = o), o.set('properties', u), o;
                        }
                        return (
                          lf(n, e),
                          (n.prototype.defaults = function () {
                            return {
                              id: '',
                              name: '',
                              open: !0,
                              visible: !0,
                              extendBuilded: !0,
                              properties: [],
                            };
                          }),
                          Object.defineProperty(n.prototype, 'properties', {
                            get: function () {
                              return this.get('properties');
                            },
                            enumerable: !1,
                            configurable: !0,
                          }),
                          (n.prototype.getId = function () {
                            return this.get('id');
                          }),
                          (n.prototype.getName = function () {
                            var t,
                              e = this.getId();
                            return (
                              (null === (t = this.em) || void 0 === t
                                ? void 0
                                : t.t('styleManager.sectors.'.concat(e))) ||
                              this.get('name')
                            );
                          }),
                          (n.prototype.setName = function (t) {
                            return this.set('name', t);
                          }),
                          (n.prototype.isOpen = function () {
                            return !!this.get('open');
                          }),
                          (n.prototype.setOpen = function (t) {
                            return this.set('open', t);
                          }),
                          (n.prototype.isVisible = function () {
                            return !!this.get('visible');
                          }),
                          (n.prototype.getProperties = function (t) {
                            void 0 === t && (t = {});
                            var e = this.get('properties');
                            return (e.models ? pf([], e.models, !0) : e).filter(
                              function (e) {
                                var n = !0;
                                return (
                                  t.withValue &&
                                    (n = e.hasValue({
                                      noParent: !0,
                                    })),
                                  t.withParentValue &&
                                    (n =
                                      !e.hasValue({
                                        noParent: !0,
                                      }) && e.hasValue()),
                                  n
                                );
                              }
                            );
                          }),
                          (n.prototype.getProperty = function (t) {
                            return (
                              this.getProperties().filter(function (e) {
                                return e.get('id') === t;
                              })[0] || void 0
                            );
                          }),
                          (n.prototype.addProperty = function (t, e) {
                            return this.get('properties').add(
                              this.checkExtend(t),
                              e
                            );
                          }),
                          (n.prototype.extendProperties = function (e, n, r) {
                            void 0 === r && (r = !1);
                            for (
                              var o = e.length,
                                i = n || this.get('properties'),
                                a = this.get('extendBuilded'),
                                s = [],
                                l = 0,
                                c = i.length;
                              l < c;
                              l++
                            ) {
                              for (var u = i[l], p = 0, d = 0; d < o; d++) {
                                var f = e[d];
                                if (
                                  u.property != f.property &&
                                  u.id != f.property
                                );
                                else {
                                  var h = u.properties;
                                  h &&
                                    h.length &&
                                    (u.properties = this.extendProperties(
                                      f.properties || [],
                                      h,
                                      1
                                    )),
                                    (e[d] = a ? (0, t.extend)(f, u) : u),
                                    (s[d] = e[d]),
                                    (p = 1);
                                }
                              }
                              p || (e.push(u), s.push(u));
                            }
                            return r
                              ? s.filter(function (t) {
                                  return t;
                                })
                              : e;
                          }),
                          (n.prototype.checkExtend = function (e) {
                            var n =
                                ((0, t.isString)(e)
                                  ? {
                                      extend: e,
                                    }
                                  : e) || {},
                              r = n.extend,
                              o = uf(n, ['extend']);
                            return r
                              ? cf(
                                  cf({}, this.buildProperties([r])[0] || {}),
                                  o
                                )
                              : e;
                          }),
                          (n.prototype.buildProperties = function (t) {
                            var e,
                              n = t || [];
                            if (!n.length) return [];
                            var r =
                              null === (e = this.em) || void 0 === e
                                ? void 0
                                : e.get('StyleManager').builtIn;
                            return null == r ? void 0 : r.build(n);
                          }),
                          n
                        );
                      })(u.Hn);
                      var ff =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        hf =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (hf =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              hf.apply(this, arguments)
                            );
                          };
                      const gf = (function (t) {
                        function e() {
                          return (
                            (null !== t && t.apply(this, arguments)) || this
                          );
                        }
                        return (
                          ff(e, t),
                          (e.prototype.initialize = function (t, e) {
                            void 0 === e && (e = {});
                            var n = e.module,
                              r = e.em;
                            (this.em = r),
                              (this.module = n),
                              this.listenTo(this, 'reset', this.onReset);
                          }),
                          (e.prototype.model = function (t, e) {
                            void 0 === e && (e = {});
                            var n = e.collection.em;
                            return new df(
                              t,
                              hf(hf({}, e), {
                                em: n,
                              })
                            );
                          }),
                          (e.prototype.onReset = function (t, e) {
                            void 0 === e && (e = {}),
                              (e.previousModels || []).forEach(function (t) {
                                return t.get('properties').reset();
                              });
                          }),
                          e
                        );
                      })(u.FE);
                      var vf =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (vf =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              vf.apply(this, arguments)
                            );
                          },
                        mf =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          },
                        yf =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        bf = function (t) {
                          return t.map(function (t) {
                            return {
                              id: t,
                            };
                          });
                        },
                        _f = (function () {
                          function e() {
                            (this.props = {}),
                              (this.typeNumber = 'number'),
                              (this.typeColor = 'color'),
                              (this.typeRadio = 'radio'),
                              (this.typeSelect = 'select'),
                              (this.typeFile = 'file'),
                              (this.typeSlider = 'slider'),
                              (this.typeComposite = 'composite'),
                              (this.typeStack = 'stack'),
                              (this.unitsSize = [
                                'px',
                                '%',
                                'em',
                                'rem',
                                'vh',
                                'vw',
                              ]),
                              (this.unitsSizeNoPerc = [
                                'px',
                                'em',
                                'rem',
                                'vh',
                                'vw',
                              ]),
                              (this.unitsTime = ['s', 'ms']),
                              (this.unitsAngle = ['deg', 'rad', 'grad']),
                              (this.fixedValues = [
                                'initial',
                                'inherit',
                                'auto',
                              ]);
                            var t = ', sans-serif',
                              e = ['flex-start', 'flex-end', 'center'],
                              n = yf(
                                yf([], e, !0),
                                ['baseline', 'stretch'],
                                !1
                              );
                            (this.optsBgSize = bf([
                              'auto',
                              'cover',
                              'contain',
                            ])),
                              (this.optsBgAttach = bf([
                                'scroll',
                                'fixed',
                                'local',
                              ])),
                              (this.optsBgRepeat = bf([
                                'repeat',
                                'repeat-x',
                                'repeat-y',
                                'no-repeat',
                              ])),
                              (this.optsWrap = bf([
                                'nowrap',
                                'wrap',
                                'wrap-reverse',
                              ])),
                              (this.optsOverflow = bf([
                                'visible',
                                'hidden',
                                'scroll',
                                'auto',
                              ])),
                              (this.optsDir = bf([
                                'row',
                                'row-reverse',
                                'column',
                                'column-reverse',
                              ])),
                              (this.opstDisplay = bf([
                                'block',
                                'inline',
                                'inline-block',
                                'flex',
                                'none',
                              ])),
                              (this.optsTransitFn = bf([
                                'linear',
                                'ease',
                                'ease-in',
                                'ease-out',
                                'ease-in-out',
                              ])),
                              (this.optsCursor = bf([
                                'auto',
                                'pointer',
                                'copy',
                                'crosshair',
                                'grab',
                                'grabbing',
                                'help',
                                'move',
                                'text',
                              ])),
                              (this.optsFloat = bf(['none', 'left', 'right'])),
                              (this.optsPos = bf([
                                'static',
                                'relative',
                                'absolute',
                                'fixed',
                              ])),
                              (this.optsTextAlign = bf([
                                'left',
                                'center',
                                'right',
                                'justify',
                              ])),
                              (this.optsFlexAlign = bf(n)),
                              (this.optsJustCont = bf(
                                yf(
                                  yf([], e, !0),
                                  [
                                    'space-between',
                                    'space-around',
                                    'space-evenly',
                                  ],
                                  !1
                                )
                              )),
                              (this.optsAlignCont = bf(
                                yf(
                                  yf([], e, !0),
                                  ['space-between', 'space-around', 'stretch'],
                                  !1
                                )
                              )),
                              (this.optsAlignSelf = bf(yf(['auto'], n, !0))),
                              (this.optsTransitProp = bf([
                                'all',
                                'width',
                                'height',
                                'background-color',
                                'transform',
                                'box-shadow',
                                'opacity',
                              ])),
                              (this.optsBorderStyle = bf([
                                'none',
                                'solid',
                                'dotted',
                                'dashed',
                                'double',
                                'groove',
                                'ridge',
                                'inset',
                                'outset',
                              ])),
                              (this.optsBgPos = bf([
                                'left top',
                                'left center',
                                'left bottom',
                                'right top',
                                'right center',
                                'right bottom',
                                'center top',
                                'center center',
                                'center bottom',
                              ])),
                              (this.optsWeight = [
                                {
                                  id: '100',
                                  label: 'Thin',
                                },
                                {
                                  id: '200',
                                  label: 'Extra-Light',
                                },
                                {
                                  id: '300',
                                  label: 'Light',
                                },
                                {
                                  id: '400',
                                  label: 'Normal',
                                },
                                {
                                  id: '500',
                                  label: 'Medium',
                                },
                                {
                                  id: '600',
                                  label: 'Semi-Bold',
                                },
                                {
                                  id: '700',
                                  label: 'Bold',
                                },
                                {
                                  id: '800',
                                  label: 'Extra-Bold',
                                },
                                {
                                  id: '900',
                                  label: 'Ultra-Bold',
                                },
                              ]),
                              (this.optsShadowType = [
                                {
                                  id: '',
                                  label: 'Outside',
                                },
                                {
                                  id: 'inset',
                                  label: 'Inside',
                                },
                              ]),
                              (this.optsFonts = [
                                'Arial, Helvetica' + t,
                                'Arial Black, Gadget' + t,
                                'Brush Script MT' + t,
                                'Comic Sans MS, cursive' + t,
                                'Courier New, Courier, monospace',
                                'Georgia, serif',
                                'Helvetica' + t,
                                'Impact, Charcoal' + t,
                                'Lucida Sans Unicode, Lucida Grande' + t,
                                'Tahoma, Geneva' + t,
                                'Times New Roman, Times, serif',
                                'Trebuchet MS, Helvetica' + t,
                                'Verdana, Geneva' + t,
                              ].map(function (t) {
                                return {
                                  id: t,
                                  label: t.split(',')[0],
                                };
                              })),
                              (this.fixedFontSizes = [
                                'medium',
                                'xx-small',
                                'x-small',
                                'small',
                                'large',
                                'x-large',
                                'xx-large',
                                'smaller',
                                'larger',
                                'length',
                                'initial',
                                'inherit',
                              ]),
                              (this.fixedLetSpace = [
                                'normal',
                                'initial',
                                'inherit',
                              ]),
                              (this.requireFlex = {
                                display: ['flex'],
                              }),
                              this.init();
                          }
                          return (
                            (e.prototype.__sub = function (e) {
                              var n = this;
                              return function () {
                                return e.map(function (e) {
                                  if ((0, t.isString)(e)) return n.get(e);
                                  var r = e.extend,
                                    o = mf(e, ['extend']);
                                  return vf(vf({}, n.get(r)), o);
                                });
                              };
                            }),
                            (e.prototype.init = function () {
                              var t = this,
                                e = this,
                                n = e.fixedValues,
                                r = e.requireFlex,
                                o = e.typeNumber;
                              this.props = {};
                              var i = [
                                [
                                  'text-shadow-h',
                                  {
                                    type: o,
                                    default: '0',
                                    units: this.unitsSizeNoPerc,
                                  },
                                ],
                                [
                                  'top',
                                  {
                                    default: 'auto',
                                    units: this.unitsSize,
                                    fixedValues: n,
                                  },
                                  'text-shadow-h',
                                ],
                                ['right', {}, 'top'],
                                ['bottom', {}, 'top'],
                                ['left', {}, 'top'],
                                [
                                  'margin-top',
                                  {
                                    default: '0',
                                  },
                                  'top',
                                ],
                                ['margin-right', {}, 'margin-top'],
                                ['margin-bottom', {}, 'margin-top'],
                                ['margin-left', {}, 'margin-top'],
                                [
                                  'padding-top',
                                  {
                                    min: 0,
                                  },
                                  'margin-top',
                                ],
                                ['padding-right', {}, 'padding-top'],
                                ['padding-bottom', {}, 'padding-top'],
                                ['padding-left', {}, 'padding-top'],
                                [
                                  'width',
                                  {
                                    min: 0,
                                  },
                                  'top',
                                ],
                                ['min-width', {}, 'width'],
                                ['max-width', {}, 'width'],
                                ['height', {}, 'width'],
                                ['min-height', {}, 'width'],
                                ['max-height', {}, 'width'],
                                [
                                  'flex-basis',
                                  {
                                    requiresParent: r,
                                  },
                                  'width',
                                ],
                                [
                                  'font-size',
                                  {
                                    default: 'medium',
                                    fixedValues: this.fixedFontSizes,
                                  },
                                  'width',
                                ],
                                [
                                  'letter-spacing',
                                  {
                                    default: 'normal',
                                    fixedValues: this.fixedLetSpace,
                                  },
                                  'top',
                                ],
                                ['line-height', {}, 'letter-spacing'],
                                ['text-shadow-v', {}, 'text-shadow-h'],
                                [
                                  'text-shadow-blur',
                                  {
                                    min: 0,
                                  },
                                  'text-shadow-h',
                                ],
                                [
                                  'border-radius-c',
                                  {
                                    property: 'border-radius',
                                    fixedValues: void 0,
                                  },
                                  'padding-top',
                                ],
                                [
                                  'border-top-left-radius',
                                  {},
                                  'border-radius-c',
                                ],
                                [
                                  'border-top-right-radius',
                                  {},
                                  'border-radius-c',
                                ],
                                [
                                  'border-bottom-left-radius',
                                  {},
                                  'border-radius-c',
                                ],
                                [
                                  'border-bottom-right-radius',
                                  {},
                                  'border-radius-c',
                                ],
                                [
                                  'border-width',
                                  {
                                    units: this.unitsSizeNoPerc,
                                  },
                                  'border-radius-c',
                                ],
                                ['box-shadow-h', {}, 'text-shadow-h'],
                                ['box-shadow-v', {}, 'text-shadow-h'],
                                [
                                  'box-shadow-blur',
                                  {
                                    default: '5px',
                                  },
                                  'text-shadow-blur',
                                ],
                                ['box-shadow-spread', {}, 'text-shadow-h'],
                                [
                                  'transition-duration',
                                  {
                                    default: '2s',
                                    units: this.unitsTime,
                                  },
                                  'border-radius-c',
                                ],
                                ['perspective', {}, 'border-radius-c'],
                                [
                                  'order',
                                  {
                                    type: o,
                                    default: '0',
                                    requiresParent: r,
                                  },
                                ],
                                ['flex-grow', {}, 'order'],
                                [
                                  'flex-shrink',
                                  {
                                    default: '1',
                                  },
                                  'order',
                                ],
                                [
                                  'float',
                                  {
                                    type: this.typeRadio,
                                    default: 'none',
                                    options: this.optsFloat,
                                  },
                                ],
                                [
                                  'position',
                                  {
                                    default: 'static',
                                    options: this.optsPos,
                                  },
                                  'float',
                                ],
                                [
                                  'text-align',
                                  {
                                    default: 'left',
                                    options: this.optsTextAlign,
                                  },
                                  'float',
                                ],
                                [
                                  'color',
                                  {
                                    type: this.typeColor,
                                    default: 'black',
                                  },
                                ],
                                ['text-shadow-color', {}, 'color'],
                                ['border-color', {}, 'color'],
                                ['box-shadow-color', {}, 'color'],
                                [
                                  'background-color',
                                  {
                                    default: 'none',
                                  },
                                  'color',
                                ],
                                [
                                  'background-image',
                                  {
                                    type: this.typeFile,
                                    functionName: 'url',
                                    default: 'none',
                                    full: !0,
                                  },
                                ],
                                [
                                  'opacity',
                                  {
                                    type: this.typeSlider,
                                    default: '1',
                                    min: 0,
                                    max: 1,
                                    step: 0.01,
                                  },
                                ],
                                [
                                  'display',
                                  {
                                    type: this.typeSelect,
                                    default: 'block',
                                    options: this.opstDisplay,
                                  },
                                ],
                                [
                                  'flex-direction',
                                  {
                                    default: 'row',
                                    options: this.optsDir,
                                    requires: r,
                                  },
                                  'display',
                                ],
                                [
                                  'flex-wrap',
                                  {
                                    default: 'nowrap',
                                    options: this.optsWrap,
                                  },
                                  'flex-direction',
                                ],
                                [
                                  'justify-content',
                                  {
                                    default: 'flex-start',
                                    options: this.optsJustCont,
                                  },
                                  'flex-wrap',
                                ],
                                [
                                  'align-items',
                                  {
                                    default: 'stretch',
                                    options: this.optsFlexAlign,
                                  },
                                  'flex-wrap',
                                ],
                                [
                                  'align-content',
                                  {
                                    options: this.optsAlignCont,
                                  },
                                  'align-items',
                                ],
                                [
                                  'align-self',
                                  {
                                    default: 'auto',
                                    options: this.optsAlignSelf,
                                    requiresParent: r,
                                  },
                                  'display',
                                ],
                                [
                                  'font-family',
                                  {
                                    default: 'Arial, Helvetica, sans-serif',
                                    options: this.optsFonts,
                                  },
                                  'display',
                                ],
                                [
                                  'font-weight',
                                  {
                                    default: '400',
                                    options: this.optsWeight,
                                  },
                                  'display',
                                ],
                                [
                                  'border-style',
                                  {
                                    default: 'solid',
                                    options: this.optsBorderStyle,
                                  },
                                  'display',
                                ],
                                [
                                  'box-shadow-type',
                                  {
                                    default: '',
                                    options: this.optsShadowType,
                                  },
                                  'display',
                                ],
                                [
                                  'background-repeat',
                                  {
                                    default: 'repeat',
                                    options: this.optsBgRepeat,
                                  },
                                  'display',
                                ],
                                [
                                  'background-position',
                                  {
                                    default: 'left top',
                                    options: this.optsBgPos,
                                  },
                                  'display',
                                ],
                                [
                                  'background-attachment',
                                  {
                                    default: 'scroll',
                                    options: this.optsBgAttach,
                                  },
                                  'display',
                                ],
                                [
                                  'background-size',
                                  {
                                    default: 'auto',
                                    options: this.optsBgSize,
                                  },
                                  'display',
                                ],
                                [
                                  'transition-property',
                                  {
                                    default: 'width',
                                    options: this.optsTransitProp,
                                  },
                                  'display',
                                ],
                                [
                                  'transition-timing-function',
                                  {
                                    default: 'ease',
                                    options: this.optsTransitFn,
                                  },
                                  'display',
                                ],
                                [
                                  'cursor',
                                  {
                                    default: 'auto',
                                    options: this.optsCursor,
                                  },
                                  'display',
                                ],
                                [
                                  'overflow',
                                  {
                                    default: 'visible',
                                    options: this.optsOverflow,
                                  },
                                  'display',
                                ],
                                ['overflow-x', {}, 'overflow'],
                                ['overflow-y', {}, 'overflow'],
                                [
                                  'margin',
                                  {
                                    type: this.typeComposite,
                                    properties: this.__sub([
                                      {
                                        extend: 'margin-top',
                                        id: 'margin-top-sub',
                                      },
                                      {
                                        extend: 'margin-right',
                                        id: 'margin-right-sub',
                                      },
                                      {
                                        extend: 'margin-bottom',
                                        id: 'margin-bottom-sub',
                                      },
                                      {
                                        extend: 'margin-left',
                                        id: 'margin-left-sub',
                                      },
                                    ]),
                                  },
                                ],
                                [
                                  'padding',
                                  {
                                    properties: this.__sub([
                                      {
                                        extend: 'padding-top',
                                        id: 'padding-top-sub',
                                      },
                                      {
                                        extend: 'padding-right',
                                        id: 'padding-right-sub',
                                      },
                                      {
                                        extend: 'padding-bottom',
                                        id: 'padding-bottom-sub',
                                      },
                                      {
                                        extend: 'padding-left',
                                        id: 'padding-left-sub',
                                      },
                                    ]),
                                  },
                                  'margin',
                                ],
                                [
                                  'border',
                                  {
                                    properties: this.__sub([
                                      {
                                        extend: 'border-width',
                                        id: 'border-width-sub',
                                      },
                                      {
                                        extend: 'border-style',
                                        id: 'border-style-sub',
                                      },
                                      {
                                        extend: 'border-color',
                                        id: 'border-color-sub',
                                      },
                                    ]),
                                  },
                                  'margin',
                                ],
                                [
                                  'border-radius',
                                  {
                                    properties: this.__sub([
                                      {
                                        extend: 'border-top-left-radius',
                                        id: 'border-top-left-radius-sub',
                                      },
                                      {
                                        extend: 'border-top-right-radius',
                                        id: 'border-top-right-radius-sub',
                                      },
                                      {
                                        extend: 'border-bottom-right-radius',
                                        id: 'border-bottom-right-radius-sub',
                                      },
                                      {
                                        extend: 'border-bottom-left-radius',
                                        id: 'border-bottom-left-radius-sub',
                                      },
                                    ]),
                                  },
                                  'margin',
                                ],
                                [
                                  'transition',
                                  {
                                    type: this.typeStack,
                                    properties: this.__sub([
                                      {
                                        extend: 'transition-property',
                                        id: 'transition-property-sub',
                                      },
                                      {
                                        extend: 'transition-duration',
                                        id: 'transition-duration-sub',
                                      },
                                      {
                                        extend: 'transition-timing-function',
                                        id: 'transition-timing-function-sub',
                                      },
                                    ]),
                                  },
                                ],
                                [
                                  'box-shadow',
                                  {
                                    preview: !0,
                                    layerLabel: function (t, e) {
                                      var n = e.values,
                                        r = n['box-shadow-h'],
                                        o = n['box-shadow-v'],
                                        i = n['box-shadow-blur'],
                                        a = n['box-shadow-spread'];
                                      return ''
                                        .concat(r, ' ')
                                        .concat(o, ' ')
                                        .concat(i, ' ')
                                        .concat(a);
                                    },
                                    properties: this.__sub([
                                      'box-shadow-h',
                                      'box-shadow-v',
                                      'box-shadow-blur',
                                      'box-shadow-spread',
                                      'box-shadow-color',
                                      'box-shadow-type',
                                    ]),
                                  },
                                  'transition',
                                ],
                                [
                                  'text-shadow',
                                  {
                                    default: 'none',
                                    layerLabel: function (t, e) {
                                      var n = e.values,
                                        r = n['text-shadow-h'],
                                        o = n['text-shadow-v'],
                                        i = n['text-shadow-blur'];
                                      return ''
                                        .concat(r, ' ')
                                        .concat(o, ' ')
                                        .concat(i);
                                    },
                                    properties: this.__sub([
                                      'text-shadow-h',
                                      'text-shadow-v',
                                      'text-shadow-blur',
                                      'text-shadow-color',
                                    ]),
                                  },
                                  'box-shadow',
                                ],
                                [
                                  'background',
                                  {
                                    detached: !0,
                                    layerLabel: function (t, e) {
                                      var n = e.values;
                                      return [
                                        n['background-repeat-sub'] || '',
                                        n['background-position-sub'] || '',
                                        n['background-attachment-sub'] || '',
                                        n['background-size-sub'] || '',
                                      ].join(' ');
                                    },
                                    properties: this.__sub([
                                      {
                                        extend: 'background-image',
                                        id: 'background-image-sub',
                                      },
                                      {
                                        extend: 'background-repeat',
                                        id: 'background-repeat-sub',
                                      },
                                      {
                                        extend: 'background-position',
                                        id: 'background-position-sub',
                                      },
                                      {
                                        extend: 'background-attachment',
                                        id: 'background-attachment-sub',
                                      },
                                      {
                                        extend: 'background-size',
                                        id: 'background-size-sub',
                                      },
                                    ]),
                                  },
                                  'box-shadow',
                                ],
                                [
                                  'transform',
                                  {
                                    type: 'stack',
                                    layerSeparator: ' ',
                                    fromStyle: function (t, e) {
                                      var n = e.property,
                                        r = t[e.name] || '',
                                        o = n.getLayerSeparator();
                                      return r
                                        ? r.split(o).map(function (t) {
                                            var e = n.__parseFn(t);
                                            return {
                                              'transform-type': e.name,
                                              'transform-value': e.value,
                                            };
                                          })
                                        : [];
                                    },
                                    toStyle: function (t, e) {
                                      var n;
                                      return (
                                        ((n = {})[e.name] = ''
                                          .concat(t['transform-type'], '(')
                                          .concat(t['transform-value'], ')')),
                                        n
                                      );
                                    },
                                    properties: [
                                      {
                                        property: 'transform-type',
                                        name: 'Type',
                                        type: this.typeSelect,
                                        default: 'rotateZ',
                                        full: !0,
                                        options: [
                                          {
                                            id: 'scaleX',
                                            propValue: {
                                              units: [''],
                                              step: 0.01,
                                            },
                                          },
                                          {
                                            id: 'scaleY',
                                            propValue: {
                                              units: [''],
                                              step: 0.01,
                                            },
                                          },
                                          {
                                            id: 'scaleZ',
                                            propValue: {
                                              units: [''],
                                              step: 0.01,
                                            },
                                          },
                                          {
                                            id: 'rotateX',
                                            propValue: {
                                              units: this.unitsAngle,
                                              step: 1,
                                            },
                                          },
                                          {
                                            id: 'rotateY',
                                            propValue: {
                                              units: this.unitsAngle,
                                              step: 1,
                                            },
                                          },
                                          {
                                            id: 'rotateZ',
                                            propValue: {
                                              units: this.unitsAngle,
                                              step: 1,
                                            },
                                          },
                                          {
                                            id: 'translateX',
                                            propValue: {
                                              units: this.unitsSize,
                                              step: 1,
                                            },
                                          },
                                          {
                                            id: 'translateY',
                                            propValue: {
                                              units: this.unitsSize,
                                              step: 1,
                                            },
                                          },
                                        ],
                                        onChange: function (t) {
                                          var e = t.property;
                                          if (t.to.value) {
                                            var n = e.getOption(),
                                              r = vf({}, n.propValue || {}),
                                              o = e
                                                .getParent()
                                                .getProperty('transform-value'),
                                              i = o.getUnit();
                                            (!i ||
                                              (null == r
                                                ? void 0
                                                : r.units.indexOf(i)) < 0) &&
                                              (r.unit =
                                                (null == r
                                                  ? void 0
                                                  : r.units[0]) || ''),
                                              o.up(r);
                                          }
                                        },
                                      },
                                      {
                                        property: 'transform-value',
                                        type: this.typeNumber,
                                        default: '0',
                                        full: !0,
                                      },
                                    ],
                                  },
                                ],
                              ];
                              return (
                                i.forEach(function (e) {
                                  var n = e[0],
                                    r = e[1],
                                    o = e[2];
                                  t.add(n, r || {}, {
                                    from: o,
                                  });
                                }),
                                this
                              );
                            }),
                            (e.prototype.add = function (e, n, r) {
                              void 0 === n && (n = {}),
                                void 0 === r && (r = {});
                              var o = r.from || '',
                                i = this.props[o || e] || {},
                                a = vf(
                                  vf(vf({}, i), {
                                    property: e,
                                  }),
                                  n
                                );
                              return (
                                a.properties &&
                                  (0, t.isFunction)(a.properties) &&
                                  (a.properties = a.properties()),
                                (this.props[e] = a),
                                a
                              );
                            }),
                            (e.prototype.get = function (t) {
                              return this.props[t];
                            }),
                            (e.prototype.build = function (e) {
                              var n = this,
                                r = [];
                              return (
                                ((0, t.isString)(e) ? [e] : e).forEach(
                                  function (t) {
                                    r.push(
                                      n.get(t) || {
                                        property: t,
                                      }
                                    );
                                  }
                                ),
                                r
                              );
                            }),
                            e
                          );
                        })();
                      const wf = _f;
                      var xf =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Cf =
                          (void 0 && (void 0).__makeTemplateObject) ||
                          function (t, e) {
                            return (
                              Object.defineProperty
                                ? Object.defineProperty(t, 'raw', {
                                    value: e,
                                  })
                                : (t.raw = e),
                              t
                            );
                          },
                        Sf = (function (t) {
                          function e(e) {
                            var n = t.call(this, e) || this,
                              r = e.config || {},
                              o = n.model,
                              i = r.em;
                            return (
                              (n.config = r),
                              (n.em = i),
                              (n.pfx = r.stylePrefix || ''),
                              n.listenTo(o, 'destroy remove', n.remove),
                              n.listenTo(o, 'change:open', n.updateOpen),
                              n.listenTo(
                                o,
                                'change:visible',
                                n.updateVisibility
                              ),
                              n
                            );
                          }
                          return (
                            xf(e, t),
                            (e.prototype.template = function (t) {
                              var e,
                                n = t.pfx,
                                r = t.label,
                                o =
                                  null === (e = this.em) || void 0 === e
                                    ? void 0
                                    : e.getConfig().icons,
                                a = (null == o ? void 0 : o.caret) || '',
                                s = ''.concat(n, 'sector-');
                              return i(
                                kf ||
                                  (kf = Cf(
                                    [
                                      '\n      <div class="',
                                      'title" data-sector-title>\n        <div class="',
                                      'caret">$',
                                      '</div>\n        <div class="',
                                      'label">',
                                      '</div>\n      </div>\n    ',
                                    ],
                                    [
                                      '\n      <div class="',
                                      'title" data-sector-title>\n        <div class="',
                                      'caret">$',
                                      '</div>\n        <div class="',
                                      'label">',
                                      '</div>\n      </div>\n    ',
                                    ]
                                  )),
                                s,
                                s,
                                a,
                                s,
                                r
                              );
                            }),
                            (e.prototype.events = function () {
                              return {
                                'click [data-sector-title]': 'toggle',
                              };
                            }),
                            (e.prototype.updateOpen = function () {
                              var t = this,
                                e = t.$el,
                                n = t.model,
                                r = t.pfx,
                                o = n.isOpen();
                              e[o ? 'addClass' : 'removeClass'](
                                ''.concat(r, 'open')
                              ),
                                (this.getPropertiesEl().style.display = o
                                  ? ''
                                  : 'none');
                            }),
                            (e.prototype.updateVisibility = function () {
                              this.el.style.display = this.model.isVisible()
                                ? ''
                                : 'none';
                            }),
                            (e.prototype.getPropertiesEl = function () {
                              var t = this.$el,
                                e = this.pfx;
                              return t.find('.'.concat(e, 'properties')).get(0);
                            }),
                            (e.prototype.toggle = function () {
                              var t = this.model;
                              t.setOpen(!t.get('open'));
                            }),
                            (e.prototype.renderProperties = function () {
                              var t = this.model,
                                e = this.config,
                                n = t.get('properties');
                              if (n) {
                                var r = new bd({
                                  collection: n,
                                  config: e,
                                });
                                this.$el.append(r.render().el);
                              }
                            }),
                            (e.prototype.render = function () {
                              var t = this,
                                e = t.pfx,
                                n = t.model,
                                r = t.$el,
                                o = n.getId(),
                                i = n.getName();
                              return (
                                r.html(
                                  this.template({
                                    pfx: e,
                                    label: i,
                                  })
                                ),
                                this.renderProperties(),
                                r.attr(
                                  'class',
                                  ''
                                    .concat(e, 'sector ')
                                    .concat(e, 'sector__')
                                    .concat(o, ' no-select')
                                ),
                                this.updateOpen(),
                                this
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const Of = Sf;
                      var kf,
                        Tf =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Ef = (function (t) {
                          function e(e) {
                            void 0 === e && (e = {});
                            var n = t.call(this, e) || this,
                              r = e.module,
                              o = e.config,
                              i = n.collection;
                            return (
                              (n.pfx =
                                (null == o ? void 0 : o.stylePrefix) || ''),
                              (n.ppfx =
                                (null == o ? void 0 : o.pStylePrefix) || ''),
                              (n.config = o),
                              (n.module = r),
                              n.listenTo(i, 'add', n.addTo),
                              n.listenTo(i, 'reset', n.render),
                              n
                            );
                          }
                          return (
                            Tf(e, t),
                            (e.prototype.remove = function () {
                              var t = this;
                              return (
                                u.G7.prototype.remove.apply(this, arguments),
                                ['config', 'module', 'em'].forEach(function (
                                  e
                                ) {
                                  return (t[e] = {});
                                }),
                                this
                              );
                            }),
                            (e.prototype.addTo = function (t, e, n) {
                              void 0 === n && (n = {}),
                                this.addToCollection(t, null, n);
                            }),
                            (e.prototype.addToCollection = function (t, e, n) {
                              void 0 === n && (n = {});
                              var r = this.config,
                                o = this.el,
                                i = e || o,
                                a = new Of({
                                  model: t,
                                  config: r,
                                }).render().el;
                              return (0, Pt.$Q)(i, a, n.at), a;
                            }),
                            (e.prototype.render = function () {
                              var t = this,
                                e = this,
                                n = e.$el,
                                r = e.pfx,
                                o = e.ppfx;
                              n.empty();
                              var i = document.createDocumentFragment();
                              return (
                                this.collection.each(function (e) {
                                  return t.addToCollection(e, i);
                                }),
                                n.append(i),
                                n.addClass(
                                  ''
                                    .concat(r, 'sectors ')
                                    .concat(o, 'one-bg ')
                                    .concat(o, 'two-color')
                                ),
                                this
                              );
                            }),
                            e
                          );
                        })(u.G7);
                      const Pf = Ef;
                      var Af =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        jf =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (jf =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              jf.apply(this, arguments)
                            );
                          },
                        Mf =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        Lf = 'style',
                        Df = ''.concat(Lf, ':'),
                        Nf = ''.concat(Df, 'sector'),
                        If = ''.concat(Nf, ':add'),
                        Ff = ''.concat(Nf, ':remove'),
                        Rf = ''.concat(Nf, ':update'),
                        zf = ''.concat(Df, 'property'),
                        Vf = ''.concat(zf, ':add'),
                        Bf = ''.concat(zf, ':remove'),
                        Hf = ''.concat(zf, ':update'),
                        Uf = ''.concat(Df, 'layer:select'),
                        Wf = ''.concat(Df, 'target'),
                        $f = ''.concat(Df, 'custom'),
                        Gf = function (t) {
                          return t || 0 === t;
                        },
                        qf = {
                          all: Lf,
                          sectorAdd: If,
                          sectorRemove: Ff,
                          sectorUpdate: Rf,
                          propertyAdd: Vf,
                          propertyRemove: Bf,
                          propertyUpdate: Hf,
                          layerSelect: Uf,
                          target: Wf,
                          custom: $f,
                        },
                        Kf = (function (e) {
                          function r(n) {
                            var r =
                              e.call(
                                this,
                                n,
                                'StyleManager',
                                new gf([], {
                                  em: n,
                                }),
                                qf,
                                Fp
                              ) || this;
                            (r.Sector = df),
                              (r.storageKey = ''),
                              (0, t.bindAll)(r, '__clearStateTarget');
                            var o = r.config,
                              i = o.pStylePrefix;
                            i && (o.stylePrefix = i + o.stylePrefix),
                              (r.builtIn = new wf()),
                              (r.properties = new sf([], {
                                em: n,
                                module: r,
                              })),
                              (r.sectors = r.all);
                            var a = new u.Hn({
                              targets: [],
                            });
                            (r.model = a),
                              (r.upAll = (0, t.debounce)(function () {
                                return r.__upSel();
                              }, 0)),
                              a.listenTo(
                                n,
                                'component:toggled component:update:classes change:state change:device frame:resized selector:type',
                                r.upAll
                              ),
                              a.listenTo(
                                n,
                                'component:toggled',
                                r.__clearStateTarget
                              );
                            var s = (0, t.debounce)(function () {
                              r.__upProps(), r.__trgCustom();
                            }, 0);
                            a.listenTo(n, 'styleable:change undo redo', s);
                            var l = (0, t.debounce)(function () {
                              return r.__trgCustom();
                            }, 0);
                            return (
                              a.listenTo(n, ''.concat(Uf, ' ').concat(Wf), l),
                              a.on('change:lastTarget', function () {
                                return n.trigger(Wf, r.getSelected());
                              }),
                              r
                            );
                          }
                          return (
                            Af(r, e),
                            (r.prototype.__upSel = function () {
                              this.select(this.em.getSelectedAll());
                            }),
                            (r.prototype.__trgCustom = function (t) {
                              void 0 === t && (t = {}),
                                (this.__ctn = this.__ctn || t.container),
                                this.em.trigger(this.events.custom, {
                                  container: this.__ctn,
                                });
                            }),
                            (r.prototype.__trgEv = function (t) {
                              for (
                                var e, n = [], r = 1;
                                r < arguments.length;
                                r++
                              )
                                n[r - 1] = arguments[r];
                              (e = this.em).trigger.apply(e, Mf([t], n, !1));
                            }),
                            (r.prototype.__clearStateTarget = function () {
                              var t = this,
                                e = this.em,
                                n = this.__getStateTarget();
                              n &&
                                (null == e ||
                                  e.skip(function () {
                                    e.Css.remove(n),
                                      t.model.set({
                                        stateTarget: null,
                                      });
                                  }));
                            }),
                            (r.prototype.onLoad = function () {
                              this.sectors.add(this.config.sectors, {
                                silent: !0,
                              });
                            }),
                            (r.prototype.postRender = function () {
                              this.__appendTo();
                            }),
                            (r.prototype.addSector = function (t, e, n) {
                              void 0 === n && (n = {});
                              var r = this.getSector(t);
                              return (
                                r || ((e.id = t), (r = this.sectors.add(e, n))),
                                r
                              );
                            }),
                            (r.prototype.getSector = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.sectors.where({
                                id: t,
                              })[0];
                              return (
                                !n && e.warn && this._logNoSector(t), n || null
                              );
                            }),
                            (r.prototype.getSectors = function (t) {
                              void 0 === t && (t = {});
                              var e = this.sectors,
                                n =
                                  e && e.models
                                    ? t.array
                                      ? Mf([], e.models, !0)
                                      : e
                                    : [];
                              return t.visible
                                ? n.filter(function (t) {
                                    return t.isVisible();
                                  })
                                : n;
                            }),
                            (r.prototype.removeSector = function (t) {
                              return this.getSectors().remove(
                                this.getSector(t, {
                                  warn: !0,
                                })
                              );
                            }),
                            (r.prototype.addProperty = function (t, e, n) {
                              void 0 === n && (n = {});
                              var r = this.getSector(t, {
                                  warn: !0,
                                }),
                                o = null;
                              return r && (o = r.addProperty(e, n)), o;
                            }),
                            (r.prototype.getProperty = function (t, e) {
                              var n,
                                r = this.getSector(t, {
                                  warn: !0,
                                });
                              return (
                                r &&
                                  (n = r.properties.filter(function (t) {
                                    return (
                                      t.get('property') === e ||
                                      t.get('id') === e
                                    );
                                  })[0]),
                                n
                              );
                            }),
                            (r.prototype.getProperties = function (t) {
                              var e,
                                n = this.getSector(t, {
                                  warn: !0,
                                });
                              return n && (e = n.properties), e;
                            }),
                            (r.prototype.removeProperty = function (t, e) {
                              var n = this.getProperties(t);
                              return n
                                ? n.remove(this.getProperty(t, e))
                                : null;
                            }),
                            (r.prototype.select = function (e, r) {
                              var o = this;
                              void 0 === r && (r = {});
                              var i = this.em,
                                a = (0, t.isArray)(e) ? e : [e],
                                s = r.stylable,
                                l = i.Css,
                                c = [];
                              a.filter(Boolean).forEach(function (e) {
                                var n = e;
                                if ((0, t.isString)(e)) {
                                  var r = l.getRule(e) || l.setRule(e);
                                  !(0, t.isUndefined)(s) &&
                                    r.set({
                                      stylable: s,
                                    }),
                                    (n = r);
                                }
                                c.push(n);
                              });
                              var u =
                                r.component ||
                                c
                                  .filter(function (t) {
                                    return (0, n.isComponent)(t);
                                  })
                                  .reverse()[0];
                              c = c.map(function (t) {
                                return o.getModelToStyle(t);
                              });
                              var p = i.getState(),
                                d = c.slice().reverse()[0],
                                f = this.getParentRules(d, {
                                  state: p,
                                  component: u,
                                }),
                                h = this.__getStateTarget();
                              return (
                                i.skip(function () {
                                  var t;
                                  if (
                                    p &&
                                    (null ===
                                      (t = null == d ? void 0 : d.getState) ||
                                    void 0 === t
                                      ? void 0
                                      : t.call(d))
                                  ) {
                                    var e = d.getStyle();
                                    h
                                      ? h.setStyle(e)
                                      : (h = l.getAll().add({
                                          selectors: 'gjs-selected',
                                          style: e,
                                          shallow: !0,
                                          important: !0,
                                        }));
                                  } else h && (l.remove(h), (h = void 0));
                                }),
                                this.model.set({
                                  targets: c,
                                  lastTarget: d,
                                  lastTargetParents: f,
                                  stateTarget: h,
                                  component: u,
                                }),
                                this.__upProps(r),
                                c
                              );
                            }),
                            (r.prototype.getSelected = function () {
                              return this.model.get('lastTarget') || null;
                            }),
                            (r.prototype.getSelectedAll = function () {
                              return this.model.get('targets');
                            }),
                            (r.prototype.getSelectedParents = function () {
                              return this.model.get('lastTargetParents') || [];
                            }),
                            (r.prototype.__getStateTarget = function () {
                              return this.model.get('stateTarget');
                            }),
                            (r.prototype.addStyleTargets = function (t, e) {
                              this.getSelectedAll().map(function (n) {
                                return n.addStyle(t, e);
                              });
                              var n = this.getSelected(),
                                r = this.__getStateTarget();
                              n && (null == r || r.setStyle(n.getStyle(), e));
                            }),
                            (r.prototype.getBuiltIn = function (t) {
                              return this.builtIn.get(t);
                            }),
                            (r.prototype.getBuiltInAll = function () {
                              return this.builtIn.props;
                            }),
                            (r.prototype.addBuiltIn = function (t, e) {
                              return this.builtIn.add(t, e);
                            }),
                            (r.prototype.getModelToStyle = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.em,
                                r = e.skipAdd;
                              if (n && (null == t ? void 0 : t.toHTML)) {
                                var o = n.getConfig(),
                                  i = n.UndoManager,
                                  a = n.Css,
                                  s = n.Selectors,
                                  l = s ? s.getConfig() : {},
                                  c = o.devicePreviewMode ? '' : n.get('state'),
                                  u = t.get('classes').getStyleable(),
                                  p = u.length,
                                  d = !l.componentFirst || e.useClasses,
                                  f = {
                                    noCount: 1,
                                  },
                                  h = {
                                    state: c,
                                    addOpts: f,
                                  },
                                  g = void 0;
                                if ((i.stop(), p && d)) {
                                  var v = n.getCurrentMedia();
                                  (g = a.get(u, c, v)) ||
                                    r ||
                                    (g = a.add(u, c, v, {}, f));
                                } else if (o.avoidInlineStyle) {
                                  var m = t.getId();
                                  !(g = a.getIdRule(m, h)) &&
                                    !r &&
                                    (g = a.setIdRule(m, {}, h)),
                                    t.is('wrapper') && g.set('wrapper', 1, f);
                                }
                                g && (t = g), i.start();
                              }
                              return t;
                            }),
                            (r.prototype.getParentRules = function (e, n) {
                              var r = void 0 === n ? {} : n,
                                o = r.state,
                                i = r.component,
                                a = this.em,
                                s = [];
                              if (a && e) {
                                var l = i,
                                  c = a.Css,
                                  u = a.CodeManager.getGenerator('css'),
                                  p = e.toHTML ? e : e.getComponent(),
                                  d = {
                                    combination: !0,
                                    array: !0,
                                  },
                                  f = [],
                                  h = [],
                                  g = [];
                                p
                                  ? ((f = c.getRules('#'.concat(p.getId()))),
                                    (g = (h = l
                                      ? c.getRules(
                                          l.getSelectors().getFullName(d)
                                        )
                                      : []).concat(f)))
                                  : ((f = l
                                      ? c.getRules('#'.concat(l.getId()))
                                      : []),
                                    (h = c.getRules(
                                      e.getSelectors().getFullName(d)
                                    )),
                                    (g = f.concat(h)));
                                var v = g
                                  .filter(function (e) {
                                    return (0, t.isUndefined)(o)
                                      ? 1
                                      : e.get('state') === o;
                                  })
                                  .sort(u.sortRules)
                                  .reverse();
                                s = v.slice(v.indexOf(e) + 1);
                              }
                              return s;
                            }),
                            (r.prototype.addType = function (t, e) {
                              this.properties.addType(t, e);
                            }),
                            (r.prototype.getType = function (t) {
                              return this.properties.getType(t);
                            }),
                            (r.prototype.getTypes = function () {
                              return this.properties.getTypes();
                            }),
                            (r.prototype.createType = function (t, e) {
                              var n = void 0 === e ? {} : e,
                                r = n.model,
                                o = void 0 === r ? {} : r,
                                i = n.view,
                                a = void 0 === i ? {} : i,
                                s = this.config,
                                l = this.getType(t);
                              if (l)
                                return new l.view(
                                  jf(
                                    {
                                      model: new l.model(o),
                                      config: s,
                                    },
                                    a
                                  )
                                );
                            }),
                            (r.prototype.render = function () {
                              var t = this,
                                e = t.config,
                                n = t.em,
                                r = t.SectView,
                                o = r && r.el;
                              return (
                                (this.SectView = new Pf({
                                  el: o,
                                  em: n,
                                  config: e,
                                  module: this,
                                  collection: this.sectors,
                                })),
                                this.SectView.render().el
                              );
                            }),
                            (r.prototype._logNoSector = function (t) {
                              var e = this.em;
                              e &&
                                e.logWarning(
                                  "'".concat(t, "' sector not found")
                                );
                            }),
                            (r.prototype.__upProps = function (t) {
                              var e = this;
                              void 0 === t && (t = {});
                              var n = this.getSelected();
                              if (n) {
                                var r = this.sectors,
                                  o = this.model.get('component'),
                                  i = this.getSelectedParents(),
                                  a = n.getStyle(),
                                  s = i.map(function (t) {
                                    return {
                                      target: t,
                                      style: t.getStyle(),
                                    };
                                  });
                                r.map(function (n) {
                                  n.getProperties().map(function (n) {
                                    e.__upProp(n, a, s, t);
                                  });
                                }),
                                  r.forEach(function (t) {
                                    var e = t.getProperties();
                                    e.forEach(function (t) {
                                      var e = t.__checkVisibility({
                                        target: n,
                                        component: o,
                                        sectors: r,
                                      });
                                      t.set('visible', e);
                                    });
                                    var i = e.some(function (t) {
                                      return t.isVisible();
                                    });
                                    t.set('visible', i);
                                  });
                              }
                            }),
                            (r.prototype.__upProp = function (t, e, n, r) {
                              var o = this,
                                i = t.getName(),
                                a = e[i],
                                s = Gf(a),
                                l = 'stack' === t.getType(),
                                c = 'composite' === t.getType(),
                                u = jf(jf({}, r), {
                                  __up: !0,
                                }),
                                p = !c && !l,
                                d = l ? t.__getLayersFromStyle(e) : [],
                                f = c ? t.__getPropsFromStyle(e) : {},
                                h = s ? a : null,
                                g = null;
                              if ((l && null === d) || (c && null === f)) {
                                var v = l
                                  ? '__getLayersFromStyle'
                                  : '__getPropsFromStyle';
                                if (
                                  (y = n.filter(function (e) {
                                    return null !== t[v](e.style);
                                  })[0])
                                ) {
                                  (h = y.style[i]), (g = y.target);
                                  var m = t[v](y.style);
                                  l ? (d = m) : (f = m);
                                }
                              } else if (!s) {
                                var y;
                                (h = null),
                                  (y = n.filter(function (t) {
                                    return Gf(t.style[i]);
                                  })[0]) && ((h = y.style[i]), (g = y.target));
                              }
                              if (
                                (t.__setParentTarget(g),
                                p &&
                                  t.__getFullValue() !== h &&
                                  t.upValue(h, u),
                                l && t.__setLayers(d || []),
                                c)
                              ) {
                                var b = t.getProperties();
                                if (t.isDetached()) {
                                  var _ =
                                      t.__getPropsFromStyle(e, {
                                        byName: !0,
                                      }) || {},
                                    w = n.map(function (e) {
                                      return jf(jf({}, e), {
                                        style:
                                          t.__getPropsFromStyle(e.style, {
                                            byName: !0,
                                          }) || {},
                                      });
                                    });
                                  b.map(function (t) {
                                    return o.__upProp(t, _, w, r);
                                  });
                                } else
                                  t.__setProperties(f || {}, u),
                                    t.getProperties().map(function (t) {
                                      return t.__setParentTarget(g);
                                    });
                              }
                            }),
                            (r.prototype.destroy = function () {
                              var t;
                              [this.properties, this.sectors].forEach(function (
                                t
                              ) {
                                t.reset(), t.stopListening();
                              }),
                                null === (t = this.SectView) ||
                                  void 0 === t ||
                                  t.remove(),
                                this.model.stopListening(),
                                this.upAll.cancel();
                            }),
                            r
                          );
                        })(b);
                      const Zf = Kf;
                      var Yf =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        Xf =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (Xf =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              Xf.apply(this, arguments)
                            );
                          },
                        Jf =
                          (void 0 && (void 0).__awaiter) ||
                          function (t, e, n, r) {
                            return new (n || (n = Promise))(function (o, i) {
                              function a(t) {
                                try {
                                  l(r.next(t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function s(t) {
                                try {
                                  l(r['throw'](t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function l(t) {
                                var e;
                                t.done
                                  ? o(t.value)
                                  : ((e = t.value),
                                    e instanceof n
                                      ? e
                                      : new n(function (t) {
                                          t(e);
                                        })).then(a, s);
                              }
                              l((r = r.apply(t, e || [])).next());
                            });
                          },
                        Qf =
                          (void 0 && (void 0).__generator) ||
                          function (t, e) {
                            var n,
                              r,
                              o,
                              i,
                              a = {
                                label: 0,
                                sent: function () {
                                  if (1 & o[0]) throw o[1];
                                  return o[1];
                                },
                                trys: [],
                                ops: [],
                              };
                            return (
                              (i = {
                                next: s(0),
                                throw: s(1),
                                return: s(2),
                              }),
                              'function' == typeof Symbol &&
                                (i[Symbol.iterator] = function () {
                                  return this;
                                }),
                              i
                            );

                            function s(s) {
                              return function (l) {
                                return (function (s) {
                                  if (n)
                                    throw new TypeError(
                                      'Generator is already executing.'
                                    );
                                  for (; i && ((i = 0), s[0] && (a = 0)), a; )
                                    try {
                                      if (
                                        ((n = 1),
                                        r &&
                                          (o =
                                            2 & s[0]
                                              ? r['return']
                                              : s[0]
                                              ? r['throw'] ||
                                                ((o = r['return']) && o.call(r),
                                                0)
                                              : r.next) &&
                                          !(o = o.call(r, s[1])).done)
                                      )
                                        return o;
                                      switch (
                                        ((r = 0),
                                        o && (s = [2 & s[0], o.value]),
                                        s[0])
                                      ) {
                                        case 0:
                                        case 1:
                                          o = s;
                                          break;
                                        case 4:
                                          return (
                                            a.label++,
                                            {
                                              value: s[1],
                                              done: !1,
                                            }
                                          );
                                        case 5:
                                          a.label++, (r = s[1]), (s = [0]);
                                          continue;
                                        case 7:
                                          (s = a.ops.pop()), a.trys.pop();
                                          continue;
                                        default:
                                          if (
                                            !(
                                              (o =
                                                (o = a.trys).length > 0 &&
                                                o[o.length - 1]) ||
                                              (6 !== s[0] && 2 !== s[0])
                                            )
                                          ) {
                                            a = 0;
                                            continue;
                                          }
                                          if (
                                            3 === s[0] &&
                                            (!o || (s[1] > o[0] && s[1] < o[3]))
                                          ) {
                                            a.label = s[1];
                                            break;
                                          }
                                          if (6 === s[0] && a.label < o[1]) {
                                            (a.label = o[1]), (o = s);
                                            break;
                                          }
                                          if (o && a.label < o[2]) {
                                            (a.label = o[2]), a.ops.push(s);
                                            break;
                                          }
                                          o[2] && a.ops.pop(), a.trys.pop();
                                          continue;
                                      }
                                      s = e.call(t, a);
                                    } catch (t) {
                                      (s = [6, t]), (r = 0);
                                    } finally {
                                      n = o = 0;
                                    }
                                  if (5 & s[0]) throw s[1];
                                  return {
                                    value: s[0] ? s[1] : void 0,
                                    done: !0,
                                  };
                                })([s, l]);
                              };
                            }
                          },
                        th =
                          (void 0 && (void 0).__rest) ||
                          function (t, e) {
                            var n = {};
                            for (var r in t)
                              Object.prototype.hasOwnProperty.call(t, r) &&
                                e.indexOf(r) < 0 &&
                                (n[r] = t[r]);
                            if (
                              null != t &&
                              'function' == typeof Object.getOwnPropertySymbols
                            ) {
                              var o = 0;
                              for (
                                r = Object.getOwnPropertySymbols(t);
                                o < r.length;
                                o++
                              )
                                e.indexOf(r[o]) < 0 &&
                                  Object.prototype.propertyIsEnumerable.call(
                                    t,
                                    r[o]
                                  ) &&
                                  (n[r[o]] = t[r[o]]);
                            }
                            return n;
                          },
                        eh =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          };
                      c().$ = e['default'];
                      var nh = [
                          _c,
                          cc,
                          Wc,
                          up,
                          ns,
                          Ct,
                          xa,
                          Zf,
                          la,
                          Jc,
                          tp,
                          ju,
                          Ep,
                          oc,
                          Go,
                          tt,
                          Vs,
                          To,
                          al,
                          ce,
                          Ip,
                          Ti,
                        ],
                        rh = [];
                      !(function (e) {
                        var n = e.$;
                        if (
                          n &&
                          n.prototype &&
                          'jQuery' !== n.prototype.constructor.name
                        ) {
                          var r = n.fn;
                          (r.hide = function () {
                            return this.css('display', 'none');
                          }),
                            (r.show = function () {
                              return this.css('display', 'block');
                            }),
                            (r.focus = function () {
                              var t = this.get(0);
                              return t && t.focus(), this;
                            }),
                            (r.bind = function (t, e) {
                              return this.on(t, e);
                            }),
                            (r.unbind = function (e, n) {
                              if ((0, t.isObject)(e)) {
                                for (var r in e)
                                  e.hasOwnProperty(r) && this.off(r, e[r]);
                                return this;
                              }
                              return this.off(e, n);
                            }),
                            (r.click = function (t) {
                              return t
                                ? this.on('click', t)
                                : this.trigger('click');
                            }),
                            (r.change = function (t) {
                              return t
                                ? this.on('change', t)
                                : this.trigger('change');
                            }),
                            (r.keydown = function (t) {
                              return t
                                ? this.on('keydown', t)
                                : this.trigger('keydown');
                            }),
                            (r.delegate = function (t, e, n, r) {
                              return (
                                r || (r = n),
                                this.on(e, t, function (t) {
                                  (t.data = n), r(t);
                                })
                              );
                            }),
                            (r.scrollLeft = function () {
                              var t = this.get(0),
                                e =
                                  (t =
                                    9 == t.nodeType
                                      ? t.defaultView
                                      : t) instanceof Window
                                    ? t
                                    : null;
                              return e ? e.pageXOffset : t.scrollLeft || 0;
                            }),
                            (r.scrollTop = function () {
                              var t = this.get(0),
                                e =
                                  (t =
                                    9 == t.nodeType
                                      ? t.defaultView
                                      : t) instanceof Window
                                    ? t
                                    : null;
                              return e ? e.pageYOffset : t.scrollTop || 0;
                            });
                          var o = n.prototype.offset;
                          (r.offset = function (t) {
                            var e, n;
                            return (
                              t && ((e = t.top), (n = t.left)),
                              void 0 !== e &&
                                this.css('top', ''.concat(e, 'px')),
                              void 0 !== n &&
                                this.css('left', ''.concat(n, 'px')),
                              o.call(this)
                            );
                          }),
                            (n.map = function (t, e) {
                              for (var n = [], r = 0; r < t.length; r++)
                                n.push(e(t[r], r));
                              return n;
                            });
                          var i = Array.prototype.indexOf;
                          (n.inArray = function (t, e, n) {
                            return null == e ? -1 : i.call(e, t, n);
                          }),
                            (n.Event = function (t, e) {
                              if (!(this instanceof n.Event))
                                return new n.Event(t, e);
                              (this.type = t),
                                (this.isDefaultPrevented = function () {
                                  return !1;
                                });
                            });
                        }
                      })({
                        $: e['default'],
                      });
                      var oh = {
                          debug: console.log,
                          info: console.info,
                          warning: console.warn,
                          error: console.error,
                        },
                        ih = (function (r) {
                          function o(e) {
                            void 0 === e && (e = {});
                            var n = r.call(this) || this;
                            (n.__skip = !1),
                              (n.defaultRunning = !1),
                              (n.destroyed = !1),
                              (n._config = e);
                            var o = n.config;
                            n.set('Config', e),
                              n.set('modules', []),
                              n.set('toLoad', []),
                              n.set('storables', []),
                              n.set('selected', new f()),
                              n.set('dmode', o.dragMode);
                            var i = o.el,
                              a = o.log,
                              s =
                                !0 === a
                                  ? (0, t.keys)(oh)
                                  : (0, t.isArray)(a)
                                  ? a
                                  : [];
                            return (
                              (0, t.bindAll)(n, 'initBaseColorPicker'),
                              i &&
                                o.fromElement &&
                                (o.components = i.innerHTML),
                              (n.attrsOrig = i
                                ? (0, t.toArray)(i.attributes).reduce(function (
                                    t,
                                    e
                                  ) {
                                    return (t[e.nodeName] = e.nodeValue), t;
                                  },
                                  {})
                                : ''),
                              o.components &&
                                !o.pageManager &&
                                (o.pageManager = {
                                  pages: [
                                    {
                                      component: o.components,
                                    },
                                  ],
                                }),
                              nh.forEach(function (t) {
                                return n.loadModule(t);
                              }),
                              rh.forEach(function (t) {
                                return n.tsLoadModule(t);
                              }),
                              n.on(
                                'change:componentHovered',
                                n.componentHovered,
                                n
                              ),
                              n.on('change:changesCount', n.updateChanges, n),
                              n.on(
                                'change:readyLoad change:readyCanvas',
                                n._checkReady,
                                n
                              ),
                              s.forEach(function (t) {
                                return n.listenLog(t);
                              }),
                              [
                                {
                                  from: 'change:selectedComponent',
                                  to: 'component:toggled',
                                },
                              ].forEach(function (t) {
                                var e = t.from,
                                  r = t.to;
                                n.listenTo(n, e, function () {
                                  for (
                                    var t = [], o = 0;
                                    o < arguments.length;
                                    o++
                                  )
                                    t[o] = arguments[o];
                                  n.trigger.apply(n, eh([r], t, !1)),
                                    n.logWarning(
                                      "The event '"
                                        .concat(
                                          e,
                                          "' is deprecated, replace it with '"
                                        )
                                        .concat(r, "'")
                                    );
                                });
                              }),
                              n
                            );
                          }
                          return (
                            Yf(o, r),
                            (o.prototype.defaults = function () {
                              return {
                                editing: 0,
                                selected: 0,
                                clipboard: null,
                                dmode: 0,
                                componentHovered: null,
                                previousModel: null,
                                changesCount: 0,
                                storables: [],
                                modules: [],
                                toLoad: [],
                                opened: {},
                                device: '',
                              };
                            }),
                            Object.defineProperty(o.prototype, 'storables', {
                              get: function () {
                                return this.get('storables');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'modules', {
                              get: function () {
                                return this.get('modules');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'toLoad', {
                              get: function () {
                                return this.get('toLoad');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'selected', {
                              get: function () {
                                return this.get('selected');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'shallow', {
                              get: function () {
                                return this.get('shallow');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'I18n', {
                              get: function () {
                                return this.get('I18n');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Utils', {
                              get: function () {
                                return this.get('Utils');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Commands', {
                              get: function () {
                                return this.get('Commands');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Keymaps', {
                              get: function () {
                                return this.get('Keymaps');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Modal', {
                              get: function () {
                                return this.get('Modal');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Panels', {
                              get: function () {
                                return this.get('Panels');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'CodeManager', {
                              get: function () {
                                return this.get('CodeManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'UndoManager', {
                              get: function () {
                                return this.get('UndoManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(
                              o.prototype,
                              'RichTextEditor',
                              {
                                get: function () {
                                  return this.get('RichTextEditor');
                                },
                                enumerable: !1,
                                configurable: !0,
                              }
                            ),
                            Object.defineProperty(o.prototype, 'Canvas', {
                              get: function () {
                                return this.get('Canvas');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Editor', {
                              get: function () {
                                return this.get('Editor');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Components', {
                              get: function () {
                                return this.get('DomComponents');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Css', {
                              get: function () {
                                return this.get('CssComposer');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Blocks', {
                              get: function () {
                                return this.get('BlockManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Selectors', {
                              get: function () {
                                return this.get('SelectorManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Storage', {
                              get: function () {
                                return this.get('StorageManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Traits', {
                              get: function () {
                                return this.get('TraitManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Parser', {
                              get: function () {
                                return this.get('Parser');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Layers', {
                              get: function () {
                                return this.get('LayerManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Assets', {
                              get: function () {
                                return this.get('AssetManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Devices', {
                              get: function () {
                                return this.get('DeviceManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Pages', {
                              get: function () {
                                return this.get('PageManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(o.prototype, 'Styles', {
                              get: function () {
                                return this.get('StyleManager');
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (o.prototype._checkReady = function () {
                              this.get('readyLoad') &&
                                this.get('readyCanvas') &&
                                !this.get('ready') &&
                                this.set('ready', !0);
                            }),
                            (o.prototype.getContainer = function () {
                              return this.config.el;
                            }),
                            (o.prototype.listenLog = function (t) {
                              this.listenTo(this, 'log:'.concat(t), oh[t]);
                            }),
                            Object.defineProperty(o.prototype, 'config', {
                              get: function () {
                                return this._config;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (o.prototype.getConfig = function (e) {
                              var n = this.config;
                              return (0, t.isUndefined)(e) ? n : n[e];
                            }),
                            (o.prototype.loadOnStart = function () {
                              var t = this,
                                e = this.config,
                                n = e.projectData,
                                r = e.headless,
                                i = this.get('StorageManager');
                              this.toLoad.forEach(function (t) {
                                return t.onLoad();
                              });
                              var a = function () {
                                t.modules.forEach(function (e) {
                                  return e.postLoad && e.postLoad(t);
                                }),
                                  t.set('readyLoad', 1);
                              };
                              r
                                ? (n && this.loadData(n), a())
                                : setTimeout(function () {
                                    return Jf(t, void 0, void 0, function () {
                                      var t;
                                      return Qf(this, function (e) {
                                        switch (e.label) {
                                          case 0:
                                            return n
                                              ? (this.loadData(n), [3, 5])
                                              : [3, 1];
                                          case 1:
                                            if (
                                              !(null == i
                                                ? void 0
                                                : i.canAutoload())
                                            )
                                              return [3, 5];
                                            e.label = 2;
                                          case 2:
                                            return (
                                              e.trys.push([2, 4, , 5]),
                                              [4, this.load()]
                                            );
                                          case 3:
                                            return e.sent(), [3, 5];
                                          case 4:
                                            return (
                                              (t = e.sent()),
                                              this.logError(t),
                                              [3, 5]
                                            );
                                          case 5:
                                            return a(), [2];
                                        }
                                      });
                                    });
                                  });
                              var s = new o({
                                noticeOnUnload: !1,
                                storageManager: !1,
                                undoManager: !1,
                              });
                              ['PageManager', 'Canvas'].forEach(function (t) {
                                return s.get(t).onLoad();
                              }),
                                this.set('shallow', s);
                            }),
                            (o.prototype.updateChanges = function () {
                              var t = this,
                                e = this.get('StorageManager'),
                                n = this.getDirtyCount();
                              this.updateItr && clearTimeout(this.updateItr),
                                (this.updateItr = setTimeout(function () {
                                  return t.trigger('update');
                                })),
                                this.config.noticeOnUnload &&
                                  (window.onbeforeunload = n
                                    ? function () {
                                        return !0;
                                      }
                                    : null),
                                e.isAutosave() &&
                                  n >= e.getStepsBeforeSave() &&
                                  this.store().catch(function (e) {
                                    return t.logError(e);
                                  });
                            }),
                            (o.prototype.loadModule = function (e) {
                              var n = this.config,
                                r = new e(this),
                                o =
                                  r.name.charAt(0).toLowerCase() +
                                  r.name.slice(1),
                                i = (0, t.isUndefined)(n[o]) ? n[r.name] : n[o],
                                a = !0 === i ? {} : i || {};
                              return (
                                (a.pStylePrefix = n.pStylePrefix || ''),
                                (0, t.isUndefined)(i) || i || (a._disable = 1),
                                r.storageKey &&
                                  r.store &&
                                  r.load &&
                                  this.storables.push(r),
                                (a.em = this),
                                r.init(Xf({}, a)),
                                !r.private && this.set(r.name, r),
                                r.onLoad && this.toLoad.push(r),
                                this.modules.push(r),
                                this
                              );
                            }),
                            (o.prototype.tsLoadModule = function (t) {
                              var e = new (t.default || t)(this);
                              return (
                                e.storageKey &&
                                  e.store &&
                                  e.load &&
                                  this.storables.push(e),
                                !e.private && this.set(e.name, e),
                                e.onLoad && this.toLoad.push(e),
                                this.modules.push(e),
                                this
                              );
                            }),
                            (o.prototype.init = function (t, e) {
                              void 0 === e && (e = {}),
                                this.destroyed &&
                                  (this.initialize(e), (this.destroyed = !1)),
                                this.set('Editor', t);
                            }),
                            (o.prototype.getEditor = function () {
                              return this.get('Editor');
                            }),
                            (o.prototype.handleUpdates = function (t, e, n) {
                              var r = this;
                              void 0 === n && (n = {}),
                                this.__skip ||
                                  n.temporary ||
                                  n.noCount ||
                                  n.avoidStore ||
                                  !this.get('ready') ||
                                  (this.timedInterval &&
                                    clearTimeout(this.timedInterval),
                                  (this.timedInterval = setTimeout(function () {
                                    var t = r.getDirtyCount() || 0,
                                      e = (n.unset, th(n, ['unset']));
                                    r.set('changesCount', t + 1, e);
                                  }, 0)));
                            }),
                            (o.prototype.changesUp = function (t) {
                              this.handleUpdates(0, 0, t);
                            }),
                            (o.prototype.componentHovered = function (t, e, n) {
                              var r = this.previous('componentHovered');
                              r && this.trigger('component:unhovered', r, n),
                                e && this.trigger('component:hovered', e, n);
                            }),
                            (o.prototype.getSelected = function () {
                              return this.selected.lastComponent();
                            }),
                            (o.prototype.getSelectedAll = function () {
                              return this.selected.allComponents();
                            }),
                            (o.prototype.setSelected = function (r, o) {
                              var i = this;
                              void 0 === o && (o = {});
                              var a = o.event,
                                s = a && (a.ctrlKey || a.metaKey),
                                l = (a || {}).shiftKey,
                                c = ((0, t.isArray)(r) ? r : [r]).map(function (
                                  t
                                ) {
                                  return (0, n.getModel)(t, e['default']);
                                }),
                                u = this.getSelectedAll(),
                                p = this.getConfig().multipleSelection,
                                d = (0, t.isArray)(r);
                              d &&
                                this.removeSelected(
                                  u.filter(function (e) {
                                    return !(0, t.contains)(c, e);
                                  })
                                ),
                                c.forEach(function (e) {
                                  var r = (0, n.getModel)(e, void 0);
                                  if (
                                    r &&
                                    (i.trigger('component:select:before', r, o),
                                    !r.get('selectable') || o.abort)
                                  ) {
                                    if (!o.useValid) return;
                                    for (
                                      var a = r.parent();
                                      a && !a.get('selectable');

                                    )
                                      a = a.parent();
                                    r = a;
                                  }
                                  if (s && p) return i.toggleSelected(r);
                                  if (l && p) {
                                    i.clearSelection(
                                      i.get('Canvas').getWindow()
                                    );
                                    var c,
                                      f,
                                      h = r.collection,
                                      g = r.index();
                                    if (
                                      (i.getSelectedAll().forEach(function (e) {
                                        var n = e.collection,
                                          r = e.index();
                                        n === h &&
                                          (r < g
                                            ? (c = (0, t.isUndefined)(c)
                                                ? r
                                                : Math.max(c, r))
                                            : r > g &&
                                              (f = (0, t.isUndefined)(f)
                                                ? r
                                                : Math.min(f, r)));
                                      }),
                                      !(0, t.isUndefined)(c))
                                    )
                                      for (; c !== g; )
                                        i.addSelected(h.at(c)), c++;
                                    if (!(0, t.isUndefined)(f))
                                      for (; f !== g; )
                                        i.addSelected(h.at(f)), f--;
                                    return i.addSelected(r);
                                  }
                                  !d &&
                                    i.removeSelected(
                                      u.filter(function (t) {
                                        return t !== r;
                                      })
                                    ),
                                    i.addSelected(r, o);
                                });
                            }),
                            (o.prototype.addSelected = function (r, o) {
                              var i = this;
                              void 0 === o && (o = {});
                              var a = (0, n.getModel)(r, e['default']);
                              ((0, t.isArray)(a) ? a : [a]).forEach(function (
                                e
                              ) {
                                var n = i.selected;
                                e &&
                                  e.get('selectable') &&
                                  !e.parents().some(function (t) {
                                    return n.hasComponent(t);
                                  }) &&
                                  (o.forceChange && i.removeSelected(e, o),
                                  n
                                    .allComponents()
                                    .filter(function (n) {
                                      return (0, t.contains)(n.parents(), e);
                                    })
                                    .forEach(function (t) {
                                      return i.removeSelected(t, o);
                                    }),
                                  n.addComponent(e, o),
                                  e && i.trigger('component:select', e, o));
                              });
                            }),
                            (o.prototype.removeSelected = function (t, r) {
                              void 0 === r && (r = {}),
                                this.selected.removeComponent(
                                  (0, n.getModel)(t, e['default']),
                                  r
                                );
                            }),
                            (o.prototype.toggleSelected = function (r, o) {
                              var i = this;
                              void 0 === o && (o = {});
                              var a = (0, n.getModel)(r, e['default']);
                              ((0, t.isArray)(a) ? a : [a]).forEach(function (
                                t
                              ) {
                                i.selected.hasComponent(t)
                                  ? i.removeSelected(t, o)
                                  : i.addSelected(t, o);
                              });
                            }),
                            (o.prototype.setHovered = function (t, e) {
                              if ((void 0 === e && (e = {}), !t))
                                return this.set('componentHovered', '');
                              var r = 'component:hover',
                                o = (0, n.getModel)(t, void 0);
                              if (o) {
                                if (
                                  (e.forceChange &&
                                    this.set('componentHovered', ''),
                                  this.trigger(''.concat(r, ':before'), o, e),
                                  !o.get('hoverable'))
                                ) {
                                  if (!e.useValid || e.abort) return;
                                  for (
                                    var i = o && o.parent();
                                    i && !i.get('hoverable');

                                  )
                                    i = i.parent();
                                  o = i;
                                }
                                e.abort ||
                                  (this.set('componentHovered', o, e),
                                  this.trigger(r, o, e));
                              }
                            }),
                            (o.prototype.getHovered = function () {
                              return this.get('componentHovered');
                            }),
                            (o.prototype.setComponents = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.get('DomComponents').setComponents(t, e)
                              );
                            }),
                            (o.prototype.getComponents = function () {
                              var t = this.get('DomComponents'),
                                e = this.get('CodeManager');
                              if (t && e) {
                                var n = t.getComponents();
                                return e.getCode(n, 'json');
                              }
                            }),
                            (o.prototype.setStyle = function (t, e) {
                              void 0 === e && (e = {});
                              var n = this.get('CssComposer');
                              return n.clear(e), n.getAll().add(t, e), this;
                            }),
                            (o.prototype.addStyle = function (e, n) {
                              void 0 === n && (n = {});
                              var r = this.getStyle().add(e, n);
                              return (0, t.isArray)(r) ? r : [r];
                            }),
                            (o.prototype.getStyle = function () {
                              return this.Css.getAll();
                            }),
                            (o.prototype.setState = function (t) {
                              return this.set('state', t), this;
                            }),
                            (o.prototype.getState = function () {
                              return this.get('state') || '';
                            }),
                            (o.prototype.getHtml = function (t) {
                              void 0 === t && (t = {});
                              var e = this.config,
                                n = e.optsHtml,
                                r = e.jsInHtml ? this.getJs(t) : '',
                                o =
                                  t.component ||
                                  this.get('DomComponents').getComponent();
                              return (
                                (o
                                  ? this.get('CodeManager').getCode(
                                      o,
                                      'html',
                                      Xf(Xf({}, n), t)
                                    )
                                  : '') +
                                (r ? '<script>'.concat(r, '</script>') : '')
                              );
                            }),
                            (o.prototype.getCss = function (e) {
                              void 0 === e && (e = {});
                              var n = this.config,
                                r = n.optsCss,
                                o = e.avoidProtected,
                                i = (0, t.isUndefined)(e.keepUnusedStyles)
                                  ? n.keepUnusedStyles
                                  : e.keepUnusedStyles,
                                a = this.get('CssComposer'),
                                s =
                                  e.component || this.Components.getComponent(),
                                l = o ? '' : n.protectedCss,
                                c =
                                  s &&
                                  this.CodeManager.getCode(
                                    s,
                                    'css',
                                    Xf(
                                      Xf(
                                        {
                                          cssc: a,
                                          keepUnusedStyles: i,
                                        },
                                        r
                                      ),
                                      e
                                    )
                                  );
                              return s ? (e.json ? c : l + c) : '';
                            }),
                            (o.prototype.getJs = function (t) {
                              void 0 === t && (t = {});
                              var e =
                                t.component || this.Components.getWrapper();
                              return e
                                ? this.CodeManager.getCode(e, 'js').trim()
                                : '';
                            }),
                            (o.prototype.store = function (t) {
                              return Jf(this, void 0, void 0, function () {
                                var e;
                                return Qf(this, function (n) {
                                  switch (n.label) {
                                    case 0:
                                      return (
                                        (e = this.storeData()),
                                        [4, this.Storage.store(e, t)]
                                      );
                                    case 1:
                                      return (
                                        n.sent(), this.clearDirtyCount(), [2, e]
                                      );
                                  }
                                });
                              });
                            }),
                            (o.prototype.load = function (t) {
                              return Jf(this, void 0, void 0, function () {
                                var e;
                                return Qf(this, function (n) {
                                  switch (n.label) {
                                    case 0:
                                      return [4, this.Storage.load(t)];
                                    case 1:
                                      return (
                                        (e = n.sent()), this.loadData(e), [2, e]
                                      );
                                  }
                                });
                              });
                            }),
                            (o.prototype.storeData = function () {
                              var t = {},
                                e = this.getEditing();
                              return (
                                e &&
                                  e.trigger('sync:content', {
                                    noCount: !0,
                                  }),
                                this.storables.forEach(function (e) {
                                  t = Xf(Xf({}, t), e.store(1));
                                }),
                                JSON.parse(JSON.stringify(t))
                              );
                            }),
                            (o.prototype.loadData = function (t) {
                              return (
                                void 0 === t && (t = {}),
                                (0, n.isEmptyObj)(t) ||
                                  (this.storables.forEach(function (t) {
                                    return t.clear();
                                  }),
                                  this.storables.forEach(function (e) {
                                    return e.load(t);
                                  })),
                                t
                              );
                            }),
                            (o.prototype.getDeviceModel = function () {
                              var t = this.get('device');
                              return this.get('DeviceManager').get(t);
                            }),
                            (o.prototype.runDefault = function (t) {
                              void 0 === t && (t = {});
                              var e = this.get('Commands').get(
                                this.config.defaultCommand
                              );
                              e &&
                                !this.defaultRunning &&
                                (e.stop(this, this, t),
                                e.run(this, this, t),
                                (this.defaultRunning = !0));
                            }),
                            (o.prototype.stopDefault = function (t) {
                              void 0 === t && (t = {});
                              var e = this.get('Commands').get(
                                this.config.defaultCommand
                              );
                              e &&
                                this.defaultRunning &&
                                (e.stop(this, this, t),
                                (this.defaultRunning = !1));
                            }),
                            (o.prototype.refreshCanvas = function (t) {
                              void 0 === t && (t = {}),
                                this.set('canvasOffset', null),
                                this.set(
                                  'canvasOffset',
                                  this.get('Canvas').getOffset()
                                ),
                                t.tools && this.trigger('canvas:updateTools');
                            }),
                            (o.prototype.clearSelection = function (t) {
                              var e;
                              null === (e = (t || window).getSelection()) ||
                                void 0 === e ||
                                e.removeAllRanges();
                            }),
                            (o.prototype.getCurrentMedia = function () {
                              var t = this.config,
                                e = this.getDeviceModel(),
                                n = t.mediaCondition,
                                r = t.devicePreviewMode,
                                o = e && e.get('widthMedia');
                              return e && o && !r
                                ? '('.concat(n, ': ').concat(o, ')')
                                : '';
                            }),
                            (o.prototype.getWrapper = function () {
                              return this.get('DomComponents').getWrapper();
                            }),
                            (o.prototype.setCurrentFrame = function (t) {
                              return this.set('currentFrame', t);
                            }),
                            (o.prototype.getCurrentFrame = function () {
                              return this.get('currentFrame');
                            }),
                            (o.prototype.getCurrentFrameModel = function () {
                              return (this.getCurrentFrame() || {}).model;
                            }),
                            (o.prototype.getIcon = function (t) {
                              return (this.config.icons || {})[t] || '';
                            }),
                            (o.prototype.getDirtyCount = function () {
                              return this.get('changesCount');
                            }),
                            (o.prototype.clearDirtyCount = function () {
                              return this.set('changesCount', 0);
                            }),
                            (o.prototype.getZoomDecimal = function () {
                              return this.get('Canvas').getZoomDecimal();
                            }),
                            (o.prototype.getZoomMultiplier = function () {
                              return this.get('Canvas').getZoomMultiplier();
                            }),
                            (o.prototype.setDragMode = function (t) {
                              return this.set('dmode', t);
                            }),
                            (o.prototype.t = function () {
                              for (var t = [], e = 0; e < arguments.length; e++)
                                t[e] = arguments[e];
                              var n = this.get('I18n');
                              return null == n ? void 0 : n.t.apply(n, t);
                            }),
                            (o.prototype.inAbsoluteMode = function () {
                              return 'absolute' === this.get('dmode');
                            }),
                            (o.prototype.destroyAll = function () {
                              var t = this,
                                r = this.config,
                                o = this.view,
                                i = this.getEditor(),
                                a = (r.grapesjs || {}).editors,
                                s = void 0 === a ? [] : a,
                                l = this.get('shallow');
                              null == l || l.destroyAll(),
                                this.stopListening(),
                                this.stopDefault(),
                                this.modules
                                  .slice()
                                  .reverse()
                                  .forEach(function (t) {
                                    return t.destroy();
                                  }),
                                o && o.remove(),
                                this.clear({
                                  silent: !0,
                                }),
                                (this.destroyed = !0),
                                [
                                  '_config',
                                  'view',
                                  '_previousAttributes',
                                  '_events',
                                  '_listeners',
                                ].forEach(function (e) {
                                  return (t[e] = {});
                                }),
                                s.splice(s.indexOf(i), 1),
                                (0, n.hasWin)() &&
                                  (0, e['default'])(r.el)
                                    .empty()
                                    .attr(this.attrsOrig);
                            }),
                            (o.prototype.getEditing = function () {
                              var t = this.get('editing');
                              return (t && t.model) || void 0;
                            }),
                            (o.prototype.setEditing = function (t) {
                              return this.set('editing', t), this;
                            }),
                            (o.prototype.isEditing = function () {
                              return !!this.get('editing');
                            }),
                            (o.prototype.log = function (t, e) {
                              void 0 === e && (e = {});
                              var n = e.ns,
                                r = e.level,
                                o = void 0 === r ? 'debug' : r;
                              if (
                                (this.trigger('log', t, e),
                                o && this.trigger('log:'.concat(o), t, e),
                                n)
                              ) {
                                var i = 'log-'.concat(n);
                                this.trigger(i, t, e),
                                  o &&
                                    this.trigger(
                                      ''.concat(i, ':').concat(o),
                                      t,
                                      e
                                    );
                              }
                            }),
                            (o.prototype.logInfo = function (t, e) {
                              this.log(
                                t,
                                Xf(Xf({}, e), {
                                  level: 'info',
                                })
                              );
                            }),
                            (o.prototype.logWarning = function (t, e) {
                              this.log(
                                t,
                                Xf(Xf({}, e), {
                                  level: 'warning',
                                })
                              );
                            }),
                            (o.prototype.logError = function (t, e) {
                              this.log(
                                t,
                                Xf(Xf({}, e), {
                                  level: 'error',
                                })
                              );
                            }),
                            (o.prototype.initBaseColorPicker = function (t, n) {
                              void 0 === n && (n = {});
                              var r = this.config,
                                o = r.colorPicker,
                                i = void 0 === o ? {} : o,
                                a = r.el,
                                s = r.stylePrefix;
                              return (0, e['default'])(t).spectrum(
                                Xf(
                                  Xf(
                                    {
                                      containerClassName: ''
                                        .concat(s, 'one-bg ')
                                        .concat(s, 'two-color'),
                                      appendTo: a || 'body',
                                      maxSelectionSize: 8,
                                      showPalette: !0,
                                      palette: [],
                                      showAlpha: !0,
                                      chooseText: 'Ok',
                                      cancelText: '⨯',
                                    },
                                    n
                                  ),
                                  i
                                )
                              );
                            }),
                            (o.prototype.skip = function (t) {
                              this.__skip = !0;
                              var e = this.get('UndoManager');
                              e ? e.skip(t) : t(), (this.__skip = !1);
                            }),
                            (o.prototype.data = function (e, n, r) {
                              var o = '_gjs-data';
                              if ((e[o] || (e[o] = {}), (0, t.isUndefined)(r)))
                                return e[o][n];
                              e[o][n] = r;
                            }),
                            o
                          );
                        })(u.Hn);
                      const ah = ih;
                      var sh =
                          (void 0 && (void 0).__extends) ||
                          (function () {
                            var t = function (e, n) {
                              return (
                                (t =
                                  Object.setPrototypeOf ||
                                  ({
                                    __proto__: [],
                                  } instanceof Array &&
                                    function (t, e) {
                                      t.__proto__ = e;
                                    }) ||
                                  function (t, e) {
                                    for (var n in e)
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        n
                                      ) && (t[n] = e[n]);
                                  }),
                                t(e, n)
                              );
                            };
                            return function (e, n) {
                              if ('function' != typeof n && null !== n)
                                throw new TypeError(
                                  'Class extends value ' +
                                    String(n) +
                                    ' is not a constructor or null'
                                );

                              function r() {
                                this.constructor = e;
                              }
                              t(e, n),
                                (e.prototype =
                                  null === n
                                    ? Object.create(n)
                                    : ((r.prototype = n.prototype), new r()));
                            };
                          })(),
                        lh = (function (t) {
                          function r(e) {
                            var n =
                                t.call(this, {
                                  model: e,
                                }) || this,
                              r = e.attributes,
                              o = r.Panels,
                              i = r.UndoManager;
                            return (
                              (e.view = n),
                              e.once('change:ready', function () {
                                o.active(),
                                  o.disableButtons(),
                                  i.clear(),
                                  setTimeout(function () {
                                    e.trigger('load', e.get('Editor')),
                                      e.clearDirtyCount();
                                  });
                              }),
                              n
                            );
                          }
                          return (
                            sh(r, t),
                            (r.prototype.render = function () {
                              var t = this,
                                r = this.$el,
                                o = this.model,
                                i = o.attributes,
                                a = i.Panels,
                                s = i.Canvas,
                                l = o.config,
                                c = o.modules,
                                u = l.stylePrefix,
                                p = [''.concat(u, 'editor')];
                              !l.customUI &&
                                p.push(
                                  ''.concat(u, 'one-bg ').concat(u, 'two-color')
                                );
                              var d = (0, e['default'])(
                                l.el || 'body '.concat(l.container)
                              );
                              l.cssIcons &&
                                (0, n.appendStyles)(l.cssIcons, {
                                  unique: !0,
                                  prepand: !0,
                                }),
                                r.empty(),
                                l.width && d.css('width', l.width),
                                l.height && d.css('height', l.height),
                                r.append(s.render()),
                                r.append(a.render());
                              var f = o.get('shallow').get('Canvas').render();
                              return (
                                (f.style.display = 'none'),
                                r.append(f),
                                r.attr('class', p.join(' ')),
                                d
                                  .addClass(''.concat(u, 'editor-cont'))
                                  .empty()
                                  .append(r),
                                c.forEach(function (e) {
                                  return e.postRender && e.postRender(t);
                                }),
                                this
                              );
                            }),
                            r
                          );
                        })(u.G7);
                      const ch = lh;
                      var uh =
                          (void 0 && (void 0).__assign) ||
                          function () {
                            return (
                              (uh =
                                Object.assign ||
                                function (t) {
                                  for (
                                    var e, n = 1, r = arguments.length;
                                    n < r;
                                    n++
                                  )
                                    for (var o in (e = arguments[n]))
                                      Object.prototype.hasOwnProperty.call(
                                        e,
                                        o
                                      ) && (t[o] = e[o]);
                                  return t;
                                }),
                              uh.apply(this, arguments)
                            );
                          },
                        ph =
                          (void 0 && (void 0).__awaiter) ||
                          function (t, e, n, r) {
                            return new (n || (n = Promise))(function (o, i) {
                              function a(t) {
                                try {
                                  l(r.next(t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function s(t) {
                                try {
                                  l(r['throw'](t));
                                } catch (t) {
                                  i(t);
                                }
                              }

                              function l(t) {
                                var e;
                                t.done
                                  ? o(t.value)
                                  : ((e = t.value),
                                    e instanceof n
                                      ? e
                                      : new n(function (t) {
                                          t(e);
                                        })).then(a, s);
                              }
                              l((r = r.apply(t, e || [])).next());
                            });
                          },
                        dh =
                          (void 0 && (void 0).__generator) ||
                          function (t, e) {
                            var n,
                              r,
                              o,
                              i,
                              a = {
                                label: 0,
                                sent: function () {
                                  if (1 & o[0]) throw o[1];
                                  return o[1];
                                },
                                trys: [],
                                ops: [],
                              };
                            return (
                              (i = {
                                next: s(0),
                                throw: s(1),
                                return: s(2),
                              }),
                              'function' == typeof Symbol &&
                                (i[Symbol.iterator] = function () {
                                  return this;
                                }),
                              i
                            );

                            function s(s) {
                              return function (l) {
                                return (function (s) {
                                  if (n)
                                    throw new TypeError(
                                      'Generator is already executing.'
                                    );
                                  for (; i && ((i = 0), s[0] && (a = 0)), a; )
                                    try {
                                      if (
                                        ((n = 1),
                                        r &&
                                          (o =
                                            2 & s[0]
                                              ? r['return']
                                              : s[0]
                                              ? r['throw'] ||
                                                ((o = r['return']) && o.call(r),
                                                0)
                                              : r.next) &&
                                          !(o = o.call(r, s[1])).done)
                                      )
                                        return o;
                                      switch (
                                        ((r = 0),
                                        o && (s = [2 & s[0], o.value]),
                                        s[0])
                                      ) {
                                        case 0:
                                        case 1:
                                          o = s;
                                          break;
                                        case 4:
                                          return (
                                            a.label++,
                                            {
                                              value: s[1],
                                              done: !1,
                                            }
                                          );
                                        case 5:
                                          a.label++, (r = s[1]), (s = [0]);
                                          continue;
                                        case 7:
                                          (s = a.ops.pop()), a.trys.pop();
                                          continue;
                                        default:
                                          if (
                                            !(
                                              (o =
                                                (o = a.trys).length > 0 &&
                                                o[o.length - 1]) ||
                                              (6 !== s[0] && 2 !== s[0])
                                            )
                                          ) {
                                            a = 0;
                                            continue;
                                          }
                                          if (
                                            3 === s[0] &&
                                            (!o || (s[1] > o[0] && s[1] < o[3]))
                                          ) {
                                            a.label = s[1];
                                            break;
                                          }
                                          if (6 === s[0] && a.label < o[1]) {
                                            (a.label = o[1]), (o = s);
                                            break;
                                          }
                                          if (o && a.label < o[2]) {
                                            (a.label = o[2]), a.ops.push(s);
                                            break;
                                          }
                                          o[2] && a.ops.pop(), a.trys.pop();
                                          continue;
                                      }
                                      s = e.call(t, a);
                                    } catch (t) {
                                      (s = [6, t]), (r = 0);
                                    } finally {
                                      n = o = 0;
                                    }
                                  if (5 & s[0]) throw s[1];
                                  return {
                                    value: s[0] ? s[1] : void 0,
                                    done: !0,
                                  };
                                })([s, l]);
                              };
                            }
                          },
                        fh =
                          (void 0 && (void 0).__spreadArray) ||
                          function (t, e, n) {
                            if (n || 2 === arguments.length)
                              for (var r, o = 0, i = e.length; o < i; o++)
                                (!r && o in e) ||
                                  (r ||
                                    (r = Array.prototype.slice.call(e, 0, o)),
                                  (r[o] = e[o]));
                            return t.concat(r || Array.prototype.slice.call(e));
                          },
                        hh = (function () {
                          function t(t, e) {
                            var n;
                            void 0 === t && (t = {}),
                              void 0 === e && (e = {}),
                              (this.modules = []),
                              (this.html = i),
                              (this.config = uh(uh(uh({}, a), t), {
                                pStylePrefix:
                                  null !== (n = t.stylePrefix) && void 0 !== n
                                    ? n
                                    : a.stylePrefix,
                              })),
                              (this.em = new ah(this.config)),
                              (this.$ = e.$),
                              this.em.init(this),
                              (this.editor = this.em);
                          }
                          return (
                            Object.defineProperty(t.prototype, 'Config', {
                              get: function () {
                                return this.em.config;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'I18n', {
                              get: function () {
                                return this.em.I18n;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Utils', {
                              get: function () {
                                return this.em.Utils;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Commands', {
                              get: function () {
                                return this.em.Commands;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Keymaps', {
                              get: function () {
                                return this.em.Keymaps;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Modal', {
                              get: function () {
                                return this.em.Modal;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Panels', {
                              get: function () {
                                return this.em.Panels;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Canvas', {
                              get: function () {
                                return this.em.Canvas;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Parser', {
                              get: function () {
                                return this.em.Parser;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'CodeManager', {
                              get: function () {
                                return this.em.CodeManager;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'UndoManager', {
                              get: function () {
                                return this.em.UndoManager;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(
                              t.prototype,
                              'RichTextEditor',
                              {
                                get: function () {
                                  return this.em.RichTextEditor;
                                },
                                enumerable: !1,
                                configurable: !0,
                              }
                            ),
                            Object.defineProperty(t.prototype, 'Pages', {
                              get: function () {
                                return this.em.Pages;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Components', {
                              get: function () {
                                return this.em.Components;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(
                              t.prototype,
                              'DomComponents',
                              {
                                get: function () {
                                  return this.em.Components;
                                },
                                enumerable: !1,
                                configurable: !0,
                              }
                            ),
                            Object.defineProperty(t.prototype, 'Layers', {
                              get: function () {
                                return this.em.Layers;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'LayerManager', {
                              get: function () {
                                return this.em.Layers;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Css', {
                              get: function () {
                                return this.em.Css;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'CssComposer', {
                              get: function () {
                                return this.em.Css;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Storage', {
                              get: function () {
                                return this.em.Storage;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(
                              t.prototype,
                              'StorageManager',
                              {
                                get: function () {
                                  return this.em.Storage;
                                },
                                enumerable: !1,
                                configurable: !0,
                              }
                            ),
                            Object.defineProperty(t.prototype, 'Assets', {
                              get: function () {
                                return this.em.Assets;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'AssetManager', {
                              get: function () {
                                return this.em.Assets;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Blocks', {
                              get: function () {
                                return this.em.Blocks;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'BlockManager', {
                              get: function () {
                                return this.em.Blocks;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Traits', {
                              get: function () {
                                return this.em.Traits;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'TraitManager', {
                              get: function () {
                                return this.em.Traits;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Selectors', {
                              get: function () {
                                return this.em.Selectors;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(
                              t.prototype,
                              'SelectorManager',
                              {
                                get: function () {
                                  return this.em.Selectors;
                                },
                                enumerable: !1,
                                configurable: !0,
                              }
                            ),
                            Object.defineProperty(t.prototype, 'Styles', {
                              get: function () {
                                return this.em.Styles;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'StyleManager', {
                              get: function () {
                                return this.em.Styles;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(t.prototype, 'Devices', {
                              get: function () {
                                return this.em.Devices;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            Object.defineProperty(
                              t.prototype,
                              'DeviceManager',
                              {
                                get: function () {
                                  return this.em.Devices;
                                },
                                enumerable: !1,
                                configurable: !0,
                              }
                            ),
                            Object.defineProperty(t.prototype, 'EditorModel', {
                              get: function () {
                                return this.em;
                              },
                              enumerable: !1,
                              configurable: !0,
                            }),
                            (t.prototype.getConfig = function (t) {
                              return this.em.getConfig(t);
                            }),
                            (t.prototype.getHtml = function (t) {
                              return this.em.getHtml(t);
                            }),
                            (t.prototype.getCss = function (t) {
                              return this.em.getCss(t);
                            }),
                            (t.prototype.getJs = function (t) {
                              return this.em.getJs(t);
                            }),
                            (t.prototype.getComponents = function () {
                              return this.Components.getComponents();
                            }),
                            (t.prototype.getWrapper = function () {
                              return this.Components.getWrapper();
                            }),
                            (t.prototype.setComponents = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.em.setComponents(t, e),
                                this
                              );
                            }),
                            (t.prototype.addComponents = function (t, e) {
                              return this.getWrapper().append(t, e);
                            }),
                            (t.prototype.getStyle = function () {
                              return this.em.Css.getAll();
                            }),
                            (t.prototype.setStyle = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.em.setStyle(t, e),
                                this
                              );
                            }),
                            (t.prototype.addStyle = function (t, e) {
                              return (
                                void 0 === e && (e = {}), this.em.addStyle(t, e)
                              );
                            }),
                            (t.prototype.getSelected = function () {
                              return this.em.getSelected();
                            }),
                            (t.prototype.getSelectedAll = function () {
                              return this.em.getSelectedAll();
                            }),
                            (t.prototype.getSelectedToStyle = function () {
                              var t = this.em.getSelected();
                              if (t)
                                return this.StyleManager.getModelToStyle(t);
                            }),
                            (t.prototype.select = function (t, e) {
                              return this.em.setSelected(t, e), this;
                            }),
                            (t.prototype.selectAdd = function (t) {
                              return this.em.addSelected(t), this;
                            }),
                            (t.prototype.selectRemove = function (t) {
                              return this.em.removeSelected(t), this;
                            }),
                            (t.prototype.selectToggle = function (t) {
                              return this.em.toggleSelected(t), this;
                            }),
                            (t.prototype.getEditing = function () {
                              return this.em.getEditing();
                            }),
                            (t.prototype.setDevice = function (t) {
                              return this.em.set('device', t), this;
                            }),
                            (t.prototype.getDevice = function () {
                              return this.em.get('device');
                            }),
                            (t.prototype.runCommand = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.Commands.run(t, e)
                              );
                            }),
                            (t.prototype.stopCommand = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.Commands.stop(t, e)
                              );
                            }),
                            (t.prototype.store = function (t) {
                              return ph(this, void 0, void 0, function () {
                                return dh(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [4, this.em.store(t)];
                                    case 1:
                                      return [2, e.sent()];
                                  }
                                });
                              });
                            }),
                            (t.prototype.load = function (t) {
                              return ph(this, void 0, void 0, function () {
                                return dh(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [4, this.em.load(t)];
                                    case 1:
                                      return [2, e.sent()];
                                  }
                                });
                              });
                            }),
                            (t.prototype.getProjectData = function () {
                              return this.em.storeData();
                            }),
                            (t.prototype.loadProjectData = function (t) {
                              return this.em.loadData(t);
                            }),
                            (t.prototype.storeData = function () {
                              return this.em.storeData();
                            }),
                            (t.prototype.loadData = function (t) {
                              return this.em.loadData(t);
                            }),
                            (t.prototype.getContainer = function () {
                              return this.config.el;
                            }),
                            (t.prototype.getDirtyCount = function () {
                              return this.em.getDirtyCount();
                            }),
                            (t.prototype.clearDirtyCount = function () {
                              return this.em.clearDirtyCount();
                            }),
                            (t.prototype.refresh = function (t) {
                              this.em.refreshCanvas(t);
                            }),
                            (t.prototype.setCustomRte = function (t) {
                              this.RichTextEditor.customRte = t;
                            }),
                            (t.prototype.setCustomParserCss = function (t) {
                              return (
                                (this.Parser.getConfig().parserCss = t), this
                              );
                            }),
                            (t.prototype.setDragMode = function (t) {
                              return this.em.setDragMode(t), this;
                            }),
                            (t.prototype.log = function (t, e) {
                              return (
                                void 0 === e && (e = {}),
                                this.em.log(t, e),
                                this
                              );
                            }),
                            (t.prototype.t = function () {
                              for (
                                var t, e = [], n = 0;
                                n < arguments.length;
                                n++
                              )
                                e[n] = arguments[n];
                              return (t = this.em).t.apply(t, e);
                            }),
                            (t.prototype.on = function (t, e) {
                              return this.em.on(t, e), this;
                            }),
                            (t.prototype.once = function (t, e) {
                              return this.em.once(t, e), this;
                            }),
                            (t.prototype.off = function (t, e) {
                              return this.em.off(t, e), this;
                            }),
                            (t.prototype.trigger = function (t) {
                              for (var e = [], n = 1; n < arguments.length; n++)
                                e[n - 1] = arguments[n];
                              return (
                                this.em.trigger.apply(this.em, fh([t], e, !0)),
                                this
                              );
                            }),
                            (t.prototype.destroy = function () {
                              this.em &&
                                (this.em.destroyAll(),
                                (this.editorView = void 0));
                            }),
                            (t.prototype.getEl = function () {
                              var t;
                              return null === (t = this.editorView) ||
                                void 0 === t
                                ? void 0
                                : t.el;
                            }),
                            (t.prototype.getModel = function () {
                              return this.em;
                            }),
                            (t.prototype.render = function () {
                              var t;
                              return (
                                null === (t = this.editorView) ||
                                  void 0 === t ||
                                  t.remove(),
                                (this.editorView = new ch(this.em)),
                                this.editorView.render().el
                              );
                            }),
                            (t.prototype.onReady = function (t) {
                              this.em.get('ready')
                                ? t(this)
                                : this.em.on('load', t);
                            }),
                            t
                          );
                        })();
                      const gh = hh,
                        vh = (function () {
                          function t() {
                            this.plugins = {};
                          }
                          return (
                            (t.prototype.add = function (t, e) {
                              return this.get(t) || ((this.plugins[t] = e), e);
                            }),
                            (t.prototype.get = function (t) {
                              return this.plugins[t];
                            }),
                            (t.prototype.getAll = function () {
                              return this.plugins;
                            }),
                            t
                          );
                        })();
                      var mh =
                        (void 0 && (void 0).__assign) ||
                        function () {
                          return (
                            (mh =
                              Object.assign ||
                              function (t) {
                                for (
                                  var e, n = 1, r = arguments.length;
                                  n < r;
                                  n++
                                )
                                  for (var o in (e = arguments[n]))
                                    Object.prototype.hasOwnProperty.call(
                                      e,
                                      o
                                    ) && (t[o] = e[o]);
                                return t;
                              }),
                            mh.apply(this, arguments)
                          );
                        };
                      !(function () {
                        if (
                          (0, n.hasWin)() &&
                          (function () {
                            for (
                              var t,
                                e = window.navigator.userAgent,
                                n = [
                                  ['edge', /Edge\/([0-9\._]+)/],
                                  ['ie', /MSIE\s(7\.0)/],
                                  ['ie', /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
                                  [
                                    'ie',
                                    /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,
                                  ],
                                ],
                                r = 0;
                              r < n.length && !(t = n[r][1].exec(e));
                              r++
                            );
                            return !!t;
                          })()
                        ) {
                          var t =
                            DOMImplementation.prototype.createHTMLDocument;
                          DOMImplementation.prototype.createHTMLDocument =
                            function (e) {
                              return (
                                e || (e = ''),
                                t.apply(document.implementation, [e])
                              );
                            };
                        }
                      })();
                      var yh = new vh(),
                        bh = [],
                        _h = {
                          $: e['default'],
                          editors: bh,
                          plugins: yh,
                          version: '0.20.4',
                          init: function (r) {
                            void 0 === r && (r = {});
                            var o = r.headless,
                              i = r.container;
                            if (!i && !o)
                              throw new Error("'container' is required");
                            var a = mh(
                                mh(
                                  {
                                    autorender: !0,
                                    plugins: [],
                                    pluginsOpts: {},
                                  },
                                  r
                                ),
                                {
                                  grapesjs: this,
                                  el: o
                                    ? void 0
                                    : (0, t.isElement)(i)
                                    ? i
                                    : document.querySelector(i),
                                }
                              ),
                              s = new gh(a, {
                                $: e['default'],
                              }),
                              l = s.getModel();
                            return (
                              a.plugins.forEach(function (e) {
                                var r = (0, t.isFunction)(e) ? e : yh.get(e),
                                  o = a.pluginsOpts[e] || {};
                                if (!r) {
                                  var i = (0, n.getGlobal)()[e];
                                  r = (null == i ? void 0 : i.default) || i;
                                }
                                r
                                  ? r(s, o)
                                  : (0, t.isFunction)(e)
                                  ? e(s, o)
                                  : l.logWarning(
                                      'Plugin '.concat(e, ' not found'),
                                      {
                                        context: 'plugins',
                                        plugin: e,
                                      }
                                    );
                              }),
                              l.loadOnStart(),
                              a.autorender && !o && s.render(),
                              bh.push(s),
                              s
                            );
                          },
                        };
                      const wh = _h;
                    })(),
                    o['default']
                  );
                })()),
              1 && (t.exports = r());
          },
          733: (t, e, n) => {
            1 &&
              (t.exports = (function t(e, n, r) {
                function o(a, s) {
                  if (!n[a]) {
                    if (!e[a]) {
                      if (!s && void 0) return require(a, !0);
                      if (i) return i(a, !0);
                      var l = new Error("Cannot find module '" + a + "'");
                      throw ((l.code = 'MODULE_NOT_FOUND'), l);
                    }
                    var c = (n[a] = {
                      exports: {},
                    });
                    e[a][0].call(
                      c.exports,
                      function (t) {
                        return o(e[a][1][t] || t);
                      },
                      c,
                      c.exports,
                      t,
                      e,
                      n,
                      r
                    );
                  }
                  return n[a].exports;
                }
                for (var i = void 0, a = 0; a < r.length; a++) o(r[a]);
                return o;
              })(
                {
                  1: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./utils'),
                        o = t('./support'),
                        i =
                          'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
                      (n.encode = function (t) {
                        for (
                          var e,
                            n,
                            o,
                            a,
                            s,
                            l,
                            c,
                            u = [],
                            p = 0,
                            d = t.length,
                            f = d,
                            h = 'string' !== r.getTypeOf(t);
                          p < t.length;

                        )
                          (f = d - p),
                            (o = h
                              ? ((e = t[p++]),
                                (n = p < d ? t[p++] : 0),
                                p < d ? t[p++] : 0)
                              : ((e = t.charCodeAt(p++)),
                                (n = p < d ? t.charCodeAt(p++) : 0),
                                p < d ? t.charCodeAt(p++) : 0)),
                            (a = e >> 2),
                            (s = ((3 & e) << 4) | (n >> 4)),
                            (l = 1 < f ? ((15 & n) << 2) | (o >> 6) : 64),
                            (c = 2 < f ? 63 & o : 64),
                            u.push(
                              i.charAt(a) +
                                i.charAt(s) +
                                i.charAt(l) +
                                i.charAt(c)
                            );
                        return u.join('');
                      }),
                        (n.decode = function (t) {
                          var e,
                            n,
                            r,
                            a,
                            s,
                            l,
                            c = 0,
                            u = 0,
                            p = 'data:';
                          if (t.substr(0, p.length) === p)
                            throw new Error(
                              'Invalid base64 input, it looks like a data url.'
                            );
                          var d,
                            f =
                              (3 *
                                (t = t.replace(/[^A-Za-z0-9+/=]/g, ''))
                                  .length) /
                              4;
                          if (
                            (t.charAt(t.length - 1) === i.charAt(64) && f--,
                            t.charAt(t.length - 2) === i.charAt(64) && f--,
                            f % 1 != 0)
                          )
                            throw new Error(
                              'Invalid base64 input, bad content length.'
                            );
                          for (
                            d = o.uint8array
                              ? new Uint8Array(0 | f)
                              : new Array(0 | f);
                            c < t.length;

                          )
                            (e =
                              (i.indexOf(t.charAt(c++)) << 2) |
                              ((a = i.indexOf(t.charAt(c++))) >> 4)),
                              (n =
                                ((15 & a) << 4) |
                                ((s = i.indexOf(t.charAt(c++))) >> 2)),
                              (r =
                                ((3 & s) << 6) |
                                (l = i.indexOf(t.charAt(c++)))),
                              (d[u++] = e),
                              64 !== s && (d[u++] = n),
                              64 !== l && (d[u++] = r);
                          return d;
                        });
                    },
                    {
                      './support': 30,
                      './utils': 32,
                    },
                  ],
                  2: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./external'),
                        o = t('./stream/DataWorker'),
                        i = t('./stream/Crc32Probe'),
                        a = t('./stream/DataLengthProbe');

                      function s(t, e, n, r, o) {
                        (this.compressedSize = t),
                          (this.uncompressedSize = e),
                          (this.crc32 = n),
                          (this.compression = r),
                          (this.compressedContent = o);
                      }
                      (s.prototype = {
                        getContentWorker: function () {
                          var t = new o(
                              r.Promise.resolve(this.compressedContent)
                            )
                              .pipe(this.compression.uncompressWorker())
                              .pipe(new a('data_length')),
                            e = this;
                          return (
                            t.on('end', function () {
                              if (
                                this.streamInfo.data_length !==
                                e.uncompressedSize
                              )
                                throw new Error(
                                  'Bug : uncompressed data size mismatch'
                                );
                            }),
                            t
                          );
                        },
                        getCompressedWorker: function () {
                          return new o(
                            r.Promise.resolve(this.compressedContent)
                          )
                            .withStreamInfo(
                              'compressedSize',
                              this.compressedSize
                            )
                            .withStreamInfo(
                              'uncompressedSize',
                              this.uncompressedSize
                            )
                            .withStreamInfo('crc32', this.crc32)
                            .withStreamInfo('compression', this.compression);
                        },
                      }),
                        (s.createWorkerFrom = function (t, e, n) {
                          return t
                            .pipe(new i())
                            .pipe(new a('uncompressedSize'))
                            .pipe(e.compressWorker(n))
                            .pipe(new a('compressedSize'))
                            .withStreamInfo('compression', e);
                        }),
                        (e.exports = s);
                    },
                    {
                      './external': 6,
                      './stream/Crc32Probe': 25,
                      './stream/DataLengthProbe': 26,
                      './stream/DataWorker': 27,
                    },
                  ],
                  3: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./stream/GenericWorker');
                      (n.STORE = {
                        magic: '\0\0',
                        compressWorker: function () {
                          return new r('STORE compression');
                        },
                        uncompressWorker: function () {
                          return new r('STORE decompression');
                        },
                      }),
                        (n.DEFLATE = t('./flate'));
                    },
                    {
                      './flate': 7,
                      './stream/GenericWorker': 28,
                    },
                  ],
                  4: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./utils'),
                        o = (function () {
                          for (var t, e = [], n = 0; n < 256; n++) {
                            t = n;
                            for (var r = 0; r < 8; r++)
                              t = 1 & t ? 3988292384 ^ (t >>> 1) : t >>> 1;
                            e[n] = t;
                          }
                          return e;
                        })();
                      e.exports = function (t, e) {
                        return void 0 !== t && t.length
                          ? 'string' !== r.getTypeOf(t)
                            ? (function (t, e, n, r) {
                                var i = o,
                                  a = r + n;
                                t ^= -1;
                                for (var s = r; s < a; s++)
                                  t = (t >>> 8) ^ i[255 & (t ^ e[s])];
                                return -1 ^ t;
                              })(0 | e, t, t.length, 0)
                            : (function (t, e, n, r) {
                                var i = o,
                                  a = r + n;
                                t ^= -1;
                                for (var s = r; s < a; s++)
                                  t =
                                    (t >>> 8) ^ i[255 & (t ^ e.charCodeAt(s))];
                                return -1 ^ t;
                              })(0 | e, t, t.length, 0)
                          : 0;
                      };
                    },
                    {
                      './utils': 32,
                    },
                  ],
                  5: [
                    function (t, e, n) {
                      'use strict';
                      (n.base64 = !1),
                        (n.binary = !1),
                        (n.dir = !1),
                        (n.createFolders = !0),
                        (n.date = null),
                        (n.compression = null),
                        (n.compressionOptions = null),
                        (n.comment = null),
                        (n.unixPermissions = null),
                        (n.dosPermissions = null);
                    },
                    {},
                  ],
                  6: [
                    function (t, e, n) {
                      'use strict';
                      var r = null;
                      (r = 'undefined' != typeof Promise ? Promise : t('lie')),
                        (e.exports = {
                          Promise: r,
                        });
                    },
                    {
                      lie: 37,
                    },
                  ],
                  7: [
                    function (t, e, n) {
                      'use strict';
                      var r =
                          'undefined' != typeof Uint8Array &&
                          'undefined' != typeof Uint16Array &&
                          'undefined' != typeof Uint32Array,
                        o = t('pako'),
                        i = t('./utils'),
                        a = t('./stream/GenericWorker'),
                        s = r ? 'uint8array' : 'array';

                      function l(t, e) {
                        a.call(this, 'FlateWorker/' + t),
                          (this._pako = null),
                          (this._pakoAction = t),
                          (this._pakoOptions = e),
                          (this.meta = {});
                      }
                      (n.magic = '\b\0'),
                        i.inherits(l, a),
                        (l.prototype.processChunk = function (t) {
                          (this.meta = t.meta),
                            null === this._pako && this._createPako(),
                            this._pako.push(i.transformTo(s, t.data), !1);
                        }),
                        (l.prototype.flush = function () {
                          a.prototype.flush.call(this),
                            null === this._pako && this._createPako(),
                            this._pako.push([], !0);
                        }),
                        (l.prototype.cleanUp = function () {
                          a.prototype.cleanUp.call(this), (this._pako = null);
                        }),
                        (l.prototype._createPako = function () {
                          this._pako = new o[this._pakoAction]({
                            raw: !0,
                            level: this._pakoOptions.level || -1,
                          });
                          var t = this;
                          this._pako.onData = function (e) {
                            t.push({
                              data: e,
                              meta: t.meta,
                            });
                          };
                        }),
                        (n.compressWorker = function (t) {
                          return new l('Deflate', t);
                        }),
                        (n.uncompressWorker = function () {
                          return new l('Inflate', {});
                        });
                    },
                    {
                      './stream/GenericWorker': 28,
                      './utils': 32,
                      pako: 38,
                    },
                  ],
                  8: [
                    function (t, e, n) {
                      'use strict';

                      function r(t, e) {
                        var n,
                          r = '';
                        for (n = 0; n < e; n++)
                          (r += String.fromCharCode(255 & t)), (t >>>= 8);
                        return r;
                      }

                      function o(t, e, n, o, a, u) {
                        var p,
                          d,
                          f = t.file,
                          h = t.compression,
                          g = u !== s.utf8encode,
                          v = i.transformTo('string', u(f.name)),
                          m = i.transformTo('string', s.utf8encode(f.name)),
                          y = f.comment,
                          b = i.transformTo('string', u(y)),
                          _ = i.transformTo('string', s.utf8encode(y)),
                          w = m.length !== f.name.length,
                          x = _.length !== y.length,
                          C = '',
                          S = '',
                          O = '',
                          k = f.dir,
                          T = f.date,
                          E = {
                            crc32: 0,
                            compressedSize: 0,
                            uncompressedSize: 0,
                          };
                        (e && !n) ||
                          ((E.crc32 = t.crc32),
                          (E.compressedSize = t.compressedSize),
                          (E.uncompressedSize = t.uncompressedSize));
                        var P = 0;
                        e && (P |= 8), g || (!w && !x) || (P |= 2048);
                        var A = 0,
                          j = 0;
                        k && (A |= 16),
                          'UNIX' === a
                            ? ((j = 798),
                              (A |= (function (t, e) {
                                var n = t;
                                return (
                                  t || (n = e ? 16893 : 33204),
                                  (65535 & n) << 16
                                );
                              })(f.unixPermissions, k)))
                            : ((j = 20),
                              (A |= (function (t) {
                                return 63 & (t || 0);
                              })(f.dosPermissions))),
                          (p = T.getUTCHours()),
                          (p <<= 6),
                          (p |= T.getUTCMinutes()),
                          (p <<= 5),
                          (p |= T.getUTCSeconds() / 2),
                          (d = T.getUTCFullYear() - 1980),
                          (d <<= 4),
                          (d |= T.getUTCMonth() + 1),
                          (d <<= 5),
                          (d |= T.getUTCDate()),
                          w &&
                            ((S = r(1, 1) + r(l(v), 4) + m),
                            (C += 'up' + r(S.length, 2) + S)),
                          x &&
                            ((O = r(1, 1) + r(l(b), 4) + _),
                            (C += 'uc' + r(O.length, 2) + O));
                        var M = '';
                        return (
                          (M += '\n\0'),
                          (M += r(P, 2)),
                          (M += h.magic),
                          (M += r(p, 2)),
                          (M += r(d, 2)),
                          (M += r(E.crc32, 4)),
                          (M += r(E.compressedSize, 4)),
                          (M += r(E.uncompressedSize, 4)),
                          (M += r(v.length, 2)),
                          (M += r(C.length, 2)),
                          {
                            fileRecord: c.LOCAL_FILE_HEADER + M + v + C,
                            dirRecord:
                              c.CENTRAL_FILE_HEADER +
                              r(j, 2) +
                              M +
                              r(b.length, 2) +
                              '\0\0\0\0' +
                              r(A, 4) +
                              r(o, 4) +
                              v +
                              C +
                              b,
                          }
                        );
                      }
                      var i = t('../utils'),
                        a = t('../stream/GenericWorker'),
                        s = t('../utf8'),
                        l = t('../crc32'),
                        c = t('../signature');

                      function u(t, e, n, r) {
                        a.call(this, 'ZipFileWorker'),
                          (this.bytesWritten = 0),
                          (this.zipComment = e),
                          (this.zipPlatform = n),
                          (this.encodeFileName = r),
                          (this.streamFiles = t),
                          (this.accumulate = !1),
                          (this.contentBuffer = []),
                          (this.dirRecords = []),
                          (this.currentSourceOffset = 0),
                          (this.entriesCount = 0),
                          (this.currentFile = null),
                          (this._sources = []);
                      }
                      i.inherits(u, a),
                        (u.prototype.push = function (t) {
                          var e = t.meta.percent || 0,
                            n = this.entriesCount,
                            r = this._sources.length;
                          this.accumulate
                            ? this.contentBuffer.push(t)
                            : ((this.bytesWritten += t.data.length),
                              a.prototype.push.call(this, {
                                data: t.data,
                                meta: {
                                  currentFile: this.currentFile,
                                  percent: n
                                    ? (e + 100 * (n - r - 1)) / n
                                    : 100,
                                },
                              }));
                        }),
                        (u.prototype.openedSource = function (t) {
                          (this.currentSourceOffset = this.bytesWritten),
                            (this.currentFile = t.file.name);
                          var e = this.streamFiles && !t.file.dir;
                          if (e) {
                            var n = o(
                              t,
                              e,
                              !1,
                              this.currentSourceOffset,
                              this.zipPlatform,
                              this.encodeFileName
                            );
                            this.push({
                              data: n.fileRecord,
                              meta: {
                                percent: 0,
                              },
                            });
                          } else this.accumulate = !0;
                        }),
                        (u.prototype.closedSource = function (t) {
                          this.accumulate = !1;
                          var e = this.streamFiles && !t.file.dir,
                            n = o(
                              t,
                              e,
                              !0,
                              this.currentSourceOffset,
                              this.zipPlatform,
                              this.encodeFileName
                            );
                          if ((this.dirRecords.push(n.dirRecord), e))
                            this.push({
                              data: (function (t) {
                                return (
                                  c.DATA_DESCRIPTOR +
                                  r(t.crc32, 4) +
                                  r(t.compressedSize, 4) +
                                  r(t.uncompressedSize, 4)
                                );
                              })(t),
                              meta: {
                                percent: 100,
                              },
                            });
                          else
                            for (
                              this.push({
                                data: n.fileRecord,
                                meta: {
                                  percent: 0,
                                },
                              });
                              this.contentBuffer.length;

                            )
                              this.push(this.contentBuffer.shift());
                          this.currentFile = null;
                        }),
                        (u.prototype.flush = function () {
                          for (
                            var t = this.bytesWritten, e = 0;
                            e < this.dirRecords.length;
                            e++
                          )
                            this.push({
                              data: this.dirRecords[e],
                              meta: {
                                percent: 100,
                              },
                            });
                          var n = this.bytesWritten - t,
                            o = (function (t, e, n, o, a) {
                              var s = i.transformTo('string', a(o));
                              return (
                                c.CENTRAL_DIRECTORY_END +
                                '\0\0\0\0' +
                                r(t, 2) +
                                r(t, 2) +
                                r(e, 4) +
                                r(n, 4) +
                                r(s.length, 2) +
                                s
                              );
                            })(
                              this.dirRecords.length,
                              n,
                              t,
                              this.zipComment,
                              this.encodeFileName
                            );
                          this.push({
                            data: o,
                            meta: {
                              percent: 100,
                            },
                          });
                        }),
                        (u.prototype.prepareNextSource = function () {
                          (this.previous = this._sources.shift()),
                            this.openedSource(this.previous.streamInfo),
                            this.isPaused
                              ? this.previous.pause()
                              : this.previous.resume();
                        }),
                        (u.prototype.registerPrevious = function (t) {
                          this._sources.push(t);
                          var e = this;
                          return (
                            t.on('data', function (t) {
                              e.processChunk(t);
                            }),
                            t.on('end', function () {
                              e.closedSource(e.previous.streamInfo),
                                e._sources.length
                                  ? e.prepareNextSource()
                                  : e.end();
                            }),
                            t.on('error', function (t) {
                              e.error(t);
                            }),
                            this
                          );
                        }),
                        (u.prototype.resume = function () {
                          return (
                            !!a.prototype.resume.call(this) &&
                            (!this.previous && this._sources.length
                              ? (this.prepareNextSource(), !0)
                              : this.previous ||
                                this._sources.length ||
                                this.generatedError
                              ? void 0
                              : (this.end(), !0))
                          );
                        }),
                        (u.prototype.error = function (t) {
                          var e = this._sources;
                          if (!a.prototype.error.call(this, t)) return !1;
                          for (var n = 0; n < e.length; n++)
                            try {
                              e[n].error(t);
                            } catch (t) {}
                          return !0;
                        }),
                        (u.prototype.lock = function () {
                          a.prototype.lock.call(this);
                          for (var t = this._sources, e = 0; e < t.length; e++)
                            t[e].lock();
                        }),
                        (e.exports = u);
                    },
                    {
                      '../crc32': 4,
                      '../signature': 23,
                      '../stream/GenericWorker': 28,
                      '../utf8': 31,
                      '../utils': 32,
                    },
                  ],
                  9: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../compressions'),
                        o = t('./ZipFileWorker');
                      n.generateWorker = function (t, e, n) {
                        var i = new o(
                            e.streamFiles,
                            n,
                            e.platform,
                            e.encodeFileName
                          ),
                          a = 0;
                        try {
                          t.forEach(function (t, n) {
                            a++;
                            var o = (function (t, e) {
                                var n = t || e,
                                  o = r[n];
                                if (!o)
                                  throw new Error(
                                    n + ' is not a valid compression method !'
                                  );
                                return o;
                              })(n.options.compression, e.compression),
                              s =
                                n.options.compressionOptions ||
                                e.compressionOptions ||
                                {},
                              l = n.dir,
                              c = n.date;
                            n._compressWorker(o, s)
                              .withStreamInfo('file', {
                                name: t,
                                dir: l,
                                date: c,
                                comment: n.comment || '',
                                unixPermissions: n.unixPermissions,
                                dosPermissions: n.dosPermissions,
                              })
                              .pipe(i);
                          }),
                            (i.entriesCount = a);
                        } catch (t) {
                          i.error(t);
                        }
                        return i;
                      };
                    },
                    {
                      '../compressions': 3,
                      './ZipFileWorker': 8,
                    },
                  ],
                  10: [
                    function (t, e, n) {
                      'use strict';

                      function r() {
                        if (!(this instanceof r)) return new r();
                        if (arguments.length)
                          throw new Error(
                            'The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.'
                          );
                        (this.files = Object.create(null)),
                          (this.comment = null),
                          (this.root = ''),
                          (this.clone = function () {
                            var t = new r();
                            for (var e in this)
                              'function' != typeof this[e] && (t[e] = this[e]);
                            return t;
                          });
                      }
                      ((r.prototype = t('./object')).loadAsync = t('./load')),
                        (r.support = t('./support')),
                        (r.defaults = t('./defaults')),
                        (r.version = '3.10.1'),
                        (r.loadAsync = function (t, e) {
                          return new r().loadAsync(t, e);
                        }),
                        (r.external = t('./external')),
                        (e.exports = r);
                    },
                    {
                      './defaults': 5,
                      './external': 6,
                      './load': 11,
                      './object': 15,
                      './support': 30,
                    },
                  ],
                  11: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./utils'),
                        o = t('./external'),
                        i = t('./utf8'),
                        a = t('./zipEntries'),
                        s = t('./stream/Crc32Probe'),
                        l = t('./nodejsUtils');

                      function c(t) {
                        return new o.Promise(function (e, n) {
                          var r = t.decompressed
                            .getContentWorker()
                            .pipe(new s());
                          r.on('error', function (t) {
                            n(t);
                          })
                            .on('end', function () {
                              r.streamInfo.crc32 !== t.decompressed.crc32
                                ? n(new Error('Corrupted zip : CRC32 mismatch'))
                                : e();
                            })
                            .resume();
                        });
                      }
                      e.exports = function (t, e) {
                        var n = this;
                        return (
                          (e = r.extend(e || {}, {
                            base64: !1,
                            checkCRC32: !1,
                            optimizedBinaryString: !1,
                            createFolders: !1,
                            decodeFileName: i.utf8decode,
                          })),
                          l.isNode && l.isStream(t)
                            ? o.Promise.reject(
                                new Error(
                                  "JSZip can't accept a stream when loading a zip file."
                                )
                              )
                            : r
                                .prepareContent(
                                  'the loaded zip file',
                                  t,
                                  !0,
                                  e.optimizedBinaryString,
                                  e.base64
                                )
                                .then(function (t) {
                                  var n = new a(e);
                                  return n.load(t), n;
                                })
                                .then(function (t) {
                                  var n = [o.Promise.resolve(t)],
                                    r = t.files;
                                  if (e.checkCRC32)
                                    for (var i = 0; i < r.length; i++)
                                      n.push(c(r[i]));
                                  return o.Promise.all(n);
                                })
                                .then(function (t) {
                                  for (
                                    var o = t.shift(), i = o.files, a = 0;
                                    a < i.length;
                                    a++
                                  ) {
                                    var s = i[a],
                                      l = s.fileNameStr,
                                      c = r.resolve(s.fileNameStr);
                                    n.file(c, s.decompressed, {
                                      binary: !0,
                                      optimizedBinaryString: !0,
                                      date: s.date,
                                      dir: s.dir,
                                      comment: s.fileCommentStr.length
                                        ? s.fileCommentStr
                                        : null,
                                      unixPermissions: s.unixPermissions,
                                      dosPermissions: s.dosPermissions,
                                      createFolders: e.createFolders,
                                    }),
                                      s.dir ||
                                        (n.file(c).unsafeOriginalName = l);
                                  }
                                  return (
                                    o.zipComment.length &&
                                      (n.comment = o.zipComment),
                                    n
                                  );
                                })
                        );
                      };
                    },
                    {
                      './external': 6,
                      './nodejsUtils': 14,
                      './stream/Crc32Probe': 25,
                      './utf8': 31,
                      './utils': 32,
                      './zipEntries': 33,
                    },
                  ],
                  12: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils'),
                        o = t('../stream/GenericWorker');

                      function i(t, e) {
                        o.call(this, 'Nodejs stream input adapter for ' + t),
                          (this._upstreamEnded = !1),
                          this._bindStream(e);
                      }
                      r.inherits(i, o),
                        (i.prototype._bindStream = function (t) {
                          var e = this;
                          (this._stream = t).pause(),
                            t
                              .on('data', function (t) {
                                e.push({
                                  data: t,
                                  meta: {
                                    percent: 0,
                                  },
                                });
                              })
                              .on('error', function (t) {
                                e.isPaused
                                  ? (this.generatedError = t)
                                  : e.error(t);
                              })
                              .on('end', function () {
                                e.isPaused ? (e._upstreamEnded = !0) : e.end();
                              });
                        }),
                        (i.prototype.pause = function () {
                          return (
                            !!o.prototype.pause.call(this) &&
                            (this._stream.pause(), !0)
                          );
                        }),
                        (i.prototype.resume = function () {
                          return (
                            !!o.prototype.resume.call(this) &&
                            (this._upstreamEnded
                              ? this.end()
                              : this._stream.resume(),
                            !0)
                          );
                        }),
                        (e.exports = i);
                    },
                    {
                      '../stream/GenericWorker': 28,
                      '../utils': 32,
                    },
                  ],
                  13: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('readable-stream').Readable;

                      function o(t, e, n) {
                        r.call(this, e), (this._helper = t);
                        var o = this;
                        t.on('data', function (t, e) {
                          o.push(t) || o._helper.pause(), n && n(e);
                        })
                          .on('error', function (t) {
                            o.emit('error', t);
                          })
                          .on('end', function () {
                            o.push(null);
                          });
                      }
                      t('../utils').inherits(o, r),
                        (o.prototype._read = function () {
                          this._helper.resume();
                        }),
                        (e.exports = o);
                    },
                    {
                      '../utils': 32,
                      'readable-stream': 16,
                    },
                  ],
                  14: [
                    function (t, e, n) {
                      'use strict';
                      e.exports = {
                        isNode: 'undefined' != typeof Buffer,
                        newBufferFrom: function (t, e) {
                          if (Buffer.from && Buffer.from !== Uint8Array.from)
                            return Buffer.from(t, e);
                          if ('number' == typeof t)
                            throw new Error(
                              'The "data" argument must not be a number'
                            );
                          return new Buffer(t, e);
                        },
                        allocBuffer: function (t) {
                          if (Buffer.alloc) return Buffer.alloc(t);
                          var e = new Buffer(t);
                          return e.fill(0), e;
                        },
                        isBuffer: function (t) {
                          return Buffer.isBuffer(t);
                        },
                        isStream: function (t) {
                          return (
                            t &&
                            'function' == typeof t.on &&
                            'function' == typeof t.pause &&
                            'function' == typeof t.resume
                          );
                        },
                      };
                    },
                    {},
                  ],
                  15: [
                    function (t, e, n) {
                      'use strict';

                      function r(t, e, n) {
                        var r,
                          o = i.getTypeOf(e),
                          s = i.extend(n || {}, l);
                        (s.date = s.date || new Date()),
                          null !== s.compression &&
                            (s.compression = s.compression.toUpperCase()),
                          'string' == typeof s.unixPermissions &&
                            (s.unixPermissions = parseInt(
                              s.unixPermissions,
                              8
                            )),
                          s.unixPermissions &&
                            16384 & s.unixPermissions &&
                            (s.dir = !0),
                          s.dosPermissions &&
                            16 & s.dosPermissions &&
                            (s.dir = !0),
                          s.dir && (t = g(t)),
                          s.createFolders && (r = h(t)) && v.call(this, r, !0);
                        var p =
                          'string' === o && !1 === s.binary && !1 === s.base64;
                        (n && void 0 !== n.binary) || (s.binary = !p),
                          ((e instanceof c && 0 === e.uncompressedSize) ||
                            s.dir ||
                            !e ||
                            0 === e.length) &&
                            ((s.base64 = !1),
                            (s.binary = !0),
                            (e = ''),
                            (s.compression = 'STORE'),
                            (o = 'string'));
                        var m = null;
                        m =
                          e instanceof c || e instanceof a
                            ? e
                            : d.isNode && d.isStream(e)
                            ? new f(t, e)
                            : i.prepareContent(
                                t,
                                e,
                                s.binary,
                                s.optimizedBinaryString,
                                s.base64
                              );
                        var y = new u(t, m, s);
                        this.files[t] = y;
                      }
                      var o = t('./utf8'),
                        i = t('./utils'),
                        a = t('./stream/GenericWorker'),
                        s = t('./stream/StreamHelper'),
                        l = t('./defaults'),
                        c = t('./compressedObject'),
                        u = t('./zipObject'),
                        p = t('./generate'),
                        d = t('./nodejsUtils'),
                        f = t('./nodejs/NodejsStreamInputAdapter'),
                        h = function (t) {
                          '/' === t.slice(-1) &&
                            (t = t.substring(0, t.length - 1));
                          var e = t.lastIndexOf('/');
                          return 0 < e ? t.substring(0, e) : '';
                        },
                        g = function (t) {
                          return '/' !== t.slice(-1) && (t += '/'), t;
                        },
                        v = function (t, e) {
                          return (
                            (e = void 0 !== e ? e : l.createFolders),
                            (t = g(t)),
                            this.files[t] ||
                              r.call(this, t, null, {
                                dir: !0,
                                createFolders: e,
                              }),
                            this.files[t]
                          );
                        };

                      function m(t) {
                        return (
                          '[object RegExp]' ===
                          Object.prototype.toString.call(t)
                        );
                      }
                      var y = {
                        load: function () {
                          throw new Error(
                            'This method has been removed in JSZip 3.0, please check the upgrade guide.'
                          );
                        },
                        forEach: function (t) {
                          var e, n, r;
                          for (e in this.files)
                            (r = this.files[e]),
                              (n = e.slice(this.root.length, e.length)) &&
                                e.slice(0, this.root.length) === this.root &&
                                t(n, r);
                        },
                        filter: function (t) {
                          var e = [];
                          return (
                            this.forEach(function (n, r) {
                              t(n, r) && e.push(r);
                            }),
                            e
                          );
                        },
                        file: function (t, e, n) {
                          if (1 !== arguments.length)
                            return (
                              (t = this.root + t), r.call(this, t, e, n), this
                            );
                          if (m(t)) {
                            var o = t;
                            return this.filter(function (t, e) {
                              return !e.dir && o.test(t);
                            });
                          }
                          var i = this.files[this.root + t];
                          return i && !i.dir ? i : null;
                        },
                        folder: function (t) {
                          if (!t) return this;
                          if (m(t))
                            return this.filter(function (e, n) {
                              return n.dir && t.test(e);
                            });
                          var e = this.root + t,
                            n = v.call(this, e),
                            r = this.clone();
                          return (r.root = n.name), r;
                        },
                        remove: function (t) {
                          t = this.root + t;
                          var e = this.files[t];
                          if (
                            (e ||
                              ('/' !== t.slice(-1) && (t += '/'),
                              (e = this.files[t])),
                            e && !e.dir)
                          )
                            delete this.files[t];
                          else
                            for (
                              var n = this.filter(function (e, n) {
                                  return n.name.slice(0, t.length) === t;
                                }),
                                r = 0;
                              r < n.length;
                              r++
                            )
                              delete this.files[n[r].name];
                          return this;
                        },
                        generate: function () {
                          throw new Error(
                            'This method has been removed in JSZip 3.0, please check the upgrade guide.'
                          );
                        },
                        generateInternalStream: function (t) {
                          var e,
                            n = {};
                          try {
                            if (
                              (((n = i.extend(t || {}, {
                                streamFiles: !1,
                                compression: 'STORE',
                                compressionOptions: null,
                                type: '',
                                platform: 'DOS',
                                comment: null,
                                mimeType: 'application/zip',
                                encodeFileName: o.utf8encode,
                              })).type = n.type.toLowerCase()),
                              (n.compression = n.compression.toUpperCase()),
                              'binarystring' === n.type && (n.type = 'string'),
                              !n.type)
                            )
                              throw new Error('No output type specified.');
                            i.checkSupport(n.type),
                              ('darwin' !== n.platform &&
                                'freebsd' !== n.platform &&
                                'linux' !== n.platform &&
                                'sunos' !== n.platform) ||
                                (n.platform = 'UNIX'),
                              'win32' === n.platform && (n.platform = 'DOS');
                            var r = n.comment || this.comment || '';
                            e = p.generateWorker(this, n, r);
                          } catch (t) {
                            (e = new a('error')).error(t);
                          }
                          return new s(e, n.type || 'string', n.mimeType);
                        },
                        generateAsync: function (t, e) {
                          return this.generateInternalStream(t).accumulate(e);
                        },
                        generateNodeStream: function (t, e) {
                          return (
                            (t = t || {}).type || (t.type = 'nodebuffer'),
                            this.generateInternalStream(t).toNodejsStream(e)
                          );
                        },
                      };
                      e.exports = y;
                    },
                    {
                      './compressedObject': 2,
                      './defaults': 5,
                      './generate': 9,
                      './nodejs/NodejsStreamInputAdapter': 12,
                      './nodejsUtils': 14,
                      './stream/GenericWorker': 28,
                      './stream/StreamHelper': 29,
                      './utf8': 31,
                      './utils': 32,
                      './zipObject': 35,
                    },
                  ],
                  16: [
                    function (t, e, n) {
                      'use strict';
                      e.exports = t('stream');
                    },
                    {
                      stream: void 0,
                    },
                  ],
                  17: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./DataReader');

                      function o(t) {
                        r.call(this, t);
                        for (var e = 0; e < this.data.length; e++)
                          t[e] = 255 & t[e];
                      }
                      t('../utils').inherits(o, r),
                        (o.prototype.byteAt = function (t) {
                          return this.data[this.zero + t];
                        }),
                        (o.prototype.lastIndexOfSignature = function (t) {
                          for (
                            var e = t.charCodeAt(0),
                              n = t.charCodeAt(1),
                              r = t.charCodeAt(2),
                              o = t.charCodeAt(3),
                              i = this.length - 4;
                            0 <= i;
                            --i
                          )
                            if (
                              this.data[i] === e &&
                              this.data[i + 1] === n &&
                              this.data[i + 2] === r &&
                              this.data[i + 3] === o
                            )
                              return i - this.zero;
                          return -1;
                        }),
                        (o.prototype.readAndCheckSignature = function (t) {
                          var e = t.charCodeAt(0),
                            n = t.charCodeAt(1),
                            r = t.charCodeAt(2),
                            o = t.charCodeAt(3),
                            i = this.readData(4);
                          return (
                            e === i[0] && n === i[1] && r === i[2] && o === i[3]
                          );
                        }),
                        (o.prototype.readData = function (t) {
                          if ((this.checkOffset(t), 0 === t)) return [];
                          var e = this.data.slice(
                            this.zero + this.index,
                            this.zero + this.index + t
                          );
                          return (this.index += t), e;
                        }),
                        (e.exports = o);
                    },
                    {
                      '../utils': 32,
                      './DataReader': 18,
                    },
                  ],
                  18: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils');

                      function o(t) {
                        (this.data = t),
                          (this.length = t.length),
                          (this.index = 0),
                          (this.zero = 0);
                      }
                      (o.prototype = {
                        checkOffset: function (t) {
                          this.checkIndex(this.index + t);
                        },
                        checkIndex: function (t) {
                          if (this.length < this.zero + t || t < 0)
                            throw new Error(
                              'End of data reached (data length = ' +
                                this.length +
                                ', asked index = ' +
                                t +
                                '). Corrupted zip ?'
                            );
                        },
                        setIndex: function (t) {
                          this.checkIndex(t), (this.index = t);
                        },
                        skip: function (t) {
                          this.setIndex(this.index + t);
                        },
                        byteAt: function () {},
                        readInt: function (t) {
                          var e,
                            n = 0;
                          for (
                            this.checkOffset(t), e = this.index + t - 1;
                            e >= this.index;
                            e--
                          )
                            n = (n << 8) + this.byteAt(e);
                          return (this.index += t), n;
                        },
                        readString: function (t) {
                          return r.transformTo('string', this.readData(t));
                        },
                        readData: function () {},
                        lastIndexOfSignature: function () {},
                        readAndCheckSignature: function () {},
                        readDate: function () {
                          var t = this.readInt(4);
                          return new Date(
                            Date.UTC(
                              1980 + ((t >> 25) & 127),
                              ((t >> 21) & 15) - 1,
                              (t >> 16) & 31,
                              (t >> 11) & 31,
                              (t >> 5) & 63,
                              (31 & t) << 1
                            )
                          );
                        },
                      }),
                        (e.exports = o);
                    },
                    {
                      '../utils': 32,
                    },
                  ],
                  19: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./Uint8ArrayReader');

                      function o(t) {
                        r.call(this, t);
                      }
                      t('../utils').inherits(o, r),
                        (o.prototype.readData = function (t) {
                          this.checkOffset(t);
                          var e = this.data.slice(
                            this.zero + this.index,
                            this.zero + this.index + t
                          );
                          return (this.index += t), e;
                        }),
                        (e.exports = o);
                    },
                    {
                      '../utils': 32,
                      './Uint8ArrayReader': 21,
                    },
                  ],
                  20: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./DataReader');

                      function o(t) {
                        r.call(this, t);
                      }
                      t('../utils').inherits(o, r),
                        (o.prototype.byteAt = function (t) {
                          return this.data.charCodeAt(this.zero + t);
                        }),
                        (o.prototype.lastIndexOfSignature = function (t) {
                          return this.data.lastIndexOf(t) - this.zero;
                        }),
                        (o.prototype.readAndCheckSignature = function (t) {
                          return t === this.readData(4);
                        }),
                        (o.prototype.readData = function (t) {
                          this.checkOffset(t);
                          var e = this.data.slice(
                            this.zero + this.index,
                            this.zero + this.index + t
                          );
                          return (this.index += t), e;
                        }),
                        (e.exports = o);
                    },
                    {
                      '../utils': 32,
                      './DataReader': 18,
                    },
                  ],
                  21: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./ArrayReader');

                      function o(t) {
                        r.call(this, t);
                      }
                      t('../utils').inherits(o, r),
                        (o.prototype.readData = function (t) {
                          if ((this.checkOffset(t), 0 === t))
                            return new Uint8Array(0);
                          var e = this.data.subarray(
                            this.zero + this.index,
                            this.zero + this.index + t
                          );
                          return (this.index += t), e;
                        }),
                        (e.exports = o);
                    },
                    {
                      '../utils': 32,
                      './ArrayReader': 17,
                    },
                  ],
                  22: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils'),
                        o = t('../support'),
                        i = t('./ArrayReader'),
                        a = t('./StringReader'),
                        s = t('./NodeBufferReader'),
                        l = t('./Uint8ArrayReader');
                      e.exports = function (t) {
                        var e = r.getTypeOf(t);
                        return (
                          r.checkSupport(e),
                          'string' !== e || o.uint8array
                            ? 'nodebuffer' === e
                              ? new s(t)
                              : o.uint8array
                              ? new l(r.transformTo('uint8array', t))
                              : new i(r.transformTo('array', t))
                            : new a(t)
                        );
                      };
                    },
                    {
                      '../support': 30,
                      '../utils': 32,
                      './ArrayReader': 17,
                      './NodeBufferReader': 19,
                      './StringReader': 20,
                      './Uint8ArrayReader': 21,
                    },
                  ],
                  23: [
                    function (t, e, n) {
                      'use strict';
                      (n.LOCAL_FILE_HEADER = 'PK'),
                        (n.CENTRAL_FILE_HEADER = 'PK'),
                        (n.CENTRAL_DIRECTORY_END = 'PK'),
                        (n.ZIP64_CENTRAL_DIRECTORY_LOCATOR = 'PK'),
                        (n.ZIP64_CENTRAL_DIRECTORY_END = 'PK'),
                        (n.DATA_DESCRIPTOR = 'PK\b');
                    },
                    {},
                  ],
                  24: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./GenericWorker'),
                        o = t('../utils');

                      function i(t) {
                        r.call(this, 'ConvertWorker to ' + t),
                          (this.destType = t);
                      }
                      o.inherits(i, r),
                        (i.prototype.processChunk = function (t) {
                          this.push({
                            data: o.transformTo(this.destType, t.data),
                            meta: t.meta,
                          });
                        }),
                        (e.exports = i);
                    },
                    {
                      '../utils': 32,
                      './GenericWorker': 28,
                    },
                  ],
                  25: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./GenericWorker'),
                        o = t('../crc32');

                      function i() {
                        r.call(this, 'Crc32Probe'),
                          this.withStreamInfo('crc32', 0);
                      }
                      t('../utils').inherits(i, r),
                        (i.prototype.processChunk = function (t) {
                          (this.streamInfo.crc32 = o(
                            t.data,
                            this.streamInfo.crc32 || 0
                          )),
                            this.push(t);
                        }),
                        (e.exports = i);
                    },
                    {
                      '../crc32': 4,
                      '../utils': 32,
                      './GenericWorker': 28,
                    },
                  ],
                  26: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils'),
                        o = t('./GenericWorker');

                      function i(t) {
                        o.call(this, 'DataLengthProbe for ' + t),
                          (this.propName = t),
                          this.withStreamInfo(t, 0);
                      }
                      r.inherits(i, o),
                        (i.prototype.processChunk = function (t) {
                          if (t) {
                            var e = this.streamInfo[this.propName] || 0;
                            this.streamInfo[this.propName] = e + t.data.length;
                          }
                          o.prototype.processChunk.call(this, t);
                        }),
                        (e.exports = i);
                    },
                    {
                      '../utils': 32,
                      './GenericWorker': 28,
                    },
                  ],
                  27: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils'),
                        o = t('./GenericWorker');

                      function i(t) {
                        o.call(this, 'DataWorker');
                        var e = this;
                        (this.dataIsReady = !1),
                          (this.index = 0),
                          (this.max = 0),
                          (this.data = null),
                          (this.type = ''),
                          (this._tickScheduled = !1),
                          t.then(
                            function (t) {
                              (e.dataIsReady = !0),
                                (e.data = t),
                                (e.max = (t && t.length) || 0),
                                (e.type = r.getTypeOf(t)),
                                e.isPaused || e._tickAndRepeat();
                            },
                            function (t) {
                              e.error(t);
                            }
                          );
                      }
                      r.inherits(i, o),
                        (i.prototype.cleanUp = function () {
                          o.prototype.cleanUp.call(this), (this.data = null);
                        }),
                        (i.prototype.resume = function () {
                          return (
                            !!o.prototype.resume.call(this) &&
                            (!this._tickScheduled &&
                              this.dataIsReady &&
                              ((this._tickScheduled = !0),
                              r.delay(this._tickAndRepeat, [], this)),
                            !0)
                          );
                        }),
                        (i.prototype._tickAndRepeat = function () {
                          (this._tickScheduled = !1),
                            this.isPaused ||
                              this.isFinished ||
                              (this._tick(),
                              this.isFinished ||
                                (r.delay(this._tickAndRepeat, [], this),
                                (this._tickScheduled = !0)));
                        }),
                        (i.prototype._tick = function () {
                          if (this.isPaused || this.isFinished) return !1;
                          var t = null,
                            e = Math.min(this.max, this.index + 16384);
                          if (this.index >= this.max) return this.end();
                          switch (this.type) {
                            case 'string':
                              t = this.data.substring(this.index, e);
                              break;
                            case 'uint8array':
                              t = this.data.subarray(this.index, e);
                              break;
                            case 'array':
                            case 'nodebuffer':
                              t = this.data.slice(this.index, e);
                          }
                          return (
                            (this.index = e),
                            this.push({
                              data: t,
                              meta: {
                                percent: this.max
                                  ? (this.index / this.max) * 100
                                  : 0,
                              },
                            })
                          );
                        }),
                        (e.exports = i);
                    },
                    {
                      '../utils': 32,
                      './GenericWorker': 28,
                    },
                  ],
                  28: [
                    function (t, e, n) {
                      'use strict';

                      function r(t) {
                        (this.name = t || 'default'),
                          (this.streamInfo = {}),
                          (this.generatedError = null),
                          (this.extraStreamInfo = {}),
                          (this.isPaused = !0),
                          (this.isFinished = !1),
                          (this.isLocked = !1),
                          (this._listeners = {
                            data: [],
                            end: [],
                            error: [],
                          }),
                          (this.previous = null);
                      }
                      (r.prototype = {
                        push: function (t) {
                          this.emit('data', t);
                        },
                        end: function () {
                          if (this.isFinished) return !1;
                          this.flush();
                          try {
                            this.emit('end'),
                              this.cleanUp(),
                              (this.isFinished = !0);
                          } catch (t) {
                            this.emit('error', t);
                          }
                          return !0;
                        },
                        error: function (t) {
                          return (
                            !this.isFinished &&
                            (this.isPaused
                              ? (this.generatedError = t)
                              : ((this.isFinished = !0),
                                this.emit('error', t),
                                this.previous && this.previous.error(t),
                                this.cleanUp()),
                            !0)
                          );
                        },
                        on: function (t, e) {
                          return this._listeners[t].push(e), this;
                        },
                        cleanUp: function () {
                          (this.streamInfo =
                            this.generatedError =
                            this.extraStreamInfo =
                              null),
                            (this._listeners = []);
                        },
                        emit: function (t, e) {
                          if (this._listeners[t])
                            for (var n = 0; n < this._listeners[t].length; n++)
                              this._listeners[t][n].call(this, e);
                        },
                        pipe: function (t) {
                          return t.registerPrevious(this);
                        },
                        registerPrevious: function (t) {
                          if (this.isLocked)
                            throw new Error(
                              "The stream '" + this + "' has already been used."
                            );
                          (this.streamInfo = t.streamInfo),
                            this.mergeStreamInfo(),
                            (this.previous = t);
                          var e = this;
                          return (
                            t.on('data', function (t) {
                              e.processChunk(t);
                            }),
                            t.on('end', function () {
                              e.end();
                            }),
                            t.on('error', function (t) {
                              e.error(t);
                            }),
                            this
                          );
                        },
                        pause: function () {
                          return (
                            !this.isPaused &&
                            !this.isFinished &&
                            ((this.isPaused = !0),
                            this.previous && this.previous.pause(),
                            !0)
                          );
                        },
                        resume: function () {
                          if (!this.isPaused || this.isFinished) return !1;
                          var t = (this.isPaused = !1);
                          return (
                            this.generatedError &&
                              (this.error(this.generatedError), (t = !0)),
                            this.previous && this.previous.resume(),
                            !t
                          );
                        },
                        flush: function () {},
                        processChunk: function (t) {
                          this.push(t);
                        },
                        withStreamInfo: function (t, e) {
                          return (
                            (this.extraStreamInfo[t] = e),
                            this.mergeStreamInfo(),
                            this
                          );
                        },
                        mergeStreamInfo: function () {
                          for (var t in this.extraStreamInfo)
                            Object.prototype.hasOwnProperty.call(
                              this.extraStreamInfo,
                              t
                            ) && (this.streamInfo[t] = this.extraStreamInfo[t]);
                        },
                        lock: function () {
                          if (this.isLocked)
                            throw new Error(
                              "The stream '" + this + "' has already been used."
                            );
                          (this.isLocked = !0),
                            this.previous && this.previous.lock();
                        },
                        toString: function () {
                          var t = 'Worker ' + this.name;
                          return this.previous ? this.previous + ' -> ' + t : t;
                        },
                      }),
                        (e.exports = r);
                    },
                    {},
                  ],
                  29: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils'),
                        o = t('./ConvertWorker'),
                        i = t('./GenericWorker'),
                        a = t('../base64'),
                        s = t('../support'),
                        l = t('../external'),
                        c = null;
                      if (s.nodestream)
                        try {
                          c = t('../nodejs/NodejsStreamOutputAdapter');
                        } catch (t) {}

                      function u(t, e) {
                        return new l.Promise(function (n, o) {
                          var i = [],
                            s = t._internalType,
                            l = t._outputType,
                            c = t._mimeType;
                          t.on('data', function (t, n) {
                            i.push(t), e && e(n);
                          })
                            .on('error', function (t) {
                              (i = []), o(t);
                            })
                            .on('end', function () {
                              try {
                                var t = (function (t, e, n) {
                                  switch (t) {
                                    case 'blob':
                                      return r.newBlob(
                                        r.transformTo('arraybuffer', e),
                                        n
                                      );
                                    case 'base64':
                                      return a.encode(e);
                                    default:
                                      return r.transformTo(t, e);
                                  }
                                })(
                                  l,
                                  (function (t, e) {
                                    var n,
                                      r = 0,
                                      o = null,
                                      i = 0;
                                    for (n = 0; n < e.length; n++)
                                      i += e[n].length;
                                    switch (t) {
                                      case 'string':
                                        return e.join('');
                                      case 'array':
                                        return Array.prototype.concat.apply(
                                          [],
                                          e
                                        );
                                      case 'uint8array':
                                        for (
                                          o = new Uint8Array(i), n = 0;
                                          n < e.length;
                                          n++
                                        )
                                          o.set(e[n], r), (r += e[n].length);
                                        return o;
                                      case 'nodebuffer':
                                        return Buffer.concat(e);
                                      default:
                                        throw new Error(
                                          "concat : unsupported type '" +
                                            t +
                                            "'"
                                        );
                                    }
                                  })(s, i),
                                  c
                                );
                                n(t);
                              } catch (t) {
                                o(t);
                              }
                              i = [];
                            })
                            .resume();
                        });
                      }

                      function p(t, e, n) {
                        var a = e;
                        switch (e) {
                          case 'blob':
                          case 'arraybuffer':
                            a = 'uint8array';
                            break;
                          case 'base64':
                            a = 'string';
                        }
                        try {
                          (this._internalType = a),
                            (this._outputType = e),
                            (this._mimeType = n),
                            r.checkSupport(a),
                            (this._worker = t.pipe(new o(a))),
                            t.lock();
                        } catch (t) {
                          (this._worker = new i('error')),
                            this._worker.error(t);
                        }
                      }
                      (p.prototype = {
                        accumulate: function (t) {
                          return u(this, t);
                        },
                        on: function (t, e) {
                          var n = this;
                          return (
                            'data' === t
                              ? this._worker.on(t, function (t) {
                                  e.call(n, t.data, t.meta);
                                })
                              : this._worker.on(t, function () {
                                  r.delay(e, arguments, n);
                                }),
                            this
                          );
                        },
                        resume: function () {
                          return (
                            r.delay(this._worker.resume, [], this._worker), this
                          );
                        },
                        pause: function () {
                          return this._worker.pause(), this;
                        },
                        toNodejsStream: function (t) {
                          if (
                            (r.checkSupport('nodestream'),
                            'nodebuffer' !== this._outputType)
                          )
                            throw new Error(
                              this._outputType +
                                ' is not supported by this method'
                            );
                          return new c(
                            this,
                            {
                              objectMode: 'nodebuffer' !== this._outputType,
                            },
                            t
                          );
                        },
                      }),
                        (e.exports = p);
                    },
                    {
                      '../base64': 1,
                      '../external': 6,
                      '../nodejs/NodejsStreamOutputAdapter': 13,
                      '../support': 30,
                      '../utils': 32,
                      './ConvertWorker': 24,
                      './GenericWorker': 28,
                    },
                  ],
                  30: [
                    function (t, e, n) {
                      'use strict';
                      if (
                        ((n.base64 = !0),
                        (n.array = !0),
                        (n.string = !0),
                        (n.arraybuffer =
                          'undefined' != typeof ArrayBuffer &&
                          'undefined' != typeof Uint8Array),
                        (n.nodebuffer = 'undefined' != typeof Buffer),
                        (n.uint8array = 'undefined' != typeof Uint8Array),
                        'undefined' == typeof ArrayBuffer)
                      )
                        n.blob = !1;
                      else {
                        var r = new ArrayBuffer(0);
                        try {
                          n.blob =
                            0 ===
                            new Blob([r], {
                              type: 'application/zip',
                            }).size;
                        } catch (t) {
                          try {
                            var o = new (self.BlobBuilder ||
                              self.WebKitBlobBuilder ||
                              self.MozBlobBuilder ||
                              self.MSBlobBuilder)();
                            o.append(r),
                              (n.blob =
                                0 === o.getBlob('application/zip').size);
                          } catch (t) {
                            n.blob = !1;
                          }
                        }
                      }
                      try {
                        n.nodestream = !!t('readable-stream').Readable;
                      } catch (t) {
                        n.nodestream = !1;
                      }
                    },
                    {
                      'readable-stream': 16,
                    },
                  ],
                  31: [
                    function (t, e, n) {
                      'use strict';
                      for (
                        var r = t('./utils'),
                          o = t('./support'),
                          i = t('./nodejsUtils'),
                          a = t('./stream/GenericWorker'),
                          s = new Array(256),
                          l = 0;
                        l < 256;
                        l++
                      )
                        s[l] =
                          252 <= l
                            ? 6
                            : 248 <= l
                            ? 5
                            : 240 <= l
                            ? 4
                            : 224 <= l
                            ? 3
                            : 192 <= l
                            ? 2
                            : 1;

                      function c() {
                        a.call(this, 'utf-8 decode'), (this.leftOver = null);
                      }

                      function u() {
                        a.call(this, 'utf-8 encode');
                      }
                      (s[254] = s[254] = 1),
                        (n.utf8encode = function (t) {
                          return o.nodebuffer
                            ? i.newBufferFrom(t, 'utf-8')
                            : (function (t) {
                                var e,
                                  n,
                                  r,
                                  i,
                                  a,
                                  s = t.length,
                                  l = 0;
                                for (i = 0; i < s; i++)
                                  55296 == (64512 & (n = t.charCodeAt(i))) &&
                                    i + 1 < s &&
                                    56320 ==
                                      (64512 & (r = t.charCodeAt(i + 1))) &&
                                    ((n =
                                      65536 +
                                      ((n - 55296) << 10) +
                                      (r - 56320)),
                                    i++),
                                    (l +=
                                      n < 128
                                        ? 1
                                        : n < 2048
                                        ? 2
                                        : n < 65536
                                        ? 3
                                        : 4);
                                for (
                                  e = o.uint8array
                                    ? new Uint8Array(l)
                                    : new Array(l),
                                    i = a = 0;
                                  a < l;
                                  i++
                                )
                                  55296 == (64512 & (n = t.charCodeAt(i))) &&
                                    i + 1 < s &&
                                    56320 ==
                                      (64512 & (r = t.charCodeAt(i + 1))) &&
                                    ((n =
                                      65536 +
                                      ((n - 55296) << 10) +
                                      (r - 56320)),
                                    i++),
                                    n < 128
                                      ? (e[a++] = n)
                                      : (n < 2048
                                          ? (e[a++] = 192 | (n >>> 6))
                                          : (n < 65536
                                              ? (e[a++] = 224 | (n >>> 12))
                                              : ((e[a++] = 240 | (n >>> 18)),
                                                (e[a++] =
                                                  128 | ((n >>> 12) & 63))),
                                            (e[a++] = 128 | ((n >>> 6) & 63))),
                                        (e[a++] = 128 | (63 & n)));
                                return e;
                              })(t);
                        }),
                        (n.utf8decode = function (t) {
                          return o.nodebuffer
                            ? r.transformTo('nodebuffer', t).toString('utf-8')
                            : (function (t) {
                                var e,
                                  n,
                                  o,
                                  i,
                                  a = t.length,
                                  l = new Array(2 * a);
                                for (e = n = 0; e < a; )
                                  if ((o = t[e++]) < 128) l[n++] = o;
                                  else if (4 < (i = s[o]))
                                    (l[n++] = 65533), (e += i - 1);
                                  else {
                                    for (
                                      o &= 2 === i ? 31 : 3 === i ? 15 : 7;
                                      1 < i && e < a;

                                    )
                                      (o = (o << 6) | (63 & t[e++])), i--;
                                    1 < i
                                      ? (l[n++] = 65533)
                                      : o < 65536
                                      ? (l[n++] = o)
                                      : ((o -= 65536),
                                        (l[n++] = 55296 | ((o >> 10) & 1023)),
                                        (l[n++] = 56320 | (1023 & o)));
                                  }
                                return (
                                  l.length !== n &&
                                    (l.subarray
                                      ? (l = l.subarray(0, n))
                                      : (l.length = n)),
                                  r.applyFromCharCode(l)
                                );
                              })(
                                (t = r.transformTo(
                                  o.uint8array ? 'uint8array' : 'array',
                                  t
                                ))
                              );
                        }),
                        r.inherits(c, a),
                        (c.prototype.processChunk = function (t) {
                          var e = r.transformTo(
                            o.uint8array ? 'uint8array' : 'array',
                            t.data
                          );
                          if (this.leftOver && this.leftOver.length) {
                            if (o.uint8array) {
                              var i = e;
                              (e = new Uint8Array(
                                i.length + this.leftOver.length
                              )).set(this.leftOver, 0),
                                e.set(i, this.leftOver.length);
                            } else e = this.leftOver.concat(e);
                            this.leftOver = null;
                          }
                          var a = (function (t, e) {
                              var n;
                              for (
                                (e = e || t.length) > t.length &&
                                  (e = t.length),
                                  n = e - 1;
                                0 <= n && 128 == (192 & t[n]);

                              )
                                n--;
                              return n < 0 || 0 === n
                                ? e
                                : n + s[t[n]] > e
                                ? n
                                : e;
                            })(e),
                            l = e;
                          a !== e.length &&
                            (o.uint8array
                              ? ((l = e.subarray(0, a)),
                                (this.leftOver = e.subarray(a, e.length)))
                              : ((l = e.slice(0, a)),
                                (this.leftOver = e.slice(a, e.length)))),
                            this.push({
                              data: n.utf8decode(l),
                              meta: t.meta,
                            });
                        }),
                        (c.prototype.flush = function () {
                          this.leftOver &&
                            this.leftOver.length &&
                            (this.push({
                              data: n.utf8decode(this.leftOver),
                              meta: {},
                            }),
                            (this.leftOver = null));
                        }),
                        (n.Utf8DecodeWorker = c),
                        r.inherits(u, a),
                        (u.prototype.processChunk = function (t) {
                          this.push({
                            data: n.utf8encode(t.data),
                            meta: t.meta,
                          });
                        }),
                        (n.Utf8EncodeWorker = u);
                    },
                    {
                      './nodejsUtils': 14,
                      './stream/GenericWorker': 28,
                      './support': 30,
                      './utils': 32,
                    },
                  ],
                  32: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./support'),
                        o = t('./base64'),
                        i = t('./nodejsUtils'),
                        a = t('./external');

                      function s(t) {
                        return t;
                      }

                      function l(t, e) {
                        for (var n = 0; n < t.length; ++n)
                          e[n] = 255 & t.charCodeAt(n);
                        return e;
                      }
                      t('setimmediate'),
                        (n.newBlob = function (t, e) {
                          n.checkSupport('blob');
                          try {
                            return new Blob([t], {
                              type: e,
                            });
                          } catch (n) {
                            try {
                              var r = new (self.BlobBuilder ||
                                self.WebKitBlobBuilder ||
                                self.MozBlobBuilder ||
                                self.MSBlobBuilder)();
                              return r.append(t), r.getBlob(e);
                            } catch (t) {
                              throw new Error(
                                "Bug : can't construct the Blob."
                              );
                            }
                          }
                        });
                      var c = {
                        stringifyByChunk: function (t, e, n) {
                          var r = [],
                            o = 0,
                            i = t.length;
                          if (i <= n) return String.fromCharCode.apply(null, t);
                          for (; o < i; )
                            'array' === e || 'nodebuffer' === e
                              ? r.push(
                                  String.fromCharCode.apply(
                                    null,
                                    t.slice(o, Math.min(o + n, i))
                                  )
                                )
                              : r.push(
                                  String.fromCharCode.apply(
                                    null,
                                    t.subarray(o, Math.min(o + n, i))
                                  )
                                ),
                              (o += n);
                          return r.join('');
                        },
                        stringifyByChar: function (t) {
                          for (var e = '', n = 0; n < t.length; n++)
                            e += String.fromCharCode(t[n]);
                          return e;
                        },
                        applyCanBeUsed: {
                          uint8array: (function () {
                            try {
                              return (
                                r.uint8array &&
                                1 ===
                                  String.fromCharCode.apply(
                                    null,
                                    new Uint8Array(1)
                                  ).length
                              );
                            } catch (t) {
                              return !1;
                            }
                          })(),
                          nodebuffer: (function () {
                            try {
                              return (
                                r.nodebuffer &&
                                1 ===
                                  String.fromCharCode.apply(
                                    null,
                                    i.allocBuffer(1)
                                  ).length
                              );
                            } catch (t) {
                              return !1;
                            }
                          })(),
                        },
                      };

                      function u(t) {
                        var e = 65536,
                          r = n.getTypeOf(t),
                          o = !0;
                        if (
                          ('uint8array' === r
                            ? (o = c.applyCanBeUsed.uint8array)
                            : 'nodebuffer' === r &&
                              (o = c.applyCanBeUsed.nodebuffer),
                          o)
                        )
                          for (; 1 < e; )
                            try {
                              return c.stringifyByChunk(t, r, e);
                            } catch (t) {
                              e = Math.floor(e / 2);
                            }
                        return c.stringifyByChar(t);
                      }

                      function p(t, e) {
                        for (var n = 0; n < t.length; n++) e[n] = t[n];
                        return e;
                      }
                      n.applyFromCharCode = u;
                      var d = {};
                      (d.string = {
                        string: s,
                        array: function (t) {
                          return l(t, new Array(t.length));
                        },
                        arraybuffer: function (t) {
                          return d.string.uint8array(t).buffer;
                        },
                        uint8array: function (t) {
                          return l(t, new Uint8Array(t.length));
                        },
                        nodebuffer: function (t) {
                          return l(t, i.allocBuffer(t.length));
                        },
                      }),
                        (d.array = {
                          string: u,
                          array: s,
                          arraybuffer: function (t) {
                            return new Uint8Array(t).buffer;
                          },
                          uint8array: function (t) {
                            return new Uint8Array(t);
                          },
                          nodebuffer: function (t) {
                            return i.newBufferFrom(t);
                          },
                        }),
                        (d.arraybuffer = {
                          string: function (t) {
                            return u(new Uint8Array(t));
                          },
                          array: function (t) {
                            return p(
                              new Uint8Array(t),
                              new Array(t.byteLength)
                            );
                          },
                          arraybuffer: s,
                          uint8array: function (t) {
                            return new Uint8Array(t);
                          },
                          nodebuffer: function (t) {
                            return i.newBufferFrom(new Uint8Array(t));
                          },
                        }),
                        (d.uint8array = {
                          string: u,
                          array: function (t) {
                            return p(t, new Array(t.length));
                          },
                          arraybuffer: function (t) {
                            return t.buffer;
                          },
                          uint8array: s,
                          nodebuffer: function (t) {
                            return i.newBufferFrom(t);
                          },
                        }),
                        (d.nodebuffer = {
                          string: u,
                          array: function (t) {
                            return p(t, new Array(t.length));
                          },
                          arraybuffer: function (t) {
                            return d.nodebuffer.uint8array(t).buffer;
                          },
                          uint8array: function (t) {
                            return p(t, new Uint8Array(t.length));
                          },
                          nodebuffer: s,
                        }),
                        (n.transformTo = function (t, e) {
                          if (((e = e || ''), !t)) return e;
                          n.checkSupport(t);
                          var r = n.getTypeOf(e);
                          return d[r][t](e);
                        }),
                        (n.resolve = function (t) {
                          for (
                            var e = t.split('/'), n = [], r = 0;
                            r < e.length;
                            r++
                          ) {
                            var o = e[r];
                            '.' === o ||
                              ('' === o && 0 !== r && r !== e.length - 1) ||
                              ('..' === o ? n.pop() : n.push(o));
                          }
                          return n.join('/');
                        }),
                        (n.getTypeOf = function (t) {
                          return 'string' == typeof t
                            ? 'string'
                            : '[object Array]' ===
                              Object.prototype.toString.call(t)
                            ? 'array'
                            : r.nodebuffer && i.isBuffer(t)
                            ? 'nodebuffer'
                            : r.uint8array && t instanceof Uint8Array
                            ? 'uint8array'
                            : r.arraybuffer && t instanceof ArrayBuffer
                            ? 'arraybuffer'
                            : void 0;
                        }),
                        (n.checkSupport = function (t) {
                          if (!r[t.toLowerCase()])
                            throw new Error(
                              t + ' is not supported by this platform'
                            );
                        }),
                        (n.MAX_VALUE_16BITS = 65535),
                        (n.MAX_VALUE_32BITS = -1),
                        (n.pretty = function (t) {
                          var e,
                            n,
                            r = '';
                          for (n = 0; n < (t || '').length; n++)
                            r +=
                              '\\x' +
                              ((e = t.charCodeAt(n)) < 16 ? '0' : '') +
                              e.toString(16).toUpperCase();
                          return r;
                        }),
                        (n.delay = function (t, e, n) {
                          setImmediate(function () {
                            t.apply(n || null, e || []);
                          });
                        }),
                        (n.inherits = function (t, e) {
                          function n() {}
                          (n.prototype = e.prototype), (t.prototype = new n());
                        }),
                        (n.extend = function () {
                          var t,
                            e,
                            n = {};
                          for (t = 0; t < arguments.length; t++)
                            for (e in arguments[t])
                              Object.prototype.hasOwnProperty.call(
                                arguments[t],
                                e
                              ) &&
                                void 0 === n[e] &&
                                (n[e] = arguments[t][e]);
                          return n;
                        }),
                        (n.prepareContent = function (t, e, i, s, c) {
                          return a.Promise.resolve(e)
                            .then(function (t) {
                              return r.blob &&
                                (t instanceof Blob ||
                                  -1 !==
                                    ['[object File]', '[object Blob]'].indexOf(
                                      Object.prototype.toString.call(t)
                                    )) &&
                                'undefined' != typeof FileReader
                                ? new a.Promise(function (e, n) {
                                    var r = new FileReader();
                                    (r.onload = function (t) {
                                      e(t.target.result);
                                    }),
                                      (r.onerror = function (t) {
                                        n(t.target.error);
                                      }),
                                      r.readAsArrayBuffer(t);
                                  })
                                : t;
                            })
                            .then(function (e) {
                              var u = n.getTypeOf(e);
                              return u
                                ? ('arraybuffer' === u
                                    ? (e = n.transformTo('uint8array', e))
                                    : 'string' === u &&
                                      (c
                                        ? (e = o.decode(e))
                                        : i &&
                                          !0 !== s &&
                                          (e = (function (t) {
                                            return l(
                                              t,
                                              r.uint8array
                                                ? new Uint8Array(t.length)
                                                : new Array(t.length)
                                            );
                                          })(e))),
                                  e)
                                : a.Promise.reject(
                                    new Error(
                                      "Can't read the data of '" +
                                        t +
                                        "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"
                                    )
                                  );
                            });
                        });
                    },
                    {
                      './base64': 1,
                      './external': 6,
                      './nodejsUtils': 14,
                      './support': 30,
                      setimmediate: 54,
                    },
                  ],
                  33: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./reader/readerFor'),
                        o = t('./utils'),
                        i = t('./signature'),
                        a = t('./zipEntry'),
                        s = t('./support');

                      function l(t) {
                        (this.files = []), (this.loadOptions = t);
                      }
                      (l.prototype = {
                        checkSignature: function (t) {
                          if (!this.reader.readAndCheckSignature(t)) {
                            this.reader.index -= 4;
                            var e = this.reader.readString(4);
                            throw new Error(
                              'Corrupted zip or bug: unexpected signature (' +
                                o.pretty(e) +
                                ', expected ' +
                                o.pretty(t) +
                                ')'
                            );
                          }
                        },
                        isSignature: function (t, e) {
                          var n = this.reader.index;
                          this.reader.setIndex(t);
                          var r = this.reader.readString(4) === e;
                          return this.reader.setIndex(n), r;
                        },
                        readBlockEndOfCentral: function () {
                          (this.diskNumber = this.reader.readInt(2)),
                            (this.diskWithCentralDirStart =
                              this.reader.readInt(2)),
                            (this.centralDirRecordsOnThisDisk =
                              this.reader.readInt(2)),
                            (this.centralDirRecords = this.reader.readInt(2)),
                            (this.centralDirSize = this.reader.readInt(4)),
                            (this.centralDirOffset = this.reader.readInt(4)),
                            (this.zipCommentLength = this.reader.readInt(2));
                          var t = this.reader.readData(this.zipCommentLength),
                            e = s.uint8array ? 'uint8array' : 'array',
                            n = o.transformTo(e, t);
                          this.zipComment = this.loadOptions.decodeFileName(n);
                        },
                        readBlockZip64EndOfCentral: function () {
                          (this.zip64EndOfCentralSize = this.reader.readInt(8)),
                            this.reader.skip(4),
                            (this.diskNumber = this.reader.readInt(4)),
                            (this.diskWithCentralDirStart =
                              this.reader.readInt(4)),
                            (this.centralDirRecordsOnThisDisk =
                              this.reader.readInt(8)),
                            (this.centralDirRecords = this.reader.readInt(8)),
                            (this.centralDirSize = this.reader.readInt(8)),
                            (this.centralDirOffset = this.reader.readInt(8)),
                            (this.zip64ExtensibleData = {});
                          for (
                            var t, e, n, r = this.zip64EndOfCentralSize - 44;
                            0 < r;

                          )
                            (t = this.reader.readInt(2)),
                              (e = this.reader.readInt(4)),
                              (n = this.reader.readData(e)),
                              (this.zip64ExtensibleData[t] = {
                                id: t,
                                length: e,
                                value: n,
                              });
                        },
                        readBlockZip64EndOfCentralLocator: function () {
                          if (
                            ((this.diskWithZip64CentralDirStart =
                              this.reader.readInt(4)),
                            (this.relativeOffsetEndOfZip64CentralDir =
                              this.reader.readInt(8)),
                            (this.disksCount = this.reader.readInt(4)),
                            1 < this.disksCount)
                          )
                            throw new Error(
                              'Multi-volumes zip are not supported'
                            );
                        },
                        readLocalFiles: function () {
                          var t, e;
                          for (t = 0; t < this.files.length; t++)
                            (e = this.files[t]),
                              this.reader.setIndex(e.localHeaderOffset),
                              this.checkSignature(i.LOCAL_FILE_HEADER),
                              e.readLocalPart(this.reader),
                              e.handleUTF8(),
                              e.processAttributes();
                        },
                        readCentralDir: function () {
                          var t;
                          for (
                            this.reader.setIndex(this.centralDirOffset);
                            this.reader.readAndCheckSignature(
                              i.CENTRAL_FILE_HEADER
                            );

                          )
                            (t = new a(
                              {
                                zip64: this.zip64,
                              },
                              this.loadOptions
                            )).readCentralPart(this.reader),
                              this.files.push(t);
                          if (
                            this.centralDirRecords !== this.files.length &&
                            0 !== this.centralDirRecords &&
                            0 === this.files.length
                          )
                            throw new Error(
                              'Corrupted zip or bug: expected ' +
                                this.centralDirRecords +
                                ' records in central dir, got ' +
                                this.files.length
                            );
                        },
                        readEndOfCentral: function () {
                          var t = this.reader.lastIndexOfSignature(
                            i.CENTRAL_DIRECTORY_END
                          );
                          if (t < 0)
                            throw this.isSignature(0, i.LOCAL_FILE_HEADER)
                              ? new Error(
                                  "Corrupted zip: can't find end of central directory"
                                )
                              : new Error(
                                  "Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"
                                );
                          this.reader.setIndex(t);
                          var e = t;
                          if (
                            (this.checkSignature(i.CENTRAL_DIRECTORY_END),
                            this.readBlockEndOfCentral(),
                            this.diskNumber === o.MAX_VALUE_16BITS ||
                              this.diskWithCentralDirStart ===
                                o.MAX_VALUE_16BITS ||
                              this.centralDirRecordsOnThisDisk ===
                                o.MAX_VALUE_16BITS ||
                              this.centralDirRecords === o.MAX_VALUE_16BITS ||
                              this.centralDirSize === o.MAX_VALUE_32BITS ||
                              this.centralDirOffset === o.MAX_VALUE_32BITS)
                          ) {
                            if (
                              ((this.zip64 = !0),
                              (t = this.reader.lastIndexOfSignature(
                                i.ZIP64_CENTRAL_DIRECTORY_LOCATOR
                              )) < 0)
                            )
                              throw new Error(
                                "Corrupted zip: can't find the ZIP64 end of central directory locator"
                              );
                            if (
                              (this.reader.setIndex(t),
                              this.checkSignature(
                                i.ZIP64_CENTRAL_DIRECTORY_LOCATOR
                              ),
                              this.readBlockZip64EndOfCentralLocator(),
                              !this.isSignature(
                                this.relativeOffsetEndOfZip64CentralDir,
                                i.ZIP64_CENTRAL_DIRECTORY_END
                              ) &&
                                ((this.relativeOffsetEndOfZip64CentralDir =
                                  this.reader.lastIndexOfSignature(
                                    i.ZIP64_CENTRAL_DIRECTORY_END
                                  )),
                                this.relativeOffsetEndOfZip64CentralDir < 0))
                            )
                              throw new Error(
                                "Corrupted zip: can't find the ZIP64 end of central directory"
                              );
                            this.reader.setIndex(
                              this.relativeOffsetEndOfZip64CentralDir
                            ),
                              this.checkSignature(
                                i.ZIP64_CENTRAL_DIRECTORY_END
                              ),
                              this.readBlockZip64EndOfCentral();
                          }
                          var n = this.centralDirOffset + this.centralDirSize;
                          this.zip64 &&
                            ((n += 20), (n += 12 + this.zip64EndOfCentralSize));
                          var r = e - n;
                          if (0 < r)
                            this.isSignature(e, i.CENTRAL_FILE_HEADER) ||
                              (this.reader.zero = r);
                          else if (r < 0)
                            throw new Error(
                              'Corrupted zip: missing ' +
                                Math.abs(r) +
                                ' bytes.'
                            );
                        },
                        prepareReader: function (t) {
                          this.reader = r(t);
                        },
                        load: function (t) {
                          this.prepareReader(t),
                            this.readEndOfCentral(),
                            this.readCentralDir(),
                            this.readLocalFiles();
                        },
                      }),
                        (e.exports = l);
                    },
                    {
                      './reader/readerFor': 22,
                      './signature': 23,
                      './support': 30,
                      './utils': 32,
                      './zipEntry': 34,
                    },
                  ],
                  34: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./reader/readerFor'),
                        o = t('./utils'),
                        i = t('./compressedObject'),
                        a = t('./crc32'),
                        s = t('./utf8'),
                        l = t('./compressions'),
                        c = t('./support');

                      function u(t, e) {
                        (this.options = t), (this.loadOptions = e);
                      }
                      (u.prototype = {
                        isEncrypted: function () {
                          return 1 == (1 & this.bitFlag);
                        },
                        useUTF8: function () {
                          return 2048 == (2048 & this.bitFlag);
                        },
                        readLocalPart: function (t) {
                          var e, n;
                          if (
                            (t.skip(22),
                            (this.fileNameLength = t.readInt(2)),
                            (n = t.readInt(2)),
                            (this.fileName = t.readData(this.fileNameLength)),
                            t.skip(n),
                            -1 === this.compressedSize ||
                              -1 === this.uncompressedSize)
                          )
                            throw new Error(
                              "Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)"
                            );
                          if (
                            null ===
                            (e = (function (t) {
                              for (var e in l)
                                if (
                                  Object.prototype.hasOwnProperty.call(l, e) &&
                                  l[e].magic === t
                                )
                                  return l[e];
                              return null;
                            })(this.compressionMethod))
                          )
                            throw new Error(
                              'Corrupted zip : compression ' +
                                o.pretty(this.compressionMethod) +
                                ' unknown (inner file : ' +
                                o.transformTo('string', this.fileName) +
                                ')'
                            );
                          this.decompressed = new i(
                            this.compressedSize,
                            this.uncompressedSize,
                            this.crc32,
                            e,
                            t.readData(this.compressedSize)
                          );
                        },
                        readCentralPart: function (t) {
                          (this.versionMadeBy = t.readInt(2)),
                            t.skip(2),
                            (this.bitFlag = t.readInt(2)),
                            (this.compressionMethod = t.readString(2)),
                            (this.date = t.readDate()),
                            (this.crc32 = t.readInt(4)),
                            (this.compressedSize = t.readInt(4)),
                            (this.uncompressedSize = t.readInt(4));
                          var e = t.readInt(2);
                          if (
                            ((this.extraFieldsLength = t.readInt(2)),
                            (this.fileCommentLength = t.readInt(2)),
                            (this.diskNumberStart = t.readInt(2)),
                            (this.internalFileAttributes = t.readInt(2)),
                            (this.externalFileAttributes = t.readInt(4)),
                            (this.localHeaderOffset = t.readInt(4)),
                            this.isEncrypted())
                          )
                            throw new Error('Encrypted zip are not supported');
                          t.skip(e),
                            this.readExtraFields(t),
                            this.parseZIP64ExtraField(t),
                            (this.fileComment = t.readData(
                              this.fileCommentLength
                            ));
                        },
                        processAttributes: function () {
                          (this.unixPermissions = null),
                            (this.dosPermissions = null);
                          var t = this.versionMadeBy >> 8;
                          (this.dir = !!(16 & this.externalFileAttributes)),
                            0 == t &&
                              (this.dosPermissions =
                                63 & this.externalFileAttributes),
                            3 == t &&
                              (this.unixPermissions =
                                (this.externalFileAttributes >> 16) & 65535),
                            this.dir ||
                              '/' !== this.fileNameStr.slice(-1) ||
                              (this.dir = !0);
                        },
                        parseZIP64ExtraField: function () {
                          if (this.extraFields[1]) {
                            var t = r(this.extraFields[1].value);
                            this.uncompressedSize === o.MAX_VALUE_32BITS &&
                              (this.uncompressedSize = t.readInt(8)),
                              this.compressedSize === o.MAX_VALUE_32BITS &&
                                (this.compressedSize = t.readInt(8)),
                              this.localHeaderOffset === o.MAX_VALUE_32BITS &&
                                (this.localHeaderOffset = t.readInt(8)),
                              this.diskNumberStart === o.MAX_VALUE_32BITS &&
                                (this.diskNumberStart = t.readInt(4));
                          }
                        },
                        readExtraFields: function (t) {
                          var e,
                            n,
                            r,
                            o = t.index + this.extraFieldsLength;
                          for (
                            this.extraFields || (this.extraFields = {});
                            t.index + 4 < o;

                          )
                            (e = t.readInt(2)),
                              (n = t.readInt(2)),
                              (r = t.readData(n)),
                              (this.extraFields[e] = {
                                id: e,
                                length: n,
                                value: r,
                              });
                          t.setIndex(o);
                        },
                        handleUTF8: function () {
                          var t = c.uint8array ? 'uint8array' : 'array';
                          if (this.useUTF8())
                            (this.fileNameStr = s.utf8decode(this.fileName)),
                              (this.fileCommentStr = s.utf8decode(
                                this.fileComment
                              ));
                          else {
                            var e = this.findExtraFieldUnicodePath();
                            if (null !== e) this.fileNameStr = e;
                            else {
                              var n = o.transformTo(t, this.fileName);
                              this.fileNameStr =
                                this.loadOptions.decodeFileName(n);
                            }
                            var r = this.findExtraFieldUnicodeComment();
                            if (null !== r) this.fileCommentStr = r;
                            else {
                              var i = o.transformTo(t, this.fileComment);
                              this.fileCommentStr =
                                this.loadOptions.decodeFileName(i);
                            }
                          }
                        },
                        findExtraFieldUnicodePath: function () {
                          var t = this.extraFields[28789];
                          if (t) {
                            var e = r(t.value);
                            return 1 !== e.readInt(1) ||
                              a(this.fileName) !== e.readInt(4)
                              ? null
                              : s.utf8decode(e.readData(t.length - 5));
                          }
                          return null;
                        },
                        findExtraFieldUnicodeComment: function () {
                          var t = this.extraFields[25461];
                          if (t) {
                            var e = r(t.value);
                            return 1 !== e.readInt(1) ||
                              a(this.fileComment) !== e.readInt(4)
                              ? null
                              : s.utf8decode(e.readData(t.length - 5));
                          }
                          return null;
                        },
                      }),
                        (e.exports = u);
                    },
                    {
                      './compressedObject': 2,
                      './compressions': 3,
                      './crc32': 4,
                      './reader/readerFor': 22,
                      './support': 30,
                      './utf8': 31,
                      './utils': 32,
                    },
                  ],
                  35: [
                    function (t, e, n) {
                      'use strict';

                      function r(t, e, n) {
                        (this.name = t),
                          (this.dir = n.dir),
                          (this.date = n.date),
                          (this.comment = n.comment),
                          (this.unixPermissions = n.unixPermissions),
                          (this.dosPermissions = n.dosPermissions),
                          (this._data = e),
                          (this._dataBinary = n.binary),
                          (this.options = {
                            compression: n.compression,
                            compressionOptions: n.compressionOptions,
                          });
                      }
                      var o = t('./stream/StreamHelper'),
                        i = t('./stream/DataWorker'),
                        a = t('./utf8'),
                        s = t('./compressedObject'),
                        l = t('./stream/GenericWorker');
                      r.prototype = {
                        internalStream: function (t) {
                          var e = null,
                            n = 'string';
                          try {
                            if (!t)
                              throw new Error('No output type specified.');
                            var r =
                              'string' === (n = t.toLowerCase()) ||
                              'text' === n;
                            ('binarystring' !== n && 'text' !== n) ||
                              (n = 'string'),
                              (e = this._decompressWorker());
                            var i = !this._dataBinary;
                            i && !r && (e = e.pipe(new a.Utf8EncodeWorker())),
                              !i && r && (e = e.pipe(new a.Utf8DecodeWorker()));
                          } catch (t) {
                            (e = new l('error')).error(t);
                          }
                          return new o(e, n, '');
                        },
                        async: function (t, e) {
                          return this.internalStream(t).accumulate(e);
                        },
                        nodeStream: function (t, e) {
                          return this.internalStream(
                            t || 'nodebuffer'
                          ).toNodejsStream(e);
                        },
                        _compressWorker: function (t, e) {
                          if (
                            this._data instanceof s &&
                            this._data.compression.magic === t.magic
                          )
                            return this._data.getCompressedWorker();
                          var n = this._decompressWorker();
                          return (
                            this._dataBinary ||
                              (n = n.pipe(new a.Utf8EncodeWorker())),
                            s.createWorkerFrom(n, t, e)
                          );
                        },
                        _decompressWorker: function () {
                          return this._data instanceof s
                            ? this._data.getContentWorker()
                            : this._data instanceof l
                            ? this._data
                            : new i(this._data);
                        },
                      };
                      for (
                        var c = [
                            'asText',
                            'asBinary',
                            'asNodeBuffer',
                            'asUint8Array',
                            'asArrayBuffer',
                          ],
                          u = function () {
                            throw new Error(
                              'This method has been removed in JSZip 3.0, please check the upgrade guide.'
                            );
                          },
                          p = 0;
                        p < c.length;
                        p++
                      )
                        r.prototype[c[p]] = u;
                      e.exports = r;
                    },
                    {
                      './compressedObject': 2,
                      './stream/DataWorker': 27,
                      './stream/GenericWorker': 28,
                      './stream/StreamHelper': 29,
                      './utf8': 31,
                    },
                  ],
                  36: [
                    function (t, e, r) {
                      (function (t) {
                        'use strict';
                        var n,
                          r,
                          o = t.MutationObserver || t.WebKitMutationObserver;
                        if (o) {
                          var i = 0,
                            a = new o(u),
                            s = t.document.createTextNode('');
                          a.observe(s, {
                            characterData: !0,
                          }),
                            (n = function () {
                              s.data = i = ++i % 2;
                            });
                        } else if (
                          t.setImmediate ||
                          void 0 === t.MessageChannel
                        )
                          n =
                            'document' in t &&
                            'onreadystatechange' in
                              t.document.createElement('script')
                              ? function () {
                                  var e = t.document.createElement('script');
                                  (e.onreadystatechange = function () {
                                    u(),
                                      (e.onreadystatechange = null),
                                      e.parentNode.removeChild(e),
                                      (e = null);
                                  }),
                                    t.document.documentElement.appendChild(e);
                                }
                              : function () {
                                  setTimeout(u, 0);
                                };
                        else {
                          var l = new t.MessageChannel();
                          (l.port1.onmessage = u),
                            (n = function () {
                              l.port2.postMessage(0);
                            });
                        }
                        var c = [];

                        function u() {
                          var t, e;
                          r = !0;
                          for (var n = c.length; n; ) {
                            for (e = c, c = [], t = -1; ++t < n; ) e[t]();
                            n = c.length;
                          }
                          r = !1;
                        }
                        e.exports = function (t) {
                          1 !== c.push(t) || r || n();
                        };
                      }).call(
                        this,
                        void 0 !== n.g
                          ? n.g
                          : 'undefined' != typeof self
                          ? self
                          : 'undefined' != typeof window
                          ? window
                          : {}
                      );
                    },
                    {},
                  ],
                  37: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('immediate');

                      function o() {}
                      var i = {},
                        a = ['REJECTED'],
                        s = ['FULFILLED'],
                        l = ['PENDING'];

                      function c(t) {
                        if ('function' != typeof t)
                          throw new TypeError('resolver must be a function');
                        (this.state = l),
                          (this.queue = []),
                          (this.outcome = void 0),
                          t !== o && f(this, t);
                      }

                      function u(t, e, n) {
                        (this.promise = t),
                          'function' == typeof e &&
                            ((this.onFulfilled = e),
                            (this.callFulfilled = this.otherCallFulfilled)),
                          'function' == typeof n &&
                            ((this.onRejected = n),
                            (this.callRejected = this.otherCallRejected));
                      }

                      function p(t, e, n) {
                        r(function () {
                          var r;
                          try {
                            r = e(n);
                          } catch (r) {
                            return i.reject(t, r);
                          }
                          r === t
                            ? i.reject(
                                t,
                                new TypeError(
                                  'Cannot resolve promise with itself'
                                )
                              )
                            : i.resolve(t, r);
                        });
                      }

                      function d(t) {
                        var e = t && t.then;
                        if (
                          t &&
                          ('object' == typeof t || 'function' == typeof t) &&
                          'function' == typeof e
                        )
                          return function () {
                            e.apply(t, arguments);
                          };
                      }

                      function f(t, e) {
                        var n = !1;

                        function r(e) {
                          n || ((n = !0), i.reject(t, e));
                        }

                        function o(e) {
                          n || ((n = !0), i.resolve(t, e));
                        }
                        var a = h(function () {
                          e(o, r);
                        });
                        'error' === a.status && r(a.value);
                      }

                      function h(t, e) {
                        var n = {};
                        try {
                          (n.value = t(e)), (n.status = 'success');
                        } catch (t) {
                          (n.status = 'error'), (n.value = t);
                        }
                        return n;
                      }
                      ((e.exports = c).prototype.finally = function (t) {
                        if ('function' != typeof t) return this;
                        var e = this.constructor;
                        return this.then(
                          function (n) {
                            return e.resolve(t()).then(function () {
                              return n;
                            });
                          },
                          function (n) {
                            return e.resolve(t()).then(function () {
                              throw n;
                            });
                          }
                        );
                      }),
                        (c.prototype.catch = function (t) {
                          return this.then(null, t);
                        }),
                        (c.prototype.then = function (t, e) {
                          if (
                            ('function' != typeof t && this.state === s) ||
                            ('function' != typeof e && this.state === a)
                          )
                            return this;
                          var n = new this.constructor(o);
                          return (
                            this.state !== l
                              ? p(n, this.state === s ? t : e, this.outcome)
                              : this.queue.push(new u(n, t, e)),
                            n
                          );
                        }),
                        (u.prototype.callFulfilled = function (t) {
                          i.resolve(this.promise, t);
                        }),
                        (u.prototype.otherCallFulfilled = function (t) {
                          p(this.promise, this.onFulfilled, t);
                        }),
                        (u.prototype.callRejected = function (t) {
                          i.reject(this.promise, t);
                        }),
                        (u.prototype.otherCallRejected = function (t) {
                          p(this.promise, this.onRejected, t);
                        }),
                        (i.resolve = function (t, e) {
                          var n = h(d, e);
                          if ('error' === n.status) return i.reject(t, n.value);
                          var r = n.value;
                          if (r) f(t, r);
                          else {
                            (t.state = s), (t.outcome = e);
                            for (var o = -1, a = t.queue.length; ++o < a; )
                              t.queue[o].callFulfilled(e);
                          }
                          return t;
                        }),
                        (i.reject = function (t, e) {
                          (t.state = a), (t.outcome = e);
                          for (var n = -1, r = t.queue.length; ++n < r; )
                            t.queue[n].callRejected(e);
                          return t;
                        }),
                        (c.resolve = function (t) {
                          return t instanceof this
                            ? t
                            : i.resolve(new this(o), t);
                        }),
                        (c.reject = function (t) {
                          var e = new this(o);
                          return i.reject(e, t);
                        }),
                        (c.all = function (t) {
                          var e = this;
                          if (
                            '[object Array]' !==
                            Object.prototype.toString.call(t)
                          )
                            return this.reject(
                              new TypeError('must be an array')
                            );
                          var n = t.length,
                            r = !1;
                          if (!n) return this.resolve([]);
                          for (
                            var a = new Array(n),
                              s = 0,
                              l = -1,
                              c = new this(o);
                            ++l < n;

                          )
                            u(t[l], l);
                          return c;

                          function u(t, o) {
                            e.resolve(t).then(
                              function (t) {
                                (a[o] = t),
                                  ++s !== n || r || ((r = !0), i.resolve(c, a));
                              },
                              function (t) {
                                r || ((r = !0), i.reject(c, t));
                              }
                            );
                          }
                        }),
                        (c.race = function (t) {
                          var e = this;
                          if (
                            '[object Array]' !==
                            Object.prototype.toString.call(t)
                          )
                            return this.reject(
                              new TypeError('must be an array')
                            );
                          var n = t.length,
                            r = !1;
                          if (!n) return this.resolve([]);
                          for (var a, s = -1, l = new this(o); ++s < n; )
                            (a = t[s]),
                              e.resolve(a).then(
                                function (t) {
                                  r || ((r = !0), i.resolve(l, t));
                                },
                                function (t) {
                                  r || ((r = !0), i.reject(l, t));
                                }
                              );
                          return l;
                        });
                    },
                    {
                      immediate: 36,
                    },
                  ],
                  38: [
                    function (t, e, n) {
                      'use strict';
                      var r = {};
                      (0, t('./lib/utils/common').assign)(
                        r,
                        t('./lib/deflate'),
                        t('./lib/inflate'),
                        t('./lib/zlib/constants')
                      ),
                        (e.exports = r);
                    },
                    {
                      './lib/deflate': 39,
                      './lib/inflate': 40,
                      './lib/utils/common': 41,
                      './lib/zlib/constants': 44,
                    },
                  ],
                  39: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./zlib/deflate'),
                        o = t('./utils/common'),
                        i = t('./utils/strings'),
                        a = t('./zlib/messages'),
                        s = t('./zlib/zstream'),
                        l = Object.prototype.toString,
                        c = 0,
                        u = -1,
                        p = 0,
                        d = 8;

                      function f(t) {
                        if (!(this instanceof f)) return new f(t);
                        this.options = o.assign(
                          {
                            level: u,
                            method: d,
                            chunkSize: 16384,
                            windowBits: 15,
                            memLevel: 8,
                            strategy: p,
                            to: '',
                          },
                          t || {}
                        );
                        var e = this.options;
                        e.raw && 0 < e.windowBits
                          ? (e.windowBits = -e.windowBits)
                          : e.gzip &&
                            0 < e.windowBits &&
                            e.windowBits < 16 &&
                            (e.windowBits += 16),
                          (this.err = 0),
                          (this.msg = ''),
                          (this.ended = !1),
                          (this.chunks = []),
                          (this.strm = new s()),
                          (this.strm.avail_out = 0);
                        var n = r.deflateInit2(
                          this.strm,
                          e.level,
                          e.method,
                          e.windowBits,
                          e.memLevel,
                          e.strategy
                        );
                        if (n !== c) throw new Error(a[n]);
                        if (
                          (e.header && r.deflateSetHeader(this.strm, e.header),
                          e.dictionary)
                        ) {
                          var h;
                          if (
                            ((h =
                              'string' == typeof e.dictionary
                                ? i.string2buf(e.dictionary)
                                : '[object ArrayBuffer]' ===
                                  l.call(e.dictionary)
                                ? new Uint8Array(e.dictionary)
                                : e.dictionary),
                            (n = r.deflateSetDictionary(this.strm, h)) !== c)
                          )
                            throw new Error(a[n]);
                          this._dict_set = !0;
                        }
                      }

                      function h(t, e) {
                        var n = new f(e);
                        if ((n.push(t, !0), n.err)) throw n.msg || a[n.err];
                        return n.result;
                      }
                      (f.prototype.push = function (t, e) {
                        var n,
                          a,
                          s = this.strm,
                          u = this.options.chunkSize;
                        if (this.ended) return !1;
                        (a = e === ~~e ? e : !0 === e ? 4 : 0),
                          'string' == typeof t
                            ? (s.input = i.string2buf(t))
                            : '[object ArrayBuffer]' === l.call(t)
                            ? (s.input = new Uint8Array(t))
                            : (s.input = t),
                          (s.next_in = 0),
                          (s.avail_in = s.input.length);
                        do {
                          if (
                            (0 === s.avail_out &&
                              ((s.output = new o.Buf8(u)),
                              (s.next_out = 0),
                              (s.avail_out = u)),
                            1 !== (n = r.deflate(s, a)) && n !== c)
                          )
                            return this.onEnd(n), !(this.ended = !0);
                          (0 !== s.avail_out &&
                            (0 !== s.avail_in || (4 !== a && 2 !== a))) ||
                            ('string' === this.options.to
                              ? this.onData(
                                  i.buf2binstring(
                                    o.shrinkBuf(s.output, s.next_out)
                                  )
                                )
                              : this.onData(o.shrinkBuf(s.output, s.next_out)));
                        } while (
                          (0 < s.avail_in || 0 === s.avail_out) &&
                          1 !== n
                        );
                        return 4 === a
                          ? ((n = r.deflateEnd(this.strm)),
                            this.onEnd(n),
                            (this.ended = !0),
                            n === c)
                          : 2 !== a || (this.onEnd(c), !(s.avail_out = 0));
                      }),
                        (f.prototype.onData = function (t) {
                          this.chunks.push(t);
                        }),
                        (f.prototype.onEnd = function (t) {
                          t === c &&
                            ('string' === this.options.to
                              ? (this.result = this.chunks.join(''))
                              : (this.result = o.flattenChunks(this.chunks))),
                            (this.chunks = []),
                            (this.err = t),
                            (this.msg = this.strm.msg);
                        }),
                        (n.Deflate = f),
                        (n.deflate = h),
                        (n.deflateRaw = function (t, e) {
                          return ((e = e || {}).raw = !0), h(t, e);
                        }),
                        (n.gzip = function (t, e) {
                          return ((e = e || {}).gzip = !0), h(t, e);
                        });
                    },
                    {
                      './utils/common': 41,
                      './utils/strings': 42,
                      './zlib/deflate': 46,
                      './zlib/messages': 51,
                      './zlib/zstream': 53,
                    },
                  ],
                  40: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./zlib/inflate'),
                        o = t('./utils/common'),
                        i = t('./utils/strings'),
                        a = t('./zlib/constants'),
                        s = t('./zlib/messages'),
                        l = t('./zlib/zstream'),
                        c = t('./zlib/gzheader'),
                        u = Object.prototype.toString;

                      function p(t) {
                        if (!(this instanceof p)) return new p(t);
                        this.options = o.assign(
                          {
                            chunkSize: 16384,
                            windowBits: 0,
                            to: '',
                          },
                          t || {}
                        );
                        var e = this.options;
                        e.raw &&
                          0 <= e.windowBits &&
                          e.windowBits < 16 &&
                          ((e.windowBits = -e.windowBits),
                          0 === e.windowBits && (e.windowBits = -15)),
                          !(0 <= e.windowBits && e.windowBits < 16) ||
                            (t && t.windowBits) ||
                            (e.windowBits += 32),
                          15 < e.windowBits &&
                            e.windowBits < 48 &&
                            0 == (15 & e.windowBits) &&
                            (e.windowBits |= 15),
                          (this.err = 0),
                          (this.msg = ''),
                          (this.ended = !1),
                          (this.chunks = []),
                          (this.strm = new l()),
                          (this.strm.avail_out = 0);
                        var n = r.inflateInit2(this.strm, e.windowBits);
                        if (n !== a.Z_OK) throw new Error(s[n]);
                        (this.header = new c()),
                          r.inflateGetHeader(this.strm, this.header);
                      }

                      function d(t, e) {
                        var n = new p(e);
                        if ((n.push(t, !0), n.err)) throw n.msg || s[n.err];
                        return n.result;
                      }
                      (p.prototype.push = function (t, e) {
                        var n,
                          s,
                          l,
                          c,
                          p,
                          d,
                          f = this.strm,
                          h = this.options.chunkSize,
                          g = this.options.dictionary,
                          v = !1;
                        if (this.ended) return !1;
                        (s =
                          e === ~~e ? e : !0 === e ? a.Z_FINISH : a.Z_NO_FLUSH),
                          'string' == typeof t
                            ? (f.input = i.binstring2buf(t))
                            : '[object ArrayBuffer]' === u.call(t)
                            ? (f.input = new Uint8Array(t))
                            : (f.input = t),
                          (f.next_in = 0),
                          (f.avail_in = f.input.length);
                        do {
                          if (
                            (0 === f.avail_out &&
                              ((f.output = new o.Buf8(h)),
                              (f.next_out = 0),
                              (f.avail_out = h)),
                            (n = r.inflate(f, a.Z_NO_FLUSH)) ===
                              a.Z_NEED_DICT &&
                              g &&
                              ((d =
                                'string' == typeof g
                                  ? i.string2buf(g)
                                  : '[object ArrayBuffer]' === u.call(g)
                                  ? new Uint8Array(g)
                                  : g),
                              (n = r.inflateSetDictionary(this.strm, d))),
                            n === a.Z_BUF_ERROR &&
                              !0 === v &&
                              ((n = a.Z_OK), (v = !1)),
                            n !== a.Z_STREAM_END && n !== a.Z_OK)
                          )
                            return this.onEnd(n), !(this.ended = !0);
                          f.next_out &&
                            ((0 !== f.avail_out &&
                              n !== a.Z_STREAM_END &&
                              (0 !== f.avail_in ||
                                (s !== a.Z_FINISH && s !== a.Z_SYNC_FLUSH))) ||
                              ('string' === this.options.to
                                ? ((l = i.utf8border(f.output, f.next_out)),
                                  (c = f.next_out - l),
                                  (p = i.buf2string(f.output, l)),
                                  (f.next_out = c),
                                  (f.avail_out = h - c),
                                  c && o.arraySet(f.output, f.output, l, c, 0),
                                  this.onData(p))
                                : this.onData(
                                    o.shrinkBuf(f.output, f.next_out)
                                  ))),
                            0 === f.avail_in && 0 === f.avail_out && (v = !0);
                        } while (
                          (0 < f.avail_in || 0 === f.avail_out) &&
                          n !== a.Z_STREAM_END
                        );
                        return (
                          n === a.Z_STREAM_END && (s = a.Z_FINISH),
                          s === a.Z_FINISH
                            ? ((n = r.inflateEnd(this.strm)),
                              this.onEnd(n),
                              (this.ended = !0),
                              n === a.Z_OK)
                            : s !== a.Z_SYNC_FLUSH ||
                              (this.onEnd(a.Z_OK), !(f.avail_out = 0))
                        );
                      }),
                        (p.prototype.onData = function (t) {
                          this.chunks.push(t);
                        }),
                        (p.prototype.onEnd = function (t) {
                          t === a.Z_OK &&
                            ('string' === this.options.to
                              ? (this.result = this.chunks.join(''))
                              : (this.result = o.flattenChunks(this.chunks))),
                            (this.chunks = []),
                            (this.err = t),
                            (this.msg = this.strm.msg);
                        }),
                        (n.Inflate = p),
                        (n.inflate = d),
                        (n.inflateRaw = function (t, e) {
                          return ((e = e || {}).raw = !0), d(t, e);
                        }),
                        (n.ungzip = d);
                    },
                    {
                      './utils/common': 41,
                      './utils/strings': 42,
                      './zlib/constants': 44,
                      './zlib/gzheader': 47,
                      './zlib/inflate': 49,
                      './zlib/messages': 51,
                      './zlib/zstream': 53,
                    },
                  ],
                  41: [
                    function (t, e, n) {
                      'use strict';
                      var r =
                        'undefined' != typeof Uint8Array &&
                        'undefined' != typeof Uint16Array &&
                        'undefined' != typeof Int32Array;
                      (n.assign = function (t) {
                        for (
                          var e = Array.prototype.slice.call(arguments, 1);
                          e.length;

                        ) {
                          var n = e.shift();
                          if (n) {
                            if ('object' != typeof n)
                              throw new TypeError(n + 'must be non-object');
                            for (var r in n)
                              n.hasOwnProperty(r) && (t[r] = n[r]);
                          }
                        }
                        return t;
                      }),
                        (n.shrinkBuf = function (t, e) {
                          return t.length === e
                            ? t
                            : t.subarray
                            ? t.subarray(0, e)
                            : ((t.length = e), t);
                        });
                      var o = {
                          arraySet: function (t, e, n, r, o) {
                            if (e.subarray && t.subarray)
                              t.set(e.subarray(n, n + r), o);
                            else
                              for (var i = 0; i < r; i++) t[o + i] = e[n + i];
                          },
                          flattenChunks: function (t) {
                            var e, n, r, o, i, a;
                            for (e = r = 0, n = t.length; e < n; e++)
                              r += t[e].length;
                            for (
                              a = new Uint8Array(r), e = o = 0, n = t.length;
                              e < n;
                              e++
                            )
                              (i = t[e]), a.set(i, o), (o += i.length);
                            return a;
                          },
                        },
                        i = {
                          arraySet: function (t, e, n, r, o) {
                            for (var i = 0; i < r; i++) t[o + i] = e[n + i];
                          },
                          flattenChunks: function (t) {
                            return [].concat.apply([], t);
                          },
                        };
                      (n.setTyped = function (t) {
                        t
                          ? ((n.Buf8 = Uint8Array),
                            (n.Buf16 = Uint16Array),
                            (n.Buf32 = Int32Array),
                            n.assign(n, o))
                          : ((n.Buf8 = Array),
                            (n.Buf16 = Array),
                            (n.Buf32 = Array),
                            n.assign(n, i));
                      }),
                        n.setTyped(r);
                    },
                    {},
                  ],
                  42: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('./common'),
                        o = !0,
                        i = !0;
                      try {
                        String.fromCharCode.apply(null, [0]);
                      } catch (t) {
                        o = !1;
                      }
                      try {
                        String.fromCharCode.apply(null, new Uint8Array(1));
                      } catch (t) {
                        i = !1;
                      }
                      for (var a = new r.Buf8(256), s = 0; s < 256; s++)
                        a[s] =
                          252 <= s
                            ? 6
                            : 248 <= s
                            ? 5
                            : 240 <= s
                            ? 4
                            : 224 <= s
                            ? 3
                            : 192 <= s
                            ? 2
                            : 1;

                      function l(t, e) {
                        if (
                          e < 65537 &&
                          ((t.subarray && i) || (!t.subarray && o))
                        )
                          return String.fromCharCode.apply(
                            null,
                            r.shrinkBuf(t, e)
                          );
                        for (var n = '', a = 0; a < e; a++)
                          n += String.fromCharCode(t[a]);
                        return n;
                      }
                      (a[254] = a[254] = 1),
                        (n.string2buf = function (t) {
                          var e,
                            n,
                            o,
                            i,
                            a,
                            s = t.length,
                            l = 0;
                          for (i = 0; i < s; i++)
                            55296 == (64512 & (n = t.charCodeAt(i))) &&
                              i + 1 < s &&
                              56320 == (64512 & (o = t.charCodeAt(i + 1))) &&
                              ((n = 65536 + ((n - 55296) << 10) + (o - 56320)),
                              i++),
                              (l +=
                                n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4);
                          for (e = new r.Buf8(l), i = a = 0; a < l; i++)
                            55296 == (64512 & (n = t.charCodeAt(i))) &&
                              i + 1 < s &&
                              56320 == (64512 & (o = t.charCodeAt(i + 1))) &&
                              ((n = 65536 + ((n - 55296) << 10) + (o - 56320)),
                              i++),
                              n < 128
                                ? (e[a++] = n)
                                : (n < 2048
                                    ? (e[a++] = 192 | (n >>> 6))
                                    : (n < 65536
                                        ? (e[a++] = 224 | (n >>> 12))
                                        : ((e[a++] = 240 | (n >>> 18)),
                                          (e[a++] = 128 | ((n >>> 12) & 63))),
                                      (e[a++] = 128 | ((n >>> 6) & 63))),
                                  (e[a++] = 128 | (63 & n)));
                          return e;
                        }),
                        (n.buf2binstring = function (t) {
                          return l(t, t.length);
                        }),
                        (n.binstring2buf = function (t) {
                          for (
                            var e = new r.Buf8(t.length), n = 0, o = e.length;
                            n < o;
                            n++
                          )
                            e[n] = t.charCodeAt(n);
                          return e;
                        }),
                        (n.buf2string = function (t, e) {
                          var n,
                            r,
                            o,
                            i,
                            s = e || t.length,
                            c = new Array(2 * s);
                          for (n = r = 0; n < s; )
                            if ((o = t[n++]) < 128) c[r++] = o;
                            else if (4 < (i = a[o]))
                              (c[r++] = 65533), (n += i - 1);
                            else {
                              for (
                                o &= 2 === i ? 31 : 3 === i ? 15 : 7;
                                1 < i && n < s;

                              )
                                (o = (o << 6) | (63 & t[n++])), i--;
                              1 < i
                                ? (c[r++] = 65533)
                                : o < 65536
                                ? (c[r++] = o)
                                : ((o -= 65536),
                                  (c[r++] = 55296 | ((o >> 10) & 1023)),
                                  (c[r++] = 56320 | (1023 & o)));
                            }
                          return l(c, r);
                        }),
                        (n.utf8border = function (t, e) {
                          var n;
                          for (
                            (e = e || t.length) > t.length && (e = t.length),
                              n = e - 1;
                            0 <= n && 128 == (192 & t[n]);

                          )
                            n--;
                          return n < 0 || 0 === n ? e : n + a[t[n]] > e ? n : e;
                        });
                    },
                    {
                      './common': 41,
                    },
                  ],
                  43: [
                    function (t, e, n) {
                      'use strict';
                      e.exports = function (t, e, n, r) {
                        for (
                          var o = (65535 & t) | 0,
                            i = ((t >>> 16) & 65535) | 0,
                            a = 0;
                          0 !== n;

                        ) {
                          for (
                            n -= a = 2e3 < n ? 2e3 : n;
                            (i = (i + (o = (o + e[r++]) | 0)) | 0), --a;

                          );
                          (o %= 65521), (i %= 65521);
                        }
                        return o | (i << 16) | 0;
                      };
                    },
                    {},
                  ],
                  44: [
                    function (t, e, n) {
                      'use strict';
                      e.exports = {
                        Z_NO_FLUSH: 0,
                        Z_PARTIAL_FLUSH: 1,
                        Z_SYNC_FLUSH: 2,
                        Z_FULL_FLUSH: 3,
                        Z_FINISH: 4,
                        Z_BLOCK: 5,
                        Z_TREES: 6,
                        Z_OK: 0,
                        Z_STREAM_END: 1,
                        Z_NEED_DICT: 2,
                        Z_ERRNO: -1,
                        Z_STREAM_ERROR: -2,
                        Z_DATA_ERROR: -3,
                        Z_BUF_ERROR: -5,
                        Z_NO_COMPRESSION: 0,
                        Z_BEST_SPEED: 1,
                        Z_BEST_COMPRESSION: 9,
                        Z_DEFAULT_COMPRESSION: -1,
                        Z_FILTERED: 1,
                        Z_HUFFMAN_ONLY: 2,
                        Z_RLE: 3,
                        Z_FIXED: 4,
                        Z_DEFAULT_STRATEGY: 0,
                        Z_BINARY: 0,
                        Z_TEXT: 1,
                        Z_UNKNOWN: 2,
                        Z_DEFLATED: 8,
                      };
                    },
                    {},
                  ],
                  45: [
                    function (t, e, n) {
                      'use strict';
                      var r = (function () {
                        for (var t, e = [], n = 0; n < 256; n++) {
                          t = n;
                          for (var r = 0; r < 8; r++)
                            t = 1 & t ? 3988292384 ^ (t >>> 1) : t >>> 1;
                          e[n] = t;
                        }
                        return e;
                      })();
                      e.exports = function (t, e, n, o) {
                        var i = r,
                          a = o + n;
                        t ^= -1;
                        for (var s = o; s < a; s++)
                          t = (t >>> 8) ^ i[255 & (t ^ e[s])];
                        return -1 ^ t;
                      };
                    },
                    {},
                  ],
                  46: [
                    function (t, e, n) {
                      'use strict';
                      var r,
                        o = t('../utils/common'),
                        i = t('./trees'),
                        a = t('./adler32'),
                        s = t('./crc32'),
                        l = t('./messages'),
                        c = 0,
                        u = 4,
                        p = 0,
                        d = -2,
                        f = -1,
                        h = 4,
                        g = 2,
                        v = 8,
                        m = 9,
                        y = 286,
                        b = 30,
                        _ = 19,
                        w = 2 * y + 1,
                        x = 15,
                        C = 3,
                        S = 258,
                        O = S + C + 1,
                        k = 42,
                        T = 113,
                        E = 1,
                        P = 2,
                        A = 3,
                        j = 4;

                      function M(t, e) {
                        return (t.msg = l[e]), e;
                      }

                      function L(t) {
                        return (t << 1) - (4 < t ? 9 : 0);
                      }

                      function D(t) {
                        for (var e = t.length; 0 <= --e; ) t[e] = 0;
                      }

                      function N(t) {
                        var e = t.state,
                          n = e.pending;
                        n > t.avail_out && (n = t.avail_out),
                          0 !== n &&
                            (o.arraySet(
                              t.output,
                              e.pending_buf,
                              e.pending_out,
                              n,
                              t.next_out
                            ),
                            (t.next_out += n),
                            (e.pending_out += n),
                            (t.total_out += n),
                            (t.avail_out -= n),
                            (e.pending -= n),
                            0 === e.pending && (e.pending_out = 0));
                      }

                      function I(t, e) {
                        i._tr_flush_block(
                          t,
                          0 <= t.block_start ? t.block_start : -1,
                          t.strstart - t.block_start,
                          e
                        ),
                          (t.block_start = t.strstart),
                          N(t.strm);
                      }

                      function F(t, e) {
                        t.pending_buf[t.pending++] = e;
                      }

                      function R(t, e) {
                        (t.pending_buf[t.pending++] = (e >>> 8) & 255),
                          (t.pending_buf[t.pending++] = 255 & e);
                      }

                      function z(t, e) {
                        var n,
                          r,
                          o = t.max_chain_length,
                          i = t.strstart,
                          a = t.prev_length,
                          s = t.nice_match,
                          l =
                            t.strstart > t.w_size - O
                              ? t.strstart - (t.w_size - O)
                              : 0,
                          c = t.window,
                          u = t.w_mask,
                          p = t.prev,
                          d = t.strstart + S,
                          f = c[i + a - 1],
                          h = c[i + a];
                        t.prev_length >= t.good_match && (o >>= 2),
                          s > t.lookahead && (s = t.lookahead);
                        do {
                          if (
                            c[(n = e) + a] === h &&
                            c[n + a - 1] === f &&
                            c[n] === c[i] &&
                            c[++n] === c[i + 1]
                          ) {
                            (i += 2), n++;
                            do {} while (
                              c[++i] === c[++n] &&
                              c[++i] === c[++n] &&
                              c[++i] === c[++n] &&
                              c[++i] === c[++n] &&
                              c[++i] === c[++n] &&
                              c[++i] === c[++n] &&
                              c[++i] === c[++n] &&
                              c[++i] === c[++n] &&
                              i < d
                            );
                            if (((r = S - (d - i)), (i = d - S), a < r)) {
                              if (((t.match_start = e), s <= (a = r))) break;
                              (f = c[i + a - 1]), (h = c[i + a]);
                            }
                          }
                        } while ((e = p[e & u]) > l && 0 != --o);
                        return a <= t.lookahead ? a : t.lookahead;
                      }

                      function V(t) {
                        var e,
                          n,
                          r,
                          i,
                          l,
                          c,
                          u,
                          p,
                          d,
                          f,
                          h = t.w_size;
                        do {
                          if (
                            ((i = t.window_size - t.lookahead - t.strstart),
                            t.strstart >= h + (h - O))
                          ) {
                            for (
                              o.arraySet(t.window, t.window, h, h, 0),
                                t.match_start -= h,
                                t.strstart -= h,
                                t.block_start -= h,
                                e = n = t.hash_size;
                              (r = t.head[--e]),
                                (t.head[e] = h <= r ? r - h : 0),
                                --n;

                            );
                            for (
                              e = n = h;
                              (r = t.prev[--e]),
                                (t.prev[e] = h <= r ? r - h : 0),
                                --n;

                            );
                            i += h;
                          }
                          if (0 === t.strm.avail_in) break;
                          if (
                            ((c = t.strm),
                            (u = t.window),
                            (p = t.strstart + t.lookahead),
                            (f = void 0),
                            (d = i) < (f = c.avail_in) && (f = d),
                            (n =
                              0 === f
                                ? 0
                                : ((c.avail_in -= f),
                                  o.arraySet(u, c.input, c.next_in, f, p),
                                  1 === c.state.wrap
                                    ? (c.adler = a(c.adler, u, f, p))
                                    : 2 === c.state.wrap &&
                                      (c.adler = s(c.adler, u, f, p)),
                                  (c.next_in += f),
                                  (c.total_in += f),
                                  f)),
                            (t.lookahead += n),
                            t.lookahead + t.insert >= C)
                          )
                            for (
                              l = t.strstart - t.insert,
                                t.ins_h = t.window[l],
                                t.ins_h =
                                  ((t.ins_h << t.hash_shift) ^
                                    t.window[l + 1]) &
                                  t.hash_mask;
                              t.insert &&
                              ((t.ins_h =
                                ((t.ins_h << t.hash_shift) ^
                                  t.window[l + C - 1]) &
                                t.hash_mask),
                              (t.prev[l & t.w_mask] = t.head[t.ins_h]),
                              (t.head[t.ins_h] = l),
                              l++,
                              t.insert--,
                              !(t.lookahead + t.insert < C));

                            );
                        } while (t.lookahead < O && 0 !== t.strm.avail_in);
                      }

                      function B(t, e) {
                        for (var n, r; ; ) {
                          if (t.lookahead < O) {
                            if ((V(t), t.lookahead < O && e === c)) return E;
                            if (0 === t.lookahead) break;
                          }
                          if (
                            ((n = 0),
                            t.lookahead >= C &&
                              ((t.ins_h =
                                ((t.ins_h << t.hash_shift) ^
                                  t.window[t.strstart + C - 1]) &
                                t.hash_mask),
                              (n = t.prev[t.strstart & t.w_mask] =
                                t.head[t.ins_h]),
                              (t.head[t.ins_h] = t.strstart)),
                            0 !== n &&
                              t.strstart - n <= t.w_size - O &&
                              (t.match_length = z(t, n)),
                            t.match_length >= C)
                          )
                            if (
                              ((r = i._tr_tally(
                                t,
                                t.strstart - t.match_start,
                                t.match_length - C
                              )),
                              (t.lookahead -= t.match_length),
                              t.match_length <= t.max_lazy_match &&
                                t.lookahead >= C)
                            ) {
                              for (
                                t.match_length--;
                                t.strstart++,
                                  (t.ins_h =
                                    ((t.ins_h << t.hash_shift) ^
                                      t.window[t.strstart + C - 1]) &
                                    t.hash_mask),
                                  (n = t.prev[t.strstart & t.w_mask] =
                                    t.head[t.ins_h]),
                                  (t.head[t.ins_h] = t.strstart),
                                  0 != --t.match_length;

                              );
                              t.strstart++;
                            } else
                              (t.strstart += t.match_length),
                                (t.match_length = 0),
                                (t.ins_h = t.window[t.strstart]),
                                (t.ins_h =
                                  ((t.ins_h << t.hash_shift) ^
                                    t.window[t.strstart + 1]) &
                                  t.hash_mask);
                          else
                            (r = i._tr_tally(t, 0, t.window[t.strstart])),
                              t.lookahead--,
                              t.strstart++;
                          if (r && (I(t, !1), 0 === t.strm.avail_out)) return E;
                        }
                        return (
                          (t.insert = t.strstart < C - 1 ? t.strstart : C - 1),
                          e === u
                            ? (I(t, !0), 0 === t.strm.avail_out ? A : j)
                            : t.last_lit && (I(t, !1), 0 === t.strm.avail_out)
                            ? E
                            : P
                        );
                      }

                      function H(t, e) {
                        for (var n, r, o; ; ) {
                          if (t.lookahead < O) {
                            if ((V(t), t.lookahead < O && e === c)) return E;
                            if (0 === t.lookahead) break;
                          }
                          if (
                            ((n = 0),
                            t.lookahead >= C &&
                              ((t.ins_h =
                                ((t.ins_h << t.hash_shift) ^
                                  t.window[t.strstart + C - 1]) &
                                t.hash_mask),
                              (n = t.prev[t.strstart & t.w_mask] =
                                t.head[t.ins_h]),
                              (t.head[t.ins_h] = t.strstart)),
                            (t.prev_length = t.match_length),
                            (t.prev_match = t.match_start),
                            (t.match_length = C - 1),
                            0 !== n &&
                              t.prev_length < t.max_lazy_match &&
                              t.strstart - n <= t.w_size - O &&
                              ((t.match_length = z(t, n)),
                              t.match_length <= 5 &&
                                (1 === t.strategy ||
                                  (t.match_length === C &&
                                    4096 < t.strstart - t.match_start)) &&
                                (t.match_length = C - 1)),
                            t.prev_length >= C &&
                              t.match_length <= t.prev_length)
                          ) {
                            for (
                              o = t.strstart + t.lookahead - C,
                                r = i._tr_tally(
                                  t,
                                  t.strstart - 1 - t.prev_match,
                                  t.prev_length - C
                                ),
                                t.lookahead -= t.prev_length - 1,
                                t.prev_length -= 2;
                              ++t.strstart <= o &&
                                ((t.ins_h =
                                  ((t.ins_h << t.hash_shift) ^
                                    t.window[t.strstart + C - 1]) &
                                  t.hash_mask),
                                (n = t.prev[t.strstart & t.w_mask] =
                                  t.head[t.ins_h]),
                                (t.head[t.ins_h] = t.strstart)),
                                0 != --t.prev_length;

                            );
                            if (
                              ((t.match_available = 0),
                              (t.match_length = C - 1),
                              t.strstart++,
                              r && (I(t, !1), 0 === t.strm.avail_out))
                            )
                              return E;
                          } else if (t.match_available) {
                            if (
                              ((r = i._tr_tally(
                                t,
                                0,
                                t.window[t.strstart - 1]
                              )) && I(t, !1),
                              t.strstart++,
                              t.lookahead--,
                              0 === t.strm.avail_out)
                            )
                              return E;
                          } else
                            (t.match_available = 1),
                              t.strstart++,
                              t.lookahead--;
                        }
                        return (
                          t.match_available &&
                            ((r = i._tr_tally(t, 0, t.window[t.strstart - 1])),
                            (t.match_available = 0)),
                          (t.insert = t.strstart < C - 1 ? t.strstart : C - 1),
                          e === u
                            ? (I(t, !0), 0 === t.strm.avail_out ? A : j)
                            : t.last_lit && (I(t, !1), 0 === t.strm.avail_out)
                            ? E
                            : P
                        );
                      }

                      function U(t, e, n, r, o) {
                        (this.good_length = t),
                          (this.max_lazy = e),
                          (this.nice_length = n),
                          (this.max_chain = r),
                          (this.func = o);
                      }

                      function W() {
                        (this.strm = null),
                          (this.status = 0),
                          (this.pending_buf = null),
                          (this.pending_buf_size = 0),
                          (this.pending_out = 0),
                          (this.pending = 0),
                          (this.wrap = 0),
                          (this.gzhead = null),
                          (this.gzindex = 0),
                          (this.method = v),
                          (this.last_flush = -1),
                          (this.w_size = 0),
                          (this.w_bits = 0),
                          (this.w_mask = 0),
                          (this.window = null),
                          (this.window_size = 0),
                          (this.prev = null),
                          (this.head = null),
                          (this.ins_h = 0),
                          (this.hash_size = 0),
                          (this.hash_bits = 0),
                          (this.hash_mask = 0),
                          (this.hash_shift = 0),
                          (this.block_start = 0),
                          (this.match_length = 0),
                          (this.prev_match = 0),
                          (this.match_available = 0),
                          (this.strstart = 0),
                          (this.match_start = 0),
                          (this.lookahead = 0),
                          (this.prev_length = 0),
                          (this.max_chain_length = 0),
                          (this.max_lazy_match = 0),
                          (this.level = 0),
                          (this.strategy = 0),
                          (this.good_match = 0),
                          (this.nice_match = 0),
                          (this.dyn_ltree = new o.Buf16(2 * w)),
                          (this.dyn_dtree = new o.Buf16(2 * (2 * b + 1))),
                          (this.bl_tree = new o.Buf16(2 * (2 * _ + 1))),
                          D(this.dyn_ltree),
                          D(this.dyn_dtree),
                          D(this.bl_tree),
                          (this.l_desc = null),
                          (this.d_desc = null),
                          (this.bl_desc = null),
                          (this.bl_count = new o.Buf16(x + 1)),
                          (this.heap = new o.Buf16(2 * y + 1)),
                          D(this.heap),
                          (this.heap_len = 0),
                          (this.heap_max = 0),
                          (this.depth = new o.Buf16(2 * y + 1)),
                          D(this.depth),
                          (this.l_buf = 0),
                          (this.lit_bufsize = 0),
                          (this.last_lit = 0),
                          (this.d_buf = 0),
                          (this.opt_len = 0),
                          (this.static_len = 0),
                          (this.matches = 0),
                          (this.insert = 0),
                          (this.bi_buf = 0),
                          (this.bi_valid = 0);
                      }

                      function $(t) {
                        var e;
                        return t && t.state
                          ? ((t.total_in = t.total_out = 0),
                            (t.data_type = g),
                            ((e = t.state).pending = 0),
                            (e.pending_out = 0),
                            e.wrap < 0 && (e.wrap = -e.wrap),
                            (e.status = e.wrap ? k : T),
                            (t.adler = 2 === e.wrap ? 0 : 1),
                            (e.last_flush = c),
                            i._tr_init(e),
                            p)
                          : M(t, d);
                      }

                      function G(t) {
                        var e = $(t);
                        return (
                          e === p &&
                            (function (t) {
                              (t.window_size = 2 * t.w_size),
                                D(t.head),
                                (t.max_lazy_match = r[t.level].max_lazy),
                                (t.good_match = r[t.level].good_length),
                                (t.nice_match = r[t.level].nice_length),
                                (t.max_chain_length = r[t.level].max_chain),
                                (t.strstart = 0),
                                (t.block_start = 0),
                                (t.lookahead = 0),
                                (t.insert = 0),
                                (t.match_length = t.prev_length = C - 1),
                                (t.match_available = 0),
                                (t.ins_h = 0);
                            })(t.state),
                          e
                        );
                      }

                      function q(t, e, n, r, i, a) {
                        if (!t) return d;
                        var s = 1;
                        if (
                          (e === f && (e = 6),
                          r < 0
                            ? ((s = 0), (r = -r))
                            : 15 < r && ((s = 2), (r -= 16)),
                          i < 1 ||
                            m < i ||
                            n !== v ||
                            r < 8 ||
                            15 < r ||
                            e < 0 ||
                            9 < e ||
                            a < 0 ||
                            h < a)
                        )
                          return M(t, d);
                        8 === r && (r = 9);
                        var l = new W();
                        return (
                          ((t.state = l).strm = t),
                          (l.wrap = s),
                          (l.gzhead = null),
                          (l.w_bits = r),
                          (l.w_size = 1 << l.w_bits),
                          (l.w_mask = l.w_size - 1),
                          (l.hash_bits = i + 7),
                          (l.hash_size = 1 << l.hash_bits),
                          (l.hash_mask = l.hash_size - 1),
                          (l.hash_shift = ~~((l.hash_bits + C - 1) / C)),
                          (l.window = new o.Buf8(2 * l.w_size)),
                          (l.head = new o.Buf16(l.hash_size)),
                          (l.prev = new o.Buf16(l.w_size)),
                          (l.lit_bufsize = 1 << (i + 6)),
                          (l.pending_buf_size = 4 * l.lit_bufsize),
                          (l.pending_buf = new o.Buf8(l.pending_buf_size)),
                          (l.d_buf = 1 * l.lit_bufsize),
                          (l.l_buf = 3 * l.lit_bufsize),
                          (l.level = e),
                          (l.strategy = a),
                          (l.method = n),
                          G(t)
                        );
                      }
                      (r = [
                        new U(0, 0, 0, 0, function (t, e) {
                          var n = 65535;
                          for (
                            n > t.pending_buf_size - 5 &&
                            (n = t.pending_buf_size - 5);
                            ;

                          ) {
                            if (t.lookahead <= 1) {
                              if ((V(t), 0 === t.lookahead && e === c))
                                return E;
                              if (0 === t.lookahead) break;
                            }
                            (t.strstart += t.lookahead), (t.lookahead = 0);
                            var r = t.block_start + n;
                            if (
                              (0 === t.strstart || t.strstart >= r) &&
                              ((t.lookahead = t.strstart - r),
                              (t.strstart = r),
                              I(t, !1),
                              0 === t.strm.avail_out)
                            )
                              return E;
                            if (
                              t.strstart - t.block_start >= t.w_size - O &&
                              (I(t, !1), 0 === t.strm.avail_out)
                            )
                              return E;
                          }
                          return (
                            (t.insert = 0),
                            e === u
                              ? (I(t, !0), 0 === t.strm.avail_out ? A : j)
                              : (t.strstart > t.block_start &&
                                  (I(t, !1), t.strm.avail_out),
                                E)
                          );
                        }),
                        new U(4, 4, 8, 4, B),
                        new U(4, 5, 16, 8, B),
                        new U(4, 6, 32, 32, B),
                        new U(4, 4, 16, 16, H),
                        new U(8, 16, 32, 32, H),
                        new U(8, 16, 128, 128, H),
                        new U(8, 32, 128, 256, H),
                        new U(32, 128, 258, 1024, H),
                        new U(32, 258, 258, 4096, H),
                      ]),
                        (n.deflateInit = function (t, e) {
                          return q(t, e, v, 15, 8, 0);
                        }),
                        (n.deflateInit2 = q),
                        (n.deflateReset = G),
                        (n.deflateResetKeep = $),
                        (n.deflateSetHeader = function (t, e) {
                          return t && t.state
                            ? 2 !== t.state.wrap
                              ? d
                              : ((t.state.gzhead = e), p)
                            : d;
                        }),
                        (n.deflate = function (t, e) {
                          var n, o, a, l;
                          if (!t || !t.state || 5 < e || e < 0)
                            return t ? M(t, d) : d;
                          if (
                            ((o = t.state),
                            !t.output ||
                              (!t.input && 0 !== t.avail_in) ||
                              (666 === o.status && e !== u))
                          )
                            return M(t, 0 === t.avail_out ? -5 : d);
                          if (
                            ((o.strm = t),
                            (n = o.last_flush),
                            (o.last_flush = e),
                            o.status === k)
                          )
                            if (2 === o.wrap)
                              (t.adler = 0),
                                F(o, 31),
                                F(o, 139),
                                F(o, 8),
                                o.gzhead
                                  ? (F(
                                      o,
                                      (o.gzhead.text ? 1 : 0) +
                                        (o.gzhead.hcrc ? 2 : 0) +
                                        (o.gzhead.extra ? 4 : 0) +
                                        (o.gzhead.name ? 8 : 0) +
                                        (o.gzhead.comment ? 16 : 0)
                                    ),
                                    F(o, 255 & o.gzhead.time),
                                    F(o, (o.gzhead.time >> 8) & 255),
                                    F(o, (o.gzhead.time >> 16) & 255),
                                    F(o, (o.gzhead.time >> 24) & 255),
                                    F(
                                      o,
                                      9 === o.level
                                        ? 2
                                        : 2 <= o.strategy || o.level < 2
                                        ? 4
                                        : 0
                                    ),
                                    F(o, 255 & o.gzhead.os),
                                    o.gzhead.extra &&
                                      o.gzhead.extra.length &&
                                      (F(o, 255 & o.gzhead.extra.length),
                                      F(o, (o.gzhead.extra.length >> 8) & 255)),
                                    o.gzhead.hcrc &&
                                      (t.adler = s(
                                        t.adler,
                                        o.pending_buf,
                                        o.pending,
                                        0
                                      )),
                                    (o.gzindex = 0),
                                    (o.status = 69))
                                  : (F(o, 0),
                                    F(o, 0),
                                    F(o, 0),
                                    F(o, 0),
                                    F(o, 0),
                                    F(
                                      o,
                                      9 === o.level
                                        ? 2
                                        : 2 <= o.strategy || o.level < 2
                                        ? 4
                                        : 0
                                    ),
                                    F(o, 3),
                                    (o.status = T));
                            else {
                              var f = (v + ((o.w_bits - 8) << 4)) << 8;
                              (f |=
                                (2 <= o.strategy || o.level < 2
                                  ? 0
                                  : o.level < 6
                                  ? 1
                                  : 6 === o.level
                                  ? 2
                                  : 3) << 6),
                                0 !== o.strstart && (f |= 32),
                                (f += 31 - (f % 31)),
                                (o.status = T),
                                R(o, f),
                                0 !== o.strstart &&
                                  (R(o, t.adler >>> 16), R(o, 65535 & t.adler)),
                                (t.adler = 1);
                            }
                          if (69 === o.status)
                            if (o.gzhead.extra) {
                              for (
                                a = o.pending;
                                o.gzindex < (65535 & o.gzhead.extra.length) &&
                                (o.pending !== o.pending_buf_size ||
                                  (o.gzhead.hcrc &&
                                    o.pending > a &&
                                    (t.adler = s(
                                      t.adler,
                                      o.pending_buf,
                                      o.pending - a,
                                      a
                                    )),
                                  N(t),
                                  (a = o.pending),
                                  o.pending !== o.pending_buf_size));

                              )
                                F(o, 255 & o.gzhead.extra[o.gzindex]),
                                  o.gzindex++;
                              o.gzhead.hcrc &&
                                o.pending > a &&
                                (t.adler = s(
                                  t.adler,
                                  o.pending_buf,
                                  o.pending - a,
                                  a
                                )),
                                o.gzindex === o.gzhead.extra.length &&
                                  ((o.gzindex = 0), (o.status = 73));
                            } else o.status = 73;
                          if (73 === o.status)
                            if (o.gzhead.name) {
                              a = o.pending;
                              do {
                                if (
                                  o.pending === o.pending_buf_size &&
                                  (o.gzhead.hcrc &&
                                    o.pending > a &&
                                    (t.adler = s(
                                      t.adler,
                                      o.pending_buf,
                                      o.pending - a,
                                      a
                                    )),
                                  N(t),
                                  (a = o.pending),
                                  o.pending === o.pending_buf_size)
                                ) {
                                  l = 1;
                                  break;
                                }
                                (l =
                                  o.gzindex < o.gzhead.name.length
                                    ? 255 &
                                      o.gzhead.name.charCodeAt(o.gzindex++)
                                    : 0),
                                  F(o, l);
                              } while (0 !== l);
                              o.gzhead.hcrc &&
                                o.pending > a &&
                                (t.adler = s(
                                  t.adler,
                                  o.pending_buf,
                                  o.pending - a,
                                  a
                                )),
                                0 === l && ((o.gzindex = 0), (o.status = 91));
                            } else o.status = 91;
                          if (91 === o.status)
                            if (o.gzhead.comment) {
                              a = o.pending;
                              do {
                                if (
                                  o.pending === o.pending_buf_size &&
                                  (o.gzhead.hcrc &&
                                    o.pending > a &&
                                    (t.adler = s(
                                      t.adler,
                                      o.pending_buf,
                                      o.pending - a,
                                      a
                                    )),
                                  N(t),
                                  (a = o.pending),
                                  o.pending === o.pending_buf_size)
                                ) {
                                  l = 1;
                                  break;
                                }
                                (l =
                                  o.gzindex < o.gzhead.comment.length
                                    ? 255 &
                                      o.gzhead.comment.charCodeAt(o.gzindex++)
                                    : 0),
                                  F(o, l);
                              } while (0 !== l);
                              o.gzhead.hcrc &&
                                o.pending > a &&
                                (t.adler = s(
                                  t.adler,
                                  o.pending_buf,
                                  o.pending - a,
                                  a
                                )),
                                0 === l && (o.status = 103);
                            } else o.status = 103;
                          if (
                            (103 === o.status &&
                              (o.gzhead.hcrc
                                ? (o.pending + 2 > o.pending_buf_size && N(t),
                                  o.pending + 2 <= o.pending_buf_size &&
                                    (F(o, 255 & t.adler),
                                    F(o, (t.adler >> 8) & 255),
                                    (t.adler = 0),
                                    (o.status = T)))
                                : (o.status = T)),
                            0 !== o.pending)
                          ) {
                            if ((N(t), 0 === t.avail_out))
                              return (o.last_flush = -1), p;
                          } else if (
                            0 === t.avail_in &&
                            L(e) <= L(n) &&
                            e !== u
                          )
                            return M(t, -5);
                          if (666 === o.status && 0 !== t.avail_in)
                            return M(t, -5);
                          if (
                            0 !== t.avail_in ||
                            0 !== o.lookahead ||
                            (e !== c && 666 !== o.status)
                          ) {
                            var h =
                              2 === o.strategy
                                ? (function (t, e) {
                                    for (var n; ; ) {
                                      if (
                                        0 === t.lookahead &&
                                        (V(t), 0 === t.lookahead)
                                      ) {
                                        if (e === c) return E;
                                        break;
                                      }
                                      if (
                                        ((t.match_length = 0),
                                        (n = i._tr_tally(
                                          t,
                                          0,
                                          t.window[t.strstart]
                                        )),
                                        t.lookahead--,
                                        t.strstart++,
                                        n && (I(t, !1), 0 === t.strm.avail_out))
                                      )
                                        return E;
                                    }
                                    return (
                                      (t.insert = 0),
                                      e === u
                                        ? (I(t, !0),
                                          0 === t.strm.avail_out ? A : j)
                                        : t.last_lit &&
                                          (I(t, !1), 0 === t.strm.avail_out)
                                        ? E
                                        : P
                                    );
                                  })(o, e)
                                : 3 === o.strategy
                                ? (function (t, e) {
                                    for (var n, r, o, a, s = t.window; ; ) {
                                      if (t.lookahead <= S) {
                                        if ((V(t), t.lookahead <= S && e === c))
                                          return E;
                                        if (0 === t.lookahead) break;
                                      }
                                      if (
                                        ((t.match_length = 0),
                                        t.lookahead >= C &&
                                          0 < t.strstart &&
                                          (r = s[(o = t.strstart - 1)]) ===
                                            s[++o] &&
                                          r === s[++o] &&
                                          r === s[++o])
                                      ) {
                                        a = t.strstart + S;
                                        do {} while (
                                          r === s[++o] &&
                                          r === s[++o] &&
                                          r === s[++o] &&
                                          r === s[++o] &&
                                          r === s[++o] &&
                                          r === s[++o] &&
                                          r === s[++o] &&
                                          r === s[++o] &&
                                          o < a
                                        );
                                        (t.match_length = S - (a - o)),
                                          t.match_length > t.lookahead &&
                                            (t.match_length = t.lookahead);
                                      }
                                      if (
                                        (t.match_length >= C
                                          ? ((n = i._tr_tally(
                                              t,
                                              1,
                                              t.match_length - C
                                            )),
                                            (t.lookahead -= t.match_length),
                                            (t.strstart += t.match_length),
                                            (t.match_length = 0))
                                          : ((n = i._tr_tally(
                                              t,
                                              0,
                                              t.window[t.strstart]
                                            )),
                                            t.lookahead--,
                                            t.strstart++),
                                        n && (I(t, !1), 0 === t.strm.avail_out))
                                      )
                                        return E;
                                    }
                                    return (
                                      (t.insert = 0),
                                      e === u
                                        ? (I(t, !0),
                                          0 === t.strm.avail_out ? A : j)
                                        : t.last_lit &&
                                          (I(t, !1), 0 === t.strm.avail_out)
                                        ? E
                                        : P
                                    );
                                  })(o, e)
                                : r[o.level].func(o, e);
                            if (
                              ((h !== A && h !== j) || (o.status = 666),
                              h === E || h === A)
                            )
                              return (
                                0 === t.avail_out && (o.last_flush = -1), p
                              );
                            if (
                              h === P &&
                              (1 === e
                                ? i._tr_align(o)
                                : 5 !== e &&
                                  (i._tr_stored_block(o, 0, 0, !1),
                                  3 === e &&
                                    (D(o.head),
                                    0 === o.lookahead &&
                                      ((o.strstart = 0),
                                      (o.block_start = 0),
                                      (o.insert = 0)))),
                              N(t),
                              0 === t.avail_out)
                            )
                              return (o.last_flush = -1), p;
                          }
                          return e !== u
                            ? p
                            : o.wrap <= 0
                            ? 1
                            : (2 === o.wrap
                                ? (F(o, 255 & t.adler),
                                  F(o, (t.adler >> 8) & 255),
                                  F(o, (t.adler >> 16) & 255),
                                  F(o, (t.adler >> 24) & 255),
                                  F(o, 255 & t.total_in),
                                  F(o, (t.total_in >> 8) & 255),
                                  F(o, (t.total_in >> 16) & 255),
                                  F(o, (t.total_in >> 24) & 255))
                                : (R(o, t.adler >>> 16), R(o, 65535 & t.adler)),
                              N(t),
                              0 < o.wrap && (o.wrap = -o.wrap),
                              0 !== o.pending ? p : 1);
                        }),
                        (n.deflateEnd = function (t) {
                          var e;
                          return t && t.state
                            ? (e = t.state.status) !== k &&
                              69 !== e &&
                              73 !== e &&
                              91 !== e &&
                              103 !== e &&
                              e !== T &&
                              666 !== e
                              ? M(t, d)
                              : ((t.state = null), e === T ? M(t, -3) : p)
                            : d;
                        }),
                        (n.deflateSetDictionary = function (t, e) {
                          var n,
                            r,
                            i,
                            s,
                            l,
                            c,
                            u,
                            f,
                            h = e.length;
                          if (!t || !t.state) return d;
                          if (
                            2 === (s = (n = t.state).wrap) ||
                            (1 === s && n.status !== k) ||
                            n.lookahead
                          )
                            return d;
                          for (
                            1 === s && (t.adler = a(t.adler, e, h, 0)),
                              n.wrap = 0,
                              h >= n.w_size &&
                                (0 === s &&
                                  (D(n.head),
                                  (n.strstart = 0),
                                  (n.block_start = 0),
                                  (n.insert = 0)),
                                (f = new o.Buf8(n.w_size)),
                                o.arraySet(f, e, h - n.w_size, n.w_size, 0),
                                (e = f),
                                (h = n.w_size)),
                              l = t.avail_in,
                              c = t.next_in,
                              u = t.input,
                              t.avail_in = h,
                              t.next_in = 0,
                              t.input = e,
                              V(n);
                            n.lookahead >= C;

                          ) {
                            for (
                              r = n.strstart, i = n.lookahead - (C - 1);
                              (n.ins_h =
                                ((n.ins_h << n.hash_shift) ^
                                  n.window[r + C - 1]) &
                                n.hash_mask),
                                (n.prev[r & n.w_mask] = n.head[n.ins_h]),
                                (n.head[n.ins_h] = r),
                                r++,
                                --i;

                            );
                            (n.strstart = r), (n.lookahead = C - 1), V(n);
                          }
                          return (
                            (n.strstart += n.lookahead),
                            (n.block_start = n.strstart),
                            (n.insert = n.lookahead),
                            (n.lookahead = 0),
                            (n.match_length = n.prev_length = C - 1),
                            (n.match_available = 0),
                            (t.next_in = c),
                            (t.input = u),
                            (t.avail_in = l),
                            (n.wrap = s),
                            p
                          );
                        }),
                        (n.deflateInfo = 'pako deflate (from Nodeca project)');
                    },
                    {
                      '../utils/common': 41,
                      './adler32': 43,
                      './crc32': 45,
                      './messages': 51,
                      './trees': 52,
                    },
                  ],
                  47: [
                    function (t, e, n) {
                      'use strict';
                      e.exports = function () {
                        (this.text = 0),
                          (this.time = 0),
                          (this.xflags = 0),
                          (this.os = 0),
                          (this.extra = null),
                          (this.extra_len = 0),
                          (this.name = ''),
                          (this.comment = ''),
                          (this.hcrc = 0),
                          (this.done = !1);
                      };
                    },
                    {},
                  ],
                  48: [
                    function (t, e, n) {
                      'use strict';
                      e.exports = function (t, e) {
                        var n,
                          r,
                          o,
                          i,
                          a,
                          s,
                          l,
                          c,
                          u,
                          p,
                          d,
                          f,
                          h,
                          g,
                          v,
                          m,
                          y,
                          b,
                          _,
                          w,
                          x,
                          C,
                          S,
                          O,
                          k;
                        (n = t.state),
                          (r = t.next_in),
                          (O = t.input),
                          (o = r + (t.avail_in - 5)),
                          (i = t.next_out),
                          (k = t.output),
                          (a = i - (e - t.avail_out)),
                          (s = i + (t.avail_out - 257)),
                          (l = n.dmax),
                          (c = n.wsize),
                          (u = n.whave),
                          (p = n.wnext),
                          (d = n.window),
                          (f = n.hold),
                          (h = n.bits),
                          (g = n.lencode),
                          (v = n.distcode),
                          (m = (1 << n.lenbits) - 1),
                          (y = (1 << n.distbits) - 1);
                        t: do {
                          h < 15 &&
                            ((f += O[r++] << h),
                            (h += 8),
                            (f += O[r++] << h),
                            (h += 8)),
                            (b = g[f & m]);
                          e: for (;;) {
                            if (
                              ((f >>>= _ = b >>> 24),
                              (h -= _),
                              0 == (_ = (b >>> 16) & 255))
                            )
                              k[i++] = 65535 & b;
                            else {
                              if (!(16 & _)) {
                                if (0 == (64 & _)) {
                                  b = g[(65535 & b) + (f & ((1 << _) - 1))];
                                  continue e;
                                }
                                if (32 & _) {
                                  n.mode = 12;
                                  break t;
                                }
                                (t.msg = 'invalid literal/length code'),
                                  (n.mode = 30);
                                break t;
                              }
                              (w = 65535 & b),
                                (_ &= 15) &&
                                  (h < _ && ((f += O[r++] << h), (h += 8)),
                                  (w += f & ((1 << _) - 1)),
                                  (f >>>= _),
                                  (h -= _)),
                                h < 15 &&
                                  ((f += O[r++] << h),
                                  (h += 8),
                                  (f += O[r++] << h),
                                  (h += 8)),
                                (b = v[f & y]);
                              n: for (;;) {
                                if (
                                  ((f >>>= _ = b >>> 24),
                                  (h -= _),
                                  !(16 & (_ = (b >>> 16) & 255)))
                                ) {
                                  if (0 == (64 & _)) {
                                    b = v[(65535 & b) + (f & ((1 << _) - 1))];
                                    continue n;
                                  }
                                  (t.msg = 'invalid distance code'),
                                    (n.mode = 30);
                                  break t;
                                }
                                if (
                                  ((x = 65535 & b),
                                  h < (_ &= 15) &&
                                    ((f += O[r++] << h),
                                    (h += 8) < _ &&
                                      ((f += O[r++] << h), (h += 8))),
                                  l < (x += f & ((1 << _) - 1)))
                                ) {
                                  (t.msg = 'invalid distance too far back'),
                                    (n.mode = 30);
                                  break t;
                                }
                                if (((f >>>= _), (h -= _), (_ = i - a) < x)) {
                                  if (u < (_ = x - _) && n.sane) {
                                    (t.msg = 'invalid distance too far back'),
                                      (n.mode = 30);
                                    break t;
                                  }
                                  if (((S = d), (C = 0) === p)) {
                                    if (((C += c - _), _ < w)) {
                                      for (w -= _; (k[i++] = d[C++]), --_; );
                                      (C = i - x), (S = k);
                                    }
                                  } else if (p < _) {
                                    if (((C += c + p - _), (_ -= p) < w)) {
                                      for (w -= _; (k[i++] = d[C++]), --_; );
                                      if (((C = 0), p < w)) {
                                        for (
                                          w -= _ = p;
                                          (k[i++] = d[C++]), --_;

                                        );
                                        (C = i - x), (S = k);
                                      }
                                    }
                                  } else if (((C += p - _), _ < w)) {
                                    for (w -= _; (k[i++] = d[C++]), --_; );
                                    (C = i - x), (S = k);
                                  }
                                  for (; 2 < w; )
                                    (k[i++] = S[C++]),
                                      (k[i++] = S[C++]),
                                      (k[i++] = S[C++]),
                                      (w -= 3);
                                  w &&
                                    ((k[i++] = S[C++]),
                                    1 < w && (k[i++] = S[C++]));
                                } else {
                                  for (
                                    C = i - x;
                                    (k[i++] = k[C++]),
                                      (k[i++] = k[C++]),
                                      (k[i++] = k[C++]),
                                      2 < (w -= 3);

                                  );
                                  w &&
                                    ((k[i++] = k[C++]),
                                    1 < w && (k[i++] = k[C++]));
                                }
                                break;
                              }
                            }
                            break;
                          }
                        } while (r < o && i < s);
                        (r -= w = h >> 3),
                          (f &= (1 << (h -= w << 3)) - 1),
                          (t.next_in = r),
                          (t.next_out = i),
                          (t.avail_in = r < o ? o - r + 5 : 5 - (r - o)),
                          (t.avail_out = i < s ? s - i + 257 : 257 - (i - s)),
                          (n.hold = f),
                          (n.bits = h);
                      };
                    },
                    {},
                  ],
                  49: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils/common'),
                        o = t('./adler32'),
                        i = t('./crc32'),
                        a = t('./inffast'),
                        s = t('./inftrees'),
                        l = 1,
                        c = 2,
                        u = 0,
                        p = -2,
                        d = 1,
                        f = 852,
                        h = 592;

                      function g(t) {
                        return (
                          ((t >>> 24) & 255) +
                          ((t >>> 8) & 65280) +
                          ((65280 & t) << 8) +
                          ((255 & t) << 24)
                        );
                      }

                      function v() {
                        (this.mode = 0),
                          (this.last = !1),
                          (this.wrap = 0),
                          (this.havedict = !1),
                          (this.flags = 0),
                          (this.dmax = 0),
                          (this.check = 0),
                          (this.total = 0),
                          (this.head = null),
                          (this.wbits = 0),
                          (this.wsize = 0),
                          (this.whave = 0),
                          (this.wnext = 0),
                          (this.window = null),
                          (this.hold = 0),
                          (this.bits = 0),
                          (this.length = 0),
                          (this.offset = 0),
                          (this.extra = 0),
                          (this.lencode = null),
                          (this.distcode = null),
                          (this.lenbits = 0),
                          (this.distbits = 0),
                          (this.ncode = 0),
                          (this.nlen = 0),
                          (this.ndist = 0),
                          (this.have = 0),
                          (this.next = null),
                          (this.lens = new r.Buf16(320)),
                          (this.work = new r.Buf16(288)),
                          (this.lendyn = null),
                          (this.distdyn = null),
                          (this.sane = 0),
                          (this.back = 0),
                          (this.was = 0);
                      }

                      function m(t) {
                        var e;
                        return t && t.state
                          ? ((e = t.state),
                            (t.total_in = t.total_out = e.total = 0),
                            (t.msg = ''),
                            e.wrap && (t.adler = 1 & e.wrap),
                            (e.mode = d),
                            (e.last = 0),
                            (e.havedict = 0),
                            (e.dmax = 32768),
                            (e.head = null),
                            (e.hold = 0),
                            (e.bits = 0),
                            (e.lencode = e.lendyn = new r.Buf32(f)),
                            (e.distcode = e.distdyn = new r.Buf32(h)),
                            (e.sane = 1),
                            (e.back = -1),
                            u)
                          : p;
                      }

                      function y(t) {
                        var e;
                        return t && t.state
                          ? (((e = t.state).wsize = 0),
                            (e.whave = 0),
                            (e.wnext = 0),
                            m(t))
                          : p;
                      }

                      function b(t, e) {
                        var n, r;
                        return t && t.state
                          ? ((r = t.state),
                            e < 0
                              ? ((n = 0), (e = -e))
                              : ((n = 1 + (e >> 4)), e < 48 && (e &= 15)),
                            e && (e < 8 || 15 < e)
                              ? p
                              : (null !== r.window &&
                                  r.wbits !== e &&
                                  (r.window = null),
                                (r.wrap = n),
                                (r.wbits = e),
                                y(t)))
                          : p;
                      }

                      function _(t, e) {
                        var n, r;
                        return t
                          ? ((r = new v()),
                            ((t.state = r).window = null),
                            (n = b(t, e)) !== u && (t.state = null),
                            n)
                          : p;
                      }
                      var w,
                        x,
                        C = !0;

                      function S(t) {
                        if (C) {
                          var e;
                          for (
                            w = new r.Buf32(512), x = new r.Buf32(32), e = 0;
                            e < 144;

                          )
                            t.lens[e++] = 8;
                          for (; e < 256; ) t.lens[e++] = 9;
                          for (; e < 280; ) t.lens[e++] = 7;
                          for (; e < 288; ) t.lens[e++] = 8;
                          for (
                            s(l, t.lens, 0, 288, w, 0, t.work, {
                              bits: 9,
                            }),
                              e = 0;
                            e < 32;

                          )
                            t.lens[e++] = 5;
                          s(c, t.lens, 0, 32, x, 0, t.work, {
                            bits: 5,
                          }),
                            (C = !1);
                        }
                        (t.lencode = w),
                          (t.lenbits = 9),
                          (t.distcode = x),
                          (t.distbits = 5);
                      }

                      function O(t, e, n, o) {
                        var i,
                          a = t.state;
                        return (
                          null === a.window &&
                            ((a.wsize = 1 << a.wbits),
                            (a.wnext = 0),
                            (a.whave = 0),
                            (a.window = new r.Buf8(a.wsize))),
                          o >= a.wsize
                            ? (r.arraySet(a.window, e, n - a.wsize, a.wsize, 0),
                              (a.wnext = 0),
                              (a.whave = a.wsize))
                            : (o < (i = a.wsize - a.wnext) && (i = o),
                              r.arraySet(a.window, e, n - o, i, a.wnext),
                              (o -= i)
                                ? (r.arraySet(a.window, e, n - o, o, 0),
                                  (a.wnext = o),
                                  (a.whave = a.wsize))
                                : ((a.wnext += i),
                                  a.wnext === a.wsize && (a.wnext = 0),
                                  a.whave < a.wsize && (a.whave += i))),
                          0
                        );
                      }
                      (n.inflateReset = y),
                        (n.inflateReset2 = b),
                        (n.inflateResetKeep = m),
                        (n.inflateInit = function (t) {
                          return _(t, 15);
                        }),
                        (n.inflateInit2 = _),
                        (n.inflate = function (t, e) {
                          var n,
                            f,
                            h,
                            v,
                            m,
                            y,
                            b,
                            _,
                            w,
                            x,
                            C,
                            k,
                            T,
                            E,
                            P,
                            A,
                            j,
                            M,
                            L,
                            D,
                            N,
                            I,
                            F,
                            R,
                            z = 0,
                            V = new r.Buf8(4),
                            B = [
                              16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3,
                              13, 2, 14, 1, 15,
                            ];
                          if (
                            !t ||
                            !t.state ||
                            !t.output ||
                            (!t.input && 0 !== t.avail_in)
                          )
                            return p;
                          12 === (n = t.state).mode && (n.mode = 13),
                            (m = t.next_out),
                            (h = t.output),
                            (b = t.avail_out),
                            (v = t.next_in),
                            (f = t.input),
                            (y = t.avail_in),
                            (_ = n.hold),
                            (w = n.bits),
                            (x = y),
                            (C = b),
                            (I = u);
                          t: for (;;)
                            switch (n.mode) {
                              case d:
                                if (0 === n.wrap) {
                                  n.mode = 13;
                                  break;
                                }
                                for (; w < 16; ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                if (2 & n.wrap && 35615 === _) {
                                  (V[(n.check = 0)] = 255 & _),
                                    (V[1] = (_ >>> 8) & 255),
                                    (n.check = i(n.check, V, 2, 0)),
                                    (w = _ = 0),
                                    (n.mode = 2);
                                  break;
                                }
                                if (
                                  ((n.flags = 0),
                                  n.head && (n.head.done = !1),
                                  !(1 & n.wrap) ||
                                    (((255 & _) << 8) + (_ >> 8)) % 31)
                                ) {
                                  (t.msg = 'incorrect header check'),
                                    (n.mode = 30);
                                  break;
                                }
                                if (8 != (15 & _)) {
                                  (t.msg = 'unknown compression method'),
                                    (n.mode = 30);
                                  break;
                                }
                                if (
                                  ((w -= 4),
                                  (N = 8 + (15 & (_ >>>= 4))),
                                  0 === n.wbits)
                                )
                                  n.wbits = N;
                                else if (N > n.wbits) {
                                  (t.msg = 'invalid window size'),
                                    (n.mode = 30);
                                  break;
                                }
                                (n.dmax = 1 << N),
                                  (t.adler = n.check = 1),
                                  (n.mode = 512 & _ ? 10 : 12),
                                  (w = _ = 0);
                                break;
                              case 2:
                                for (; w < 16; ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                if (((n.flags = _), 8 != (255 & n.flags))) {
                                  (t.msg = 'unknown compression method'),
                                    (n.mode = 30);
                                  break;
                                }
                                if (57344 & n.flags) {
                                  (t.msg = 'unknown header flags set'),
                                    (n.mode = 30);
                                  break;
                                }
                                n.head && (n.head.text = (_ >> 8) & 1),
                                  512 & n.flags &&
                                    ((V[0] = 255 & _),
                                    (V[1] = (_ >>> 8) & 255),
                                    (n.check = i(n.check, V, 2, 0))),
                                  (w = _ = 0),
                                  (n.mode = 3);
                              case 3:
                                for (; w < 32; ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                n.head && (n.head.time = _),
                                  512 & n.flags &&
                                    ((V[0] = 255 & _),
                                    (V[1] = (_ >>> 8) & 255),
                                    (V[2] = (_ >>> 16) & 255),
                                    (V[3] = (_ >>> 24) & 255),
                                    (n.check = i(n.check, V, 4, 0))),
                                  (w = _ = 0),
                                  (n.mode = 4);
                              case 4:
                                for (; w < 16; ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                n.head &&
                                  ((n.head.xflags = 255 & _),
                                  (n.head.os = _ >> 8)),
                                  512 & n.flags &&
                                    ((V[0] = 255 & _),
                                    (V[1] = (_ >>> 8) & 255),
                                    (n.check = i(n.check, V, 2, 0))),
                                  (w = _ = 0),
                                  (n.mode = 5);
                              case 5:
                                if (1024 & n.flags) {
                                  for (; w < 16; ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  (n.length = _),
                                    n.head && (n.head.extra_len = _),
                                    512 & n.flags &&
                                      ((V[0] = 255 & _),
                                      (V[1] = (_ >>> 8) & 255),
                                      (n.check = i(n.check, V, 2, 0))),
                                    (w = _ = 0);
                                } else n.head && (n.head.extra = null);
                                n.mode = 6;
                              case 6:
                                if (
                                  1024 & n.flags &&
                                  (y < (k = n.length) && (k = y),
                                  k &&
                                    (n.head &&
                                      ((N = n.head.extra_len - n.length),
                                      n.head.extra ||
                                        (n.head.extra = new Array(
                                          n.head.extra_len
                                        )),
                                      r.arraySet(n.head.extra, f, v, k, N)),
                                    512 & n.flags &&
                                      (n.check = i(n.check, f, k, v)),
                                    (y -= k),
                                    (v += k),
                                    (n.length -= k)),
                                  n.length)
                                )
                                  break t;
                                (n.length = 0), (n.mode = 7);
                              case 7:
                                if (2048 & n.flags) {
                                  if (0 === y) break t;
                                  for (
                                    k = 0;
                                    (N = f[v + k++]),
                                      n.head &&
                                        N &&
                                        n.length < 65536 &&
                                        (n.head.name += String.fromCharCode(N)),
                                      N && k < y;

                                  );
                                  if (
                                    (512 & n.flags &&
                                      (n.check = i(n.check, f, k, v)),
                                    (y -= k),
                                    (v += k),
                                    N)
                                  )
                                    break t;
                                } else n.head && (n.head.name = null);
                                (n.length = 0), (n.mode = 8);
                              case 8:
                                if (4096 & n.flags) {
                                  if (0 === y) break t;
                                  for (
                                    k = 0;
                                    (N = f[v + k++]),
                                      n.head &&
                                        N &&
                                        n.length < 65536 &&
                                        (n.head.comment +=
                                          String.fromCharCode(N)),
                                      N && k < y;

                                  );
                                  if (
                                    (512 & n.flags &&
                                      (n.check = i(n.check, f, k, v)),
                                    (y -= k),
                                    (v += k),
                                    N)
                                  )
                                    break t;
                                } else n.head && (n.head.comment = null);
                                n.mode = 9;
                              case 9:
                                if (512 & n.flags) {
                                  for (; w < 16; ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  if (_ !== (65535 & n.check)) {
                                    (t.msg = 'header crc mismatch'),
                                      (n.mode = 30);
                                    break;
                                  }
                                  w = _ = 0;
                                }
                                n.head &&
                                  ((n.head.hcrc = (n.flags >> 9) & 1),
                                  (n.head.done = !0)),
                                  (t.adler = n.check = 0),
                                  (n.mode = 12);
                                break;
                              case 10:
                                for (; w < 32; ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                (t.adler = n.check = g(_)),
                                  (w = _ = 0),
                                  (n.mode = 11);
                              case 11:
                                if (0 === n.havedict)
                                  return (
                                    (t.next_out = m),
                                    (t.avail_out = b),
                                    (t.next_in = v),
                                    (t.avail_in = y),
                                    (n.hold = _),
                                    (n.bits = w),
                                    2
                                  );
                                (t.adler = n.check = 1), (n.mode = 12);
                              case 12:
                                if (5 === e || 6 === e) break t;
                              case 13:
                                if (n.last) {
                                  (_ >>>= 7 & w), (w -= 7 & w), (n.mode = 27);
                                  break;
                                }
                                for (; w < 3; ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                switch (
                                  ((n.last = 1 & _), (w -= 1), 3 & (_ >>>= 1))
                                ) {
                                  case 0:
                                    n.mode = 14;
                                    break;
                                  case 1:
                                    if ((S(n), (n.mode = 20), 6 !== e)) break;
                                    (_ >>>= 2), (w -= 2);
                                    break t;
                                  case 2:
                                    n.mode = 17;
                                    break;
                                  case 3:
                                    (t.msg = 'invalid block type'),
                                      (n.mode = 30);
                                }
                                (_ >>>= 2), (w -= 2);
                                break;
                              case 14:
                                for (_ >>>= 7 & w, w -= 7 & w; w < 32; ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                if ((65535 & _) != ((_ >>> 16) ^ 65535)) {
                                  (t.msg = 'invalid stored block lengths'),
                                    (n.mode = 30);
                                  break;
                                }
                                if (
                                  ((n.length = 65535 & _),
                                  (w = _ = 0),
                                  (n.mode = 15),
                                  6 === e)
                                )
                                  break t;
                              case 15:
                                n.mode = 16;
                              case 16:
                                if ((k = n.length)) {
                                  if (
                                    (y < k && (k = y),
                                    b < k && (k = b),
                                    0 === k)
                                  )
                                    break t;
                                  r.arraySet(h, f, v, k, m),
                                    (y -= k),
                                    (v += k),
                                    (b -= k),
                                    (m += k),
                                    (n.length -= k);
                                  break;
                                }
                                n.mode = 12;
                                break;
                              case 17:
                                for (; w < 14; ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                if (
                                  ((n.nlen = 257 + (31 & _)),
                                  (_ >>>= 5),
                                  (w -= 5),
                                  (n.ndist = 1 + (31 & _)),
                                  (_ >>>= 5),
                                  (w -= 5),
                                  (n.ncode = 4 + (15 & _)),
                                  (_ >>>= 4),
                                  (w -= 4),
                                  286 < n.nlen || 30 < n.ndist)
                                ) {
                                  (t.msg =
                                    'too many length or distance symbols'),
                                    (n.mode = 30);
                                  break;
                                }
                                (n.have = 0), (n.mode = 18);
                              case 18:
                                for (; n.have < n.ncode; ) {
                                  for (; w < 3; ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  (n.lens[B[n.have++]] = 7 & _),
                                    (_ >>>= 3),
                                    (w -= 3);
                                }
                                for (; n.have < 19; ) n.lens[B[n.have++]] = 0;
                                if (
                                  ((n.lencode = n.lendyn),
                                  (n.lenbits = 7),
                                  (F = {
                                    bits: n.lenbits,
                                  }),
                                  (I = s(
                                    0,
                                    n.lens,
                                    0,
                                    19,
                                    n.lencode,
                                    0,
                                    n.work,
                                    F
                                  )),
                                  (n.lenbits = F.bits),
                                  I)
                                ) {
                                  (t.msg = 'invalid code lengths set'),
                                    (n.mode = 30);
                                  break;
                                }
                                (n.have = 0), (n.mode = 19);
                              case 19:
                                for (; n.have < n.nlen + n.ndist; ) {
                                  for (
                                    ;
                                    (A =
                                      ((z =
                                        n.lencode[
                                          _ & ((1 << n.lenbits) - 1)
                                        ]) >>>
                                        16) &
                                      255),
                                      (j = 65535 & z),
                                      !((P = z >>> 24) <= w);

                                  ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  if (j < 16)
                                    (_ >>>= P),
                                      (w -= P),
                                      (n.lens[n.have++] = j);
                                  else {
                                    if (16 === j) {
                                      for (R = P + 2; w < R; ) {
                                        if (0 === y) break t;
                                        y--, (_ += f[v++] << w), (w += 8);
                                      }
                                      if (
                                        ((_ >>>= P), (w -= P), 0 === n.have)
                                      ) {
                                        (t.msg = 'invalid bit length repeat'),
                                          (n.mode = 30);
                                        break;
                                      }
                                      (N = n.lens[n.have - 1]),
                                        (k = 3 + (3 & _)),
                                        (_ >>>= 2),
                                        (w -= 2);
                                    } else if (17 === j) {
                                      for (R = P + 3; w < R; ) {
                                        if (0 === y) break t;
                                        y--, (_ += f[v++] << w), (w += 8);
                                      }
                                      (w -= P),
                                        (N = 0),
                                        (k = 3 + (7 & (_ >>>= P))),
                                        (_ >>>= 3),
                                        (w -= 3);
                                    } else {
                                      for (R = P + 7; w < R; ) {
                                        if (0 === y) break t;
                                        y--, (_ += f[v++] << w), (w += 8);
                                      }
                                      (w -= P),
                                        (N = 0),
                                        (k = 11 + (127 & (_ >>>= P))),
                                        (_ >>>= 7),
                                        (w -= 7);
                                    }
                                    if (n.have + k > n.nlen + n.ndist) {
                                      (t.msg = 'invalid bit length repeat'),
                                        (n.mode = 30);
                                      break;
                                    }
                                    for (; k--; ) n.lens[n.have++] = N;
                                  }
                                }
                                if (30 === n.mode) break;
                                if (0 === n.lens[256]) {
                                  (t.msg =
                                    'invalid code -- missing end-of-block'),
                                    (n.mode = 30);
                                  break;
                                }
                                if (
                                  ((n.lenbits = 9),
                                  (F = {
                                    bits: n.lenbits,
                                  }),
                                  (I = s(
                                    l,
                                    n.lens,
                                    0,
                                    n.nlen,
                                    n.lencode,
                                    0,
                                    n.work,
                                    F
                                  )),
                                  (n.lenbits = F.bits),
                                  I)
                                ) {
                                  (t.msg = 'invalid literal/lengths set'),
                                    (n.mode = 30);
                                  break;
                                }
                                if (
                                  ((n.distbits = 6),
                                  (n.distcode = n.distdyn),
                                  (F = {
                                    bits: n.distbits,
                                  }),
                                  (I = s(
                                    c,
                                    n.lens,
                                    n.nlen,
                                    n.ndist,
                                    n.distcode,
                                    0,
                                    n.work,
                                    F
                                  )),
                                  (n.distbits = F.bits),
                                  I)
                                ) {
                                  (t.msg = 'invalid distances set'),
                                    (n.mode = 30);
                                  break;
                                }
                                if (((n.mode = 20), 6 === e)) break t;
                              case 20:
                                n.mode = 21;
                              case 21:
                                if (6 <= y && 258 <= b) {
                                  (t.next_out = m),
                                    (t.avail_out = b),
                                    (t.next_in = v),
                                    (t.avail_in = y),
                                    (n.hold = _),
                                    (n.bits = w),
                                    a(t, C),
                                    (m = t.next_out),
                                    (h = t.output),
                                    (b = t.avail_out),
                                    (v = t.next_in),
                                    (f = t.input),
                                    (y = t.avail_in),
                                    (_ = n.hold),
                                    (w = n.bits),
                                    12 === n.mode && (n.back = -1);
                                  break;
                                }
                                for (
                                  n.back = 0;
                                  (A =
                                    ((z =
                                      n.lencode[_ & ((1 << n.lenbits) - 1)]) >>>
                                      16) &
                                    255),
                                    (j = 65535 & z),
                                    !((P = z >>> 24) <= w);

                                ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                if (A && 0 == (240 & A)) {
                                  for (
                                    M = P, L = A, D = j;
                                    (A =
                                      ((z =
                                        n.lencode[
                                          D + ((_ & ((1 << (M + L)) - 1)) >> M)
                                        ]) >>>
                                        16) &
                                      255),
                                      (j = 65535 & z),
                                      !(M + (P = z >>> 24) <= w);

                                  ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  (_ >>>= M), (w -= M), (n.back += M);
                                }
                                if (
                                  ((_ >>>= P),
                                  (w -= P),
                                  (n.back += P),
                                  (n.length = j),
                                  0 === A)
                                ) {
                                  n.mode = 26;
                                  break;
                                }
                                if (32 & A) {
                                  (n.back = -1), (n.mode = 12);
                                  break;
                                }
                                if (64 & A) {
                                  (t.msg = 'invalid literal/length code'),
                                    (n.mode = 30);
                                  break;
                                }
                                (n.extra = 15 & A), (n.mode = 22);
                              case 22:
                                if (n.extra) {
                                  for (R = n.extra; w < R; ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  (n.length += _ & ((1 << n.extra) - 1)),
                                    (_ >>>= n.extra),
                                    (w -= n.extra),
                                    (n.back += n.extra);
                                }
                                (n.was = n.length), (n.mode = 23);
                              case 23:
                                for (
                                  ;
                                  (A =
                                    ((z =
                                      n.distcode[
                                        _ & ((1 << n.distbits) - 1)
                                      ]) >>>
                                      16) &
                                    255),
                                    (j = 65535 & z),
                                    !((P = z >>> 24) <= w);

                                ) {
                                  if (0 === y) break t;
                                  y--, (_ += f[v++] << w), (w += 8);
                                }
                                if (0 == (240 & A)) {
                                  for (
                                    M = P, L = A, D = j;
                                    (A =
                                      ((z =
                                        n.distcode[
                                          D + ((_ & ((1 << (M + L)) - 1)) >> M)
                                        ]) >>>
                                        16) &
                                      255),
                                      (j = 65535 & z),
                                      !(M + (P = z >>> 24) <= w);

                                  ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  (_ >>>= M), (w -= M), (n.back += M);
                                }
                                if (
                                  ((_ >>>= P), (w -= P), (n.back += P), 64 & A)
                                ) {
                                  (t.msg = 'invalid distance code'),
                                    (n.mode = 30);
                                  break;
                                }
                                (n.offset = j),
                                  (n.extra = 15 & A),
                                  (n.mode = 24);
                              case 24:
                                if (n.extra) {
                                  for (R = n.extra; w < R; ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  (n.offset += _ & ((1 << n.extra) - 1)),
                                    (_ >>>= n.extra),
                                    (w -= n.extra),
                                    (n.back += n.extra);
                                }
                                if (n.offset > n.dmax) {
                                  (t.msg = 'invalid distance too far back'),
                                    (n.mode = 30);
                                  break;
                                }
                                n.mode = 25;
                              case 25:
                                if (0 === b) break t;
                                if (((k = C - b), n.offset > k)) {
                                  if ((k = n.offset - k) > n.whave && n.sane) {
                                    (t.msg = 'invalid distance too far back'),
                                      (n.mode = 30);
                                    break;
                                  }
                                  (T =
                                    k > n.wnext
                                      ? ((k -= n.wnext), n.wsize - k)
                                      : n.wnext - k),
                                    k > n.length && (k = n.length),
                                    (E = n.window);
                                } else
                                  (E = h), (T = m - n.offset), (k = n.length);
                                for (
                                  b < k && (k = b), b -= k, n.length -= k;
                                  (h[m++] = E[T++]), --k;

                                );
                                0 === n.length && (n.mode = 21);
                                break;
                              case 26:
                                if (0 === b) break t;
                                (h[m++] = n.length), b--, (n.mode = 21);
                                break;
                              case 27:
                                if (n.wrap) {
                                  for (; w < 32; ) {
                                    if (0 === y) break t;
                                    y--, (_ |= f[v++] << w), (w += 8);
                                  }
                                  if (
                                    ((C -= b),
                                    (t.total_out += C),
                                    (n.total += C),
                                    C &&
                                      (t.adler = n.check =
                                        n.flags
                                          ? i(n.check, h, C, m - C)
                                          : o(n.check, h, C, m - C)),
                                    (C = b),
                                    (n.flags ? _ : g(_)) !== n.check)
                                  ) {
                                    (t.msg = 'incorrect data check'),
                                      (n.mode = 30);
                                    break;
                                  }
                                  w = _ = 0;
                                }
                                n.mode = 28;
                              case 28:
                                if (n.wrap && n.flags) {
                                  for (; w < 32; ) {
                                    if (0 === y) break t;
                                    y--, (_ += f[v++] << w), (w += 8);
                                  }
                                  if (_ !== (4294967295 & n.total)) {
                                    (t.msg = 'incorrect length check'),
                                      (n.mode = 30);
                                    break;
                                  }
                                  w = _ = 0;
                                }
                                n.mode = 29;
                              case 29:
                                I = 1;
                                break t;
                              case 30:
                                I = -3;
                                break t;
                              case 31:
                                return -4;
                              default:
                                return p;
                            }
                          return (
                            (t.next_out = m),
                            (t.avail_out = b),
                            (t.next_in = v),
                            (t.avail_in = y),
                            (n.hold = _),
                            (n.bits = w),
                            (n.wsize ||
                              (C !== t.avail_out &&
                                n.mode < 30 &&
                                (n.mode < 27 || 4 !== e))) &&
                            O(t, t.output, t.next_out, C - t.avail_out)
                              ? ((n.mode = 31), -4)
                              : ((x -= t.avail_in),
                                (C -= t.avail_out),
                                (t.total_in += x),
                                (t.total_out += C),
                                (n.total += C),
                                n.wrap &&
                                  C &&
                                  (t.adler = n.check =
                                    n.flags
                                      ? i(n.check, h, C, t.next_out - C)
                                      : o(n.check, h, C, t.next_out - C)),
                                (t.data_type =
                                  n.bits +
                                  (n.last ? 64 : 0) +
                                  (12 === n.mode ? 128 : 0) +
                                  (20 === n.mode || 15 === n.mode ? 256 : 0)),
                                ((0 == x && 0 === C) || 4 === e) &&
                                  I === u &&
                                  (I = -5),
                                I)
                          );
                        }),
                        (n.inflateEnd = function (t) {
                          if (!t || !t.state) return p;
                          var e = t.state;
                          return (
                            e.window && (e.window = null), (t.state = null), u
                          );
                        }),
                        (n.inflateGetHeader = function (t, e) {
                          var n;
                          return t && t.state
                            ? 0 == (2 & (n = t.state).wrap)
                              ? p
                              : (((n.head = e).done = !1), u)
                            : p;
                        }),
                        (n.inflateSetDictionary = function (t, e) {
                          var n,
                            r = e.length;
                          return t && t.state
                            ? 0 !== (n = t.state).wrap && 11 !== n.mode
                              ? p
                              : 11 === n.mode && o(1, e, r, 0) !== n.check
                              ? -3
                              : O(t, e, r, r)
                              ? ((n.mode = 31), -4)
                              : ((n.havedict = 1), u)
                            : p;
                        }),
                        (n.inflateInfo = 'pako inflate (from Nodeca project)');
                    },
                    {
                      '../utils/common': 41,
                      './adler32': 43,
                      './crc32': 45,
                      './inffast': 48,
                      './inftrees': 50,
                    },
                  ],
                  50: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils/common'),
                        o = [
                          3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27,
                          31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195,
                          227, 258, 0, 0,
                        ],
                        i = [
                          16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18,
                          18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21,
                          21, 21, 16, 72, 78,
                        ],
                        a = [
                          1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129,
                          193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097,
                          6145, 8193, 12289, 16385, 24577, 0, 0,
                        ],
                        s = [
                          16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21,
                          21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27,
                          28, 28, 29, 29, 64, 64,
                        ];
                      e.exports = function (t, e, n, l, c, u, p, d) {
                        var f,
                          h,
                          g,
                          v,
                          m,
                          y,
                          b,
                          _,
                          w,
                          x = d.bits,
                          C = 0,
                          S = 0,
                          O = 0,
                          k = 0,
                          T = 0,
                          E = 0,
                          P = 0,
                          A = 0,
                          j = 0,
                          M = 0,
                          L = null,
                          D = 0,
                          N = new r.Buf16(16),
                          I = new r.Buf16(16),
                          F = null,
                          R = 0;
                        for (C = 0; C <= 15; C++) N[C] = 0;
                        for (S = 0; S < l; S++) N[e[n + S]]++;
                        for (T = x, k = 15; 1 <= k && 0 === N[k]; k--);
                        if ((k < T && (T = k), 0 === k))
                          return (
                            (c[u++] = 20971520),
                            (c[u++] = 20971520),
                            (d.bits = 1),
                            0
                          );
                        for (O = 1; O < k && 0 === N[O]; O++);
                        for (T < O && (T = O), C = A = 1; C <= 15; C++)
                          if (((A <<= 1), (A -= N[C]) < 0)) return -1;
                        if (0 < A && (0 === t || 1 !== k)) return -1;
                        for (I[1] = 0, C = 1; C < 15; C++)
                          I[C + 1] = I[C] + N[C];
                        for (S = 0; S < l; S++)
                          0 !== e[n + S] && (p[I[e[n + S]]++] = S);
                        if (
                          ((y =
                            0 === t
                              ? ((L = F = p), 19)
                              : 1 === t
                              ? ((L = o), (D -= 257), (F = i), (R -= 257), 256)
                              : ((L = a), (F = s), -1)),
                          (C = O),
                          (m = u),
                          (P = S = M = 0),
                          (g = -1),
                          (v = (j = 1 << (E = T)) - 1),
                          (1 === t && 852 < j) || (2 === t && 592 < j))
                        )
                          return 1;
                        for (;;) {
                          for (
                            b = C - P,
                              w =
                                p[S] < y
                                  ? ((_ = 0), p[S])
                                  : p[S] > y
                                  ? ((_ = F[R + p[S]]), L[D + p[S]])
                                  : ((_ = 96), 0),
                              f = 1 << (C - P),
                              O = h = 1 << E;
                            (c[m + (M >> P) + (h -= f)] =
                              (b << 24) | (_ << 16) | w | 0),
                              0 !== h;

                          );
                          for (f = 1 << (C - 1); M & f; ) f >>= 1;
                          if (
                            (0 !== f ? ((M &= f - 1), (M += f)) : (M = 0),
                            S++,
                            0 == --N[C])
                          ) {
                            if (C === k) break;
                            C = e[n + p[S]];
                          }
                          if (T < C && (M & v) !== g) {
                            for (
                              0 === P && (P = T), m += O, A = 1 << (E = C - P);
                              E + P < k && !((A -= N[E + P]) <= 0);

                            )
                              E++, (A <<= 1);
                            if (
                              ((j += 1 << E),
                              (1 === t && 852 < j) || (2 === t && 592 < j))
                            )
                              return 1;
                            c[(g = M & v)] =
                              (T << 24) | (E << 16) | (m - u) | 0;
                          }
                        }
                        return (
                          0 !== M &&
                            (c[m + M] = ((C - P) << 24) | (64 << 16) | 0),
                          (d.bits = T),
                          0
                        );
                      };
                    },
                    {
                      '../utils/common': 41,
                    },
                  ],
                  51: [
                    function (t, e, n) {
                      'use strict';
                      e.exports = {
                        2: 'need dictionary',
                        1: 'stream end',
                        0: '',
                        '-1': 'file error',
                        '-2': 'stream error',
                        '-3': 'data error',
                        '-4': 'insufficient memory',
                        '-5': 'buffer error',
                        '-6': 'incompatible version',
                      };
                    },
                    {},
                  ],
                  52: [
                    function (t, e, n) {
                      'use strict';
                      var r = t('../utils/common'),
                        o = 0,
                        i = 1;

                      function a(t) {
                        for (var e = t.length; 0 <= --e; ) t[e] = 0;
                      }
                      var s = 0,
                        l = 29,
                        c = 256,
                        u = c + 1 + l,
                        p = 30,
                        d = 19,
                        f = 2 * u + 1,
                        h = 15,
                        g = 16,
                        v = 7,
                        m = 256,
                        y = 16,
                        b = 17,
                        _ = 18,
                        w = [
                          0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3,
                          3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0,
                        ],
                        x = [
                          0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7,
                          8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13,
                        ],
                        C = [
                          0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3,
                          7,
                        ],
                        S = [
                          16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2,
                          14, 1, 15,
                        ],
                        O = new Array(2 * (u + 2));
                      a(O);
                      var k = new Array(2 * p);
                      a(k);
                      var T = new Array(512);
                      a(T);
                      var E = new Array(256);
                      a(E);
                      var P = new Array(l);
                      a(P);
                      var A,
                        j,
                        M,
                        L = new Array(p);

                      function D(t, e, n, r, o) {
                        (this.static_tree = t),
                          (this.extra_bits = e),
                          (this.extra_base = n),
                          (this.elems = r),
                          (this.max_length = o),
                          (this.has_stree = t && t.length);
                      }

                      function N(t, e) {
                        (this.dyn_tree = t),
                          (this.max_code = 0),
                          (this.stat_desc = e);
                      }

                      function I(t) {
                        return t < 256 ? T[t] : T[256 + (t >>> 7)];
                      }

                      function F(t, e) {
                        (t.pending_buf[t.pending++] = 255 & e),
                          (t.pending_buf[t.pending++] = (e >>> 8) & 255);
                      }

                      function R(t, e, n) {
                        t.bi_valid > g - n
                          ? ((t.bi_buf |= (e << t.bi_valid) & 65535),
                            F(t, t.bi_buf),
                            (t.bi_buf = e >> (g - t.bi_valid)),
                            (t.bi_valid += n - g))
                          : ((t.bi_buf |= (e << t.bi_valid) & 65535),
                            (t.bi_valid += n));
                      }

                      function z(t, e, n) {
                        R(t, n[2 * e], n[2 * e + 1]);
                      }

                      function V(t, e) {
                        for (
                          var n = 0;
                          (n |= 1 & t), (t >>>= 1), (n <<= 1), 0 < --e;

                        );
                        return n >>> 1;
                      }

                      function B(t, e, n) {
                        var r,
                          o,
                          i = new Array(h + 1),
                          a = 0;
                        for (r = 1; r <= h; r++) i[r] = a = (a + n[r - 1]) << 1;
                        for (o = 0; o <= e; o++) {
                          var s = t[2 * o + 1];
                          0 !== s && (t[2 * o] = V(i[s]++, s));
                        }
                      }

                      function H(t) {
                        var e;
                        for (e = 0; e < u; e++) t.dyn_ltree[2 * e] = 0;
                        for (e = 0; e < p; e++) t.dyn_dtree[2 * e] = 0;
                        for (e = 0; e < d; e++) t.bl_tree[2 * e] = 0;
                        (t.dyn_ltree[2 * m] = 1),
                          (t.opt_len = t.static_len = 0),
                          (t.last_lit = t.matches = 0);
                      }

                      function U(t) {
                        8 < t.bi_valid
                          ? F(t, t.bi_buf)
                          : 0 < t.bi_valid &&
                            (t.pending_buf[t.pending++] = t.bi_buf),
                          (t.bi_buf = 0),
                          (t.bi_valid = 0);
                      }

                      function W(t, e, n, r) {
                        var o = 2 * e,
                          i = 2 * n;
                        return t[o] < t[i] || (t[o] === t[i] && r[e] <= r[n]);
                      }

                      function $(t, e, n) {
                        for (
                          var r = t.heap[n], o = n << 1;
                          o <= t.heap_len &&
                          (o < t.heap_len &&
                            W(e, t.heap[o + 1], t.heap[o], t.depth) &&
                            o++,
                          !W(e, r, t.heap[o], t.depth));

                        )
                          (t.heap[n] = t.heap[o]), (n = o), (o <<= 1);
                        t.heap[n] = r;
                      }

                      function G(t, e, n) {
                        var r,
                          o,
                          i,
                          a,
                          s = 0;
                        if (0 !== t.last_lit)
                          for (
                            ;
                            (r =
                              (t.pending_buf[t.d_buf + 2 * s] << 8) |
                              t.pending_buf[t.d_buf + 2 * s + 1]),
                              (o = t.pending_buf[t.l_buf + s]),
                              s++,
                              0 === r
                                ? z(t, o, e)
                                : (z(t, (i = E[o]) + c + 1, e),
                                  0 !== (a = w[i]) && R(t, (o -= P[i]), a),
                                  z(t, (i = I(--r)), n),
                                  0 !== (a = x[i]) && R(t, (r -= L[i]), a)),
                              s < t.last_lit;

                          );
                        z(t, m, e);
                      }

                      function q(t, e) {
                        var n,
                          r,
                          o,
                          i = e.dyn_tree,
                          a = e.stat_desc.static_tree,
                          s = e.stat_desc.has_stree,
                          l = e.stat_desc.elems,
                          c = -1;
                        for (t.heap_len = 0, t.heap_max = f, n = 0; n < l; n++)
                          0 !== i[2 * n]
                            ? ((t.heap[++t.heap_len] = c = n), (t.depth[n] = 0))
                            : (i[2 * n + 1] = 0);
                        for (; t.heap_len < 2; )
                          (i[
                            2 * (o = t.heap[++t.heap_len] = c < 2 ? ++c : 0)
                          ] = 1),
                            (t.depth[o] = 0),
                            t.opt_len--,
                            s && (t.static_len -= a[2 * o + 1]);
                        for (e.max_code = c, n = t.heap_len >> 1; 1 <= n; n--)
                          $(t, i, n);
                        for (
                          o = l;
                          (n = t.heap[1]),
                            (t.heap[1] = t.heap[t.heap_len--]),
                            $(t, i, 1),
                            (r = t.heap[1]),
                            (t.heap[--t.heap_max] = n),
                            (t.heap[--t.heap_max] = r),
                            (i[2 * o] = i[2 * n] + i[2 * r]),
                            (t.depth[o] =
                              (t.depth[n] >= t.depth[r]
                                ? t.depth[n]
                                : t.depth[r]) + 1),
                            (i[2 * n + 1] = i[2 * r + 1] = o),
                            (t.heap[1] = o++),
                            $(t, i, 1),
                            2 <= t.heap_len;

                        );
                        (t.heap[--t.heap_max] = t.heap[1]),
                          (function (t, e) {
                            var n,
                              r,
                              o,
                              i,
                              a,
                              s,
                              l = e.dyn_tree,
                              c = e.max_code,
                              u = e.stat_desc.static_tree,
                              p = e.stat_desc.has_stree,
                              d = e.stat_desc.extra_bits,
                              g = e.stat_desc.extra_base,
                              v = e.stat_desc.max_length,
                              m = 0;
                            for (i = 0; i <= h; i++) t.bl_count[i] = 0;
                            for (
                              l[2 * t.heap[t.heap_max] + 1] = 0,
                                n = t.heap_max + 1;
                              n < f;
                              n++
                            )
                              v <
                                (i =
                                  l[2 * l[2 * (r = t.heap[n]) + 1] + 1] + 1) &&
                                ((i = v), m++),
                                (l[2 * r + 1] = i),
                                c < r ||
                                  (t.bl_count[i]++,
                                  (a = 0),
                                  g <= r && (a = d[r - g]),
                                  (s = l[2 * r]),
                                  (t.opt_len += s * (i + a)),
                                  p &&
                                    (t.static_len += s * (u[2 * r + 1] + a)));
                            if (0 !== m) {
                              do {
                                for (i = v - 1; 0 === t.bl_count[i]; ) i--;
                                t.bl_count[i]--,
                                  (t.bl_count[i + 1] += 2),
                                  t.bl_count[v]--,
                                  (m -= 2);
                              } while (0 < m);
                              for (i = v; 0 !== i; i--)
                                for (r = t.bl_count[i]; 0 !== r; )
                                  c < (o = t.heap[--n]) ||
                                    (l[2 * o + 1] !== i &&
                                      ((t.opt_len +=
                                        (i - l[2 * o + 1]) * l[2 * o]),
                                      (l[2 * o + 1] = i)),
                                    r--);
                            }
                          })(t, e),
                          B(i, c, t.bl_count);
                      }

                      function K(t, e, n) {
                        var r,
                          o,
                          i = -1,
                          a = e[1],
                          s = 0,
                          l = 7,
                          c = 4;
                        for (
                          0 === a && ((l = 138), (c = 3)),
                            e[2 * (n + 1) + 1] = 65535,
                            r = 0;
                          r <= n;
                          r++
                        )
                          (o = a),
                            (a = e[2 * (r + 1) + 1]),
                            (++s < l && o === a) ||
                              (s < c
                                ? (t.bl_tree[2 * o] += s)
                                : 0 !== o
                                ? (o !== i && t.bl_tree[2 * o]++,
                                  t.bl_tree[2 * y]++)
                                : s <= 10
                                ? t.bl_tree[2 * b]++
                                : t.bl_tree[2 * _]++,
                              (i = o),
                              (c =
                                (s = 0) === a
                                  ? ((l = 138), 3)
                                  : o === a
                                  ? ((l = 6), 3)
                                  : ((l = 7), 4)));
                      }

                      function Z(t, e, n) {
                        var r,
                          o,
                          i = -1,
                          a = e[1],
                          s = 0,
                          l = 7,
                          c = 4;
                        for (
                          0 === a && ((l = 138), (c = 3)), r = 0;
                          r <= n;
                          r++
                        )
                          if (
                            ((o = a),
                            (a = e[2 * (r + 1) + 1]),
                            !(++s < l && o === a))
                          ) {
                            if (s < c) for (; z(t, o, t.bl_tree), 0 != --s; );
                            else
                              0 !== o
                                ? (o !== i && (z(t, o, t.bl_tree), s--),
                                  z(t, y, t.bl_tree),
                                  R(t, s - 3, 2))
                                : s <= 10
                                ? (z(t, b, t.bl_tree), R(t, s - 3, 3))
                                : (z(t, _, t.bl_tree), R(t, s - 11, 7));
                            (i = o),
                              (c =
                                (s = 0) === a
                                  ? ((l = 138), 3)
                                  : o === a
                                  ? ((l = 6), 3)
                                  : ((l = 7), 4));
                          }
                      }
                      a(L);
                      var Y = !1;

                      function X(t, e, n, o) {
                        R(t, (s << 1) + (o ? 1 : 0), 3),
                          (function (t, e, n, o) {
                            U(t),
                              o && (F(t, n), F(t, ~n)),
                              r.arraySet(
                                t.pending_buf,
                                t.window,
                                e,
                                n,
                                t.pending
                              ),
                              (t.pending += n);
                          })(t, e, n, !0);
                      }
                      (n._tr_init = function (t) {
                        Y ||
                          ((function () {
                            var t,
                              e,
                              n,
                              r,
                              o,
                              i = new Array(h + 1);
                            for (r = n = 0; r < l - 1; r++)
                              for (P[r] = n, t = 0; t < 1 << w[r]; t++)
                                E[n++] = r;
                            for (E[n - 1] = r, r = o = 0; r < 16; r++)
                              for (L[r] = o, t = 0; t < 1 << x[r]; t++)
                                T[o++] = r;
                            for (o >>= 7; r < p; r++)
                              for (
                                L[r] = o << 7, t = 0;
                                t < 1 << (x[r] - 7);
                                t++
                              )
                                T[256 + o++] = r;
                            for (e = 0; e <= h; e++) i[e] = 0;
                            for (t = 0; t <= 143; )
                              (O[2 * t + 1] = 8), t++, i[8]++;
                            for (; t <= 255; ) (O[2 * t + 1] = 9), t++, i[9]++;
                            for (; t <= 279; ) (O[2 * t + 1] = 7), t++, i[7]++;
                            for (; t <= 287; ) (O[2 * t + 1] = 8), t++, i[8]++;
                            for (B(O, u + 1, i), t = 0; t < p; t++)
                              (k[2 * t + 1] = 5), (k[2 * t] = V(t, 5));
                            (A = new D(O, w, c + 1, u, h)),
                              (j = new D(k, x, 0, p, h)),
                              (M = new D(new Array(0), C, 0, d, v));
                          })(),
                          (Y = !0)),
                          (t.l_desc = new N(t.dyn_ltree, A)),
                          (t.d_desc = new N(t.dyn_dtree, j)),
                          (t.bl_desc = new N(t.bl_tree, M)),
                          (t.bi_buf = 0),
                          (t.bi_valid = 0),
                          H(t);
                      }),
                        (n._tr_stored_block = X),
                        (n._tr_flush_block = function (t, e, n, r) {
                          var a,
                            s,
                            l = 0;
                          0 < t.level
                            ? (2 === t.strm.data_type &&
                                (t.strm.data_type = (function (t) {
                                  var e,
                                    n = 4093624447;
                                  for (e = 0; e <= 31; e++, n >>>= 1)
                                    if (1 & n && 0 !== t.dyn_ltree[2 * e])
                                      return o;
                                  if (
                                    0 !== t.dyn_ltree[18] ||
                                    0 !== t.dyn_ltree[20] ||
                                    0 !== t.dyn_ltree[26]
                                  )
                                    return i;
                                  for (e = 32; e < c; e++)
                                    if (0 !== t.dyn_ltree[2 * e]) return i;
                                  return o;
                                })(t)),
                              q(t, t.l_desc),
                              q(t, t.d_desc),
                              (l = (function (t) {
                                var e;
                                for (
                                  K(t, t.dyn_ltree, t.l_desc.max_code),
                                    K(t, t.dyn_dtree, t.d_desc.max_code),
                                    q(t, t.bl_desc),
                                    e = d - 1;
                                  3 <= e && 0 === t.bl_tree[2 * S[e] + 1];
                                  e--
                                );
                                return (
                                  (t.opt_len += 3 * (e + 1) + 5 + 5 + 4), e
                                );
                              })(t)),
                              (a = (t.opt_len + 3 + 7) >>> 3),
                              (s = (t.static_len + 3 + 7) >>> 3) <= a &&
                                (a = s))
                            : (a = s = n + 5),
                            n + 4 <= a && -1 !== e
                              ? X(t, e, n, r)
                              : 4 === t.strategy || s === a
                              ? (R(t, 2 + (r ? 1 : 0), 3), G(t, O, k))
                              : (R(t, 4 + (r ? 1 : 0), 3),
                                (function (t, e, n, r) {
                                  var o;
                                  for (
                                    R(t, e - 257, 5),
                                      R(t, n - 1, 5),
                                      R(t, r - 4, 4),
                                      o = 0;
                                    o < r;
                                    o++
                                  )
                                    R(t, t.bl_tree[2 * S[o] + 1], 3);
                                  Z(t, t.dyn_ltree, e - 1),
                                    Z(t, t.dyn_dtree, n - 1);
                                })(
                                  t,
                                  t.l_desc.max_code + 1,
                                  t.d_desc.max_code + 1,
                                  l + 1
                                ),
                                G(t, t.dyn_ltree, t.dyn_dtree)),
                            H(t),
                            r && U(t);
                        }),
                        (n._tr_tally = function (t, e, n) {
                          return (
                            (t.pending_buf[t.d_buf + 2 * t.last_lit] =
                              (e >>> 8) & 255),
                            (t.pending_buf[t.d_buf + 2 * t.last_lit + 1] =
                              255 & e),
                            (t.pending_buf[t.l_buf + t.last_lit] = 255 & n),
                            t.last_lit++,
                            0 === e
                              ? t.dyn_ltree[2 * n]++
                              : (t.matches++,
                                e--,
                                t.dyn_ltree[2 * (E[n] + c + 1)]++,
                                t.dyn_dtree[2 * I(e)]++),
                            t.last_lit === t.lit_bufsize - 1
                          );
                        }),
                        (n._tr_align = function (t) {
                          R(t, 2, 3),
                            z(t, m, O),
                            (function (t) {
                              16 === t.bi_valid
                                ? (F(t, t.bi_buf),
                                  (t.bi_buf = 0),
                                  (t.bi_valid = 0))
                                : 8 <= t.bi_valid &&
                                  ((t.pending_buf[t.pending++] =
                                    255 & t.bi_buf),
                                  (t.bi_buf >>= 8),
                                  (t.bi_valid -= 8));
                            })(t);
                        });
                    },
                    {
                      '../utils/common': 41,
                    },
                  ],
                  53: [
                    function (t, e, n) {
                      'use strict';
                      e.exports = function () {
                        (this.input = null),
                          (this.next_in = 0),
                          (this.avail_in = 0),
                          (this.total_in = 0),
                          (this.output = null),
                          (this.next_out = 0),
                          (this.avail_out = 0),
                          (this.total_out = 0),
                          (this.msg = ''),
                          (this.state = null),
                          (this.data_type = 2),
                          (this.adler = 0);
                      };
                    },
                    {},
                  ],
                  54: [
                    function (t, e, r) {
                      (function (t) {
                        !(function (t, e) {
                          'use strict';
                          if (!t.setImmediate) {
                            var n,
                              r,
                              o,
                              i,
                              a = 1,
                              s = {},
                              l = !1,
                              c = t.document,
                              u =
                                Object.getPrototypeOf &&
                                Object.getPrototypeOf(t);
                            (u = u && u.setTimeout ? u : t),
                              (n =
                                '[object process]' ===
                                {}.toString.call(t.process)
                                  ? function (t) {
                                      process.nextTick(function () {
                                        d(t);
                                      });
                                    }
                                  : (function () {
                                      if (t.postMessage && !t.importScripts) {
                                        var e = !0,
                                          n = t.onmessage;
                                        return (
                                          (t.onmessage = function () {
                                            e = !1;
                                          }),
                                          t.postMessage('', '*'),
                                          (t.onmessage = n),
                                          e
                                        );
                                      }
                                    })()
                                  ? ((i =
                                      'setImmediate$' + Math.random() + '$'),
                                    t.addEventListener
                                      ? t.addEventListener('message', f, !1)
                                      : t.attachEvent('onmessage', f),
                                    function (e) {
                                      t.postMessage(i + e, '*');
                                    })
                                  : t.MessageChannel
                                  ? (((o =
                                      new MessageChannel()).port1.onmessage =
                                      function (t) {
                                        d(t.data);
                                      }),
                                    function (t) {
                                      o.port2.postMessage(t);
                                    })
                                  : c &&
                                    'onreadystatechange' in
                                      c.createElement('script')
                                  ? ((r = c.documentElement),
                                    function (t) {
                                      var e = c.createElement('script');
                                      (e.onreadystatechange = function () {
                                        d(t),
                                          (e.onreadystatechange = null),
                                          r.removeChild(e),
                                          (e = null);
                                      }),
                                        r.appendChild(e);
                                    })
                                  : function (t) {
                                      setTimeout(d, 0, t);
                                    }),
                              (u.setImmediate = function (t) {
                                'function' != typeof t &&
                                  (t = new Function('' + t));
                                for (
                                  var e = new Array(arguments.length - 1),
                                    r = 0;
                                  r < e.length;
                                  r++
                                )
                                  e[r] = arguments[r + 1];
                                var o = {
                                  callback: t,
                                  args: e,
                                };
                                return (s[a] = o), n(a), a++;
                              }),
                              (u.clearImmediate = p);
                          }

                          function p(t) {
                            delete s[t];
                          }

                          function d(t) {
                            if (l) setTimeout(d, 0, t);
                            else {
                              var n = s[t];
                              if (n) {
                                l = !0;
                                try {
                                  !(function (t) {
                                    var n = t.callback,
                                      r = t.args;
                                    switch (r.length) {
                                      case 0:
                                        n();
                                        break;
                                      case 1:
                                        n(r[0]);
                                        break;
                                      case 2:
                                        n(r[0], r[1]);
                                        break;
                                      case 3:
                                        n(r[0], r[1], r[2]);
                                        break;
                                      default:
                                        n.apply(e, r);
                                    }
                                  })(n);
                                } finally {
                                  p(t), (l = !1);
                                }
                              }
                            }
                          }

                          function f(e) {
                            e.source === t &&
                              'string' == typeof e.data &&
                              0 === e.data.indexOf(i) &&
                              d(+e.data.slice(i.length));
                          }
                        })(
                          'undefined' == typeof self
                            ? void 0 === t
                              ? this
                              : t
                            : self
                        );
                      }).call(
                        this,
                        void 0 !== n.g
                          ? n.g
                          : 'undefined' != typeof self
                          ? self
                          : 'undefined' != typeof window
                          ? window
                          : {}
                      );
                    },
                    {},
                  ],
                },
                {},
                [10]
              )(10));
          },
          61: (t, e, n) => {
            var r = n(698)['default'];

            function o() {
              'use strict';
              (t.exports = o =
                function () {
                  return e;
                }),
                (t.exports.__esModule = !0),
                (t.exports['default'] = t.exports);
              var e = {},
                n = Object.prototype,
                i = n.hasOwnProperty,
                a =
                  Object.defineProperty ||
                  function (t, e, n) {
                    t[e] = n.value;
                  },
                s = 'function' == typeof Symbol ? Symbol : {},
                l = s.iterator || '@@iterator',
                c = s.asyncIterator || '@@asyncIterator',
                u = s.toStringTag || '@@toStringTag';

              function p(t, e, n) {
                return (
                  Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  }),
                  t[e]
                );
              }
              try {
                p({}, '');
              } catch (t) {
                p = function (t, e, n) {
                  return (t[e] = n);
                };
              }

              function d(t, e, n, r) {
                var o = e && e.prototype instanceof g ? e : g,
                  i = Object.create(o.prototype),
                  s = new E(r || []);
                return (
                  a(i, '_invoke', {
                    value: S(t, n, s),
                  }),
                  i
                );
              }

              function f(t, e, n) {
                try {
                  return {
                    type: 'normal',
                    arg: t.call(e, n),
                  };
                } catch (t) {
                  return {
                    type: 'throw',
                    arg: t,
                  };
                }
              }
              e.wrap = d;
              var h = {};

              function g() {}

              function v() {}

              function m() {}
              var y = {};
              p(y, l, function () {
                return this;
              });
              var b = Object.getPrototypeOf,
                _ = b && b(b(P([])));
              _ && _ !== n && i.call(_, l) && (y = _);
              var w = (m.prototype = g.prototype = Object.create(y));

              function x(t) {
                ['next', 'throw', 'return'].forEach(function (e) {
                  p(t, e, function (t) {
                    return this._invoke(e, t);
                  });
                });
              }

              function C(t, e) {
                function n(o, a, s, l) {
                  var c = f(t[o], t, a);
                  if ('throw' !== c.type) {
                    var u = c.arg,
                      p = u.value;
                    return p && 'object' == r(p) && i.call(p, '__await')
                      ? e.resolve(p.__await).then(
                          function (t) {
                            n('next', t, s, l);
                          },
                          function (t) {
                            n('throw', t, s, l);
                          }
                        )
                      : e.resolve(p).then(
                          function (t) {
                            (u.value = t), s(u);
                          },
                          function (t) {
                            return n('throw', t, s, l);
                          }
                        );
                  }
                  l(c.arg);
                }
                var o;
                a(this, '_invoke', {
                  value: function (t, r) {
                    function i() {
                      return new e(function (e, o) {
                        n(t, r, e, o);
                      });
                    }
                    return (o = o ? o.then(i, i) : i());
                  },
                });
              }

              function S(t, e, n) {
                var r = 'suspendedStart';
                return function (o, i) {
                  if ('executing' === r)
                    throw new Error('Generator is already running');
                  if ('completed' === r) {
                    if ('throw' === o) throw i;
                    return A();
                  }
                  for (n.method = o, n.arg = i; ; ) {
                    var a = n.delegate;
                    if (a) {
                      var s = O(a, n);
                      if (s) {
                        if (s === h) continue;
                        return s;
                      }
                    }
                    if ('next' === n.method) n.sent = n._sent = n.arg;
                    else if ('throw' === n.method) {
                      if ('suspendedStart' === r)
                        throw ((r = 'completed'), n.arg);
                      n.dispatchException(n.arg);
                    } else 'return' === n.method && n.abrupt('return', n.arg);
                    r = 'executing';
                    var l = f(t, e, n);
                    if ('normal' === l.type) {
                      if (
                        ((r = n.done ? 'completed' : 'suspendedYield'),
                        l.arg === h)
                      )
                        continue;
                      return {
                        value: l.arg,
                        done: n.done,
                      };
                    }
                    'throw' === l.type &&
                      ((r = 'completed'),
                      (n.method = 'throw'),
                      (n.arg = l.arg));
                  }
                };
              }

              function O(t, e) {
                var n = e.method,
                  r = t.iterator[n];
                if (void 0 === r)
                  return (
                    (e.delegate = null),
                    ('throw' === n &&
                      t.iterator['return'] &&
                      ((e.method = 'return'),
                      (e.arg = void 0),
                      O(t, e),
                      'throw' === e.method)) ||
                      ('return' !== n &&
                        ((e.method = 'throw'),
                        (e.arg = new TypeError(
                          "The iterator does not provide a '" + n + "' method"
                        )))),
                    h
                  );
                var o = f(r, t.iterator, e.arg);
                if ('throw' === o.type)
                  return (
                    (e.method = 'throw'),
                    (e.arg = o.arg),
                    (e.delegate = null),
                    h
                  );
                var i = o.arg;
                return i
                  ? i.done
                    ? ((e[t.resultName] = i.value),
                      (e.next = t.nextLoc),
                      'return' !== e.method &&
                        ((e.method = 'next'), (e.arg = void 0)),
                      (e.delegate = null),
                      h)
                    : i
                  : ((e.method = 'throw'),
                    (e.arg = new TypeError('iterator result is not an object')),
                    (e.delegate = null),
                    h);
              }

              function k(t) {
                var e = {
                  tryLoc: t[0],
                };
                1 in t && (e.catchLoc = t[1]),
                  2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
                  this.tryEntries.push(e);
              }

              function T(t) {
                var e = t.completion || {};
                (e.type = 'normal'), delete e.arg, (t.completion = e);
              }

              function E(t) {
                (this.tryEntries = [
                  {
                    tryLoc: 'root',
                  },
                ]),
                  t.forEach(k, this),
                  this.reset(!0);
              }

              function P(t) {
                if (t) {
                  var e = t[l];
                  if (e) return e.call(t);
                  if ('function' == typeof t.next) return t;
                  if (!isNaN(t.length)) {
                    var n = -1,
                      r = function e() {
                        for (; ++n < t.length; )
                          if (i.call(t, n))
                            return (e.value = t[n]), (e.done = !1), e;
                        return (e.value = void 0), (e.done = !0), e;
                      };
                    return (r.next = r);
                  }
                }
                return {
                  next: A,
                };
              }

              function A() {
                return {
                  value: void 0,
                  done: !0,
                };
              }
              return (
                (v.prototype = m),
                a(w, 'constructor', {
                  value: m,
                  configurable: !0,
                }),
                a(m, 'constructor', {
                  value: v,
                  configurable: !0,
                }),
                (v.displayName = p(m, u, 'GeneratorFunction')),
                (e.isGeneratorFunction = function (t) {
                  var e = 'function' == typeof t && t.constructor;
                  return (
                    !!e &&
                    (e === v ||
                      'GeneratorFunction' === (e.displayName || e.name))
                  );
                }),
                (e.mark = function (t) {
                  return (
                    Object.setPrototypeOf
                      ? Object.setPrototypeOf(t, m)
                      : ((t.__proto__ = m), p(t, u, 'GeneratorFunction')),
                    (t.prototype = Object.create(w)),
                    t
                  );
                }),
                (e.awrap = function (t) {
                  return {
                    __await: t,
                  };
                }),
                x(C.prototype),
                p(C.prototype, c, function () {
                  return this;
                }),
                (e.AsyncIterator = C),
                (e.async = function (t, n, r, o, i) {
                  void 0 === i && (i = Promise);
                  var a = new C(d(t, n, r, o), i);
                  return e.isGeneratorFunction(n)
                    ? a
                    : a.next().then(function (t) {
                        return t.done ? t.value : a.next();
                      });
                }),
                x(w),
                p(w, u, 'Generator'),
                p(w, l, function () {
                  return this;
                }),
                p(w, 'toString', function () {
                  return '[object Generator]';
                }),
                (e.keys = function (t) {
                  var e = Object(t),
                    n = [];
                  for (var r in e) n.push(r);
                  return (
                    n.reverse(),
                    function t() {
                      for (; n.length; ) {
                        var r = n.pop();
                        if (r in e) return (t.value = r), (t.done = !1), t;
                      }
                      return (t.done = !0), t;
                    }
                  );
                }),
                (e.values = P),
                (E.prototype = {
                  constructor: E,
                  reset: function (t) {
                    if (
                      ((this.prev = 0),
                      (this.next = 0),
                      (this.sent = this._sent = void 0),
                      (this.done = !1),
                      (this.delegate = null),
                      (this.method = 'next'),
                      (this.arg = void 0),
                      this.tryEntries.forEach(T),
                      !t)
                    )
                      for (var e in this)
                        't' === e.charAt(0) &&
                          i.call(this, e) &&
                          !isNaN(+e.slice(1)) &&
                          (this[e] = void 0);
                  },
                  stop: function () {
                    this.done = !0;
                    var t = this.tryEntries[0].completion;
                    if ('throw' === t.type) throw t.arg;
                    return this.rval;
                  },
                  dispatchException: function (t) {
                    if (this.done) throw t;
                    var e = this;

                    function n(n, r) {
                      return (
                        (a.type = 'throw'),
                        (a.arg = t),
                        (e.next = n),
                        r && ((e.method = 'next'), (e.arg = void 0)),
                        !!r
                      );
                    }
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                      var o = this.tryEntries[r],
                        a = o.completion;
                      if ('root' === o.tryLoc) return n('end');
                      if (o.tryLoc <= this.prev) {
                        var s = i.call(o, 'catchLoc'),
                          l = i.call(o, 'finallyLoc');
                        if (s && l) {
                          if (this.prev < o.catchLoc) return n(o.catchLoc, !0);
                          if (this.prev < o.finallyLoc) return n(o.finallyLoc);
                        } else if (s) {
                          if (this.prev < o.catchLoc) return n(o.catchLoc, !0);
                        } else {
                          if (!l)
                            throw new Error(
                              'try statement without catch or finally'
                            );
                          if (this.prev < o.finallyLoc) return n(o.finallyLoc);
                        }
                      }
                    }
                  },
                  abrupt: function (t, e) {
                    for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                      var r = this.tryEntries[n];
                      if (
                        r.tryLoc <= this.prev &&
                        i.call(r, 'finallyLoc') &&
                        this.prev < r.finallyLoc
                      ) {
                        var o = r;
                        break;
                      }
                    }
                    o &&
                      ('break' === t || 'continue' === t) &&
                      o.tryLoc <= e &&
                      e <= o.finallyLoc &&
                      (o = null);
                    var a = o ? o.completion : {};
                    return (
                      (a.type = t),
                      (a.arg = e),
                      o
                        ? ((this.method = 'next'),
                          (this.next = o.finallyLoc),
                          h)
                        : this.complete(a)
                    );
                  },
                  complete: function (t, e) {
                    if ('throw' === t.type) throw t.arg;
                    return (
                      'break' === t.type || 'continue' === t.type
                        ? (this.next = t.arg)
                        : 'return' === t.type
                        ? ((this.rval = this.arg = t.arg),
                          (this.method = 'return'),
                          (this.next = 'end'))
                        : 'normal' === t.type && e && (this.next = e),
                      h
                    );
                  },
                  finish: function (t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                      var n = this.tryEntries[e];
                      if (n.finallyLoc === t)
                        return this.complete(n.completion, n.afterLoc), T(n), h;
                    }
                  },
                  catch: function (t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                      var n = this.tryEntries[e];
                      if (n.tryLoc === t) {
                        var r = n.completion;
                        if ('throw' === r.type) {
                          var o = r.arg;
                          T(n);
                        }
                        return o;
                      }
                    }
                    throw new Error('illegal catch attempt');
                  },
                  delegateYield: function (t, e, n) {
                    return (
                      (this.delegate = {
                        iterator: P(t),
                        resultName: e,
                        nextLoc: n,
                      }),
                      'next' === this.method && (this.arg = void 0),
                      h
                    );
                  },
                }),
                e
              );
            }
            (t.exports = o),
              (t.exports.__esModule = !0),
              (t.exports['default'] = t.exports);
          },
          698: (t) => {
            function e(n) {
              return (
                (t.exports = e =
                  'function' == typeof Symbol &&
                  'symbol' == typeof Symbol.iterator
                    ? function (t) {
                        return typeof t;
                      }
                    : function (t) {
                        return t &&
                          'function' == typeof Symbol &&
                          t.constructor === Symbol &&
                          t !== Symbol.prototype
                          ? 'symbol'
                          : typeof t;
                      }),
                (t.exports.__esModule = !0),
                (t.exports['default'] = t.exports),
                e(n)
              );
            }
            (t.exports = e),
              (t.exports.__esModule = !0),
              (t.exports['default'] = t.exports);
          },
          687: (t, e, n) => {
            var r = n(61)();
            t.exports = r;
            try {
              regeneratorRuntime = r;
            } catch (t) {
              'object' == typeof globalThis
                ? (globalThis.regeneratorRuntime = r)
                : Function('r', 'regeneratorRuntime = r')(r);
            }
          },
        },
        e = {};

      function n(r) {
        var o = e[r];
        if (void 0 !== o) return o.exports;
        var i = (e[r] = {
          exports: {},
        });
        return t[r].call(i.exports, i, i.exports, n), i.exports;
      }
      (n.n = (t) => {
        var e = t && t.__esModule ? () => t['default'] : () => t;
        return (
          n.d(e, {
            a: e,
          }),
          e
        );
      }),
        (n.d = (t, e) => {
          for (var r in e)
            n.o(e, r) &&
              !n.o(t, r) &&
              Object.defineProperty(t, r, {
                enumerable: !0,
                get: e[r],
              });
        }),
        (n.g = (function () {
          if ('object' == typeof globalThis) return globalThis;
          try {
            return this || new Function('return this')();
          } catch (t) {
            if ('object' == typeof window) return window;
          }
        })()),
        (n.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e)),
        (n.r = (t) => {
          'undefined' != typeof Symbol &&
            Symbol.toStringTag &&
            Object.defineProperty(t, Symbol.toStringTag, {
              value: 'Module',
            }),
            Object.defineProperty(t, '__esModule', {
              value: !0,
            });
        });
      var r = {};
      return (
        (() => {
          'use strict';
          n.r(r),
            n.d(r, {
              default: () => E,
            });
          var t = n(531),
            e = n.n(t);

          function o(t, e, n, r, o, i, a) {
            try {
              var s = t[i](a),
                l = s.value;
            } catch (t) {
              return void n(t);
            }
            s.done ? e(l) : Promise.resolve(l).then(r, o);
          }

          function i(t) {
            return function () {
              var e = this,
                n = arguments;
              return new Promise(function (r, i) {
                var a = t.apply(e, n);

                function s(t) {
                  o(a, r, i, s, l, 'next', t);
                }

                function l(t) {
                  o(a, r, i, s, l, 'throw', t);
                }
                s(void 0);
              });
            };
          }

          function a(t, e) {
            if (!(t instanceof e))
              throw new TypeError('Cannot call a class as a function');
          }

          function s(t) {
            return (
              (s =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              s(t)
            );
          }

          function l(t) {
            var e = (function (t, e) {
              if ('object' !== s(t) || null === t) return t;
              var n = t[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(t, e || 'default');
                if ('object' !== s(r)) return r;
                throw new TypeError(
                  '@@toPrimitive must return a primitive value.'
                );
              }
              return ('string' === e ? String : Number)(t);
            })(t, 'string');
            return 'symbol' === s(e) ? e : String(e);
          }

          function c(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, l(r.key), r);
            }
          }

          function u(t, e, n) {
            return (
              e && c(t.prototype, e),
              n && c(t, n),
              Object.defineProperty(t, 'prototype', {
                writable: !1,
              }),
              t
            );
          }

          function p(t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          }

          function d(t, e) {
            return (
              (d = Object.setPrototypeOf
                ? Object.setPrototypeOf.bind()
                : function (t, e) {
                    return (t.__proto__ = e), t;
                  }),
              d(t, e)
            );
          }

          function f(t) {
            return (
              (f = Object.setPrototypeOf
                ? Object.getPrototypeOf.bind()
                : function (t) {
                    return t.__proto__ || Object.getPrototypeOf(t);
                  }),
              f(t)
            );
          }
          var h = n(687),
            g = n.n(h);

          function v(t, e, n) {
            return (
              (e = l(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n),
              t
            );
          }

          function m(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }

          function y(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? m(Object(n), !0).forEach(function (e) {
                    v(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    t,
                    Object.getOwnPropertyDescriptors(n)
                  )
                : m(Object(n)).forEach(function (e) {
                    Object.defineProperty(
                      t,
                      e,
                      Object.getOwnPropertyDescriptor(n, e)
                    );
                  });
            }
            return t;
          }

          function b(t) {
            var e = (function () {
              if ('undefined' == typeof Reflect || !Reflect.construct)
                return !1;
              if (Reflect.construct.sham) return !1;
              if ('function' == typeof Proxy) return !0;
              try {
                return (
                  Boolean.prototype.valueOf.call(
                    Reflect.construct(Boolean, [], function () {})
                  ),
                  !0
                );
              } catch (t) {
                return !1;
              }
            })();
            return function () {
              var n,
                r = f(t);
              if (e) {
                var o = f(this).constructor;
                n = Reflect.construct(r, arguments, o);
              } else n = r.apply(this, arguments);
              return (function (t, e) {
                if (e && ('object' === s(e) || 'function' == typeof e))
                  return e;
                if (void 0 !== e)
                  throw new TypeError(
                    'Derived constructors may only return object or undefined'
                  );
                return p(t);
              })(this, n);
            };
          }
          var _ = (function (t) {
              !(function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Super expression must either be null or a function'
                  );
                (t.prototype = Object.create(e && e.prototype, {
                  constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0,
                  },
                })),
                  Object.defineProperty(t, 'prototype', {
                    writable: !1,
                  }),
                  e && d(t, e);
              })(r, t);
              var e,
                n = b(r);

              function r(t) {
                var e,
                  o =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : {};
                return (
                  a(this, r),
                  ((e = n.call(this, t, o)).addPage = e.addPage.bind(p(e))),
                  (e.changePage = e.changePage.bind(p(e))),
                  (e.copyPage = e.copyPage.bind(p(e))),
                  (e.duplicatePage = e.duplicatePage.bind(p(e))),
                  (e.deletePage = e.deletePage.bind(p(e))),
                  (e.removePage = e.removePage.bind(p(e))),
                  (e.editPage = e.editPage.bind(p(e))),
                  (e.updatePage = e.updatePage.bind(p(e))),
                  (e.exportPage = e.exportPage.bind(p(e))),
                  (e.exportAllPage = e.exportAllPage.bind(p(e))),
                  (e.exportMethod = 'single'),
                  (e.pageManager = t.Pages),
                  (e.modalManager = t.Modal),
                  (e.option = o),
                  (e.editor = t),
                  (e.pageCount = 1),
                  e
                );
              }
              return (
                u(r, [
                  {
                    key: 'addPage',
                    value: function (t) {
                      var e = this.pageManager.getAll().length;
                      this.pageManager.add({
                        name: this.option.pages_prefix
                          ? this.option.pages_prefix + ' '.concat(e + 1)
                          : 'Page '.concat(e + 1),
                        component: this.option.default_content
                          ? this.option.default_content
                          : '<div>New page</div>',
                        styles: this.option.default_style
                          ? this.option.default_style
                          : '',
                      }),
                        this.update();
                    },
                  },
                  {
                    key: 'changePage',
                    value: function (t) {
                      this.pageManager.select(t.currentTarget.dataset.pageId),
                        this.update();
                    },
                  },
                  {
                    key: 'exportPage',
                    value: function (t) {
                      this.pageManager.select(t.currentTarget.dataset.pageId),
                        (this.exportMethod = 'single'),
                        this.editor.runCommand('export-pages-zip');
                    },
                  },
                  {
                    key: 'exportAllPage',
                    value: function () {
                      (this.exportMethod = 'multiple'),
                        this.editor.runCommand('export-pages-zip');
                    },
                  },
                  {
                    key: 'copyPage',
                    value: function (t) {
                      var e = this.$,
                        n = this.pageManager.get(
                          t.currentTarget.dataset.pageId
                        ),
                        r = e(
                          '<div class="modal-edit">\n            <p class="text-block">Do you want to copy page?</p>\n            <button class="gjs-btn-prim yes" data-page-id="'.concat(
                            n.id,
                            '" id="copy">Copy</button>\n            <button class="gjs-btn-prim no" data-close-modal="">Cancel</button>\n        </div>'
                          )
                        );
                      r.find('#copy').on('click', this.duplicatePage),
                        (this.$modalel = r),
                        this.modalManager.open({
                          title: 'Confirm action',
                          content: r,
                          attributes: {
                            class: 'small-modal-confirm',
                          },
                        });
                    },
                  },
                  {
                    key: 'duplicatePage',
                    value: function (t) {
                      var e = this.pageManager.getAll().length,
                        n = this.pageManager.get(
                          t.currentTarget.dataset.pageId
                        );
                      this.pageManager.add({
                        name: 'Page '.concat(e + 1),
                        component: n.getMainComponent().toHTML(),
                      }),
                        this.modalManager.close(),
                        this.update();
                    },
                  },
                  {
                    key: 'deletePage',
                    value: function (t) {
                      var e = this.$,
                        n = this.pageManager.get(
                          t.currentTarget.dataset.pageId
                        ),
                        r = e(
                          '<div class="modal-edit">\n            <p class="text-block">Do you want to delete page?</p>\n            <button class="gjs-btn-prim yes" data-page-id="'.concat(
                            n.id,
                            '" id="delete">Delete</button>\n            <button class="gjs-btn-prim no" data-close-modal="">Cancel</button>\n        </div>'
                          )
                        );
                      r.find('#delete').on('click', this.removePage),
                        (this.$modalel = r),
                        this.modalManager.open({
                          title: 'Confirm action',
                          content: r,
                          attributes: {
                            class: 'small-modal-confirm',
                          },
                        });
                    },
                  },
                  {
                    key: 'removePage',
                    value: function (t) {
                      this.pageManager.remove(t.currentTarget.dataset.pageId);
                      var e = this.editor.Pages.getMain();
                      e && this.editor.Pages.select(e.id),
                        this.modalManager.close(),
                        this.update();
                    },
                  },
                  {
                    key: 'editPage',
                    value: function (t) {
                      var e = this.$,
                        n = this.pageManager.get(
                          t.currentTarget.dataset.pageId
                        ),
                        r = e(
                          '<div class="modal-edit gjs-field">\n            <input id="page-name" type="text" value="'
                            .concat(
                              n.getName(),
                              '" style="width: 100%">\n            <button class="gjs-btn-prim yes" data-page-id="'
                            )
                            .concat(
                              n.id,
                              '" id="update-page">Rename</button>\n        </div>'
                            )
                        );
                      r.find('#update-page').on('click', this.updatePage),
                        (this.$modalel = r),
                        this.modalManager.open({
                          title: 'Rename page',
                          content: r,
                          attributes: {
                            class: 'small-modal-confirm',
                          },
                        });
                    },
                  },
                  {
                    key: 'updatePage',
                    value: function (t) {
                      this.pageManager
                        .get(t.currentTarget.dataset.pageId)
                        .setName(this.$modalel.find('#page-name').val()),
                        this.modalManager.close(),
                        this.update();
                    },
                  },
                  {
                    key: 'renderAllPages',
                    value: function () {
                      var t = this,
                        e = this.pageManager.getAll(),
                        n = this.pageManager.getSelected();
                      if (e.length > 0) {
                        var r = '';
                        return (
                          e.forEach(function (e) {
                            r += '<div data-page-id="'
                              .concat(e.id, '" class="')
                              .concat(
                                n.id == e.id ? 'selected' : '',
                                ' detail-page-btn gjs-page no-select gjs-two-color">\n                    '
                              )
                              .concat(
                                e.getName(),
                                '\n                    <div class="gjs-page-buttons">\n                        '
                              )
                              .concat(
                                1 == t.option.exportSingle
                                  ? '<i data-page-id="' +
                                      e.id +
                                      '" class="export-btn fa fa-download" aria-hidden="true"></i>'
                                  : '',
                                '\n                        <i data-page-id="'
                              )
                              .concat(
                                e.id,
                                '" class="edit-btn fa fa-pencil edit-page-name" aria-hidden="true"></i>\n                        <i data-page-id="'
                              )
                              .concat(
                                e.id,
                                '" class="copy-btn fa fa-clone" aria-hidden="true"></i>\n                        <i data-page-id="'
                              )
                              .concat(
                                e.id,
                                '" class="delete-btn fa fa-trash-o" aria-hidden="true"></i>\n                    </div>\n                </div>'
                              );
                          }),
                          r
                        );
                      }
                      return '<p>No pages data</p>';
                    },
                  },
                  {
                    key: 'update',
                    value:
                      ((e = i(
                        g().mark(function t() {
                          return g().wrap(
                            function (t) {
                              for (; 1; )
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    if (void 0 !== this.$el) {
                                      t.next = 2;
                                      break;
                                    }
                                    return t.abrupt('return', null);
                                  case 2:
                                    return (
                                      this.$el
                                        .find('.render-pages')
                                        .html(this.renderAllPages()),
                                      this.$el
                                        .find('.detail-page-btn')
                                        .on('click', this.changePage),
                                      this.$el
                                        .find('.export-btn')
                                        .on('click', this.exportPage),
                                      this.$el
                                        .find('.copy-btn')
                                        .on('click', this.copyPage),
                                      this.$el
                                        .find('.delete-btn')
                                        .on('click', this.deletePage),
                                      this.$el
                                        .find('.edit-btn')
                                        .on('click', this.editPage),
                                      (t.next = 10),
                                      this.editor.store()
                                    );
                                  case 10:
                                  case 'end':
                                    return t.stop();
                                }
                            },
                            t,
                            this
                          );
                        })
                      )),
                      function () {
                        return e.apply(this, arguments);
                      }),
                  },
                  {
                    key: 'render',
                    value: function () {
                      editor.Pages.getMain().set({
                        name: this.option.main_name
                          ? this.option.main_name
                          : 'Page 1',
                      });
                      var t = (0, this.$)(
                        '<div class="app">\n            <div id="pagesManager">\n                <div id="add_page" class="gjs-page add-page no-select gjs-two-color">Add new page</div>\n\n                <div class="render-pages">\n                    '
                          .concat(
                            this.renderAllPages(),
                            '\n                </div>\n            </div>\n            '
                          )
                          .concat(
                            1 == this.option.exportMulti
                              ? '<div class="export-all-btn gjs-page add-page no-select gjs-two-color" id="new-page">Export All</div>'
                              : '',
                            '\n            <style>\n            .gjs-page{\n                padding: 10px 10px 5px 30px;\n                align-items: center;\n                font-weight: lighter;\n                text-align: left;\n                position: relative;\n                background-color: rgba(0,0,0,.1);\n                display: grid;\n                border-bottom: 1px solid rgba(0,0,0,.25);\n                cursor: pointer;\n            }\n            .gjs-page.selected,\n            .gjs-page:hover{\n                background-color: rgba(0, 0, 0, 0.44);\n            }\n            .gjs-page-buttons{\n                position: absolute;\n                right: 10px;\n                top: 9px;\n            }\n            .gjs-page-buttons i{\n                margin-right:5px;\n            }\n            .add-page{\n                font-size: 16px;\n                text-align: center;\n                font-weight: bold;\n                padding: 10px;\n                margin: 5px 0px;\n            }\n            .add-page:hover{\n                background-color: rgba(96, 94, 94, 0.38);\n            }\n            .small-modal-confirm .gjs-mdl-dialog{\n                max-width:400px;\n            }\n            .small-modal-confirm .text-block{\n                text-align:center;\n            }\n\n            .small-modal-confirm .gjs-btn-prim.yes{\n                margin-top: 10px;\n                float: right; \n                background-color: green;\n            }\n            .small-modal-confirm .gjs-btn-prim.no{\n                margin-top: 10px;\n                margin-right:10px;\n                float: right;\n            }\n            '
                          ) +
                          this.option.stylesPages +
                          '\n            </style>\n        </div>'
                      );
                      return (
                        t.find('.detail-page-btn').on('click', this.changePage),
                        t.find('#add_page').on('click', this.addPage),
                        t.find('.copy-btn').on('click', this.copyPage),
                        t.find('.delete-btn').on('click', this.deletePage),
                        t.find('.edit-btn').on('click', this.editPage),
                        t.find('.export-btn').on('click', this.exportPage),
                        t
                          .find('.export-all-btn')
                          .on('click', this.exportAllPage),
                        (this.$el = t),
                        t
                      );
                    },
                  },
                ]),
                r
              );
            })(
              (function () {
                function t(e) {
                  var n =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : {};
                  a(this, t),
                    (this.editor = e),
                    (this.$ = e.$),
                    (this.pfx = e.getConfig('stylePrefix')),
                    (this.opts = n),
                    (this.setState = this.setState.bind(this)),
                    (this.setStateSilent = this.setStateSilent.bind(this)),
                    (this.onRender = this.onRender.bind(this)),
                    (this.handleTabs = this.handleTabs.bind(this));
                }
                return (
                  u(t, [
                    {
                      key: 'setState',
                      value: function (t) {
                        (this.state = y(y({}, this.state), t)), this.update();
                      },
                    },
                    {
                      key: 'setStateSilent',
                      value: function (t) {
                        this.state = y(y({}, this.state), t);
                      },
                    },
                    {
                      key: 'sm',
                      get: function () {
                        return this.editor.Storage;
                      },
                    },
                    {
                      key: 'cs',
                      get: function () {
                        return this.editor.Storage.getCurrentStorage();
                      },
                    },
                    {
                      key: 'pm',
                      get: function () {
                        return this.editor.Pages;
                      },
                    },
                    {
                      key: 'onRender',
                      value: function () {},
                    },
                    {
                      key: 'handleTabs',
                      value: function () {},
                    },
                  ]),
                  t
                );
              })()
            ),
            w = n(162),
            x = n.n(w),
            C = n(733),
            S = n.n(C);

          function O(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }

          function k(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? O(Object(n), !0).forEach(function (e) {
                    v(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    t,
                    Object.getOwnPropertyDescriptors(n)
                  )
                : O(Object(n)).forEach(function (e) {
                    Object.defineProperty(
                      t,
                      e,
                      Object.getOwnPropertyDescriptor(n, e)
                    );
                  });
            }
            return t;
          }
          const T = function (t) {
              var e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {},
                n = k(
                  {
                    filenamePfx: e.nameArchive
                      ? e.nameArchive
                      : 'website_template',
                    filename: void 0,
                    done: function () {},
                    onError: console.error,
                    root: {
                      css: {
                        'style.css': function (t) {
                          return t.getCss();
                        },
                      },
                      'index.html': function (t) {
                        return '\n<!doctype html>\n        \n<html lang="en">\n        \n  <head>\n        \n    <meta charset="utf-8">\n        \n   <link rel="stylesheet" href="./css/style.css">\n        \n  </head>\n        \n  <body>'.concat(
                          t.getHtml(),
                          '</body>\n        \n</html>'
                        );
                      },
                    },
                    isBinary: void 0,
                  },
                  e
                );
              t.Commands.add('export-pages-zip', {
                run: function (t, e) {
                  var r,
                    o =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : {},
                    a = new (S())(),
                    s = o.onError || n.onError;
                  o.root || n.root;
                  if ('multiple' == t.pagesManager.exportMethod) {
                    var l = t.Pages.getAll(),
                      c = {},
                      u = {};
                    l.map(function (e) {
                      (c[e.get('name') + '.html'] =
                        '\n <!doctype html>                \n<html lang="en">                \n<head>                \n<meta charset="utf-8">                \n<link rel="stylesheet" href="css/style-' +
                        e.cid +
                        '.css">                \n</head>                \n ' +
                        e.getMainComponent().toHTML() +
                        '\n                \n</html>'),
                        (u['style-' + e.cid + '.css'] = t.CodeManager.getCode(
                          e.getMainComponent(),
                          'css'
                        ));
                    }),
                      (r = k(
                        {
                          css: k({}, u),
                        },
                        c
                      ));
                  } else {
                    var p = t.Pages.getSelected(),
                      d =
                        '\n <!doctype html>\n         \n <html lang="en">         \n <head>         \n <meta charset="utf-8">         \n <link rel="stylesheet" href="css/style.css">         \n </head>         \n ' +
                        p.getMainComponent().toHTML() +
                        '\n         \n </html>';
                    r = {
                      css: {
                        'style.css': t.CodeManager.getCode(
                          p.getMainComponent(),
                          'css'
                        ),
                      },
                      'index.html': d,
                    };
                  }
                  this.createDirectory(a, r)
                    .then(
                      i(
                        g().mark(function e() {
                          var r, i, s, l, c;
                          return g().wrap(function (e) {
                            for (; 1; )
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (
                                    (e.next = 2),
                                    a.generateAsync({
                                      type: 'blob',
                                    })
                                  );
                                case 2:
                                  (r = e.sent),
                                    (i = o.filename || n.filename),
                                    (s = o.done || n.done),
                                    (l = o.filenamePfx || n.filenamePfx),
                                    (c = i
                                      ? i(t)
                                      : ''
                                          .concat(l, '_')
                                          .concat(Date.now(), '.zip')),
                                    x().saveAs(r, c),
                                    s();
                                case 9:
                                case 'end':
                                  return e.stop();
                              }
                          }, e);
                        })
                      )
                    )
                    .catch(s);
                },
                createFile: function (e, r, o) {
                  var i = {},
                    a = r.split('.')[1];
                  (n.isBinary
                    ? n.isBinary(o, r)
                    : !(
                        (a && ['html', 'css'].indexOf(a) >= 0) ||
                        /^[\x00-\x7F]*$/.test(o)
                      )) && (i.binary = !0),
                    t.log(
                      [
                        'Create file',
                        {
                          name: r,
                          content: o,
                          opts: i,
                        },
                      ],
                      {
                        ns: 'plugin-export',
                      }
                    ),
                    e.file(r, o, i);
                },
                createDirectory: function (e, n) {
                  var r = this;
                  return i(
                    g().mark(function o() {
                      var i, a, l, c;
                      return g().wrap(function (o) {
                        for (; 1; )
                          switch ((o.prev = o.next)) {
                            case 0:
                              if ('function' != typeof n) {
                                o.next = 6;
                                break;
                              }
                              return (o.next = 3), n(t);
                            case 3:
                              (o.t0 = o.sent), (o.next = 7);
                              break;
                            case 6:
                              o.t0 = n;
                            case 7:
                              (n = o.t0), (o.t1 = g().keys(n));
                            case 9:
                              if ((o.t2 = o.t1()).done) {
                                o.next = 32;
                                break;
                              }
                              if (((i = o.t2.value), !n.hasOwnProperty(i))) {
                                o.next = 30;
                                break;
                              }
                              if ('function' != typeof (a = n[i])) {
                                o.next = 19;
                                break;
                              }
                              return (o.next = 16), a(t);
                            case 16:
                              (o.t3 = o.sent), (o.next = 20);
                              break;
                            case 19:
                              o.t3 = a;
                            case 20:
                              if (((a = o.t3), 'string' !== (l = s(a)))) {
                                o.next = 26;
                                break;
                              }
                              r.createFile(e, i, a), (o.next = 30);
                              break;
                            case 26:
                              if ('object' !== l) {
                                o.next = 30;
                                break;
                              }
                              return (
                                (c = e.folder(i)),
                                (o.next = 30),
                                r.createDirectory(c, a)
                              );
                            case 30:
                              o.next = 9;
                              break;
                            case 32:
                            case 'end':
                              return o.stop();
                          }
                      }, o);
                    })
                  )();
                },
              });
            },
            E = e().plugins.add('grapesjs-pages-manager', function (t) {
              var e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {},
                n = t.Panels,
                r = t.Commands,
                o = null;
              (t.pagesManager = new _(t, e)),
                T(t, e),
                t.on('page:add page:remove page:update', function () {
                  t.pagesManager.update();
                }),
                e.appendTo && '' != e.appendTo
                  ? t.on('load', function (n) {
                      var r = document.querySelector(e.appendTo),
                        o = t.pagesManager.render();
                      r.append(o[0]);
                    })
                  : r.add('addPagesPanel', {
                      run: function () {
                        if (null == o) {
                          var e = t.pagesManager.render();
                          n
                            .getPanel('views-container')
                            .set('appendContent', e)
                            .trigger('change:appendContent'),
                            (o = e);
                        }
                        o.show();
                      },
                      stop: function () {
                        null != o && o.hide();
                      },
                    });
            });
        })(),
        r
      );
    })()
);
//# sourceMappingURL=index.js.map
